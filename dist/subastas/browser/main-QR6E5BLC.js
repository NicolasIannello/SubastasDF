import{a as or}from"./chunk-FK6H3RFT.js";import{a as Be,b as Xt,c as mb,d as Au,e as Kd,f as D$,g as Qr,h as gn,i as _5,j as WM,k as _r,l as kw}from"./chunk-O7S4L63H.js";var Eo=Kd((Kc,mS)=>{"use strict";(function(n,e){typeof Kc=="object"&&typeof mS<"u"?mS.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(Kc,function(){"use strict";function n(K,Q,oe){if(typeof K=="function"?K===Q:K.has(Q))return arguments.length<3?Q:oe;throw new TypeError("Private element is not present on this object")}function e(K,Q){if(Q.has(K))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t(K,Q){return K.get(n(K,Q))}function i(K,Q,oe){e(K,Q),Q.set(K,oe)}function r(K,Q,oe){return K.set(n(K,Q),oe),oe}let o=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},l=K=>new Promise(Q=>{if(!K)return Q();let oe=window.scrollX,we=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),Q()},o),window.scrollTo(oe,we)}),c="swal2-",d=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((K,Q)=>(K[Q]=c+Q,K),{}),h=["success","warning","info","question","error"].reduce((K,Q)=>(K[Q]=c+Q,K),{}),m="SweetAlert2:",p=K=>K.charAt(0).toUpperCase()+K.slice(1),g=K=>{console.warn(`${m} ${typeof K=="object"?K.join(" "):K}`)},v=K=>{console.error(`${m} ${K}`)},x=[],I=K=>{x.includes(K)||(x.push(K),g(K))},N=function(K){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;I(`"${K}" is deprecated and will be removed in the next major release.${Q?` Use "${Q}" instead.`:""}`)},H=K=>typeof K=="function"?K():K,F=K=>K&&typeof K.toPromise=="function",B=K=>F(K)?K.toPromise():Promise.resolve(K),V=K=>K&&Promise.resolve(K)===K,G=()=>document.body.querySelector(`.${d.container}`),W=K=>{let Q=G();return Q?Q.querySelector(K):null},k=K=>W(`.${K}`),E=()=>k(d.popup),L=()=>k(d.icon),b=()=>k(d["icon-content"]),w=()=>k(d.title),_=()=>k(d["html-container"]),y=()=>k(d.image),C=()=>k(d["progress-steps"]),S=()=>k(d["validation-message"]),R=()=>W(`.${d.actions} .${d.confirm}`),Z=()=>W(`.${d.actions} .${d.cancel}`),j=()=>W(`.${d.actions} .${d.deny}`),X=()=>k(d["input-label"]),D=()=>W(`.${d.loader}`),Y=()=>k(d.actions),P=()=>k(d.footer),M=()=>k(d["timer-progress-bar"]),$=()=>k(d.close),te=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ue=()=>{let K=E();if(!K)return[];let Q=K.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),oe=Array.from(Q).sort((Gt,ni)=>{let Ni=parseInt(Gt.getAttribute("tabindex")||"0"),Or=parseInt(ni.getAttribute("tabindex")||"0");return Ni>Or?1:Ni<Or?-1:0}),we=K.querySelectorAll(te),Ke=Array.from(we).filter(Gt=>Gt.getAttribute("tabindex")!=="-1");return[...new Set(oe.concat(Ke))].filter(Gt=>lt(Gt))},re=()=>ie(document.body,d.shown)&&!ie(document.body,d["toast-shown"])&&!ie(document.body,d["no-backdrop"]),ce=()=>{let K=E();return K?ie(K,d.toast):!1},_e=()=>{let K=E();return K?K.hasAttribute("data-loading"):!1},xe=(K,Q)=>{if(K.textContent="",Q){let we=new DOMParser().parseFromString(Q,"text/html"),Ke=we.querySelector("head");Ke&&Array.from(Ke.childNodes).forEach(ni=>{K.appendChild(ni)});let Gt=we.querySelector("body");Gt&&Array.from(Gt.childNodes).forEach(ni=>{ni instanceof HTMLVideoElement||ni instanceof HTMLAudioElement?K.appendChild(ni.cloneNode(!0)):K.appendChild(ni)})}},ie=(K,Q)=>{if(!Q)return!1;let oe=Q.split(/\s+/);for(let we=0;we<oe.length;we++)if(!K.classList.contains(oe[we]))return!1;return!0},se=(K,Q)=>{Array.from(K.classList).forEach(oe=>{!Object.values(d).includes(oe)&&!Object.values(h).includes(oe)&&!Object.values(Q.showClass||{}).includes(oe)&&K.classList.remove(oe)})},ge=(K,Q,oe)=>{if(se(K,Q),!Q.customClass)return;let we=Q.customClass[oe];if(we){if(typeof we!="string"&&!we.forEach){g(`Invalid type of customClass.${oe}! Expected string or iterable object, got "${typeof we}"`);return}Se(K,we)}},Ae=(K,Q)=>{if(!Q)return null;switch(Q){case"select":case"textarea":case"file":return K.querySelector(`.${d.popup} > .${d[Q]}`);case"checkbox":return K.querySelector(`.${d.popup} > .${d.checkbox} input`);case"radio":return K.querySelector(`.${d.popup} > .${d.radio} input:checked`)||K.querySelector(`.${d.popup} > .${d.radio} input:first-child`);case"range":return K.querySelector(`.${d.popup} > .${d.range} input`);default:return K.querySelector(`.${d.popup} > .${d.input}`)}},Ee=K=>{if(K.focus(),K.type!=="file"){let Q=K.value;K.value="",K.value=Q}},Te=(K,Q,oe)=>{!K||!Q||(typeof Q=="string"&&(Q=Q.split(/\s+/).filter(Boolean)),Q.forEach(we=>{Array.isArray(K)?K.forEach(Ke=>{oe?Ke.classList.add(we):Ke.classList.remove(we)}):oe?K.classList.add(we):K.classList.remove(we)}))},Se=(K,Q)=>{Te(K,Q,!0)},Fe=(K,Q)=>{Te(K,Q,!1)},He=(K,Q)=>{let oe=Array.from(K.children);for(let we=0;we<oe.length;we++){let Ke=oe[we];if(Ke instanceof HTMLElement&&ie(Ke,Q))return Ke}},Ze=(K,Q,oe)=>{oe===`${parseInt(oe)}`&&(oe=parseInt(oe)),oe||parseInt(oe)===0?K.style.setProperty(Q,typeof oe=="number"?`${oe}px`:oe):K.style.removeProperty(Q)},ut=function(K){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";K&&(K.style.display=Q)},tt=K=>{K&&(K.style.display="none")},pt=function(K){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";K&&new MutationObserver(()=>{bt(K,K.innerHTML,Q)}).observe(K,{childList:!0,subtree:!0})},Zt=(K,Q,oe,we)=>{let Ke=K.querySelector(Q);Ke&&Ke.style.setProperty(oe,we)},bt=function(K,Q){let oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";Q?ut(K,oe):tt(K)},lt=K=>!!(K&&(K.offsetWidth||K.offsetHeight||K.getClientRects().length)),st=()=>!lt(R())&&!lt(j())&&!lt(Z()),vt=K=>K.scrollHeight>K.clientHeight,at=K=>{let Q=window.getComputedStyle(K),oe=parseFloat(Q.getPropertyValue("animation-duration")||"0"),we=parseFloat(Q.getPropertyValue("transition-duration")||"0");return oe>0||we>0},mn=function(K){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,oe=M();oe&&lt(oe)&&(Q&&(oe.style.transition="none",oe.style.width="100%"),setTimeout(()=>{oe.style.transition=`width ${K/1e3}s linear`,oe.style.width="0%"},10))},Dt=()=>{let K=M();if(!K)return;let Q=parseInt(window.getComputedStyle(K).width);K.style.removeProperty("transition"),K.style.width="100%";let oe=parseInt(window.getComputedStyle(K).width),we=Q/oe*100;K.style.width=`${we}%`},Vt=()=>typeof window>"u"||typeof document>"u",jr=`
 <div aria-labelledby="${d.title}" aria-describedby="${d["html-container"]}" class="${d.popup}" tabindex="-1">
   <button type="button" class="${d.close}"></button>
   <ul class="${d["progress-steps"]}"></ul>
   <div class="${d.icon}"></div>
   <img class="${d.image}" />
   <h2 class="${d.title}" id="${d.title}"></h2>
   <div class="${d["html-container"]}" id="${d["html-container"]}"></div>
   <input class="${d.input}" id="${d.input}" />
   <input type="file" class="${d.file}" />
   <div class="${d.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${d.select}" id="${d.select}"></select>
   <div class="${d.radio}"></div>
   <label class="${d.checkbox}">
     <input type="checkbox" id="${d.checkbox}" />
     <span class="${d.label}"></span>
   </label>
   <textarea class="${d.textarea}" id="${d.textarea}"></textarea>
   <div class="${d["validation-message"]}" id="${d["validation-message"]}"></div>
   <div class="${d.actions}">
     <div class="${d.loader}"></div>
     <button type="button" class="${d.confirm}"></button>
     <button type="button" class="${d.deny}"></button>
     <button type="button" class="${d.cancel}"></button>
   </div>
   <div class="${d.footer}"></div>
   <div class="${d["timer-progress-bar-container"]}">
     <div class="${d["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Rt=()=>{let K=G();return K?(K.remove(),Fe([document.documentElement,document.body],[d["no-backdrop"],d["toast-shown"],d["has-column"]]),!0):!1},rn=()=>{s.currentInstance.resetValidationMessage()},Wn=()=>{let K=E(),Q=He(K,d.input),oe=He(K,d.file),we=K.querySelector(`.${d.range} input`),Ke=K.querySelector(`.${d.range} output`),Gt=He(K,d.select),ni=K.querySelector(`.${d.checkbox} input`),Ni=He(K,d.textarea);Q.oninput=rn,oe.onchange=rn,Gt.onchange=rn,ni.onchange=rn,Ni.oninput=rn,we.oninput=()=>{rn(),Ke.value=we.value},we.onchange=()=>{rn(),Ke.value=we.value}},fn=K=>typeof K=="string"?document.querySelector(K):K,pn=K=>{let Q=E();Q.setAttribute("role",K.toast?"alert":"dialog"),Q.setAttribute("aria-live",K.toast?"polite":"assertive"),K.toast||Q.setAttribute("aria-modal","true")},wi=K=>{window.getComputedStyle(K).direction==="rtl"&&Se(G(),d.rtl)},It=K=>{let Q=Rt();if(Vt()){v("SweetAlert2 requires document to initialize");return}let oe=document.createElement("div");oe.className=d.container,Q&&Se(oe,d["no-transition"]),xe(oe,jr);let we=fn(K.target);we.appendChild(oe),pn(K),wi(we),Wn()},Ft=(K,Q)=>{K instanceof HTMLElement?Q.appendChild(K):typeof K=="object"?ur(K,Q):K&&xe(Q,K)},ur=(K,Q)=>{K.jquery?on(Q,K):xe(Q,K.toString())},on=(K,Q)=>{if(K.textContent="",0 in Q)for(let oe=0;oe in Q;oe++)K.appendChild(Q[oe].cloneNode(!0));else K.appendChild(Q.cloneNode(!0))},ln=(K,Q)=>{let oe=Y(),we=D();!oe||!we||(!Q.showConfirmButton&&!Q.showDenyButton&&!Q.showCancelButton?tt(oe):ut(oe),ge(oe,Q,"actions"),zr(oe,we,Q),xe(we,Q.loaderHtml||""),ge(we,Q,"loader"))};function zr(K,Q,oe){let we=R(),Ke=j(),Gt=Z();!we||!Ke||!Gt||(Ie(we,"confirm",oe),Ie(Ke,"deny",oe),Ie(Gt,"cancel",oe),St(we,Ke,Gt,oe),oe.reverseButtons&&(oe.toast?(K.insertBefore(Gt,we),K.insertBefore(Ke,we)):(K.insertBefore(Gt,Q),K.insertBefore(Ke,Q),K.insertBefore(we,Q))))}function St(K,Q,oe,we){if(!we.buttonsStyling){Fe([K,Q,oe],d.styled);return}Se([K,Q,oe],d.styled),we.confirmButtonColor&&(K.style.backgroundColor=we.confirmButtonColor,Se(K,d["default-outline"])),we.denyButtonColor&&(Q.style.backgroundColor=we.denyButtonColor,Se(Q,d["default-outline"])),we.cancelButtonColor&&(oe.style.backgroundColor=we.cancelButtonColor,Se(oe,d["default-outline"]))}function Ie(K,Q,oe){let we=p(Q);bt(K,oe[`show${we}Button`],"inline-block"),xe(K,oe[`${Q}ButtonText`]||""),K.setAttribute("aria-label",oe[`${Q}ButtonAriaLabel`]||""),K.className=d[Q],ge(K,oe,`${Q}Button`)}let $e=(K,Q)=>{let oe=$();oe&&(xe(oe,Q.closeButtonHtml||""),ge(oe,Q,"closeButton"),bt(oe,Q.showCloseButton),oe.setAttribute("aria-label",Q.closeButtonAriaLabel||""))},Ye=(K,Q)=>{let oe=G();oe&&(ct(oe,Q.backdrop),vn(oe,Q.position),Mt(oe,Q.grow),ge(oe,Q,"container"))};function ct(K,Q){typeof Q=="string"?K.style.background=Q:Q||Se([document.documentElement,document.body],d["no-backdrop"])}function vn(K,Q){Q&&(Q in d?Se(K,d[Q]):(g('The "position" parameter is not valid, defaulting to "center"'),Se(K,d.center)))}function Mt(K,Q){Q&&Se(K,d[`grow-${Q}`])}var Et={innerParams:new WeakMap,domCache:new WeakMap};let li=["input","file","range","select","radio","checkbox","textarea"],Jt=(K,Q)=>{let oe=E();if(!oe)return;let we=Et.innerParams.get(K),Ke=!we||Q.input!==we.input;li.forEach(Gt=>{let ni=He(oe,d[Gt]);ni&&(Dn(Gt,Q.inputAttributes),ni.className=d[Gt],Ke&&tt(ni))}),Q.input&&(Ke&&Bt(Q),kn(Q))},Bt=K=>{if(!K.input)return;if(!Ln[K.input]){v(`Unexpected type of input! Expected ${Object.keys(Ln).join(" | ")}, got "${K.input}"`);return}let Q=er(K.input);if(!Q)return;let oe=Ln[K.input](Q,K);ut(Q),K.inputAutoFocus&&setTimeout(()=>{Ee(oe)})},Kn=K=>{for(let Q=0;Q<K.attributes.length;Q++){let oe=K.attributes[Q].name;["id","type","value","style"].includes(oe)||K.removeAttribute(oe)}},Dn=(K,Q)=>{let oe=E();if(!oe)return;let we=Ae(oe,K);if(we){Kn(we);for(let Ke in Q)we.setAttribute(Ke,Q[Ke])}},kn=K=>{if(!K.input)return;let Q=er(K.input);Q&&ge(Q,K,"input")},Xn=(K,Q)=>{!K.placeholder&&Q.inputPlaceholder&&(K.placeholder=Q.inputPlaceholder)},Ei=(K,Q,oe)=>{if(oe.inputLabel){let we=document.createElement("label"),Ke=d["input-label"];we.setAttribute("for",K.id),we.className=Ke,typeof oe.customClass=="object"&&Se(we,oe.customClass.inputLabel),we.innerText=oe.inputLabel,Q.insertAdjacentElement("beforebegin",we)}},er=K=>{let Q=E();if(Q)return He(Q,d[K]||d.input)},yr=(K,Q)=>{["string","number"].includes(typeof Q)?K.value=`${Q}`:V(Q)||g(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof Q}"`)},Ln={};Ln.text=Ln.email=Ln.password=Ln.number=Ln.tel=Ln.url=Ln.search=Ln.date=Ln["datetime-local"]=Ln.time=Ln.week=Ln.month=(K,Q)=>(yr(K,Q.inputValue),Ei(K,K,Q),Xn(K,Q),K.type=Q.input,K),Ln.file=(K,Q)=>(Ei(K,K,Q),Xn(K,Q),K),Ln.range=(K,Q)=>{let oe=K.querySelector("input"),we=K.querySelector("output");return yr(oe,Q.inputValue),oe.type=Q.input,yr(we,Q.inputValue),Ei(oe,K,Q),K},Ln.select=(K,Q)=>{if(K.textContent="",Q.inputPlaceholder){let oe=document.createElement("option");xe(oe,Q.inputPlaceholder),oe.value="",oe.disabled=!0,oe.selected=!0,K.appendChild(oe)}return Ei(K,K,Q),K},Ln.radio=K=>(K.textContent="",K),Ln.checkbox=(K,Q)=>{let oe=Ae(E(),"checkbox");oe.value="1",oe.checked=!!Q.inputValue;let we=K.querySelector("span");return xe(we,Q.inputPlaceholder||Q.inputLabel),oe},Ln.textarea=(K,Q)=>{yr(K,Q.inputValue),Xn(K,Q),Ei(K,K,Q);let oe=we=>parseInt(window.getComputedStyle(we).marginLeft)+parseInt(window.getComputedStyle(we).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let we=parseInt(window.getComputedStyle(E()).width),Ke=()=>{if(!document.body.contains(K))return;let Gt=K.offsetWidth+oe(K);Gt>we?E().style.width=`${Gt}px`:Ze(E(),"width",Q.width)};new MutationObserver(Ke).observe(K,{attributes:!0,attributeFilter:["style"]})}}),K};let Ur=(K,Q)=>{let oe=_();oe&&(pt(oe),ge(oe,Q,"htmlContainer"),Q.html?(Ft(Q.html,oe),ut(oe,"block")):Q.text?(oe.textContent=Q.text,ut(oe,"block")):tt(oe),Jt(K,Q))},ye=(K,Q)=>{let oe=P();oe&&(pt(oe),bt(oe,Q.footer,"block"),Q.footer&&Ft(Q.footer,oe),ge(oe,Q,"footer"))},We=(K,Q)=>{let oe=Et.innerParams.get(K),we=L();if(we){if(oe&&Q.icon===oe.icon){Yt(we,Q),dt(we,Q);return}if(!Q.icon&&!Q.iconHtml){tt(we);return}if(Q.icon&&Object.keys(h).indexOf(Q.icon)===-1){v(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${Q.icon}"`),tt(we);return}ut(we),Yt(we,Q),dt(we,Q),Se(we,Q.showClass&&Q.showClass.icon)}},dt=(K,Q)=>{for(let[oe,we]of Object.entries(h))Q.icon!==oe&&Fe(K,we);Se(K,Q.icon&&h[Q.icon]),Jn(K,Q),it(),ge(K,Q,"icon")},it=()=>{let K=E();if(!K)return;let Q=window.getComputedStyle(K).getPropertyValue("background-color"),oe=K.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let we=0;we<oe.length;we++)oe[we].style.backgroundColor=Q},Pt=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Qt=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Yt=(K,Q)=>{if(!Q.icon&&!Q.iconHtml)return;let oe=K.innerHTML,we="";Q.iconHtml?we=xn(Q.iconHtml):Q.icon==="success"?(we=Pt,oe=oe.replace(/ style=".*?"/g,"")):Q.icon==="error"?we=Qt:Q.icon&&(we=xn({question:"?",warning:"!",info:"i"}[Q.icon])),oe.trim()!==we.trim()&&xe(K,we)},Jn=(K,Q)=>{if(Q.iconColor){K.style.color=Q.iconColor,K.style.borderColor=Q.iconColor;for(let oe of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Zt(K,oe,"background-color",Q.iconColor);Zt(K,".swal2-success-ring","border-color",Q.iconColor)}},xn=K=>`<div class="${d["icon-content"]}">${K}</div>`,yn=(K,Q)=>{let oe=y();if(oe){if(!Q.imageUrl){tt(oe);return}ut(oe,""),oe.setAttribute("src",Q.imageUrl),oe.setAttribute("alt",Q.imageAlt||""),Ze(oe,"width",Q.imageWidth),Ze(oe,"height",Q.imageHeight),oe.className=d.image,ge(oe,Q,"image")}},Cn=(K,Q)=>{let oe=G(),we=E();if(!(!oe||!we)){if(Q.toast){Ze(oe,"width",Q.width),we.style.width="100%";let Ke=D();Ke&&we.insertBefore(Ke,L())}else Ze(we,"width",Q.width);Ze(we,"padding",Q.padding),Q.color&&(we.style.color=Q.color),Q.background&&(we.style.background=Q.background),tt(S()),tr(we,Q)}},tr=(K,Q)=>{let oe=Q.showClass||{};K.className=`${d.popup} ${lt(K)?oe.popup:""}`,Q.toast?(Se([document.documentElement,document.body],d["toast-shown"]),Se(K,d.toast)):Se(K,d.modal),ge(K,Q,"popup"),typeof Q.customClass=="string"&&Se(K,Q.customClass),Q.icon&&Se(K,d[`icon-${Q.icon}`])},$n=(K,Q)=>{let oe=C();if(!oe)return;let{progressSteps:we,currentProgressStep:Ke}=Q;if(!we||we.length===0||Ke===void 0){tt(oe);return}ut(oe),oe.textContent="",Ke>=we.length&&g("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),we.forEach((Gt,ni)=>{let Ni=yi(Gt);if(oe.appendChild(Ni),ni===Ke&&Se(Ni,d["active-progress-step"]),ni!==we.length-1){let Or=Ii(Q);oe.appendChild(Or)}})},yi=K=>{let Q=document.createElement("li");return Se(Q,d["progress-step"]),xe(Q,K),Q},Ii=K=>{let Q=document.createElement("li");return Se(Q,d["progress-step-line"]),K.progressStepsDistance&&Ze(Q,"width",K.progressStepsDistance),Q},Yr=(K,Q)=>{let oe=w();oe&&(pt(oe),bt(oe,Q.title||Q.titleText,"block"),Q.title&&Ft(Q.title,oe),Q.titleText&&(oe.innerText=Q.titleText),ge(oe,Q,"title"))},ho=(K,Q)=>{Cn(K,Q),Ye(K,Q),$n(K,Q),We(K,Q),yn(K,Q),Yr(K,Q),$e(K,Q),Ur(K,Q),ln(K,Q),ye(K,Q);let oe=E();typeof Q.didRender=="function"&&oe&&Q.didRender(oe),s.eventEmitter.emit("didRender",oe)},zo=()=>lt(E()),Mr=()=>{var K;return(K=R())===null||K===void 0?void 0:K.click()},_s=()=>{var K;return(K=j())===null||K===void 0?void 0:K.click()},fo=()=>{var K;return(K=Z())===null||K===void 0?void 0:K.click()},Ao=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),di=K=>{K.keydownTarget&&K.keydownHandlerAdded&&(K.keydownTarget.removeEventListener("keydown",K.keydownHandler,{capture:K.keydownListenerCapture}),K.keydownHandlerAdded=!1)},Mi=(K,Q,oe)=>{di(K),Q.toast||(K.keydownHandler=we=>To(Q,we,oe),K.keydownTarget=Q.keydownListenerCapture?window:E(),K.keydownListenerCapture=Q.keydownListenerCapture,K.keydownTarget.addEventListener("keydown",K.keydownHandler,{capture:K.keydownListenerCapture}),K.keydownHandlerAdded=!0)},Ya=(K,Q)=>{var oe;let we=ue();if(we.length){K=K+Q,K===we.length?K=0:K===-1&&(K=we.length-1),we[K].focus();return}(oe=E())===null||oe===void 0||oe.focus()},na=["ArrowRight","ArrowDown"],Ll=["ArrowLeft","ArrowUp"],To=(K,Q,oe)=>{K&&(Q.isComposing||Q.keyCode===229||(K.stopKeydownPropagation&&Q.stopPropagation(),Q.key==="Enter"?as(Q,K):Q.key==="Tab"?ia(Q):[...na,...Ll].includes(Q.key)?Fl(Q.key):Q.key==="Escape"&&vc(Q,K,oe)))},as=(K,Q)=>{if(!H(Q.allowEnterKey))return;let oe=Ae(E(),Q.input);if(K.target&&oe&&K.target instanceof HTMLElement&&K.target.outerHTML===oe.outerHTML){if(["textarea","file"].includes(Q.input))return;Mr(),K.preventDefault()}},ia=K=>{let Q=K.target,oe=ue(),we=-1;for(let Ke=0;Ke<oe.length;Ke++)if(Q===oe[Ke]){we=Ke;break}K.shiftKey?Ya(we,-1):Ya(we,1),K.stopPropagation(),K.preventDefault()},Fl=K=>{let Q=Y(),oe=R(),we=j(),Ke=Z();if(!Q||!oe||!we||!Ke)return;let Gt=[oe,we,Ke];if(document.activeElement instanceof HTMLElement&&!Gt.includes(document.activeElement))return;let ni=na.includes(K)?"nextElementSibling":"previousElementSibling",Ni=document.activeElement;if(Ni){for(let Or=0;Or<Q.children.length;Or++){if(Ni=Ni[ni],!Ni)return;if(Ni instanceof HTMLButtonElement&&lt(Ni))break}Ni instanceof HTMLButtonElement&&Ni.focus()}},vc=(K,Q,oe)=>{H(Q.allowEscapeKey)&&(K.preventDefault(),oe(Ao.esc))};var Xr={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let ls=()=>{let K=G();Array.from(document.body.children).forEach(oe=>{oe.contains(K)||(oe.hasAttribute("aria-hidden")&&oe.setAttribute("data-previous-aria-hidden",oe.getAttribute("aria-hidden")||""),oe.setAttribute("aria-hidden","true"))})},Xa=()=>{Array.from(document.body.children).forEach(Q=>{Q.hasAttribute("data-previous-aria-hidden")?(Q.setAttribute("aria-hidden",Q.getAttribute("data-previous-aria-hidden")||""),Q.removeAttribute("data-previous-aria-hidden")):Q.removeAttribute("aria-hidden")})},Ja=typeof window<"u"&&!!window.GestureEvent,io=()=>{if(Ja&&!ie(document.body,d.iosfix)){let K=document.body.scrollTop;document.body.style.top=`${K*-1}px`,Se(document.body,d.iosfix),wc()}},wc=()=>{let K=G();if(!K)return;let Q;K.ontouchstart=oe=>{Q=Bl(oe)},K.ontouchmove=oe=>{Q&&(oe.preventDefault(),oe.stopPropagation())}},Bl=K=>{let Q=K.target,oe=G(),we=_();return!oe||!we||On(K)||yc(K)?!1:Q===oe||!vt(oe)&&Q instanceof HTMLElement&&Q.tagName!=="INPUT"&&Q.tagName!=="TEXTAREA"&&!(vt(we)&&we.contains(Q))},On=K=>K.touches&&K.touches.length&&K.touches[0].touchType==="stylus",yc=K=>K.touches&&K.touches.length>1,_c=()=>{if(ie(document.body,d.iosfix)){let K=parseInt(document.body.style.top,10);Fe(document.body,d.iosfix),document.body.style.top="",document.body.scrollTop=K*-1}},Qa=()=>{let K=document.createElement("div");K.className=d["scrollbar-measure"],document.body.appendChild(K);let Q=K.getBoundingClientRect().width-K.clientWidth;return document.body.removeChild(K),Q},Vl=null,jm=K=>{Vl===null&&(document.body.scrollHeight>window.innerHeight||K==="scroll")&&(Vl=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Vl+Qa()}px`)},wd=()=>{Vl!==null&&(document.body.style.paddingRight=`${Vl}px`,Vl=null)};function yd(K,Q,oe,we){ce()?xd(K,we):(l(oe).then(()=>xd(K,we)),di(s)),Ja?(Q.setAttribute("style","display:none !important"),Q.removeAttribute("class"),Q.innerHTML=""):Q.remove(),re()&&(wd(),_c(),Xa()),tb()}function tb(){Fe([document.documentElement,document.body],[d.shown,d["height-auto"],d["no-backdrop"],d["toast-shown"]])}function el(K){K=xc(K);let Q=Xr.swalPromiseResolve.get(this),oe=nb(this);this.isAwaitingPromise?K.isDismissed||(Ta(this),Q(K)):oe&&Q(K)}let nb=K=>{let Q=E();if(!Q)return!1;let oe=Et.innerParams.get(K);if(!oe||ie(Q,oe.hideClass.popup))return!1;Fe(Q,oe.showClass.popup),Se(Q,oe.hideClass.popup);let we=G();return Fe(we,oe.showClass.backdrop),Se(we,oe.hideClass.backdrop),ib(K,Q,oe),!0};function _d(K){let Q=Xr.swalPromiseReject.get(this);Ta(this),Q&&Q(K)}let Ta=K=>{K.isAwaitingPromise&&(delete K.isAwaitingPromise,Et.innerParams.get(K)||K._destroy())},xc=K=>typeof K>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},K),ib=(K,Q,oe)=>{let we=G(),Ke=at(Q);typeof oe.willClose=="function"&&oe.willClose(Q),s.eventEmitter.emit("willClose",Q),Ke?bu(K,Q,we,oe.returnFocus,oe.didClose):yd(K,we,oe.returnFocus,oe.didClose)},bu=(K,Q,oe,we,Ke)=>{s.swalCloseEventFinishedCallback=yd.bind(null,K,oe,we,Ke);let Gt=function(ni){ni.target===Q&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback,Q.removeEventListener("animationend",Gt),Q.removeEventListener("transitionend",Gt))};Q.addEventListener("animationend",Gt),Q.addEventListener("transitionend",Gt)},xd=(K,Q)=>{setTimeout(()=>{typeof Q=="function"&&Q.bind(K.params)(),s.eventEmitter.emit("didClose"),K._destroy&&K._destroy()})},Ia=K=>{let Q=E();if(Q||new Vd,Q=E(),!Q)return;let oe=D();ce()?tt(L()):zm(Q,K),ut(oe),Q.setAttribute("data-loading","true"),Q.setAttribute("aria-busy","true"),Q.focus()},zm=(K,Q)=>{let oe=Y(),we=D();!oe||!we||(!Q&&lt(R())&&(Q=R()),ut(oe),Q&&(tt(Q),we.setAttribute("data-button-to-replace",Q.className),oe.insertBefore(we,Q)),Se([K,oe],d.loading))},Um=(K,Q)=>{Q.input==="select"||Q.input==="radio"?rb(K,Q):["text","email","number","tel","textarea"].some(oe=>oe===Q.input)&&(F(Q.inputValue)||V(Q.inputValue))&&(Ia(R()),Cc(K,Q))},Hm=(K,Q)=>{let oe=K.getInput();if(!oe)return null;switch(Q.input){case"checkbox":return Wm(oe);case"radio":return tl(oe);case"file":return jl(oe);default:return Q.inputAutoTrim?oe.value.trim():oe.value}},Wm=K=>K.checked?1:0,tl=K=>K.checked?K.value:null,jl=K=>K.files&&K.files.length?K.getAttribute("multiple")!==null?K.files:K.files[0]:null,rb=(K,Q)=>{let oe=E();if(!oe)return;let we=Ke=>{Q.input==="select"?Ma(oe,nl(Ke),Q):Q.input==="radio"&&uf(oe,nl(Ke),Q)};F(Q.inputOptions)||V(Q.inputOptions)?(Ia(R()),B(Q.inputOptions).then(Ke=>{K.hideLoading(),we(Ke)})):typeof Q.inputOptions=="object"?we(Q.inputOptions):v(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof Q.inputOptions}`)},Cc=(K,Q)=>{let oe=K.getInput();oe&&(tt(oe),B(Q.inputValue).then(we=>{oe.value=Q.input==="number"?`${parseFloat(we)||0}`:`${we}`,ut(oe),oe.focus(),K.hideLoading()}).catch(we=>{v(`Error in inputValue promise: ${we}`),oe.value="",ut(oe),oe.focus(),K.hideLoading()}))};function Ma(K,Q,oe){let we=He(K,d.select);if(!we)return;let Ke=(Gt,ni,Ni)=>{let Or=document.createElement("option");Or.value=Ni,xe(Or,ni),Or.selected=$m(Ni,oe.inputValue),Gt.appendChild(Or)};Q.forEach(Gt=>{let ni=Gt[0],Ni=Gt[1];if(Array.isArray(Ni)){let Or=document.createElement("optgroup");Or.label=ni,Or.disabled=!1,we.appendChild(Or),Ni.forEach(jd=>Ke(Or,jd[1],jd[0]))}else Ke(we,Ni,ni)}),we.focus()}function uf(K,Q,oe){let we=He(K,d.radio);if(!we)return;Q.forEach(Gt=>{let ni=Gt[0],Ni=Gt[1],Or=document.createElement("input"),jd=document.createElement("label");Or.type="radio",Or.name=d.radio,Or.value=ni,$m(ni,oe.inputValue)&&(Or.checked=!0);let ab=document.createElement("span");xe(ab,Ni),ab.className=d.label,jd.appendChild(Or),jd.appendChild(ab),we.appendChild(jd)});let Ke=we.querySelectorAll("input");Ke.length&&Ke[0].focus()}let nl=K=>{let Q=[];return K instanceof Map?K.forEach((oe,we)=>{let Ke=oe;typeof Ke=="object"&&(Ke=nl(Ke)),Q.push([we,Ke])}):Object.keys(K).forEach(oe=>{let we=K[oe];typeof we=="object"&&(we=nl(we)),Q.push([oe,we])}),Q},$m=(K,Q)=>!!Q&&Q.toString()===K.toString(),Cd=K=>{let Q=Et.innerParams.get(K);K.disableButtons(),Q.input?kd(K,"confirm"):Ad(K,!0)},ob=K=>{let Q=Et.innerParams.get(K);K.disableButtons(),Q.returnInputValueOnDeny?kd(K,"deny"):kc(K,!1)},df=(K,Q)=>{K.disableButtons(),Q(Ao.cancel)},kd=(K,Q)=>{let oe=Et.innerParams.get(K);if(!oe.input){v(`The "input" parameter is needed to be set when using returnInputValueOn${p(Q)}`);return}let we=K.getInput(),Ke=Hm(K,oe);oe.inputValidator?qm(K,Ke,Q):we&&!we.checkValidity()?(K.enableButtons(),K.showValidationMessage(oe.validationMessage||we.validationMessage)):Q==="deny"?kc(K,Ke):Ad(K,Ke)},qm=(K,Q,oe)=>{let we=Et.innerParams.get(K);K.disableInput(),Promise.resolve().then(()=>B(we.inputValidator(Q,we.validationMessage))).then(Gt=>{K.enableButtons(),K.enableInput(),Gt?K.showValidationMessage(Gt):oe==="deny"?kc(K,Q):Ad(K,Q)})},kc=(K,Q)=>{let oe=Et.innerParams.get(K||void 0);oe.showLoaderOnDeny&&Ia(j()),oe.preDeny?(K.isAwaitingPromise=!0,Promise.resolve().then(()=>B(oe.preDeny(Q,oe.validationMessage))).then(Ke=>{Ke===!1?(K.hideLoading(),Ta(K)):K.close({isDenied:!0,value:typeof Ke>"u"?Q:Ke})}).catch(Ke=>Sd(K||void 0,Ke))):K.close({isDenied:!0,value:Q})},Ed=(K,Q)=>{K.close({isConfirmed:!0,value:Q})},Sd=(K,Q)=>{K.rejectPromise(Q)},Ad=(K,Q)=>{let oe=Et.innerParams.get(K||void 0);oe.showLoaderOnConfirm&&Ia(),oe.preConfirm?(K.resetValidationMessage(),K.isAwaitingPromise=!0,Promise.resolve().then(()=>B(oe.preConfirm(Q,oe.validationMessage))).then(Ke=>{lt(S())||Ke===!1?(K.hideLoading(),Ta(K)):Ed(K,typeof Ke>"u"?Q:Ke)}).catch(Ke=>Sd(K||void 0,Ke))):Ed(K,Q)};function Td(){let K=Et.innerParams.get(this);if(!K)return;let Q=Et.domCache.get(this);tt(Q.loader),ce()?K.icon&&ut(L()):Id(Q),Fe([Q.popup,Q.actions],d.loading),Q.popup.removeAttribute("aria-busy"),Q.popup.removeAttribute("data-loading"),Q.confirmButton.disabled=!1,Q.denyButton.disabled=!1,Q.cancelButton.disabled=!1}let Id=K=>{let Q=K.popup.getElementsByClassName(K.loader.getAttribute("data-button-to-replace"));Q.length?ut(Q[0],"inline-block"):st()&&tt(K.actions)};function Ec(){let K=Et.innerParams.get(this),Q=Et.domCache.get(this);return Q?Ae(Q.popup,K.input):null}function Md(K,Q,oe){let we=Et.domCache.get(K);Q.forEach(Ke=>{we[Ke].disabled=oe})}function zl(K,Q){let oe=E();if(!(!oe||!K))if(K.type==="radio"){let we=oe.querySelectorAll(`[name="${d.radio}"]`);for(let Ke=0;Ke<we.length;Ke++)we[Ke].disabled=Q}else K.disabled=Q}function Pd(){Md(this,["confirmButton","denyButton","cancelButton"],!1)}function q(){Md(this,["confirmButton","denyButton","cancelButton"],!0)}function ae(){zl(this.getInput(),!1)}function ke(){zl(this.getInput(),!0)}function Oe(K){let Q=Et.domCache.get(this),oe=Et.innerParams.get(this);xe(Q.validationMessage,K),Q.validationMessage.className=d["validation-message"],oe.customClass&&oe.customClass.validationMessage&&Se(Q.validationMessage,oe.customClass.validationMessage),ut(Q.validationMessage);let we=this.getInput();we&&(we.setAttribute("aria-invalid","true"),we.setAttribute("aria-describedby",d["validation-message"]),Ee(we),Se(we,d.inputerror))}function Ue(){let K=Et.domCache.get(this);K.validationMessage&&tt(K.validationMessage);let Q=this.getInput();Q&&(Q.removeAttribute("aria-invalid"),Q.removeAttribute("aria-describedby"),Fe(Q,d.inputerror))}let rt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},xt=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],qt={allowEnterKey:void 0},wn=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Vn=K=>Object.prototype.hasOwnProperty.call(rt,K),Fn=K=>xt.indexOf(K)!==-1,Ci=K=>qt[K],Pr=K=>{Vn(K)||g(`Unknown parameter "${K}"`)},Hr=K=>{wn.includes(K)&&g(`The parameter "${K}" is incompatible with toasts`)},ro=K=>{let Q=Ci(K);Q&&N(K,Q)},Uo=K=>{K.backdrop===!1&&K.allowOutsideClick&&g('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let Q in K)Pr(Q),K.toast&&Hr(Q),ro(Q)};function mo(K){let Q=E(),oe=Et.innerParams.get(this);if(!Q||ie(Q,oe.hideClass.popup)){g("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let we=Pa(K),Ke=Object.assign({},oe,we);ho(this,Ke),Et.innerParams.set(this,Ke),Object.defineProperties(this,{params:{value:Object.assign({},this.params,K),writable:!1,enumerable:!0}})}let Pa=K=>{let Q={};return Object.keys(K).forEach(oe=>{Fn(oe)?Q[oe]=K[oe]:g(`Invalid parameter to update: ${oe}`)}),Q};function xs(){let K=Et.domCache.get(this),Q=Et.innerParams.get(this);if(!Q){hf(this);return}K.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof Q.didDestroy=="function"&&Q.didDestroy(),s.eventEmitter.emit("didDestroy"),il(this)}let il=K=>{hf(K),delete K.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},hf=K=>{K.isAwaitingPromise?(vu(Et,K),K.isAwaitingPromise=!0):(vu(Xr,K),vu(Et,K),delete K.isAwaitingPromise,delete K.disableButtons,delete K.enableButtons,delete K.getInput,delete K.disableInput,delete K.enableInput,delete K.hideLoading,delete K.disableLoading,delete K.showValidationMessage,delete K.resetValidationMessage,delete K.close,delete K.closePopup,delete K.closeModal,delete K.closeToast,delete K.rejectPromise,delete K.update,delete K._destroy)},vu=(K,Q)=>{for(let oe in K)K[oe].delete(Q)};var ff=Object.freeze({__proto__:null,_destroy:xs,close:el,closeModal:el,closePopup:el,closeToast:el,disableButtons:q,disableInput:ke,disableLoading:Td,enableButtons:Pd,enableInput:ae,getInput:Ec,handleAwaitingPromise:Ta,hideLoading:Td,rejectPromise:_d,resetValidationMessage:Ue,showValidationMessage:Oe,update:mo});let Dd=(K,Q,oe)=>{K.toast?mf(K,Q,oe):(Io(Q),Od(Q),Rd(K,Q,oe))},mf=(K,Q,oe)=>{Q.popup.onclick=()=>{K&&(pf(K)||K.timer||K.input)||oe(Ao.close)}},pf=K=>!!(K.showConfirmButton||K.showDenyButton||K.showCancelButton||K.showCloseButton),Ul=!1,Io=K=>{K.popup.onmousedown=()=>{K.container.onmouseup=function(Q){K.container.onmouseup=()=>{},Q.target===K.container&&(Ul=!0)}}},Od=K=>{K.container.onmousedown=Q=>{Q.target===K.container&&Q.preventDefault(),K.popup.onmouseup=function(oe){K.popup.onmouseup=()=>{},(oe.target===K.popup||oe.target instanceof HTMLElement&&K.popup.contains(oe.target))&&(Ul=!0)}}},Rd=(K,Q,oe)=>{Q.container.onclick=we=>{if(Ul){Ul=!1;return}we.target===Q.container&&H(K.allowOutsideClick)&&oe(Ao.backdrop)}},Nd=K=>typeof K=="object"&&K.jquery,Ld=K=>K instanceof Element||Nd(K),Cs=K=>{let Q={};return typeof K[0]=="object"&&!Ld(K[0])?Object.assign(Q,K[0]):["title","html","icon"].forEach((oe,we)=>{let Ke=K[we];typeof Ke=="string"||Ld(Ke)?Q[oe]=Ke:Ke!==void 0&&v(`Unexpected type of ${oe}! Expected "string" or "Element", got ${typeof Ke}`)}),Q};function sb(){for(var K=arguments.length,Q=new Array(K),oe=0;oe<K;oe++)Q[oe]=arguments[oe];return new this(...Q)}function gf(K){class Q extends this{_main(we,Ke){return super._main(we,Object.assign({},K,Ke))}}return Q}let Gm=()=>s.timeout&&s.timeout.getTimerLeft(),Fs=()=>{if(s.timeout)return Dt(),s.timeout.stop()},wu=()=>{if(s.timeout){let K=s.timeout.start();return mn(K),K}},Km=()=>{let K=s.timeout;return K&&(K.running?Fs():wu())},Zm=K=>{if(s.timeout){let Q=s.timeout.increase(K);return mn(Q,!0),Q}},Sc=()=>!!(s.timeout&&s.timeout.isRunning()),Ac=!1,Ho={};function cs(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Ho[K]=this,Ac||(document.body.addEventListener("click",Tc),Ac=!0)}let Tc=K=>{for(let Q=K.target;Q&&Q!==document;Q=Q.parentNode)for(let oe in Ho){let we=Q.getAttribute(oe);if(we){Ho[oe].fire({template:we});return}}};class Hl{constructor(){this.events={}}_getHandlersByEventName(Q){return typeof this.events[Q]>"u"&&(this.events[Q]=[]),this.events[Q]}on(Q,oe){let we=this._getHandlersByEventName(Q);we.includes(oe)||we.push(oe)}once(Q,oe){var we=this;let Ke=function(){we.removeListener(Q,Ke);for(var Gt=arguments.length,ni=new Array(Gt),Ni=0;Ni<Gt;Ni++)ni[Ni]=arguments[Ni];oe.apply(we,ni)};this.on(Q,Ke)}emit(Q){for(var oe=arguments.length,we=new Array(oe>1?oe-1:0),Ke=1;Ke<oe;Ke++)we[Ke-1]=arguments[Ke];this._getHandlersByEventName(Q).forEach(Gt=>{try{Gt.apply(this,we)}catch(ni){console.error(ni)}})}removeListener(Q,oe){let we=this._getHandlersByEventName(Q),Ke=we.indexOf(oe);Ke>-1&&we.splice(Ke,1)}removeAllListeners(Q){this.events[Q]!==void 0&&(this.events[Q].length=0)}reset(){this.events={}}}s.eventEmitter=new Hl;var Jr=Object.freeze({__proto__:null,argsToParams:Cs,bindClickHandler:cs,clickCancel:fo,clickConfirm:Mr,clickDeny:_s,enableLoading:Ia,fire:sb,getActions:Y,getCancelButton:Z,getCloseButton:$,getConfirmButton:R,getContainer:G,getDenyButton:j,getFocusableElements:ue,getFooter:P,getHtmlContainer:_,getIcon:L,getIconContent:b,getImage:y,getInputLabel:X,getLoader:D,getPopup:E,getProgressSteps:C,getTimerLeft:Gm,getTimerProgressBar:M,getTitle:w,getValidationMessage:S,increaseTimer:Zm,isDeprecatedParameter:Ci,isLoading:_e,isTimerRunning:Sc,isUpdatableParameter:Fn,isValidParameter:Vn,isVisible:zo,mixin:gf,off:(K,Q)=>{if(!K){s.eventEmitter.reset();return}Q?s.eventEmitter.removeListener(K,Q):s.eventEmitter.removeAllListeners(K)},on:(K,Q)=>{s.eventEmitter.on(K,Q)},once:(K,Q)=>{s.eventEmitter.once(K,Q)},resumeTimer:wu,showLoading:Ia,stopTimer:Fs,toggleTimer:Km});class vf{constructor(Q,oe){this.callback=Q,this.remaining=oe,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(Q){let oe=this.running;return oe&&this.stop(),this.remaining+=Q,oe&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let Wo=["swal-title","swal-html","swal-footer"],ra=K=>{let Q=typeof K.template=="string"?document.querySelector(K.template):K.template;if(!Q)return{};let oe=Q.content;return Bd(oe),Object.assign(Fd(oe),Ym(oe),wf(oe),yu(oe),_u(oe),Pc(oe),xu(oe,Wo))},Fd=K=>{let Q={};return Array.from(K.querySelectorAll("swal-param")).forEach(we=>{Bs(we,["name","value"]);let Ke=we.getAttribute("name"),Gt=we.getAttribute("value");!Ke||!Gt||(typeof rt[Ke]=="boolean"?Q[Ke]=Gt!=="false":typeof rt[Ke]=="object"?Q[Ke]=JSON.parse(Gt):Q[Ke]=Gt)}),Q},Ym=K=>{let Q={};return Array.from(K.querySelectorAll("swal-function-param")).forEach(we=>{let Ke=we.getAttribute("name"),Gt=we.getAttribute("value");!Ke||!Gt||(Q[Ke]=new Function(`return ${Gt}`)())}),Q},wf=K=>{let Q={};return Array.from(K.querySelectorAll("swal-button")).forEach(we=>{Bs(we,["type","color","aria-label"]);let Ke=we.getAttribute("type");!Ke||!["confirm","cancel","deny"].includes(Ke)||(Q[`${Ke}ButtonText`]=we.innerHTML,Q[`show${p(Ke)}Button`]=!0,we.hasAttribute("color")&&(Q[`${Ke}ButtonColor`]=we.getAttribute("color")),we.hasAttribute("aria-label")&&(Q[`${Ke}ButtonAriaLabel`]=we.getAttribute("aria-label")))}),Q},yu=K=>{let Q={},oe=K.querySelector("swal-image");return oe&&(Bs(oe,["src","width","height","alt"]),oe.hasAttribute("src")&&(Q.imageUrl=oe.getAttribute("src")||void 0),oe.hasAttribute("width")&&(Q.imageWidth=oe.getAttribute("width")||void 0),oe.hasAttribute("height")&&(Q.imageHeight=oe.getAttribute("height")||void 0),oe.hasAttribute("alt")&&(Q.imageAlt=oe.getAttribute("alt")||void 0)),Q},_u=K=>{let Q={},oe=K.querySelector("swal-icon");return oe&&(Bs(oe,["type","color"]),oe.hasAttribute("type")&&(Q.icon=oe.getAttribute("type")),oe.hasAttribute("color")&&(Q.iconColor=oe.getAttribute("color")),Q.iconHtml=oe.innerHTML),Q},Pc=K=>{let Q={},oe=K.querySelector("swal-input");oe&&(Bs(oe,["type","label","placeholder","value"]),Q.input=oe.getAttribute("type")||"text",oe.hasAttribute("label")&&(Q.inputLabel=oe.getAttribute("label")),oe.hasAttribute("placeholder")&&(Q.inputPlaceholder=oe.getAttribute("placeholder")),oe.hasAttribute("value")&&(Q.inputValue=oe.getAttribute("value")));let we=Array.from(K.querySelectorAll("swal-input-option"));return we.length&&(Q.inputOptions={},we.forEach(Ke=>{Bs(Ke,["value"]);let Gt=Ke.getAttribute("value");if(!Gt)return;let ni=Ke.innerHTML;Q.inputOptions[Gt]=ni})),Q},xu=(K,Q)=>{let oe={};for(let we in Q){let Ke=Q[we],Gt=K.querySelector(Ke);Gt&&(Bs(Gt,[]),oe[Ke.replace(/^swal-/,"")]=Gt.innerHTML.trim())}return oe},Bd=K=>{let Q=Wo.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(K.children).forEach(oe=>{let we=oe.tagName.toLowerCase();Q.includes(we)||g(`Unrecognized element <${we}>`)})},Bs=(K,Q)=>{Array.from(K.attributes).forEach(oe=>{Q.indexOf(oe.name)===-1&&g([`Unrecognized attribute "${oe.name}" on <${K.tagName.toLowerCase()}>.`,`${Q.length?`Allowed attributes are: ${Q.join(", ")}`:"To set the value, use HTML within the element."}`])})},Wl=10,yf=K=>{let Q=G(),oe=E();typeof K.willOpen=="function"&&K.willOpen(oe),s.eventEmitter.emit("willOpen",oe);let Ke=window.getComputedStyle(document.body).overflowY;ir(Q,oe,K),setTimeout(()=>{oa(Q,oe)},Wl),re()&&(nr(Q,K.scrollbarPadding,Ke),ls()),!ce()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof K.didOpen=="function"&&setTimeout(()=>K.didOpen(oe)),s.eventEmitter.emit("didOpen",oe),Fe(Q,d["no-transition"])},us=K=>{let Q=E();if(K.target!==Q)return;let oe=G();Q.removeEventListener("animationend",us),Q.removeEventListener("transitionend",us),oe.style.overflowY="auto"},oa=(K,Q)=>{at(Q)?(K.style.overflowY="hidden",Q.addEventListener("animationend",us),Q.addEventListener("transitionend",us)):K.style.overflowY="auto"},nr=(K,Q,oe)=>{io(),Q&&oe!=="hidden"&&jm(oe),setTimeout(()=>{K.scrollTop=0})},ir=(K,Q,oe)=>{Se(K,oe.showClass.backdrop),oe.animation?(Q.style.setProperty("opacity","0","important"),ut(Q,"grid"),setTimeout(()=>{Se(Q,oe.showClass.popup),Q.style.removeProperty("opacity")},Wl)):ut(Q,"grid"),Se([document.documentElement,document.body],d.shown),oe.heightAuto&&oe.backdrop&&!oe.toast&&Se([document.documentElement,document.body],d["height-auto"])};var Wr={email:(K,Q)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(K)?Promise.resolve():Promise.resolve(Q||"Invalid email address"),url:(K,Q)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(K)?Promise.resolve():Promise.resolve(Q||"Invalid URL")};function po(K){K.inputValidator||(K.input==="email"&&(K.inputValidator=Wr.email),K.input==="url"&&(K.inputValidator=Wr.url))}function $l(K){(!K.target||typeof K.target=="string"&&!document.querySelector(K.target)||typeof K.target!="string"&&!K.target.appendChild)&&(g('Target parameter is not valid, defaulting to "body"'),K.target="body")}function _f(K){po(K),K.showLoaderOnConfirm&&!K.preConfirm&&g(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),$l(K),typeof K.title=="string"&&(K.title=K.title.split(`
`).join("<br />")),It(K)}let ds;var Cu=new WeakMap;class Dr{constructor(){if(i(this,Cu,void 0),typeof window>"u")return;ds=this;for(var Q=arguments.length,oe=new Array(Q),we=0;we<Q;we++)oe[we]=arguments[we];let Ke=Object.freeze(this.constructor.argsToParams(oe));this.params=Ke,this.isAwaitingPromise=!1,r(Cu,this,this._main(ds.params))}_main(Q){let oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Uo(Object.assign({},oe,Q)),s.currentInstance){let Gt=Xr.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:ni}=s.currentInstance;s.currentInstance._destroy(),ni||Gt({isDismissed:!0}),re()&&Xa()}s.currentInstance=ds;let we=Vs(Q,oe);_f(we),Object.freeze(we),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let Ke=sa(ds);return ho(ds,we),Et.innerParams.set(ds,we),Xm(ds,Ke,we)}then(Q){return t(Cu,this).then(Q)}finally(Q){return t(Cu,this).finally(Q)}}let Xm=(K,Q,oe)=>new Promise((we,Ke)=>{let Gt=ni=>{K.close({isDismissed:!0,dismiss:ni})};Xr.swalPromiseResolve.set(K,we),Xr.swalPromiseReject.set(K,Ke),Q.confirmButton.onclick=()=>{Cd(K)},Q.denyButton.onclick=()=>{ob(K)},Q.cancelButton.onclick=()=>{df(K,Gt)},Q.closeButton.onclick=()=>{Gt(Ao.close)},Dd(oe,Q,Gt),Mi(s,oe,Gt),Um(K,oe),yf(oe),Jm(s,oe,Gt),Qm(Q,oe),setTimeout(()=>{Q.container.scrollTop=0})}),Vs=(K,Q)=>{let oe=ra(K),we=Object.assign({},rt,Q,oe,K);return we.showClass=Object.assign({},rt.showClass,we.showClass),we.hideClass=Object.assign({},rt.hideClass,we.hideClass),we.animation===!1&&(we.showClass={backdrop:"swal2-noanimation"},we.hideClass={}),we},sa=K=>{let Q={popup:E(),container:G(),actions:Y(),confirmButton:R(),denyButton:j(),cancelButton:Z(),loader:D(),closeButton:$(),validationMessage:S(),progressSteps:C()};return Et.domCache.set(K,Q),Q},Jm=(K,Q,oe)=>{let we=M();tt(we),Q.timer&&(K.timeout=new vf(()=>{oe("timer"),delete K.timeout},Q.timer),Q.timerProgressBar&&(ut(we),ge(we,Q,"timerProgressBar"),setTimeout(()=>{K.timeout&&K.timeout.running&&mn(Q.timer)})))},Qm=(K,Q)=>{if(!Q.toast){if(!H(Q.allowEnterKey)){N("allowEnterKey"),tp();return}uw(K)||ep(K,Q)||Ya(-1,1)}},uw=K=>{let Q=K.popup.querySelectorAll("[autofocus]");for(let oe of Q)if(oe instanceof HTMLElement&&lt(oe))return oe.focus(),!0;return!1},ep=(K,Q)=>Q.focusDeny&&lt(K.denyButton)?(K.denyButton.focus(),!0):Q.focusCancel&&lt(K.cancelButton)?(K.cancelButton.focus(),!0):Q.focusConfirm&&lt(K.confirmButton)?(K.confirmButton.focus(),!0):!1,tp=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let K=new Date,Q=localStorage.getItem("swal-initiation");Q?(K.getTime()-Date.parse(Q))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let oe=document.createElement("audio");oe.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",oe.loop=!0,document.body.appendChild(oe),setTimeout(()=>{oe.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${K}`)}Dr.prototype.disableButtons=q,Dr.prototype.enableButtons=Pd,Dr.prototype.getInput=Ec,Dr.prototype.disableInput=ke,Dr.prototype.enableInput=ae,Dr.prototype.hideLoading=Td,Dr.prototype.disableLoading=Td,Dr.prototype.showValidationMessage=Oe,Dr.prototype.resetValidationMessage=Ue,Dr.prototype.close=el,Dr.prototype.closePopup=el,Dr.prototype.closeModal=el,Dr.prototype.closeToast=el,Dr.prototype.rejectPromise=_d,Dr.prototype.update=mo,Dr.prototype._destroy=xs,Object.assign(Dr,Jr),Object.keys(ff).forEach(K=>{Dr[K]=function(){return ds&&ds[K]?ds[K](...arguments):null}}),Dr.DismissReason=Ao,Dr.version="11.14.4";let Vd=Dr;return Vd.default=Vd,Vd});typeof Kc<"u"&&Kc.Sweetalert2&&(Kc.swal=Kc.sweetAlert=Kc.Swal=Kc.SweetAlert=Kc.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});var SN=Kd((EN,pS)=>{"use strict";(function(n){typeof EN=="object"&&typeof pS<"u"?pS.exports=n():typeof define=="function"&&define.amd?define([],n):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).ExcelJS=n()})(function(){return function n(e,t,i){function r(a,l){if(!t[a]){if(!e[a]){var c=typeof mb=="function"&&mb;if(!l&&c)return c(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var d=t[a]={exports:{}};e[a][0].call(d.exports,function(f){return r(e[a][1][f]||f)},d,d.exports,n,e,t,i)}return t[a].exports}for(var o=typeof mb=="function"&&mb,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(n,e,t){"use strict";let i=n("fs"),r=n("fast-csv"),o=n("dayjs/plugin/customParseFormat"),s=n("dayjs/plugin/utc"),a=n("dayjs").extend(o).extend(s),l=n("../utils/stream-buf"),{fs:{exists:c}}=n("../utils/utils"),u={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};e.exports=class{constructor(d){this.workbook=d,this.worksheet=null}readFile(d,f){return gn(this,null,function*(){if(f=f||{},!(yield c(d)))throw new Error("File not found: "+d);let h=i.createReadStream(d),m=yield this.read(h,f);return h.close(),m})}read(d,f){return f=f||{},new Promise((h,m)=>{let p=this.workbook.addWorksheet(f.sheetName),g=f.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],v=f.map||function(I){if(I==="")return null;let N=Number(I);if(!Number.isNaN(N)&&N!==1/0)return N;let H=g.reduce((B,V)=>{if(B)return B;let G=a(I,V,!0);return G.isValid()?G:null},null);if(H)return new Date(H.valueOf());let F=u[I];return F!==void 0?F:I},x=r.parse(f.parserOptions).on("data",I=>{p.addRow(I.map(v))}).on("end",()=>{x.emit("worksheet",p)});x.on("worksheet",h).on("error",m),d.pipe(x)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(d,f){return new Promise((h,m)=>{f=f||{};let p=this.workbook.getWorksheet(f.sheetName||f.sheetId),g=r.format(f.formatterOptions);d.on("finish",()=>{h()}),g.on("error",m),g.pipe(d);let{dateFormat:v,dateUTC:x}=f,I=f.map||(F=>{if(F){if(F.text||F.hyperlink)return F.hyperlink||F.text||"";if(F.formula||F.result)return F.result||"";if(F instanceof Date)return v?x?a.utc(F).format(v):a(F).format(v):x?a.utc(F).format():a(F).format();if(F.error)return F.error;if(typeof F=="object")return JSON.stringify(F)}return F}),N=f.includeEmptyRows===void 0||f.includeEmptyRows,H=1;p&&p.eachRow((F,B)=>{if(N)for(;H++<B-1;)g.write([]);let{values:V}=F;V.shift(),g.write(V.map(I)),H=B}),g.end()})}writeFile(d,f){let h={encoding:(f=f||{}).encoding||"utf8"},m=i.createWriteStream(d,h);return this.write(m,f)}writeBuffer(d){return gn(this,null,function*(){let f=new l;return yield this.write(f,d),f.read()})}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(n,e,t){"use strict";let i=n("../utils/col-cache");class r{constructor(s,a){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=s,a)if(typeof a=="string"){let c=i.decodeAddress(a);this.nativeCol=c.col+l,this.nativeColOff=0,this.nativeRow=c.row+l,this.nativeRowOff=0}else a.nativeCol!==void 0?(this.nativeCol=a.nativeCol||0,this.nativeColOff=a.nativeColOff||0,this.nativeRow=a.nativeRow||0,this.nativeRowOff=a.nativeRowOff||0):a.col!==void 0?(this.col=a.col+l,this.row=a.row+l):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(s){return s instanceof r||s==null?s:new r(s)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(s){this.nativeCol=Math.floor(s),this.nativeColOff=Math.floor((s-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(s){this.nativeRow=Math.floor(s),this.nativeRowOff=Math.floor((s-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(s){this.nativeCol=s.nativeCol,this.nativeColOff=s.nativeColOff,this.nativeRow=s.nativeRow,this.nativeRowOff=s.nativeRowOff}}e.exports=r},{"../utils/col-cache":19}],3:[function(n,e,t){"use strict";let i=n("../utils/col-cache"),r=n("../utils/under-dash"),o=n("./enums"),{slideFormula:s}=n("../utils/shared-formula"),a=n("./note");class l{constructor(d,f,h){if(!d||!f)throw new Error("A Cell needs a Row");this._row=d,this._column=f,i.validateAddress(h),this._address=h,this._value=c.create(l.Types.Null,this),this.style=this._mergeStyle(d.style,f.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(d){this.style.numFmt=d}get font(){return this.style.font}set font(d){this.style.font=d}get alignment(){return this.style.alignment}set alignment(d){this.style.alignment=d}get border(){return this.style.border}set border(d){this.style.border=d}get fill(){return this.style.fill}set fill(d){this.style.fill=d}get protection(){return this.style.protection}set protection(d){this.style.protection=d}_mergeStyle(d,f,h){let m=d&&d.numFmt||f&&f.numFmt;m&&(h.numFmt=m);let p=d&&d.font||f&&f.font;p&&(h.font=p);let g=d&&d.alignment||f&&f.alignment;g&&(h.alignment=g);let v=d&&d.border||f&&f.border;v&&(h.border=v);let x=d&&d.fill||f&&f.fill;x&&(h.fill=x);let I=d&&d.protection||f&&f.protection;return I&&(h.protection=I),h}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===l.Types.Merge}merge(d,f){this._value.release(),this._value=c.create(l.Types.Merge,this,d),f||(this.style=d.style)}unmerge(){this.type===l.Types.Merge&&(this._value.release(),this._value=c.create(l.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(d){return this._value.type===l.Types.Merge&&this._value.isMergedTo(d)}get master(){return this.type===l.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===l.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(d){this.type!==l.Types.Merge?(this._value.release(),this._value=c.create(c.getType(d),this,d)):this._value.master.value=d}get note(){return this._comment&&this._comment.note}set note(d){this._comment=new a(d)}get text(){return this._value.toString()}get html(){return r.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(d){this.type===l.Types.String&&(this._value=c.create(l.Types.Hyperlink,this,{text:this._value.value,hyperlink:d}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){let{worksheet:d}=this._row;return{sheetName:d.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(d){this.names=[d]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(d){let{definedNames:f}=this.workbook;f.removeAllNames(this.fullAddress),d.forEach(h=>{f.addEx(this.fullAddress,h)})}addName(d){this.workbook.definedNames.addEx(this.fullAddress,d)}removeName(d){this.workbook.definedNames.removeEx(this.fullAddress,d)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(d){this._dataValidations.add(this.address,d)}get model(){let{model:d}=this._value;return d.style=this.style,this._comment&&(d.comment=this._comment.model),d}set model(d){if(this._value.release(),this._value=c.create(d.type,this),this._value.model=d,d.comment)switch(d.comment.type){case"note":this._comment=a.fromModel(d.comment)}d.style?this.style=d.style:this.style={}}}l.Types=o.ValueType;let c={getType:u=>u==null?l.Types.Null:u instanceof String||typeof u=="string"?l.Types.String:typeof u=="number"?l.Types.Number:typeof u=="boolean"?l.Types.Boolean:u instanceof Date?l.Types.Date:u.text&&u.hyperlink?l.Types.Hyperlink:u.formula||u.sharedFormula?l.Types.Formula:u.richText?l.Types.RichText:u.sharedString?l.Types.SharedString:u.error?l.Types.Error:l.Types.JSON,types:[{t:l.Types.Null,f:class{constructor(u){this.model={address:u.address,type:l.Types.Null}}get value(){return null}set value(u){}get type(){return l.Types.Null}get effectiveType(){return l.Types.Null}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return""}release(){}toString(){return""}}},{t:l.Types.Number,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.Number,value:d}}get value(){return this.model.value}set value(u){this.model.value=u}get type(){return l.Types.Number}get effectiveType(){return l.Types.Number}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.String,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.String,value:d}}get value(){return this.model.value}set value(u){this.model.value=u}get type(){return l.Types.String}get effectiveType(){return l.Types.String}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:l.Types.Date,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.Date,value:d}}get value(){return this.model.value}set value(u){this.model.value=u}get type(){return l.Types.Date}get effectiveType(){return l.Types.Date}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.Hyperlink,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.Hyperlink,text:d?d.text:void 0,hyperlink:d?d.hyperlink:void 0},d&&d.tooltip&&(this.model.tooltip=d.tooltip)}get value(){let u={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(u.tooltip=this.model.tooltip),u}set value(u){this.model={text:u.text,hyperlink:u.hyperlink},u.tooltip&&(this.model.tooltip=u.tooltip)}get text(){return this.model.text}set text(u){this.model.text=u}get hyperlink(){return this.model.hyperlink}set hyperlink(u){this.model.hyperlink=u}get type(){return l.Types.Hyperlink}get effectiveType(){return l.Types.Hyperlink}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:l.Types.Formula,f:class{constructor(u,d){this.cell=u,this.model={address:u.address,type:l.Types.Formula,shareType:d?d.shareType:void 0,ref:d?d.ref:void 0,formula:d?d.formula:void 0,sharedFormula:d?d.sharedFormula:void 0,result:d?d.result:void 0}}_copyModel(u){let d={},f=h=>{let m=u[h];m&&(d[h]=m)};return f("formula"),f("result"),f("ref"),f("shareType"),f("sharedFormula"),d}get value(){return this._copyModel(this.model)}set value(u){this.model=this._copyModel(u)}validate(u){switch(c.getType(u)){case l.Types.Null:case l.Types.String:case l.Types.Number:case l.Types.Date:break;case l.Types.Hyperlink:case l.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(u){this.model.formula=u}get formulaType(){return this.model.formula?o.FormulaType.Master:this.model.sharedFormula?o.FormulaType.Shared:o.FormulaType.None}get result(){return this.model.result}set result(u){this.model.result=u}get type(){return l.Types.Formula}get effectiveType(){let u=this.model.result;return u==null?o.ValueType.Null:u instanceof String||typeof u=="string"?o.ValueType.String:typeof u=="number"?o.ValueType.Number:u instanceof Date?o.ValueType.Date:u.text&&u.hyperlink?o.ValueType.Hyperlink:u.formula?o.ValueType.Formula:o.ValueType.Null}get address(){return this.model.address}set address(u){this.model.address=u}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){let{worksheet:u}=this.cell,d=u.findCell(this.model.sharedFormula);this._translatedFormula=d&&s(d.formula,d.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:l.Types.Merge,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.Merge,master:d?d.address:void 0},this._master=d,d&&d.addMergeRef()}get value(){return this._master.value}set value(u){u instanceof l?(this._master&&this._master.releaseMergeRef(),u.addMergeRef(),this._master=u):this._master.value=u}isMergedTo(u){return u===this._master}get master(){return this._master}get type(){return l.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:l.Types.JSON,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.String,value:JSON.stringify(d),rawValue:d}}get value(){return this.model.rawValue}set value(u){this.model.rawValue=u,this.model.value=JSON.stringify(u)}get type(){return l.Types.String}get effectiveType(){return l.Types.String}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:l.Types.SharedString,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.SharedString,value:d}}get value(){return this.model.value}set value(u){this.model.value=u}get type(){return l.Types.SharedString}get effectiveType(){return l.Types.SharedString}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.RichText,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.String,value:d}}get value(){return this.model.value}set value(u){this.model.value=u}toString(){return this.model.value.richText.map(u=>u.text).join("")}get type(){return l.Types.RichText}get effectiveType(){return l.Types.RichText}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:l.Types.Boolean,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.Boolean,value:d}}get value(){return this.model.value}set value(u){this.model.value=u}get type(){return l.Types.Boolean}get effectiveType(){return l.Types.Boolean}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.Error,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.Error,value:d}}get value(){return this.model.value}set value(u){this.model.value=u}get type(){return l.Types.Error}get effectiveType(){return l.Types.Error}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((u,d)=>(u[d.t]=d.f,u),[]),create(u,d,f){let h=this.types[u];if(!h)throw new Error("Could not create Value of type "+u);return new h(d,f)}};e.exports=l},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(n,e,t){"use strict";let i=n("../utils/under-dash"),r=n("./enums"),o=n("../utils/col-cache");class s{constructor(l,c,u){this._worksheet=l,this._number=c,u!==!1&&(this.defn=u)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return o.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(l){l?(this.key=l.key,this.width=l.width!==void 0?l.width:9,this.outlineLevel=l.outlineLevel,l.style?this.style=l.style:this.style={},this.header=l.header,this._hidden=!!l.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(l){l!==void 0?(this._header=l,this.headers.forEach((c,u)=>{this._worksheet.getCell(u+1,this.number).value=c})):this._header=void 0}get key(){return this._key}set key(l){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=l,l&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(l){this._hidden=l}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(l){this._outlineLevel=l}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(l){return this.width===l.width&&this.hidden===l.hidden&&this.outlineLevel===l.outlineLevel&&i.isEqual(this.style,l.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;let l=this.style;return!l||!(l.font||l.numFmt||l.alignment||l.border||l.fill||l.protection)}get headerCount(){return this.headers.length}eachCell(l,c){let u=this.number;c||(c=l,l=null),this._worksheet.eachRow(l,(d,f)=>{c(d.getCell(u),f)})}get values(){let l=[];return this.eachCell((c,u)=>{c&&c.type!==r.ValueType.Null&&(l[u]=c.value)}),l}set values(l){if(!l)return;let c=this.number,u=0;l.hasOwnProperty("0")&&(u=1),l.forEach((d,f)=>{this._worksheet.getCell(f+u,c).value=d})}_applyStyle(l,c){return this.style[l]=c,this.eachCell(u=>{u[l]=c}),c}get numFmt(){return this.style.numFmt}set numFmt(l){this._applyStyle("numFmt",l)}get font(){return this.style.font}set font(l){this._applyStyle("font",l)}get alignment(){return this.style.alignment}set alignment(l){this._applyStyle("alignment",l)}get protection(){return this.style.protection}set protection(l){this._applyStyle("protection",l)}get border(){return this.style.border}set border(l){this._applyStyle("border",l)}get fill(){return this.style.fill}set fill(l){this._applyStyle("fill",l)}static toModel(l){let c=[],u=null;return l&&l.forEach((d,f)=>{d.isDefault?u&&(u=null):u&&d.equivalentTo(u)?u.max=f+1:(u={min:f+1,max:f+1,width:d.width!==void 0?d.width:9,style:d.style,isCustomWidth:d.isCustomWidth,hidden:d.hidden,outlineLevel:d.outlineLevel,collapsed:d.collapsed},c.push(u))}),c.length?c:void 0}static fromModel(l,c){let u=[],d=1,f=0;for(c=(c=c||[]).sort(function(h,m){return h.min-m.min});f<c.length;){let h=c[f++];for(;d<h.min;)u.push(new s(l,d++));for(;d<=h.max;)u.push(new s(l,d++,h))}return u.length?u:null}}e.exports=s},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(n,e,t){"use strict";e.exports=class{constructor(i){this.model=i||{}}add(i,r){return this.model[i]=r}find(i){return this.model[i]}remove(i){this.model[i]=void 0}}},{}],6:[function(n,e,t){"use strict";let i=n("../utils/under-dash"),r=n("../utils/col-cache"),o=n("../utils/cell-matrix"),s=n("./range"),a=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;e.exports=class{constructor(){this.matrixMap={}}getMatrix(l){return this.matrixMap[l]||(this.matrixMap[l]=new o)}add(l,c){let u=r.decodeEx(l);this.addEx(u,c)}addEx(l,c){let u=this.getMatrix(c);if(l.top)for(let d=l.left;d<=l.right;d++)for(let f=l.top;f<=l.bottom;f++){let h={sheetName:l.sheetName,address:r.n2l(d)+f,row:f,col:d};u.addCellEx(h)}else u.addCellEx(l)}remove(l,c){let u=r.decodeEx(l);this.removeEx(u,c)}removeEx(l,c){this.getMatrix(c).removeCellEx(l)}removeAllNames(l){i.each(this.matrixMap,c=>{c.removeCellEx(l)})}forEach(l){i.each(this.matrixMap,(c,u)=>{c.forEach(d=>{l(u,d)})})}getNames(l){return this.getNamesEx(r.decodeEx(l))}getNamesEx(l){return i.map(this.matrixMap,(c,u)=>c.findCellEx(l)&&u).filter(Boolean)}_explore(l,c){c.mark=!1;let{sheetName:u}=c,d=new s(c.row,c.col,c.row,c.col,u),f,h;function m(g,v){let x=l.findCellAt(u,g,c.col);return!(!x||!x.mark)&&(d[v]=g,x.mark=!1,!0)}for(h=c.row-1;m(h,"top");h--);for(h=c.row+1;m(h,"bottom");h++);function p(g,v){let x=[];for(h=d.top;h<=d.bottom;h++){let I=l.findCellAt(u,h,g);if(!I||!I.mark)return!1;x.push(I)}d[v]=g;for(let I=0;I<x.length;I++)x[I].mark=!1;return!0}for(f=c.col-1;p(f,"left");f--);for(f=c.col+1;p(f,"right");f++);return d}getRanges(l,c){return(c=c||this.matrixMap[l])?(c.forEach(u=>{u.mark=!0}),{name:l,ranges:c.map(u=>u.mark&&this._explore(c,u)).filter(Boolean).map(u=>u.$shortRange)}):{name:l,ranges:[]}}normaliseMatrix(l,c){l.forEachInSheet(c,(u,d,f)=>{u&&(u.row===d&&u.col===f||(u.row=d,u.col=f,u.address=r.n2l(f)+d))})}spliceRows(l,c,u,d){i.each(this.matrixMap,f=>{f.spliceRows(l,c,u,d),this.normaliseMatrix(f,l)})}spliceColumns(l,c,u,d){i.each(this.matrixMap,f=>{f.spliceColumns(l,c,u,d),this.normaliseMatrix(f,l)})}get model(){return i.map(this.matrixMap,(l,c)=>this.getRanges(c,l)).filter(l=>l.ranges.length)}set model(l){let c=this.matrixMap={};l.forEach(u=>{let d=c[u.name]=new o;u.ranges.forEach(f=>{a.test(f.split("!").pop()||"")&&d.addCell(f)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(n,e,t){"use strict";e.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(n,e,t){"use strict";let i=n("../utils/col-cache"),r=n("./anchor");e.exports=class{constructor(o,s){this.worksheet=o,this.model=s}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(o){let{type:s,imageId:a,range:l,hyperlinks:c}=o;if(this.type=s,this.imageId=a,s==="image")if(typeof l=="string"){let u=i.decode(l);this.range={tl:new r(this.worksheet,{col:u.left,row:u.top},-1),br:new r(this.worksheet,{col:u.right,row:u.bottom},0),editAs:"oneCell"}}else this.range={tl:new r(this.worksheet,l.tl,0),br:l.br&&new r(this.worksheet,l.br,0),ext:l.ext,editAs:l.editAs,hyperlinks:c||l.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(n,e,t){"use strict";let i=n("../utils/under-dash");class r{constructor(s){this.note=s}get model(){let s=null;switch(typeof this.note){case"string":s={type:"note",note:{texts:[{text:this.note}]}};break;default:s={type:"note",note:this.note}}return i.deepMerge({},r.DEFAULT_CONFIGS,s)}set model(s){let{note:a}=s,{texts:l}=a;l.length===1&&Object.keys(l[0]).length===1?this.note=l[0].text:this.note=a}static fromModel(s){let a=new r;return a.model=s,a}}r.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},e.exports=r},{"../utils/under-dash":26}],10:[function(n,e,t){"use strict";let i=n("../utils/col-cache");class r{constructor(){this.decode(arguments)}setTLBR(s,a,l,c,u){if(arguments.length<4){let d=i.decodeAddress(s),f=i.decodeAddress(a);this.model={top:Math.min(d.row,f.row),left:Math.min(d.col,f.col),bottom:Math.max(d.row,f.row),right:Math.max(d.col,f.col),sheetName:l},this.setTLBR(d.row,d.col,f.row,f.col,u)}else this.model={top:Math.min(s,l),left:Math.min(a,c),bottom:Math.max(s,l),right:Math.max(a,c),sheetName:u}}decode(s){switch(s.length){case 5:this.setTLBR(s[0],s[1],s[2],s[3],s[4]);break;case 4:this.setTLBR(s[0],s[1],s[2],s[3]);break;case 3:this.setTLBR(s[0],s[1],s[2]);break;case 2:this.setTLBR(s[0],s[1]);break;case 1:{let a=s[0];if(a instanceof r)this.model={top:a.model.top,left:a.model.left,bottom:a.model.bottom,right:a.model.right,sheetName:a.sheetName};else if(a instanceof Array)this.decode(a);else if(a.top&&a.left&&a.bottom&&a.right)this.model={top:a.top,left:a.left,bottom:a.bottom,right:a.right,sheetName:a.sheetName};else{let l=i.decodeEx(a);l.top?this.model={top:l.top,left:l.left,bottom:l.bottom,right:l.right,sheetName:l.sheetName}:this.model={top:l.row,left:l.col,bottom:l.row,right:l.col,sheetName:l.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+s.length)}}get top(){return this.model.top||1}set top(s){this.model.top=s}get left(){return this.model.left||1}set left(s){this.model.left=s}get bottom(){return this.model.bottom||1}set bottom(s){this.model.bottom=s}get right(){return this.model.right||1}set right(s){this.model.right=s}get sheetName(){return this.model.sheetName}set sheetName(s){this.model.sheetName=s}get _serialisedSheetName(){let{sheetName:s}=this.model;return s?/^[a-zA-Z0-9]*$/.test(s)?s+"!":`'${s}'!`:""}expand(s,a,l,c){(!this.model.top||s<this.top)&&(this.top=s),(!this.model.left||a<this.left)&&(this.left=a),(!this.model.bottom||l>this.bottom)&&(this.bottom=l),(!this.model.right||c>this.right)&&(this.right=c)}expandRow(s){if(s){let{dimensions:a,number:l}=s;a&&this.expand(l,a.min,l,a.max)}}expandToAddress(s){let a=i.decodeEx(s);this.expand(a.row,a.col,a.row,a.col)}get tl(){return i.n2l(this.left)+this.top}get $t$l(){return`$${i.n2l(this.left)}$${this.top}`}get br(){return i.n2l(this.right)+this.bottom}get $b$r(){return`$${i.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(s){return(!s.sheetName||!this.sheetName||s.sheetName===this.sheetName)&&!(s.bottom<this.top)&&!(s.top>this.bottom)&&!(s.right<this.left)&&!(s.left>this.right)}contains(s){let a=i.decodeEx(s);return this.containsEx(a)}containsEx(s){return(!s.sheetName||!this.sheetName||s.sheetName===this.sheetName)&&s.row>=this.top&&s.row<=this.bottom&&s.col>=this.left&&s.col<=this.right}forEachAddress(s){for(let a=this.left;a<=this.right;a++)for(let l=this.top;l<=this.bottom;l++)s(i.encodeAddress(l,a),l,a)}}e.exports=r},{"../utils/col-cache":19}],11:[function(n,e,t){"use strict";let i=n("../utils/under-dash"),r=n("./enums"),o=n("../utils/col-cache"),s=n("./cell");e.exports=class{constructor(a,l){this._worksheet=a,this._number=l,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(a){return this._cells[a-1]}getCellEx(a){let l=this._cells[a.col-1];if(!l){let c=this._worksheet.getColumn(a.col);l=new s(this,c,a.address),this._cells[a.col-1]=l}return l}getCell(a){if(typeof a=="string"){let l=this._worksheet.getColumnKey(a);a=l?l.number:o.l2n(a)}return this._cells[a-1]||this.getCellEx({address:o.encodeAddress(this._number,a),row:this._number,col:a})}splice(a,l){let c=a+l;for(var u=arguments.length,d=new Array(u>2?u-2:0),f=2;f<u;f++)d[f-2]=arguments[f];let h=d.length-l,m=this._cells.length,p,g,v;if(h<0)for(p=a+d.length;p<=m;p++)v=this._cells[p-1],g=this._cells[p-h-1],g?(v=this.getCell(p),v.value=g.value,v.style=g.style,v._comment=g._comment):v&&(v.value=null,v.style={},v._comment=void 0);else if(h>0)for(p=m;p>=c;p--)g=this._cells[p-1],g?(v=this.getCell(p+h),v.value=g.value,v.style=g.style,v._comment=g._comment):this._cells[p+h-1]=void 0;for(p=0;p<d.length;p++)v=this.getCell(a+p),v.value=d[p],v.style={},v._comment=void 0}eachCell(a,l){if(l||(l=a,a=null),a&&a.includeEmpty){let c=this._cells.length;for(let u=1;u<=c;u++)l(this.getCell(u),u)}else this._cells.forEach((c,u)=>{c&&c.type!==r.ValueType.Null&&l(c,u+1)})}addPageBreak(a,l){let c=this._worksheet,u=Math.max(0,a-1)||0,d=Math.max(0,l-1)||16838,f={id:this._number,max:d,man:1};u&&(f.min=u),c.rowBreaks.push(f)}get values(){let a=[];return this._cells.forEach(l=>{l&&l.type!==r.ValueType.Null&&(a[l.col]=l.value)}),a}set values(a){if(this._cells=[],a)if(a instanceof Array){let l=0;a.hasOwnProperty("0")&&(l=1),a.forEach((c,u)=>{c!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,u+l),row:this._number,col:u+l}).value=c)})}else this._worksheet.eachColumnKey((l,c)=>{a[c]!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,l.number),row:this._number,col:l.number}).value=a[c])})}get hasValues(){return i.some(this._cells,a=>a&&a.type!==r.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let a=0;return this.eachCell(()=>{a++}),a}get dimensions(){let a=0,l=0;return this._cells.forEach(c=>{c&&c.type!==r.ValueType.Null&&((!a||a>c.col)&&(a=c.col),l<c.col&&(l=c.col))}),a>0?{min:a,max:l}:null}_applyStyle(a,l){return this.style[a]=l,this._cells.forEach(c=>{c&&(c[a]=l)}),l}get numFmt(){return this.style.numFmt}set numFmt(a){this._applyStyle("numFmt",a)}get font(){return this.style.font}set font(a){this._applyStyle("font",a)}get alignment(){return this.style.alignment}set alignment(a){this._applyStyle("alignment",a)}get protection(){return this.style.protection}set protection(a){this._applyStyle("protection",a)}get border(){return this.style.border}set border(a){this._applyStyle("border",a)}get fill(){return this.style.fill}set fill(a){this._applyStyle("fill",a)}get hidden(){return!!this._hidden}set hidden(a){this._hidden=a}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(a){this._outlineLevel=a}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){let a=[],l=0,c=0;return this._cells.forEach(u=>{if(u){let d=u.model;d&&((!l||l>u.col)&&(l=u.col),c<u.col&&(c=u.col),a.push(d))}}),this.height||a.length?{cells:a,number:this.number,min:l,max:c,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(a){if(a.number!==this._number)throw new Error("Invalid row number in model");let l;this._cells=[],a.cells.forEach(c=>{switch(c.type){case s.Types.Merge:break;default:{let u;if(c.address)u=o.decodeAddress(c.address);else if(l){let{row:d}=l,f=l.col+1;u={row:d,col:f,address:o.encodeAddress(d,f),$col$row:`$${o.n2l(f)}$${d}`}}l=u,this.getCellEx(u).model=c;break}}}),a.height?this.height=a.height:delete this.height,this.hidden=a.hidden,this.outlineLevel=a.outlineLevel||0,this.style=a.style&&JSON.parse(JSON.stringify(a.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(n,e,t){"use strict";let i=n("../utils/col-cache");class r{constructor(s,a,l){this.table=s,this.column=a,this.index=l}_set(s,a){this.table.cacheState(),this.column[s]=a}get name(){return this.column.name}set name(s){this._set("name",s)}get filterButton(){return this.column.filterButton}set filterButton(s){this.column.filterButton=s}get style(){return this.column.style}set style(s){this.column.style=s}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(s){this._set("totalsRowLabel",s)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(s){this._set("totalsRowFunction",s)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(s){this._set("totalsRowResult",s)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(s){this._set("totalsRowFormula",s)}}e.exports=class{constructor(o,s){this.worksheet=o,s&&(this.table=s,this.validate(),this.store())}getFormula(o){switch(o.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${o.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${o.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${o.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${o.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${o.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${o.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${o.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${o.name}])`;case"custom":return o.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+o.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){let{table:o}=this,s=(h,m,p)=>{h[m]===void 0&&(h[m]=p)};s(o,"headerRow",!0),s(o,"totalsRow",!1),s(o,"style",{}),s(o.style,"theme","TableStyleMedium2"),s(o.style,"showFirstColumn",!1),s(o.style,"showLastColumn",!1),s(o.style,"showRowStripes",!1),s(o.style,"showColumnStripes",!1);let a=(h,m)=>{if(!h)throw new Error(m)};a(o.ref,"Table must have ref"),a(o.columns,"Table must have column definitions"),a(o.rows,"Table must have row definitions"),o.tl=i.decodeAddress(o.ref);let{row:l,col:c}=o.tl;a(l>0,"Table must be on valid row"),a(c>0,"Table must be on valid col");let{width:u,filterHeight:d,tableHeight:f}=this;o.autoFilterRef=i.encode(l,c,l+d-1,c+u-1),o.tableRef=i.encode(l,c,l+f-1,c+u-1),o.columns.forEach((h,m)=>{a(h.name,`Column ${m} must have a name`),m===0?s(h,"totalsRowLabel","Total"):(s(h,"totalsRowFunction","none"),h.totalsRowFormula=this.getFormula(h))})}store(){let o=(d,f)=>{f&&Object.keys(f).forEach(h=>{d[h]=f[h]})},{worksheet:s,table:a}=this,{row:l,col:c}=a.tl,u=0;if(a.headerRow){let d=s.getRow(l+u++);a.columns.forEach((f,h)=>{let{style:m,name:p}=f,g=d.getCell(c+h);g.value=p,o(g,m)})}if(a.rows.forEach(d=>{let f=s.getRow(l+u++);d.forEach((h,m)=>{let p=f.getCell(c+m);p.value=h,o(p,a.columns[m].style)})}),a.totalsRow){let d=s.getRow(l+u++);a.columns.forEach((f,h)=>{let m=d.getCell(c+h);if(h===0)m.value=f.totalsRowLabel;else{let p=this.getFormula(f);m.value=p?{formula:f.totalsRowFormula,result:f.totalsRowResult}:null}o(m,f.style)})}}load(o){let{table:s}=this,{row:a,col:l}=s.tl,c=0;if(s.headerRow){let u=o.getRow(a+c++);s.columns.forEach((d,f)=>{u.getCell(l+f).value=d.name})}if(s.rows.forEach(u=>{let d=o.getRow(a+c++);u.forEach((f,h)=>{d.getCell(l+h).value=f})}),s.totalsRow){let u=o.getRow(a+c++);s.columns.forEach((d,f)=>{let h=u.getCell(l+f);f===0?h.value=d.totalsRowLabel:this.getFormula(d)&&(h.value={formula:d.totalsRowFormula,result:d.totalsRowResult})})}}get model(){return this.table}set model(o){this.table=o}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();let o=i.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let s=0;s<this._cache.tableHeight;s++){let a=this.worksheet.getRow(o.row+s);for(let l=0;l<this._cache.width;l++)a.getCell(o.col+l).value=null}else{for(let s=this.tableHeight;s<this._cache.tableHeight;s++){let a=this.worksheet.getRow(o.row+s);for(let l=0;l<this._cache.width;l++)a.getCell(o.col+l).value=null}for(let s=0;s<this.tableHeight;s++){let a=this.worksheet.getRow(o.row+s);for(let l=this.width;l<this._cache.width;l++)a.getCell(o.col+l).value=null}}this.store()}addRow(o,s){this.cacheState(),s===void 0?this.table.rows.push(o):this.table.rows.splice(s,0,o)}removeRows(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(o,s)}getColumn(o){let s=this.table.columns[o];return new r(this,s,o)}addColumn(o,s,a){this.cacheState(),a===void 0?(this.table.columns.push(o),this.table.rows.forEach((l,c)=>{l.push(s[c])})):(this.table.columns.splice(a,0,o),this.table.rows.forEach((l,c)=>{l.splice(a,0,s[c])}))}removeColumns(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(o,s),this.table.rows.forEach(a=>{a.splice(o,s)})}_assign(o,s,a){this.cacheState(),o[s]=a}get ref(){return this.table.ref}set ref(o){this._assign(this.table,"ref",o)}get name(){return this.table.name}set name(o){this.table.name=o}get displayName(){return this.table.displyName||this.table.name}set displayNamename(o){this.table.displayName=o}get headerRow(){return this.table.headerRow}set headerRow(o){this._assign(this.table,"headerRow",o)}get totalsRow(){return this.table.totalsRow}set totalsRow(o){this._assign(this.table,"totalsRow",o)}get theme(){return this.table.style.name}set theme(o){this.table.style.name=o}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(o){this.table.style.showFirstColumn=o}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(o){this.table.style.showLastColumn=o}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(o){this.table.style.showRowStripes=o}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(o){this.table.style.showColumnStripes=o}}},{"../utils/col-cache":19}],13:[function(n,e,t){"use strict";let i=n("./worksheet"),r=n("./defined-names"),o=n("../xlsx/xlsx"),s=n("../csv/csv");e.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new r}get xlsx(){return this._xlsx||(this._xlsx=new o(this)),this._xlsx}get csv(){return this._csv||(this._csv=new s(this)),this._csv}get nextId(){for(let a=1;a<this._worksheets.length;a++)if(!this._worksheets[a])return a;return this._worksheets.length||1}addWorksheet(a,l){let c=this.nextId;l&&(typeof l=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),l={properties:{tabColor:{argb:l}}}):(l.argb||l.theme||l.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),l={properties:{tabColor:l}}));let u=this._worksheets.reduce((h,m)=>(m&&m.orderNo)>h?m.orderNo:h,0),d=Object.assign({},l,{id:c,name:a,orderNo:u+1,workbook:this}),f=new i(d);return this._worksheets[c]=f,f}removeWorksheetEx(a){delete this._worksheets[a.id]}removeWorksheet(a){let l=this.getWorksheet(a);l&&l.destroy()}getWorksheet(a){return a===void 0?this._worksheets.find(Boolean):typeof a=="number"?this._worksheets[a]:typeof a=="string"?this._worksheets.find(l=>l&&l.name===a):void 0}get worksheets(){return this._worksheets.slice(1).sort((a,l)=>a.orderNo-l.orderNo).filter(Boolean)}eachSheet(a){this.worksheets.forEach(l=>{a(l,l.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(a){let l=this.media.length;return this.media.push(Object.assign({},a,{type:"image"})),l}getImage(a){return this.media[a]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(a=>a.model),sheets:this.worksheets.map(a=>a.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(a){this.creator=a.creator,this.lastModifiedBy=a.lastModifiedBy,this.lastPrinted=a.lastPrinted,this.created=a.created,this.modified=a.modified,this.company=a.company,this.manager=a.manager,this.title=a.title,this.subject=a.subject,this.keywords=a.keywords,this.category=a.category,this.description=a.description,this.language=a.language,this.revision=a.revision,this.contentStatus=a.contentStatus,this.properties=a.properties,this.calcProperties=a.calcProperties,this._worksheets=[],a.worksheets.forEach(l=>{let{id:c,name:u,state:d}=l,f=a.sheets&&a.sheets.findIndex(h=>h.id===c);(this._worksheets[c]=new i({id:c,name:u,orderNo:f,state:d,workbook:this})).model=l}),this._definedNames.model=a.definedNames,this.views=a.views,this._themes=a.themes,this.media=a.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(n,e,t){"use strict";let i=n("../utils/under-dash"),r=n("../utils/col-cache"),o=n("./range"),s=n("./row"),a=n("./column"),l=n("./enums"),c=n("./image"),u=n("./table"),d=n("./data-validations"),f=n("../utils/encryptor"),{copyStyle:h}=n("../utils/copy-style");e.exports=class{constructor(m){m=m||{},this._workbook=m.workbook,this.id=m.id,this.orderNo=m.orderNo,this.name=m.name,this.state=m.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},m.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!m.pageSetup||!m.pageSetup.fitToWidth&&!m.pageSetup.fitToHeight||m.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},m.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},m.headerFooter),this.dataValidations=new d,this.views=m.views||[],this.autoFilter=m.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(m){if(m===void 0&&(m="sheet"+this.id),this._name!==m){if(typeof m!="string")throw new Error("The name has to be a string.");if(m==="")throw new Error("The name can't be empty.");if(m==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(m))throw new Error(`Worksheet name ${m} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(m))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+m);if(m&&m.length>31&&(console.warn(`Worksheet name ${m} exceeds 31 chars. This will be truncated`),m=m.substring(0,31)),this._workbook._worksheets.find(p=>p&&p.name.toLowerCase()===m.toLowerCase()))throw new Error("Worksheet name already exists: "+m);this._name=m}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){let m=new o;return this._rows.forEach(p=>{if(p){let g=p.dimensions;g&&m.expand(p.number,g.min,p.number,g.max)}}),m}get columns(){return this._columns}set columns(m){this._headerRowCount=m.reduce((v,x)=>{let I=(x.header?1:x.headers&&x.headers.length)||0;return Math.max(v,I)},0);let p=1,g=this._columns=[];m.forEach(v=>{let x=new a(this,p++,!1);g.push(x),x.defn=v})}getColumnKey(m){return this._keys[m]}setColumnKey(m,p){this._keys[m]=p}deleteColumnKey(m){delete this._keys[m]}eachColumnKey(m){i.each(this._keys,m)}getColumn(m){if(typeof m=="string"){let p=this._keys[m];if(p)return p;m=r.l2n(m)}if(this._columns||(this._columns=[]),m>this._columns.length){let p=this._columns.length+1;for(;p<=m;)this._columns.push(new a(this,p++))}return this._columns[m-1]}spliceColumns(m,p){let g=this._rows.length;for(var v=arguments.length,x=new Array(v>2?v-2:0),I=2;I<v;I++)x[I-2]=arguments[I];if(x.length>0)for(let B=0;B<g;B++){let V=[m,p];x.forEach(W=>{V.push(W[B]||null)});let G=this.getRow(B+1);G.splice.apply(G,V)}else this._rows.forEach(B=>{B&&B.splice(m,p)});let N=x.length-p,H=m+p,F=this._columns.length;if(N<0)for(let B=m+x.length;B<=F;B++)this.getColumn(B).defn=this.getColumn(B-N).defn;else if(N>0)for(let B=F;B>=H;B--)this.getColumn(B+N).defn=this.getColumn(B).defn;for(let B=m;B<m+x.length;B++)this.getColumn(B).defn=null;this.workbook.definedNames.spliceColumns(this.name,m,p,x.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let m=0;return this.eachRow(p=>{m=Math.max(m,p.cellCount)}),m}get actualColumnCount(){let m=[],p=0;return this.eachRow(g=>{g.eachCell(v=>{let{col:x}=v;m[x]||(m[x]=!0,p++)})}),p}_commitRow(){}get _lastRowNumber(){let m=this._rows,p=m.length;for(;p>0&&m[p-1]===void 0;)p--;return p}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(m){return this._rows[m-1]}findRows(m,p){return this._rows.slice(m-1,m-1+p)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let m=0;return this.eachRow(()=>{m++}),m}getRow(m){let p=this._rows[m-1];return p||(p=this._rows[m-1]=new s(this,m)),p}getRows(m,p){if(p<1)return;let g=[];for(let v=m;v<m+p;v++)g.push(this.getRow(v));return g}addRow(m){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n",g=this._nextRow,v=this.getRow(g);return v.values=m,this._setStyleOption(g,p[0]==="i"?p:"n"),v}addRows(m){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n",g=[];return m.forEach(v=>{g.push(this.addRow(v,p))}),g}insertRow(m,p){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(m,0,p),this._setStyleOption(m,g),this.getRow(m)}insertRows(m,p){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(m,0,...p),g!=="n")for(let v=0;v<p.length;v++)g[0]==="o"&&this.findRow(p.length+m+v)!==void 0?this._copyStyle(p.length+m+v,m+v,g[1]==="+"):g[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m+v,g[1]==="+");return this.getRows(m,p.length)}_setStyleOption(m){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";p[0]==="o"&&this.findRow(m+1)!==void 0?this._copyStyle(m+1,m,p[1]==="+"):p[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m,p[1]==="+")}_copyStyle(m,p){let g=arguments.length>2&&arguments[2]!==void 0&&arguments[2],v=this.getRow(m),x=this.getRow(p);x.style=h(v.style),v.eachCell({includeEmpty:g},(I,N)=>{x.getCell(N).style=h(I.style)}),x.height=v.height}duplicateRow(m,p){let g=arguments.length>2&&arguments[2]!==void 0&&arguments[2],v=this._rows[m-1],x=new Array(p).fill(v.values);this.spliceRows(m+1,g?0:p,...x);for(let I=0;I<p;I++){let N=this._rows[m+I];N.style=v.style,N.height=v.height,v.eachCell({includeEmpty:!0},(H,F)=>{N.getCell(F).style=H.style})}}spliceRows(m,p){let g=m+p;for(var v=arguments.length,x=new Array(v>2?v-2:0),I=2;I<v;I++)x[I-2]=arguments[I];let N=x.length,H=N-p,F=this._rows.length,B,V;if(H<0)for(m===F&&(this._rows[F-1]=void 0),B=g;B<=F;B++)if(V=this._rows[B-1],V){let G=this.getRow(B+H);G.values=V.values,G.style=V.style,G.height=V.height,V.eachCell({includeEmpty:!0},(W,k)=>{G.getCell(k).style=W.style}),this._rows[B-1]=void 0}else this._rows[B+H-1]=void 0;else if(H>0)for(B=F;B>=g;B--)if(V=this._rows[B-1],V){let G=this.getRow(B+H);G.values=V.values,G.style=V.style,G.height=V.height,V.eachCell({includeEmpty:!0},(W,k)=>{if(G.getCell(k).style=W.style,W._value.constructor.name==="MergeValue"){let E=this.getRow(W._row._number+N).getCell(k),L=W._value._master,b=this.getRow(L._row._number+N).getCell(L._column._number);E.merge(b)}})}else this._rows[B+H-1]=void 0;for(B=0;B<N;B++){let G=this.getRow(m+B);G.style={},G.values=x[B]}this.workbook.definedNames.spliceRows(this.name,m,p,N)}eachRow(m,p){if(p||(p=m,m=void 0),m&&m.includeEmpty){let g=this._rows.length;for(let v=1;v<=g;v++)p(this.getRow(v),v)}else this._rows.forEach(g=>{g&&g.hasValues&&p(g,g.number)})}getSheetValues(){let m=[];return this._rows.forEach(p=>{p&&(m[p.number]=p.values)}),m}findCell(m,p){let g=r.getAddress(m,p),v=this._rows[g.row-1];return v?v.findCell(g.col):void 0}getCell(m,p){let g=r.getAddress(m,p);return this.getRow(g.row).getCellEx(g)}mergeCells(){for(var m=arguments.length,p=new Array(m),g=0;g<m;g++)p[g]=arguments[g];let v=new o(p);this._mergeCellsInternal(v)}mergeCellsWithoutStyle(){for(var m=arguments.length,p=new Array(m),g=0;g<m;g++)p[g]=arguments[g];let v=new o(p);this._mergeCellsInternal(v,!0)}_mergeCellsInternal(m,p){i.each(this._merges,v=>{if(v.intersects(m))throw new Error("Cannot merge already merged cells")});let g=this.getCell(m.top,m.left);for(let v=m.top;v<=m.bottom;v++)for(let x=m.left;x<=m.right;x++)(v>m.top||x>m.left)&&this.getCell(v,x).merge(g,p);this._merges[g.address]=m}_unMergeMaster(m){let p=this._merges[m.address];if(p){for(let g=p.top;g<=p.bottom;g++)for(let v=p.left;v<=p.right;v++)this.getCell(g,v).unmerge();delete this._merges[m.address]}}get hasMerges(){return i.some(this._merges,Boolean)}unMergeCells(){for(var m=arguments.length,p=new Array(m),g=0;g<m;g++)p[g]=arguments[g];let v=new o(p);for(let x=v.top;x<=v.bottom;x++)for(let I=v.left;I<=v.right;I++){let N=this.findCell(x,I);N&&(N.type===l.ValueType.Merge?this._unMergeMaster(N.master):this._merges[N.address]&&this._unMergeMaster(N))}}fillFormula(m,p,g){let v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared",x=r.decode(m),{top:I,left:N,bottom:H,right:F}=x,B=F-N+1,V=r.encodeAddress(I,N),G=v==="shared",W;W=typeof g=="function"?g:Array.isArray(g)?Array.isArray(g[0])?(E,L)=>g[E-I][L-N]:(E,L)=>g[(E-I)*B+(L-N)]:()=>{};let k=!0;for(let E=I;E<=H;E++)for(let L=N;L<=F;L++)k?(this.getCell(E,L).value={shareType:v,formula:p,ref:m,result:W(E,L)},k=!1):this.getCell(E,L).value=G?{sharedFormula:V,result:W(E,L)}:W(E,L)}addImage(m,p){let g={type:"image",imageId:m,range:p};this._media.push(new c(this,g))}getImages(){return this._media.filter(m=>m.type==="image")}addBackgroundImage(m){let p={type:"background",imageId:m};this._media.push(new c(this,p))}getBackgroundImageId(){let m=this._media.find(p=>p.type==="background");return m&&m.imageId}protect(m,p){return new Promise(g=>{this.sheetProtection={sheet:!0},p&&"spinCount"in p&&(p.spinCount=Number.isFinite(p.spinCount)?Math.round(Math.max(0,p.spinCount)):1e5),m&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=f.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=p&&"spinCount"in p?p.spinCount:1e5,this.sheetProtection.hashValue=f.convertPasswordToHash(m,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),p&&(this.sheetProtection=Object.assign(this.sheetProtection,p),!m&&"spinCount"in p&&delete this.sheetProtection.spinCount),g()})}unprotect(){this.sheetProtection=null}addTable(m){let p=new u(this,m);return this.tables[m.name]=p,p}getTable(m){return this.tables[m]}removeTable(m){delete this.tables[m]}getTables(){return Object.values(this.tables)}addConditionalFormatting(m){this.conditionalFormattings.push(m)}removeConditionalFormatting(m){typeof m=="number"?this.conditionalFormattings.splice(m,1):this.conditionalFormattings=m instanceof Function?this.conditionalFormattings.filter(m):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(m){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=m}get model(){let m={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(v=>v.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(v=>v.model),conditionalFormattings:this.conditionalFormattings};m.cols=a.toModel(this.columns);let p=m.rows=[],g=m.dimensions=new o;return this._rows.forEach(v=>{let x=v&&v.model;x&&(g.expand(x.number,x.min,x.number,x.max),p.push(x))}),m.merges=[],i.each(this._merges,v=>{m.merges.push(v.range)}),m}_parseRows(m){this._rows=[],m.rows.forEach(p=>{let g=new s(this,p.number);this._rows[g.number-1]=g,g.model=p})}_parseMergeCells(m){i.each(m.mergeCells,p=>{this.mergeCellsWithoutStyle(p)})}set model(m){this.name=m.name,this._columns=a.fromModel(this,m.cols),this._parseRows(m),this._parseMergeCells(m),this.dataValidations=new d(m.dataValidations),this.properties=m.properties,this.pageSetup=m.pageSetup,this.headerFooter=m.headerFooter,this.views=m.views,this.autoFilter=m.autoFilter,this._media=m.media.map(p=>new c(this,p)),this.sheetProtection=m.sheetProtection,this.tables=m.tables.reduce((p,g)=>{let v=new u;return v.model=g,p[g.name]=v,p},{}),this.conditionalFormattings=m.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(n,e,t){"use strict";n("core-js/modules/es.promise"),n("core-js/modules/es.promise.finally"),n("core-js/modules/es.object.assign"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.values"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.async-iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.find-index"),n("core-js/modules/es.array.find"),n("core-js/modules/es.string.from-code-point"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.number.is-nan"),n("regenerator-runtime/runtime");let i={Workbook:n("./doc/workbook")},r=n("./doc/enums");Object.keys(r).forEach(o=>{i[o]=r[o]}),e.exports=i},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(n,e,t){"use strict";let i=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");t.bufferToString=function(r){return typeof r=="string"?r:i?i.decode(r):r.toString()}},{}],17:[function(n,e,t){"use strict";let i=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:r}=n("buffer");t.stringToBuffer=function(o){return typeof o!="string"?o:i?r.from(i.encode(o).buffer):r.from(o)}},{buffer:220}],18:[function(n,e,t){"use strict";let i=n("./under-dash"),r=n("./col-cache");e.exports=class{constructor(o){this.template=o,this.sheets={}}addCell(o){this.addCellEx(r.decodeEx(o))}getCell(o){return this.findCellEx(r.decodeEx(o),!0)}findCell(o){return this.findCellEx(r.decodeEx(o),!1)}findCellAt(o,s,a){let l=this.sheets[o],c=l&&l[s];return c&&c[a]}addCellEx(o){if(o.top)for(let s=o.top;s<=o.bottom;s++)for(let a=o.left;a<=o.right;a++)this.getCellAt(o.sheetName,s,a);else this.findCellEx(o,!0)}getCellEx(o){return this.findCellEx(o,!0)}findCellEx(o,s){let a=this.findSheet(o,s),l=this.findSheetRow(a,o,s);return this.findRowCell(l,o,s)}getCellAt(o,s,a){let l=this.sheets[o]||(this.sheets[o]=[]),c=l[s]||(l[s]=[]);return c[a]||(c[a]={sheetName:o,address:r.n2l(a)+s,row:s,col:a})}removeCellEx(o){let s=this.findSheet(o);if(!s)return;let a=this.findSheetRow(s,o);a&&delete a[o.col]}forEachInSheet(o,s){let a=this.sheets[o];a&&a.forEach((l,c)=>{l&&l.forEach((u,d)=>{u&&s(u,c,d)})})}forEach(o){i.each(this.sheets,(s,a)=>{this.forEachInSheet(a,o)})}map(o){let s=[];return this.forEach(a=>{s.push(o(a))}),s}findSheet(o,s){let a=o.sheetName;return this.sheets[a]?this.sheets[a]:s?this.sheets[a]=[]:void 0}findSheetRow(o,s,a){let{row:l}=s;return o&&o[l]?o[l]:a?o[l]=[]:void 0}findRowCell(o,s,a){let{col:l}=s;return o&&o[l]?o[l]:a?o[l]=this.template?Object.assign(s,JSON.parse(JSON.stringify(this.template))):s:void 0}spliceRows(o,s,a,l){let c=this.sheets[o];if(c){let u=[];for(let d=0;d<l;d++)u.push([]);c.splice(s,a,...u)}}spliceColumns(o,s,a,l){let c=this.sheets[o];if(c){let u=[];for(let d=0;d<l;d++)u.push(null);i.each(c,d=>{d.splice(s,a,...u)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(n,e,t){"use strict";let i=/^[A-Z]+\d+$/,r={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:o=>o<=26?1:o<=676?2:3,_fill(o){let s,a,l,c,u,d=1;if(o>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&o>=1){for(;d<=26;)s=this._dictionary[d-1],this._n2l[d]=s,this._l2n[s]=d,d++;this._l2nFill=1}if(this._l2nFill<2&&o>=2){for(d=27;d<=702;)a=d-27,l=a%26,c=Math.floor(a/26),s=this._dictionary[c]+this._dictionary[l],this._n2l[d]=s,this._l2n[s]=d,d++;this._l2nFill=2}if(this._l2nFill<3&&o>=3){for(d=703;d<=16384;)a=d-703,l=a%26,c=Math.floor(a/26)%26,u=Math.floor(a/676),s=this._dictionary[u]+this._dictionary[c]+this._dictionary[l],this._n2l[d]=s,this._l2n[s]=d,d++;this._l2nFill=3}},l2n(o){if(this._l2n[o]||this._fill(o.length),!this._l2n[o])throw new Error("Out of bounds. Invalid column letter: "+o);return this._l2n[o]},n2l(o){if(o<1||o>16384)throw new Error(o+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[o]||this._fill(this._level(o)),this._n2l[o]},_hash:{},validateAddress(o){if(!i.test(o))throw new Error("Invalid Address: "+o);return!0},decodeAddress(o){let s=o.length<5&&this._hash[o];if(s)return s;let a=!1,l="",c=0,u=!1,d="",f=0;for(let m,p=0;p<o.length;p++)if(m=o.charCodeAt(p),!u&&m>=65&&m<=90)a=!0,l+=o[p],c=26*c+m-64;else if(m>=48&&m<=57)u=!0,d+=o[p],f=10*f+m-48;else if(u&&a&&m!==36)break;if(a){if(c>16384)throw new Error("Out of bounds. Invalid column letter: "+l)}else c=void 0;u||(f=void 0);let h={address:o=l+d,col:c,row:f,$col$row:`$${l}$${d}`};return c<=100&&f<=100&&(this._hash[o]=h,this._hash[h.$col$row]=h),h},getAddress(o,s){if(s){let a=this.n2l(s)+o;return this.decodeAddress(a)}return this.decodeAddress(o)},decode(o){let s=o.split(":");if(s.length===2){let a=this.decodeAddress(s[0]),l=this.decodeAddress(s[1]),c={top:Math.min(a.row,l.row),left:Math.min(a.col,l.col),bottom:Math.max(a.row,l.row),right:Math.max(a.col,l.col)};return c.tl=this.n2l(c.left)+c.top,c.br=this.n2l(c.right)+c.bottom,c.dimensions=`${c.tl}:${c.br}`,c}return this.decodeAddress(o)},decodeEx(o){let s=o.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),a=s[1]||s[2],l=s[3],c=l.split(":");if(c.length>1){let d=this.decodeAddress(c[0]),f=this.decodeAddress(c[1]),h=Math.min(d.row,f.row),m=Math.min(d.col,f.col),p=Math.max(d.row,f.row),g=Math.max(d.col,f.col);return d=this.n2l(m)+h,f=this.n2l(g)+p,{top:h,left:m,bottom:p,right:g,sheetName:a,tl:{address:d,col:m,row:h,$col$row:`$${this.n2l(m)}$${h}`,sheetName:a},br:{address:f,col:g,row:p,$col$row:`$${this.n2l(g)}$${p}`,sheetName:a},dimensions:`${d}:${f}`}}if(l.startsWith("#"))return a?{sheetName:a,error:l}:{error:l};let u=this.decodeAddress(l);return a?Be({sheetName:a},u):u},encodeAddress:(o,s)=>r.n2l(s)+o,encode(){switch(arguments.length){case 2:return r.encodeAddress(arguments[0],arguments[1]);case 4:return`${r.encodeAddress(arguments[0],arguments[1])}:${r.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(o,s){let[a,l,,c,u]=o,[d,f]=s;return d>=a&&d<=c&&f>=l&&f<=u}};e.exports=r},{}],20:[function(n,e,t){"use strict";let i=(o,s)=>Be(Be({},o),s.reduce((a,l)=>(o[l]&&(a[l]=Be({},o[l])),a),{})),r=function(o,s,a){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];o[a]&&(s[a]=i(o[a],l))};t.copyStyle=o=>{if(!o)return o;if(s=o,Object.keys(s).length===0)return{};var s;let a=Be({},o);return r(o,a,"font",["color"]),r(o,a,"alignment"),r(o,a,"protection"),o.border&&(r(o,a,"border"),r(o.border,a.border,"top",["color"]),r(o.border,a.border,"left",["color"]),r(o.border,a.border,"bottom",["color"]),r(o.border,a.border,"right",["color"]),r(o.border,a.border,"diagonal",["color"])),o.fill&&(r(o,a,"fill",["fgColor","bgColor","center"]),o.fill.stops&&(a.fill.stops=o.fill.stops.map(l=>i(l,["color"])))),a}},{}],21:[function(n,e,t){(function(i){(function(){"use strict";let r=n("crypto"),o={hash(s){let a=r.createHash(s);for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];return a.update(i.concat(c)),a.digest()},convertPasswordToHash(s,a,l,c){if(a=a.toLowerCase(),r.getHashes().indexOf(a)<0)throw new Error(`Hash algorithm '${a}' not supported!`);let u=i.from(s,"utf16le"),d=this.hash(a,i.from(l,"base64"),u);for(let f=0;f<c;f++){let h=i.alloc(4);h.writeUInt32LE(f,0),d=this.hash(a,d,h)}return d.toString("base64")},randomBytes:s=>r.randomBytes(s)};e.exports=o}).call(this)}).call(this,n("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(n,e,t){"use strict";let{SaxesParser:i}=n("saxes"),{PassThrough:r}=n("readable-stream"),{bufferToString:o}=n("./browser-buffer-decode");e.exports=function(s){return WM(this,null,function*(){s.pipe&&!s[Symbol.asyncIterator]&&(s=s.pipe(new r));let a=new i,l;a.on("error",m=>{l=m});let c=[];a.on("opentag",m=>c.push({eventType:"opentag",value:m})),a.on("text",m=>c.push({eventType:"text",value:m})),a.on("closetag",m=>c.push({eventType:"closetag",value:m}));try{for(var u=kw(s),d,f,h;d=!(f=yield new _5(u.next())).done;d=!1){let m=f.value;if(a.write(o(m)),l)throw l;yield c,c=[]}}catch{h=[f]}finally{try{d&&(f=u.return)&&(yield new _5(f.call(u)))}finally{if(h)throw h[0]}}})}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(n,e,t){"use strict";let i=n("./col-cache"),r=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,o=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;e.exports={slideFormula:function(s,a,l){let c=i.decode(a),u=i.decode(l);return s.replace(r,(d,f,h,m,p)=>{if(p)return d;let g=o.exec(m);if(g){let v=g[1],x=g[2].toUpperCase(),I=g[3],N=g[4];if(x.length>3||x.length===3&&x>"XFD")return d;let H=i.l2n(x),F=parseInt(N,10);return v||(H+=u.col-c.col),I||(F+=u.row-c.row),(f||"")+(v||"")+i.n2l(H)+(I||"")+F}return d})}}},{"./col-cache":19}],24:[function(n,e,t){(function(i,r){(function(){"use strict";let o=n("readable-stream"),s=n("./utils"),a=n("./string-buf");class l{constructor(p,g){this._data=p,this._encoding=g}get length(){return this.toBuffer().length}copy(p,g,v,x){return this.toBuffer().copy(p,g,v,x)}toBuffer(){return this._buffer||(this._buffer=r.from(this._data,this._encoding)),this._buffer}}class c{constructor(p){this._data=p}get length(){return this._data.length}copy(p,g,v,x){return this._data._buf.copy(p,g,v,x)}toBuffer(){return this._data.toBuffer()}}class u{constructor(p){this._data=p}get length(){return this._data.length}copy(p,g,v,x){this._data.copy(p,g,v,x)}toBuffer(){return this._data}}class d{constructor(p){this.size=p,this.buffer=r.alloc(p),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;let p=r.alloc(this.iWrite-this.iRead);return this.buffer.copy(p,0,this.iRead,this.iWrite),p}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(p){let g;return p===0?null:p===void 0||p>=this.length?(g=this.toBuffer(),this.iRead=this.iWrite,g):(g=r.alloc(p),this.buffer.copy(g,0,this.iRead,p),this.iRead+=p,g)}write(p,g,v){let x=Math.min(v,this.size-this.iWrite);return p.copy(this.buffer,this.iWrite,g,g+x),this.iWrite+=x,x}}let f=function(m){m=m||{},this.bufSize=m.bufSize||1048576,this.buffers=[],this.batch=m.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};s.inherits(f,o.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return r.concat(this.buffers.map(m=>m.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){let p=this.buffers[this.buffers.length-1];if(!p.full)return p}let m=new d(this.bufSize);return this.buffers.push(m),m},_pipe(m){return gn(this,null,function*(){yield Promise.all(this.pipes.map(function(p){return new Promise(g=>{p.write(m.toBuffer(),()=>{g()})})}))})},_writeToBuffers(m){let p=0,g=m.length;for(;p<g;)p+=this._getWritableBuffer().write(m,p,g-p)},write(m,p,g){return gn(this,null,function*(){let v;if(p instanceof Function&&(g=p,p="utf8"),g=g||s.nop,m instanceof a)v=new c(m);else if(m instanceof r)v=new u(m);else{if(!(typeof m=="string"||m instanceof String||m instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");v=new l(m,p)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(v);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(v),i.nextTick(g)):(yield this._pipe(v),g());else this.paused||this.emit("data",v.toBuffer()),this._writeToBuffers(v),this.emit("readable");return!0})},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(m,p,g){let v=x=>{x?g(x):(this._flush(),this.pipes.forEach(I=>{I.end()}),this.emit("finish"))};m?this.write(m,p,v):v()},read(m){let p;if(m){for(p=[];m&&this.buffers.length&&!this.buffers[0].eod;){let g=this.buffers[0],v=g.read(m);m-=v.length,p.push(v),g.eod&&g.full&&this.buffers.shift()}return r.concat(p)}return p=this.buffers.map(g=>g.toBuffer()).filter(Boolean),this.buffers=[],r.concat(p)},setEncoding(m){this.encoding=m},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(m){this.pipes.push(m),!this.paused&&this.buffers.length&&this.end()},unpipe(m){this.pipes=this.pipes.filter(p=>p!==m)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),e.exports=f}).call(this)}).call(this,n("_process"),n("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(n,e,t){(function(i){(function(){"use strict";e.exports=class{constructor(r){this._buf=i.alloc(r&&r.size||16384),this._encoding=r&&r.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=i.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(r){r=r||0,this._buffer=void 0,this._inPos=r}_grow(r){let o=2*this._buf.length;for(;o<r;)o*=2;let s=i.alloc(o);this._buf.copy(s,0),this._buf=s}addText(r){this._buffer=void 0;let o=this._inPos+this._buf.write(r,this._inPos,this._encoding);for(;o>=this._buf.length-4;)this._grow(this._inPos+r.length),o=this._inPos+this._buf.write(r,this._inPos,this._encoding);this._inPos=o}addStringBuf(r){r.length&&(this._buffer=void 0,this.length+r.length>this.capacity&&this._grow(this.length+r.length),r._buf.copy(this._buf,this._inPos,0,r.length),this._inPos+=r.length)}}}).call(this)}).call(this,n("buffer").Buffer)},{buffer:220}],26:[function(n,e,t){"use strict";let{toString:i}=Object.prototype,r=/["&<>]/,o={each:function(s,a){s&&(Array.isArray(s)?s.forEach(a):Object.keys(s).forEach(l=>{a(s[l],l)}))},some:function(s,a){return!!s&&(Array.isArray(s)?s.some(a):Object.keys(s).some(l=>a(s[l],l)))},every:function(s,a){return!s||(Array.isArray(s)?s.every(a):Object.keys(s).every(l=>a(s[l],l)))},map:function(s,a){return s?Array.isArray(s)?s.map(a):Object.keys(s).map(l=>a(s[l],l)):[]},keyBy:(s,a)=>s.reduce((l,c)=>(l[c[a]]=c,l),{}),isEqual:function(s,a){let l=typeof s,c=typeof a,u=Array.isArray(s),d=Array.isArray(a),f;if(l!==c)return!1;switch(typeof s){case"object":if(u||d)return!(!u||!d)&&s.length===a.length&&s.every((h,m)=>{let p=a[m];return o.isEqual(h,p)});if(s===null||a===null)return s===a;if(f=Object.keys(s),Object.keys(a).length!==f.length)return!1;for(let h of f)if(!a.hasOwnProperty(h))return!1;return o.every(s,(h,m)=>{let p=a[m];return o.isEqual(h,p)});default:return s===a}},escapeHtml(s){let a=r.exec(s);if(!a)return s;let l="",c="",u=0,d=a.index;for(;d<s.length;d++){switch(s.charAt(d)){case'"':c="&quot;";break;case"&":c="&amp;";break;case"'":c="&apos;";break;case"<":c="&lt;";break;case">":c="&gt;";break;default:continue}u!==d&&(l+=s.substring(u,d)),u=d+1,l+=c}return u!==d?l+s.substring(u,d):l},strcmp:(s,a)=>s<a?-1:s>a?1:0,isUndefined:s=>i.call(s)==="[object Undefined]",isObject:s=>i.call(s)==="[object Object]",deepMerge(){let s=arguments[0]||{},{length:a}=arguments,l,c,u;function d(f,h){l=s[h],u=Array.isArray(f),o.isObject(f)||u?(u?(u=!1,c=l&&Array.isArray(l)?l:[]):c=l&&o.isObject(l)?l:{},s[h]=o.deepMerge(c,f)):o.isUndefined(f)||(s[h]=f)}for(let f=0;f<a;f++)o.each(arguments[f],d);return s}};e.exports=o},{}],27:[function(n,e,t){(function(i,r){(function(){"use strict";let o=n("fs"),s=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,a={nop(){},promiseImmediate:l=>new Promise(c=>{i.setImmediate?r(()=>{c(l)}):setTimeout(()=>{c(l)},1)}),inherits:function(l,c,u,d){l.super_=c,d||(d=u,u=null),u&&Object.keys(u).forEach(h=>{Object.defineProperty(l,h,Object.getOwnPropertyDescriptor(u,h))});let f={constructor:{value:l,enumerable:!1,writable:!1,configurable:!0}};d&&Object.keys(d).forEach(h=>{f[h]=Object.getOwnPropertyDescriptor(d,h)}),l.prototype=Object.create(c.prototype,f)},dateToExcel:(l,c)=>25569+l.getTime()/864e5-(c?1462:0),excelToDate(l,c){let u=Math.round(24*(l-25569+(c?1462:0))*3600*1e3);return new Date(u)},parsePath(l){let c=l.lastIndexOf("/");return{path:l.substring(0,c),name:l.substring(c+1)}},getRelsPath(l){let c=a.parsePath(l);return`${c.path}/_rels/${c.name}.rels`},xmlEncode(l){let c=s.exec(l);if(!c)return l;let u="",d="",f=0,h=c.index;for(;h<l.length;h++){let m=l.charCodeAt(h);switch(m){case 34:d="&quot;";break;case 38:d="&amp;";break;case 39:d="&apos;";break;case 60:d="&lt;";break;case 62:d="&gt;";break;case 127:d="";break;default:if(m<=31&&(m<=8||m>=11&&m!==13)){d="";break}continue}f!==h&&(u+=l.substring(f,h)),f=h+1,d&&(u+=d)}return f!==h?u+l.substring(f,h):u},xmlDecode:l=>l.replace(/&([a-z]*);/g,c=>{switch(c){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return c}}),validInt(l){let c=parseInt(l,10);return Number.isNaN(c)?0:c},isDateFmt(l){return l?(l=(l=l.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:l=>new Promise(c=>{o.access(l,o.constants.F_OK,u=>{c(!u)})})},toIsoDateString:l=>l.toIsoString().subsstr(0,10),parseBoolean:l=>l===!0||l==="true"||l===1||l==="1"};e.exports=a}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},n("timers").setImmediate)},{fs:216,timers:523}],28:[function(n,e,t){"use strict";let i=n("./under-dash"),r=n("./utils");function o(l,c,u){l.push(` ${c}="${r.xmlEncode(u.toString())}"`)}function s(l,c){if(c){let u=[];i.each(c,(d,f)=>{d!==void 0&&o(u,f,d)}),l.push(u.join(""))}}class a{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(c){let u=this._xml;u.push("<?xml"),s(u,c),u.push(`?>
`)}openNode(c,u){let d=this.tos,f=this._xml;d&&this.open&&f.push(">"),this._stack.push(c),f.push("<"),f.push(c),s(f,u),this.leaf=!0,this.open=!0}addAttribute(c,u){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");u!==void 0&&o(this._xml,c,u)}addAttributes(c){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");s(this._xml,c)}writeText(c){let u=this._xml;this.open&&(u.push(">"),this.open=!1),this.leaf=!1,u.push(r.xmlEncode(c.toString()))}writeXml(c){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(c)}closeNode(){let c=this._stack.pop(),u=this._xml;this.leaf?u.push("/>"):(u.push("</"),u.push(c),u.push(">")),this.open=!1,this.leaf=!1}leafNode(c,u,d){this.openNode(c,u),d!==void 0&&this.writeText(d),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){let c=this._rollbacks.pop();this._xml.length>c.xml&&this._xml.splice(c.xml,this._xml.length-c.xml),this._stack.length>c.stack&&this._stack.splice(c.stack,this._stack.length-c.stack),this.leaf=c.leaf,this.open=c.open}get xml(){return this.closeAll(),this._xml.join("")}}a.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},e.exports=a},{"./under-dash":26,"./utils":27}],29:[function(n,e,t){(function(i){(function(){"use strict";let r=n("events"),o=n("jszip"),s=n("./stream-buf"),{stringToBuffer:a}=n("./browser-buffer-encode");class l extends r.EventEmitter{constructor(u){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},u),this.zip=new o,this.stream=new s}append(u,d){d.hasOwnProperty("base64")&&d.base64?this.zip.file(d.name,u,{base64:!0}):(i.browser&&typeof u=="string"&&(u=a(u)),this.zip.file(d.name,u))}finalize(){return gn(this,null,function*(){let u=yield this.zip.generateAsync(this.options);this.stream.end(u),this.emit("finish")})}read(u){return this.stream.read(u)}setEncoding(u){return this.stream.setEncoding(u)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(u,d){return this.stream.pipe(u,d)}unpipe(u){return this.stream.unpipe(u)}unshift(u){return this.stream.unshift(u)}wrap(u){return this.stream.wrap(u)}}e.exports={ZipWriter:l}}).call(this)}).call(this,n("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(n,e,t){"use strict";e.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},28:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"ja-jp":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":'yyyy"\uB144" mm"\uC6D4" dd"\uC77C"'},32:{"zh-tw":'hh"\u6642"mm"\u5206"',"zh-cn":'h"\u65F6"mm"\u5206"',"ja-jp":'h"\u6642"mm"\u5206"',"ko-kr":'h"\uC2DC" mm"\uBD84"'},33:{"zh-tw":'hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'h"\u6642"mm"\u5206"ss"\u79D2"',"ko-kr":'h"\uC2DC" mm"\uBD84" ss"\uCD08"'},34:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},51:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},52:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},55:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},58:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(n,e,t){"use strict";e.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(n,e,t){"use strict";let i=n("../../utils/parse-sax"),r=n("../../utils/xml-stream");class o{prepare(){}render(){}parseOpen(a){}parseText(a){}parseClose(a){}reconcile(a,l){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(a=>{a instanceof o?a.reset():a.xform&&a.xform.reset()})}mergeModel(a){this.model=Object.assign(this.model||{},a)}parse(a){return gn(this,null,function*(){try{for(var l=kw(a),c,u,d;c=!(u=yield l.next()).done;c=!1){let f=u.value;for(let{eventType:h,value:m}of f)if(h==="opentag")this.parseOpen(m);else if(h==="text")this.parseText(m);else if(h==="closetag"&&!this.parseClose(m.name))return this.model}}catch{d=[u]}finally{try{c&&(u=l.return)&&(yield u.call(l))}finally{if(d)throw d[0]}}return this.model})}parseStream(a){return gn(this,null,function*(){return this.parse(i(a))})}get xml(){return this.toXml(this.model)}toXml(a){let l=new r;return this.render(l,a),l.xml}static toAttribute(a,l){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(c)return l}else if(c||a!==l)return a.toString()}static toStringAttribute(a,l){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(a,l,c)}static toStringValue(a,l){return a===void 0?l:a}static toBoolAttribute(a,l){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(c)return l}else if(c||a!==l)return a?"1":"0"}static toBoolValue(a,l){return a===void 0?l:a==="1"}static toIntAttribute(a,l){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(a,l,c)}static toIntValue(a,l){return a===void 0?l:parseInt(a,10)}static toFloatAttribute(a,l){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(a,l,c)}static toFloatValue(a,l){return a===void 0?l:parseFloat(a)}}e.exports=o},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(n,e,t){"use strict";let i=n("../base-xform"),r=n("../../../utils/col-cache");function o(a){try{return r.decodeEx(a),!0}catch{return!1}}function s(a){let l=[],c=!1,u="";return a.split(",").forEach(d=>{if(!d)return;let f=(d.match(/'/g)||[]).length;if(!f)return void(c?u+=d+",":o(d)&&l.push(d));let h=f%2==0;!c&&h&&o(d)?l.push(d):c&&!h?(c=!1,o(u+d)&&l.push(u+d),u=""):(c=!0,u+=d+",")}),l}e.exports=class extends i{render(a,l){a.openNode("definedName",{name:l.name,localSheetId:l.localSheetId}),a.writeText(l.ranges.join(",")),a.closeNode()}parseOpen(a){switch(a.name){case"definedName":return this._parsedName=a.attributes.name,this._parsedLocalSheetId=a.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(a){this._parsedText.push(a)}parseClose(){return this.model={name:this._parsedName,ranges:s(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(n,e,t){"use strict";let i=n("../../../utils/utils"),r=n("../base-xform");e.exports=class extends r{render(o,s){o.leafNode("sheet",{sheetId:s.id,name:s.name,state:s.state,"r:id":s.rId})}parseOpen(o){return o.name==="sheet"&&(this.model={name:i.xmlDecode(o.attributes.name),id:parseInt(o.attributes.sheetId,10),state:o.attributes.state,rId:o.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{render(r,o){r.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:o.fullCalcOnLoad?1:void 0})}parseOpen(r){return r.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{render(r,o){r.leafNode("workbookPr",{date1904:o.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(r){return r.name==="workbookPr"&&(this.model={date1904:r.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{render(r,o){let s={xWindow:o.x||0,yWindow:o.y||0,windowWidth:o.width||12e3,windowHeight:o.height||24e3,firstSheet:o.firstSheet,activeTab:o.activeTab};o.visibility&&o.visibility!=="visible"&&(s.visibility=o.visibility),r.leafNode("workbookView",s)}parseOpen(r){if(r.name==="workbookView"){let o=this.model={},s=function(l,c,u){let d=c!==void 0?o[l]=c:u;d!==void 0&&(o[l]=d)},a=function(l,c,u){let d=c!==void 0?o[l]=parseInt(c,10):u;d!==void 0&&(o[l]=d)};return a("x",r.attributes.xWindow,0),a("y",r.attributes.yWindow,0),a("width",r.attributes.windowWidth,25e3),a("height",r.attributes.windowHeight,1e4),s("visibility",r.attributes.visibility,"visible"),a("activeTab",r.attributes.activeTab,void 0),a("firstSheet",r.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(n,e,t){"use strict";let i=n("../../../utils/under-dash"),r=n("../../../utils/col-cache"),o=n("../../../utils/xml-stream"),s=n("../base-xform"),a=n("../static-xform"),l=n("../list-xform"),c=n("./defined-name-xform"),u=n("./sheet-xform"),d=n("./workbook-view-xform"),f=n("./workbook-properties-xform"),h=n("./workbook-calc-properties-xform");class m extends s{constructor(){super(),this.map={fileVersion:m.STATIC_XFORMS.fileVersion,workbookPr:new f,bookViews:new l({tag:"bookViews",count:!1,childXform:new d}),sheets:new l({tag:"sheets",count:!1,childXform:new u}),definedNames:new l({tag:"definedNames",count:!1,childXform:new c}),calcPr:new h}}prepare(g){g.sheets=g.worksheets;let v=[],x=0;g.sheets.forEach(I=>{if(I.pageSetup&&I.pageSetup.printArea&&I.pageSetup.printArea.split("&&").forEach(N=>{let H=N.split(":"),F={name:"_xlnm.Print_Area",ranges:[`'${I.name}'!$${H[0]}:$${H[1]}`],localSheetId:x};v.push(F)}),I.pageSetup&&(I.pageSetup.printTitlesRow||I.pageSetup.printTitlesColumn)){let N=[];if(I.pageSetup.printTitlesColumn){let F=I.pageSetup.printTitlesColumn.split(":");N.push(`'${I.name}'!$${F[0]}:$${F[1]}`)}if(I.pageSetup.printTitlesRow){let F=I.pageSetup.printTitlesRow.split(":");N.push(`'${I.name}'!$${F[0]}:$${F[1]}`)}let H={name:"_xlnm.Print_Titles",ranges:N,localSheetId:x};v.push(H)}x++}),v.length&&(g.definedNames=g.definedNames.concat(v)),(g.media||[]).forEach((I,N)=>{I.name=I.type+(N+1)})}render(g,v){g.openXml(o.StdDocAttributes),g.openNode("workbook",m.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(g),this.map.workbookPr.render(g,v.properties),this.map.bookViews.render(g,v.views),this.map.sheets.render(g,v.sheets),this.map.definedNames.render(g,v.definedNames),this.map.calcPr.render(g,v.calcProperties),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;switch(g.name){case"workbook":return!0;default:return this.parser=this.map[g.name],this.parser&&this.parser.parseOpen(g),!0}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser)return this.parser.parseClose(g)||(this.parser=void 0),!0;switch(g){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(g){let v=(g.workbookRels||[]).reduce((F,B)=>(F[B.Id]=B,F),{}),x=[],I,N=0;(g.sheets||[]).forEach(F=>{let B=v[F.rId];B&&(I=g.worksheetHash["xl/"+B.Target.replace(/^(\s|\/xl\/)+/,"")],I&&(I.name=F.name,I.id=F.id,I.state=F.state,x[N++]=I))});let H=[];i.each(g.definedNames,F=>{if(F.name==="_xlnm.Print_Area"){if(I=x[F.localSheetId],I){I.pageSetup||(I.pageSetup={});let B=r.decodeEx(F.ranges[0]);I.pageSetup.printArea=I.pageSetup.printArea?`${I.pageSetup.printArea}&&${B.dimensions}`:B.dimensions}}else if(F.name==="_xlnm.Print_Titles"){if(I=x[F.localSheetId],I){I.pageSetup||(I.pageSetup={});let B=F.ranges.join(","),V=/\$/g,G=/\$\d+:\$\d+/,W=B.match(G);if(W&&W.length){let L=W[0];I.pageSetup.printTitlesRow=L.replace(V,"")}let k=/\$[A-Z]+:\$[A-Z]+/,E=B.match(k);if(E&&E.length){let L=E[0];I.pageSetup.printTitlesColumn=L.replace(V,"")}}}else H.push(F)}),g.definedNames=H,g.media.forEach((F,B)=>{F.index=B})}}m.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},m.STATIC_XFORMS={fileVersion:new a({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},e.exports=m},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(n,e,t){"use strict";let i=n("../strings/rich-text-xform"),r=n("../../../utils/utils"),o=n("../base-xform"),s=e.exports=function(a){this.model=a};r.inherits(s,o,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new i),this._richTextXform},render(a,l){l=l||this.model,a.openNode("comment",{ref:l.ref,authorId:0}),a.openNode("text"),l&&l.note&&l.note.texts&&l.note.texts.forEach(c=>{this.richTextXform.render(a,c)}),a.closeNode(),a.closeNode()},parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"comment":return this.model=Be({type:"note",note:{texts:[]}},a.attributes),!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(a),!0;default:return!1}},parseText(a){this.parser&&this.parser.parseText(a)},parseClose(a){switch(a){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(a),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(n,e,t){"use strict";let i=n("../../../utils/xml-stream"),r=n("../../../utils/utils"),o=n("../base-xform"),s=n("./comment-xform"),a=e.exports=function(){this.map={comment:new s}};r.inherits(a,o,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(l,c){c=c||this.model,l.openXml(i.StdDocAttributes),l.openNode("comments",a.COMMENTS_ATTRIBUTES),l.openNode("authors"),l.leafNode("author",null,"Author"),l.closeNode(),l.openNode("commentList"),c.comments.forEach(u=>{this.map.comment.render(l,u)}),l.closeNode(),l.closeNode()},parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(l),!0;default:return!1}},parseText(l){this.parser&&this.parser.parseText(l)},parseClose(l){switch(l){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(l),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(n,e,t){"use strict";let i=n("../../base-xform");e.exports=class extends i{constructor(r){super(),this._model=r}get tag(){return this._model&&this._model.tag}render(r,o,s){(o===s[2]||this.tag==="x:SizeWithCells"&&o===s[1])&&r.leafNode(this.tag)}parseOpen(r){switch(r.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(n,e,t){"use strict";let i=n("../../base-xform");e.exports=class extends i{constructor(r){super(),this._model=r}get tag(){return this._model&&this._model.tag}render(r,o){r.leafNode(this.tag,null,o)}parseOpen(r){switch(r.name){case this.tag:return this.text="",!0;default:return!1}}parseText(r){this.text=r}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{get tag(){return"x:Anchor"}getAnchorRect(r){let o=Math.floor(r.left),s=Math.floor(68*(r.left-o)),a=Math.floor(r.top),l=Math.floor(18*(r.top-a)),c=Math.floor(r.right),u=Math.floor(68*(r.right-c)),d=Math.floor(r.bottom);return[o,s,a,l,c,u,d,Math.floor(18*(r.bottom-d))]}getDefaultRect(r){let o=r.col,s=Math.max(r.row-2,0);return[o,6,s,14,o+2,2,s+4,16]}render(r,o){let s=o.anchor?this.getAnchorRect(o.anchor):this.getDefaultRect(o.refAddress);r.leafNode("x:Anchor",null,s.join(", "))}parseOpen(r){switch(r.name){case this.tag:return this.text="",!0;default:return!1}}parseText(r){this.text=r}parseClose(){return!1}}},{"../base-xform":32}],44:[function(n,e,t){"use strict";let i=n("../base-xform"),r=n("./vml-anchor-xform"),o=n("./style/vml-protection-xform"),s=n("./style/vml-position-xform"),a=["twoCells","oneCells","absolute"];e.exports=class extends i{constructor(){super(),this.map={"x:Anchor":new r,"x:Locked":new o({tag:"x:Locked"}),"x:LockText":new o({tag:"x:LockText"}),"x:SizeWithCells":new s({tag:"x:SizeWithCells"}),"x:MoveWithCells":new s({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(l,c){let{protection:u,editAs:d}=c.note;l.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(l,d,a),this.map["x:SizeWithCells"].render(l,d,a),this.map["x:Anchor"].render(l,c),this.map["x:Locked"].render(l,u.locked),l.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(l,u.lockText),l.leafNode("x:Row",null,c.refAddress.row-1),l.leafNode("x:Column",null,c.refAddress.col-1),l.closeNode()}parseOpen(l){switch(l.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){let l=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),c=Object.keys(l).length;this.model.editAs=a[c],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(n,e,t){"use strict";let i=n("../../../utils/xml-stream"),r=n("../base-xform"),o=n("./vml-shape-xform");class s extends r{constructor(){super(),this.map={"v:shape":new o}}get tag(){return"xml"}render(l,c){l.openXml(i.StdDocAttributes),l.openNode(this.tag,s.DRAWING_ATTRIBUTES),l.openNode("o:shapelayout",{"v:ext":"edit"}),l.leafNode("o:idmap",{"v:ext":"edit",data:1}),l.closeNode(),l.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),l.leafNode("v:stroke",{joinstyle:"miter"}),l.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),l.closeNode(),c.comments.forEach((u,d)=>{this.map["v:shape"].render(l,u,d)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:return!0}}reconcile(l,c){l.anchors.forEach(u=>{u.br?this.map["xdr:twoCellAnchor"].reconcile(u,c):this.map["xdr:oneCellAnchor"].reconcile(u,c)})}}s.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},e.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(n,e,t){"use strict";let i=n("../base-xform"),r=n("./vml-textbox-xform"),o=n("./vml-client-data-xform");class s extends i{constructor(){super(),this.map={"v:textbox":new r,"x:ClientData":new o}}get tag(){return"v:shape"}render(l,c,u){l.openNode("v:shape",s.V_SHAPE_ATTRIBUTES(c,u)),l.leafNode("v:fill",{color2:"infoBackground [80]"}),l.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),l.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(l,c),this.map["x:ClientData"].render(l,c),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset(),this.model={margins:{insetmode:l.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}s.V_SHAPE_ATTRIBUTES=(a,l)=>({id:"_x0000_s"+(1025+l),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":a.note.margins&&a.note.margins.insetmode}),e.exports=s},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{get tag(){return"v:textbox"}conversionUnit(r,o,s){return`${parseFloat(r)*o.toFixed(2)}${s}`}reverseConversionUnit(r){return(r||"").split(",").map(o=>Number(parseFloat(this.conversionUnit(parseFloat(o),.1,"")).toFixed(2)))}render(r,o){let s={style:"mso-direction-alt:auto"};if(o&&o.note){let{inset:a}=o.note&&o.note.margins;Array.isArray(a)&&(a=a.map(l=>this.conversionUnit(l,10,"mm")).join(",")),a&&(s.inset=a)}r.openNode("v:textbox",s),r.leafNode("div",{style:"text-align:left"}),r.closeNode()}parseOpen(r){switch(r.name){case this.tag:return this.model={inset:this.reverseConversionUnit(r.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(r){switch(r){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(n,e,t){"use strict";let i=n("./base-xform");e.exports=class extends i{createNewModel(r){return{}}parseOpen(r){return this.parser=this.parser||this.map[r.name],this.parser?(this.parser.parseOpen(r),!0):r.name===this.tag&&(this.model=this.createNewModel(r),!0)}parseText(r){this.parser&&this.parser.parseText(r)}onParserClose(r,o){this.model[r]=o.model}parseClose(r){return this.parser?(this.parser.parseClose(r)||(this.onParserClose(r,this.parser),this.parser=void 0),!0):r!==this.tag}}},{"./base-xform":32}],49:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{render(r,o){r.openNode("HeadingPairs"),r.openNode("vt:vector",{size:2,baseType:"variant"}),r.openNode("vt:variant"),r.leafNode("vt:lpstr",void 0,"Worksheets"),r.closeNode(),r.openNode("vt:variant"),r.leafNode("vt:i4",void 0,o.length),r.closeNode(),r.closeNode(),r.closeNode()}parseOpen(r){return r.name==="HeadingPairs"}parseText(){}parseClose(r){return r!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{render(r,o){r.openNode("TitlesOfParts"),r.openNode("vt:vector",{size:o.length,baseType:"lpstr"}),o.forEach(s=>{r.leafNode("vt:lpstr",void 0,s.name)}),r.closeNode(),r.closeNode()}parseOpen(r){return r.name==="TitlesOfParts"}parseText(){}parseClose(r){return r!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(n,e,t){"use strict";let i=n("../../../utils/xml-stream"),r=n("../base-xform"),o=n("../simple/string-xform"),s=n("./app-heading-pairs-xform"),a=n("./app-titles-of-parts-xform");class l extends r{constructor(){super(),this.map={Company:new o({tag:"Company"}),Manager:new o({tag:"Manager"}),HeadingPairs:new s,TitleOfParts:new a}}render(u,d){u.openXml(i.StdDocAttributes),u.openNode("Properties",l.PROPERTY_ATTRIBUTES),u.leafNode("Application",void 0,"Microsoft Excel"),u.leafNode("DocSecurity",void 0,"0"),u.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(u,d.worksheets),this.map.TitleOfParts.render(u,d.worksheets),this.map.Company.render(u,d.company||""),this.map.Manager.render(u,d.manager),u.leafNode("LinksUpToDate",void 0,"false"),u.leafNode("SharedDoc",void 0,"false"),u.leafNode("HyperlinksChanged",void 0,"false"),u.leafNode("AppVersion",void 0,"16.0300"),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"Properties":return!0;default:return this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0)}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}l.DateFormat=function(c){return c.toISOString().replace(/[.]\d{3,6}/,"")},l.DateAttrs={"xsi:type":"dcterms:W3CDTF"},l.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},e.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(n,e,t){"use strict";let i=n("../../../utils/xml-stream"),r=n("../base-xform");class o extends r{render(a,l){a.openXml(i.StdDocAttributes),a.openNode("Types",o.PROPERTY_ATTRIBUTES);let c={};(l.media||[]).forEach(u=>{if(u.type==="image"){let d=u.extension;c[d]||(c[d]=!0,a.leafNode("Default",{Extension:d,ContentType:"image/"+d}))}}),a.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),a.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),a.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),l.worksheets.forEach(u=>{let d=`/xl/worksheets/sheet${u.id}.xml`;a.leafNode("Override",{PartName:d,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),a.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),a.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),l.sharedStrings&&l.sharedStrings.count&&a.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),l.tables&&l.tables.forEach(u=>{a.leafNode("Override",{PartName:"/xl/tables/"+u.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),l.drawings&&l.drawings.forEach(u=>{a.leafNode("Override",{PartName:`/xl/drawings/${u.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),l.commentRefs&&(a.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),l.commentRefs.forEach(u=>{let{commentName:d}=u;a.leafNode("Override",{PartName:`/xl/${d}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),a.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),a.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),a.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}o.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},e.exports=o},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(n,e,t){"use strict";let i=n("../../../utils/xml-stream"),r=n("../base-xform"),o=n("../simple/date-xform"),s=n("../simple/string-xform"),a=n("../simple/integer-xform");class l extends r{constructor(){super(),this.map={"dc:creator":new s({tag:"dc:creator"}),"dc:title":new s({tag:"dc:title"}),"dc:subject":new s({tag:"dc:subject"}),"dc:description":new s({tag:"dc:description"}),"dc:identifier":new s({tag:"dc:identifier"}),"dc:language":new s({tag:"dc:language"}),"cp:keywords":new s({tag:"cp:keywords"}),"cp:category":new s({tag:"cp:category"}),"cp:lastModifiedBy":new s({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new o({tag:"cp:lastPrinted",format:l.DateFormat}),"cp:revision":new a({tag:"cp:revision"}),"cp:version":new s({tag:"cp:version"}),"cp:contentStatus":new s({tag:"cp:contentStatus"}),"cp:contentType":new s({tag:"cp:contentType"}),"dcterms:created":new o({tag:"dcterms:created",attrs:l.DateAttrs,format:l.DateFormat}),"dcterms:modified":new o({tag:"dcterms:modified",attrs:l.DateAttrs,format:l.DateFormat})}}render(u,d){u.openXml(i.StdDocAttributes),u.openNode("cp:coreProperties",l.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(u,d.creator),this.map["dc:title"].render(u,d.title),this.map["dc:subject"].render(u,d.subject),this.map["dc:description"].render(u,d.description),this.map["dc:identifier"].render(u,d.identifier),this.map["dc:language"].render(u,d.language),this.map["cp:keywords"].render(u,d.keywords),this.map["cp:category"].render(u,d.category),this.map["cp:lastModifiedBy"].render(u,d.lastModifiedBy),this.map["cp:lastPrinted"].render(u,d.lastPrinted),this.map["cp:revision"].render(u,d.revision),this.map["cp:version"].render(u,d.version),this.map["cp:contentStatus"].render(u,d.contentStatus),this.map["cp:contentType"].render(u,d.contentType),this.map["dcterms:created"].render(u,d.created),this.map["dcterms:modified"].render(u,d.modified),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[u.name],this.parser)return this.parser.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}l.DateFormat=function(c){return c.toISOString().replace(/[.]\d{3}/,"")},l.DateAttrs={"xsi:type":"dcterms:W3CDTF"},l.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},e.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{render(r,o){r.leafNode("Relationship",o)}parseOpen(r){switch(r.name){case"Relationship":return this.model=r.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(n,e,t){"use strict";let i=n("../../../utils/xml-stream"),r=n("../base-xform"),o=n("./relationship-xform");class s extends r{constructor(){super(),this.map={Relationship:new o}}render(l,c){c=c||this._values,l.openXml(i.StdDocAttributes),l.openNode("Relationships",s.RELATIONSHIPS_ATTRIBUTES),c.forEach(u=>{this.map.Relationship.render(l,u)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[l.name],this.parser)return this.parser.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(l){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}s.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},e.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case this.tag:this.reset(),this.model={range:{editAs:r.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[r.name],this.parser&&this.parser.parseOpen(r)}return!0}parseText(r){this.parser&&this.parser.parseText(r)}reconcilePicture(r,o){if(r&&r.rId){let s=o.rels[r.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(s){let a=s[1],l=o.mediaIndex[a];return o.media[l]}}}}},{"../base-xform":32}],57:[function(n,e,t){"use strict";let i=n("../base-xform"),r=n("./blip-xform");e.exports=class extends i{constructor(){super(),this.map={"a:blip":new r}}get tag(){return"xdr:blipFill"}render(o,s){o.openNode(this.tag),this.map["a:blip"].render(o,s),o.openNode("a:stretch"),o.leafNode("a:fillRect"),o.closeNode(),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{get tag(){return"a:blip"}render(r,o){r.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":o.rId,cstate:"print"})}parseOpen(r){switch(r.name){case this.tag:return this.model={rId:r.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(r){switch(r){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{get tag(){return"xdr:cNvPicPr"}render(r){r.openNode(this.tag),r.leafNode("a:picLocks",{noChangeAspect:"1"}),r.closeNode()}parseOpen(r){switch(r.name){case this.tag:default:return!0}}parseText(){}parseClose(r){switch(r){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(n,e,t){"use strict";let i=n("../base-xform"),r=n("./hlink-click-xform"),o=n("./ext-lst-xform");e.exports=class extends i{constructor(){super(),this.map={"a:hlinkClick":new r,"a:extLst":new o}}get tag(){return"xdr:cNvPr"}render(s,a){s.openNode(this.tag,{id:a.index,name:"Picture "+a.index}),this.map["a:hlinkClick"].render(s,a),this.map["a:extLst"].render(s,a),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset();break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(){}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(n,e,t){"use strict";let i=n("../base-xform"),r=n("../simple/integer-xform");e.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.map={"xdr:col":new r({tag:"xdr:col",zero:!0}),"xdr:colOff":new r({tag:"xdr:colOff",zero:!0}),"xdr:row":new r({tag:"xdr:row",zero:!0}),"xdr:rowOff":new r({tag:"xdr:rowOff",zero:!0})}}render(o,s){o.openNode(this.tag),this.map["xdr:col"].render(o,s.nativeCol),this.map["xdr:colOff"].render(o,s.nativeColOff),this.map["xdr:row"].render(o,s.nativeRow),this.map["xdr:rowOff"].render(o,s.nativeRowOff),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(n,e,t){"use strict";let i=n("../../../utils/col-cache"),r=n("../../../utils/xml-stream"),o=n("../base-xform"),s=n("./two-cell-anchor-xform"),a=n("./one-cell-anchor-xform");class l extends o{constructor(){super(),this.map={"xdr:twoCellAnchor":new s,"xdr:oneCellAnchor":new a}}prepare(u){u.anchors.forEach((d,f)=>{d.anchorType=function(h){return(typeof h.range=="string"?i.decode(h.range):h.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(d),this.map[d.anchorType].prepare(d,{index:f})})}get tag(){return"xdr:wsDr"}render(u,d){u.openXml(r.StdDocAttributes),u.openNode(this.tag,l.DRAWING_ATTRIBUTES),d.anchors.forEach(f=>{this.map[f.anchorType].render(u,f)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}reconcile(u,d){u.anchors.forEach(f=>{f.br?this.map["xdr:twoCellAnchor"].reconcile(f,d):this.map["xdr:oneCellAnchor"].reconcile(f,d)})}}l.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},e.exports=l},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{get tag(){return"a:extLst"}render(r){r.openNode(this.tag),r.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),r.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),r.closeNode(),r.closeNode()}parseOpen(r){switch(r.name){case this.tag:default:return!0}}parseText(){}parseClose(r){switch(r){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{constructor(r){super(),this.tag=r.tag,this.map={}}render(r,o){r.openNode(this.tag);let s=Math.floor(9525*o.width),a=Math.floor(9525*o.height);r.addAttribute("cx",s),r.addAttribute("cy",a),r.closeNode()}parseOpen(r){return r.name===this.tag&&(this.model={width:parseInt(r.attributes.cx||"0",10)/9525,height:parseInt(r.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{get tag(){return"a:hlinkClick"}render(r,o){o.hyperlinks&&o.hyperlinks.rId&&r.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":o.hyperlinks.rId,tooltip:o.hyperlinks.tooltip})}parseOpen(r){switch(r.name){case this.tag:return this.model={hyperlinks:{rId:r.attributes["r:id"],tooltip:r.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(n,e,t){"use strict";let i=n("../base-xform"),r=n("./c-nv-pr-xform"),o=n("./c-nv-pic-pr-xform");e.exports=class extends i{constructor(){super(),this.map={"xdr:cNvPr":new r,"xdr:cNvPicPr":new o}}get tag(){return"xdr:nvPicPr"}render(s,a){s.openNode(this.tag),this.map["xdr:cNvPr"].render(s,a),this.map["xdr:cNvPicPr"].render(s,a),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset();break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(){}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(n,e,t){"use strict";let i=n("./base-cell-anchor-xform"),r=n("../static-xform"),o=n("./cell-position-xform"),s=n("./ext-xform"),a=n("./pic-xform");e.exports=class extends i{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:ext":new s({tag:"xdr:ext"}),"xdr:pic":new a,"xdr:clientData":new r({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(l,c){this.map["xdr:pic"].prepare(l.picture,c)}render(l,c){l.openNode(this.tag,{editAs:c.range.editAs||"oneCell"}),this.map["xdr:from"].render(l,c.range.tl),this.map["xdr:ext"].render(l,c.range.ext),this.map["xdr:pic"].render(l,c.picture),this.map["xdr:clientData"].render(l,{}),l.closeNode()}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(l,c){l.medium=this.reconcilePicture(l.picture,c)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(n,e,t){"use strict";let i=n("../base-xform"),r=n("../static-xform"),o=n("./blip-fill-xform"),s=n("./nv-pic-pr-xform"),a=n("./sp-pr");e.exports=class extends i{constructor(){super(),this.map={"xdr:nvPicPr":new s,"xdr:blipFill":new o,"xdr:spPr":new r(a)}}get tag(){return"xdr:pic"}prepare(l,c){l.index=c.index+1}render(l,c){l.openNode(this.tag),this.map["xdr:nvPicPr"].render(l,c),this.map["xdr:blipFill"].render(l,c),this.map["xdr:spPr"].render(l,c),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(n,e,t){"use strict";e.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(n,e,t){"use strict";let i=n("./base-cell-anchor-xform"),r=n("../static-xform"),o=n("./cell-position-xform"),s=n("./pic-xform");e.exports=class extends i{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:to":new o({tag:"xdr:to"}),"xdr:pic":new s,"xdr:clientData":new r({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(a,l){this.map["xdr:pic"].prepare(a.picture,l)}render(a,l){a.openNode(this.tag,{editAs:l.range.editAs||"oneCell"}),this.map["xdr:from"].render(a,l.range.tl),this.map["xdr:to"].render(a,l.range.br),this.map["xdr:pic"].render(a,l.picture),this.map["xdr:clientData"].render(a,{}),a.closeNode()}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(a,l){a.medium=this.reconcilePicture(a.picture,l)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(n,e,t){"use strict";let i=n("./base-xform");e.exports=class extends i{constructor(r){super(),this.tag=r.tag,this.always=!!r.always,this.count=r.count,this.empty=r.empty,this.$count=r.$count||"count",this.$=r.$,this.childXform=r.childXform,this.maxItems=r.maxItems}prepare(r,o){let{childXform:s}=this;r&&r.forEach((a,l)=>{o.index=l,s.prepare(a,o)})}render(r,o){if(this.always||o&&o.length){r.openNode(this.tag,this.$),this.count&&r.addAttribute(this.$count,o&&o.length||0);let{childXform:s}=this;(o||[]).forEach((a,l)=>{s.render(r,a,l)}),r.closeNode()}else this.empty&&r.leafNode(this.tag)}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(r)&&(this.parser=this.childXform,!0)}}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){if(this.parser){if(!this.parser.parseClose(r)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(r,o){if(r){let{childXform:s}=this;r.forEach(a=>{s.reconcile(a,o)})}}}},{"./base-xform":32}],72:[function(n,e,t){"use strict";let i=n("../../../utils/col-cache"),r=n("../base-xform");e.exports=class extends r{get tag(){return"autoFilter"}render(o,s){if(s)if(typeof s=="string")o.leafNode("autoFilter",{ref:s});else{let a=function(u){return typeof u=="string"?u:i.getAddress(u.row,u.column).address},l=a(s.from),c=a(s.to);l&&c&&o.leafNode("autoFilter",{ref:`${l}:${c}`})}}parseOpen(o){o.name==="autoFilter"&&(this.model=o.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(n,e,t){"use strict";let i=n("../../../utils/utils"),r=n("../base-xform"),o=n("../../../doc/range"),s=n("../../../doc/enums"),a=n("../strings/rich-text-xform");function l(c){if(c==null)return s.ValueType.Null;if(c instanceof String||typeof c=="string")return s.ValueType.String;if(typeof c=="number")return s.ValueType.Number;if(typeof c=="boolean")return s.ValueType.Boolean;if(c instanceof Date)return s.ValueType.Date;if(c.text&&c.hyperlink)return s.ValueType.Hyperlink;if(c.formula)return s.ValueType.Formula;if(c.error)return s.ValueType.Error;throw new Error("I could not understand type of value")}e.exports=class extends r{constructor(){super(),this.richTextXForm=new a}get tag(){return"c"}prepare(c,u){let d=u.styles.addStyleModel(c.style||{},function(f){switch(f.type){case s.ValueType.Formula:return l(f.result);default:return f.type}}(c));switch(d&&(c.styleId=d),c.comment&&u.comments.push(Xt(Be({},c.comment),{ref:c.address})),c.type){case s.ValueType.String:case s.ValueType.RichText:u.sharedStrings&&(c.ssId=u.sharedStrings.add(c.value));break;case s.ValueType.Date:u.date1904&&(c.date1904=!0);break;case s.ValueType.Hyperlink:u.sharedStrings&&c.text!==void 0&&c.text!==null&&(c.ssId=u.sharedStrings.add(c.text)),u.hyperlinks.push({address:c.address,target:c.hyperlink,tooltip:c.tooltip});break;case s.ValueType.Merge:u.merges.add(c);break;case s.ValueType.Formula:if(u.date1904&&(c.date1904=!0),c.shareType==="shared"&&(c.si=u.siFormulae++),c.formula)u.formulae[c.address]=c;else if(c.sharedFormula){let f=u.formulae[c.sharedFormula];if(!f)throw new Error("Shared Formula master must exist above and or left of clone for cell "+c.address);f.si===void 0?(f.shareType="shared",f.si=u.siFormulae++,f.range=new o(f.address,c.address)):f.range&&f.range.expandToAddress(c.address),c.si=f.si}}}renderFormula(c,u){let d=null;switch(u.shareType){case"shared":d={t:"shared",ref:u.ref||u.range.range,si:u.si};break;case"array":d={t:"array",ref:u.ref};break;default:u.si!==void 0&&(d={t:"shared",si:u.si})}switch(l(u.result)){case s.ValueType.Null:c.leafNode("f",d,u.formula);break;case s.ValueType.String:c.addAttribute("t","str"),c.leafNode("f",d,u.formula),c.leafNode("v",null,u.result);break;case s.ValueType.Number:c.leafNode("f",d,u.formula),c.leafNode("v",null,u.result);break;case s.ValueType.Boolean:c.addAttribute("t","b"),c.leafNode("f",d,u.formula),c.leafNode("v",null,u.result?1:0);break;case s.ValueType.Error:c.addAttribute("t","e"),c.leafNode("f",d,u.formula),c.leafNode("v",null,u.result.error);break;case s.ValueType.Date:c.leafNode("f",d,u.formula),c.leafNode("v",null,i.dateToExcel(u.result,u.date1904));break;default:throw new Error("I could not understand type of value")}}render(c,u){if(u.type!==s.ValueType.Null||u.styleId){switch(c.openNode("c"),c.addAttribute("r",u.address),u.styleId&&c.addAttribute("s",u.styleId),u.type){case s.ValueType.Null:break;case s.ValueType.Number:c.leafNode("v",null,u.value);break;case s.ValueType.Boolean:c.addAttribute("t","b"),c.leafNode("v",null,u.value?"1":"0");break;case s.ValueType.Error:c.addAttribute("t","e"),c.leafNode("v",null,u.value.error);break;case s.ValueType.String:case s.ValueType.RichText:u.ssId!==void 0?(c.addAttribute("t","s"),c.leafNode("v",null,u.ssId)):u.value&&u.value.richText?(c.addAttribute("t","inlineStr"),c.openNode("is"),u.value.richText.forEach(d=>{this.richTextXForm.render(c,d)}),c.closeNode("is")):(c.addAttribute("t","str"),c.leafNode("v",null,u.value));break;case s.ValueType.Date:c.leafNode("v",null,i.dateToExcel(u.value,u.date1904));break;case s.ValueType.Hyperlink:u.ssId!==void 0?(c.addAttribute("t","s"),c.leafNode("v",null,u.ssId)):(c.addAttribute("t","str"),c.leafNode("v",null,u.text));break;case s.ValueType.Formula:this.renderFormula(c,u);break;case s.ValueType.Merge:}c.closeNode()}}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"c":return this.model={address:c.attributes.r},this.t=c.attributes.t,c.attributes.s&&(this.model.styleId=parseInt(c.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=c.attributes.si,this.model.shareType=c.attributes.t,this.model.ref=c.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){if(this.parser)this.parser.parseText(c);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+c:c;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+c:c:this.model.value=this.model.value?this.model.value+c:c}}parseClose(c){switch(c){case"c":{let{model:u}=this;if(u.formula||u.shareType)u.type=s.ValueType.Formula,u.value&&(this.t==="str"?u.result=i.xmlDecode(u.value):this.t==="b"?u.result=parseInt(u.value,10)!==0:this.t==="e"?u.result={error:u.value}:u.result=parseFloat(u.value),u.value=void 0);else if(u.value!==void 0)switch(this.t){case"s":u.type=s.ValueType.String,u.value=parseInt(u.value,10);break;case"str":u.type=s.ValueType.String,u.value=i.xmlDecode(u.value);break;case"inlineStr":u.type=s.ValueType.String;break;case"b":u.type=s.ValueType.Boolean,u.value=parseInt(u.value,10)!==0;break;case"e":u.type=s.ValueType.Error,u.value={error:u.value};break;default:u.type=s.ValueType.Number,u.value=parseFloat(u.value)}else u.styleId?u.type=s.ValueType.Null:u.type=s.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(c),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(c),!0)}}reconcile(c,u){let d=c.styleId&&u.styles&&u.styles.getStyleModel(c.styleId);switch(d&&(c.style=d),c.styleId!==void 0&&(c.styleId=void 0),c.type){case s.ValueType.String:typeof c.value=="number"&&u.sharedStrings&&(c.value=u.sharedStrings.getString(c.value)),c.value.richText&&(c.type=s.ValueType.RichText);break;case s.ValueType.Number:d&&i.isDateFmt(d.numFmt)&&(c.type=s.ValueType.Date,c.value=i.excelToDate(c.value,u.date1904));break;case s.ValueType.Formula:c.result!==void 0&&d&&i.isDateFmt(d.numFmt)&&(c.result=i.excelToDate(c.result,u.date1904)),c.shareType==="shared"&&(c.ref?u.formulae[c.si]=c.address:(c.sharedFormula=u.formulae[c.si],delete c.shareType),delete c.si)}let f=u.hyperlinkMap[c.address];f&&(c.type===s.ValueType.Formula?(c.text=c.result,c.result=void 0):(c.text=c.value,c.value=void 0),c.type=s.ValueType.Hyperlink,c.hyperlink=f);let h=u.commentsMap&&u.commentsMap[c.address];h&&(c.comment=h)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(n,e,t){"use strict";let i=n("../../base-xform");e.exports=class extends i{get tag(){return"x14:cfIcon"}render(r,o){r.leafNode(this.tag,{iconSet:o.iconSet,iconId:o.iconId})}parseOpen(r){let{attributes:o}=r;this.model={iconSet:o.iconSet,iconId:i.toIntValue(o.iconId)}}parseClose(r){return r!==this.tag}}},{"../../base-xform":32}],75:[function(n,e,t){"use strict";let{v4:i}=n("uuid"),r=n("../../base-xform"),o=n("../../composite-xform"),s=n("./databar-ext-xform"),a=n("./icon-set-ext-xform"),l={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class c extends o{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new s,"x14:iconSet":this.iconSetXform=new a}}get tag(){return"x14:cfRule"}static isExt(d){return d.type==="dataBar"?s.isExt(d):!(d.type!=="iconSet"||!d.custom&&!l[d.iconSet])}prepare(d){c.isExt(d)&&(d.x14Id=`{${i()}}`.toUpperCase())}render(d,f){if(c.isExt(f))switch(f.type){case"dataBar":this.renderDataBar(d,f);break;case"iconSet":this.renderIconSet(d,f)}}renderDataBar(d,f){d.openNode(this.tag,{type:"dataBar",id:f.x14Id}),this.databarXform.render(d,f),d.closeNode()}renderIconSet(d,f){d.openNode(this.tag,{type:"iconSet",priority:f.priority,id:f.x14Id||`{${i()}}`}),this.iconSetXform.render(d,f),d.closeNode()}createNewModel(d){let{attributes:f}=d;return{type:f.type,x14Id:f.id,priority:r.toIntValue(f.priority)}}onParserClose(d,f){Object.assign(this.model,f.model)}}e.exports=c},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(n,e,t){"use strict";let i=n("../../composite-xform"),r=n("./f-ext-xform");e.exports=class extends i{constructor(){super(),this.map={"xm:f":this.fExtXform=new r}}get tag(){return"x14:cfvo"}render(o,s){o.openNode(this.tag,{type:s.type}),s.value!==void 0&&this.fExtXform.render(o,s.value),o.closeNode()}createNewModel(o){return{type:o.attributes.type}}onParserClose(o,s){switch(o){case"xm:f":this.model.value=s.model?parseFloat(s.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(n,e,t){"use strict";let i=n("../../composite-xform"),r=n("./sqref-ext-xform"),o=n("./cf-rule-ext-xform");e.exports=class extends i{constructor(){super(),this.map={"xm:sqref":this.sqRef=new r,"x14:cfRule":this.cfRule=new o}}get tag(){return"x14:conditionalFormatting"}prepare(s,a){s.rules.forEach(l=>{this.cfRule.prepare(l,a)})}render(s,a){a.rules.some(o.isExt)&&(s.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),a.rules.filter(o.isExt).forEach(l=>this.cfRule.render(s,l)),this.sqRef.render(s,a.ref),s.closeNode())}createNewModel(){return{rules:[]}}onParserClose(s,a){switch(s){case"xm:sqref":this.model.ref=a.model;break;case"x14:cfRule":this.model.rules.push(a.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(n,e,t){"use strict";let i=n("../../composite-xform"),r=n("./cf-rule-ext-xform"),o=n("./conditional-formatting-ext-xform");e.exports=class extends i{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new o}}get tag(){return"x14:conditionalFormattings"}hasContent(s){return s.hasExtContent===void 0&&(s.hasExtContent=s.some(a=>a.rules.some(r.isExt))),s.hasExtContent}prepare(s,a){s.forEach(l=>{this.cfXform.prepare(l,a)})}render(s,a){this.hasContent(a)&&(s.openNode(this.tag),a.forEach(l=>this.cfXform.render(s,l)),s.closeNode())}createNewModel(){return[]}onParserClose(s,a){this.model.push(a.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(n,e,t){"use strict";let i=n("../../base-xform"),r=n("../../composite-xform"),o=n("../../style/color-xform"),s=n("./cfvo-ext-xform");e.exports=class extends r{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new s,"x14:borderColor":this.borderColorXform=new o("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new o("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new o("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new o("x14:axisColor")}}static isExt(a){return!a.gradient}get tag(){return"x14:dataBar"}render(a,l){a.openNode(this.tag,{minLength:i.toIntAttribute(l.minLength,0,!0),maxLength:i.toIntAttribute(l.maxLength,100,!0),border:i.toBoolAttribute(l.border,!1),gradient:i.toBoolAttribute(l.gradient,!0),negativeBarColorSameAsPositive:i.toBoolAttribute(l.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolAttribute(l.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toAttribute(l.axisPosition,"auto"),direction:i.toAttribute(l.direction,"leftToRight")}),l.cfvo.forEach(c=>{this.cfvoXform.render(a,c)}),this.borderColorXform.render(a,l.borderColor),this.negativeBorderColorXform.render(a,l.negativeBorderColor),this.negativeFillColorXform.render(a,l.negativeFillColor),this.axisColorXform.render(a,l.axisColor),a.closeNode()}createNewModel(a){let{attributes:l}=a;return{cfvo:[],minLength:i.toIntValue(l.minLength,0),maxLength:i.toIntValue(l.maxLength,100),border:i.toBoolValue(l.border,!1),gradient:i.toBoolValue(l.gradient,!0),negativeBarColorSameAsPositive:i.toBoolValue(l.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolValue(l.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toStringValue(l.axisPosition,"auto"),direction:i.toStringValue(l.direction,"leftToRight")}}onParserClose(a,l){let[,c]=a.split(":");switch(c){case"cfvo":this.model.cfvo.push(l.model);break;default:this.model[c]=l.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(n,e,t){"use strict";let i=n("../../base-xform");e.exports=class extends i{get tag(){return"xm:f"}render(r,o){r.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(r){this.model+=r}parseClose(r){return r!==this.tag}}},{"../../base-xform":32}],81:[function(n,e,t){"use strict";let i=n("../../base-xform"),r=n("../../composite-xform"),o=n("./cfvo-ext-xform"),s=n("./cf-icon-ext-xform");e.exports=class extends r{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new o,"x14:cfIcon":this.cfIconXform=new s}}get tag(){return"x14:iconSet"}render(a,l){a.openNode(this.tag,{iconSet:i.toStringAttribute(l.iconSet),reverse:i.toBoolAttribute(l.reverse,!1),showValue:i.toBoolAttribute(l.showValue,!0),custom:i.toBoolAttribute(l.icons,!1)}),l.cfvo.forEach(c=>{this.cfvoXform.render(a,c)}),l.icons&&l.icons.forEach((c,u)=>{c.iconId=u,this.cfIconXform.render(a,c)}),a.closeNode()}createNewModel(a){let{attributes:l}=a;return{cfvo:[],iconSet:i.toStringValue(l.iconSet,"3TrafficLights"),reverse:i.toBoolValue(l.reverse,!1),showValue:i.toBoolValue(l.showValue,!0)}}onParserClose(a,l){let[,c]=a.split(":");switch(c){case"cfvo":this.model.cfvo.push(l.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(l.model);break;default:this.model[c]=l.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(n,e,t){"use strict";let i=n("../../base-xform");e.exports=class extends i{get tag(){return"xm:sqref"}render(r,o){r.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(r){this.model+=r}parseClose(r){return r!==this.tag}}},{"../../base-xform":32}],83:[function(n,e,t){"use strict";let i=n("../../base-xform"),r=n("../../composite-xform"),o=n("../../../../doc/range"),s=n("./databar-xform"),a=n("./ext-lst-ref-xform"),l=n("./formula-xform"),c=n("./color-scale-xform"),u=n("./icon-set-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},f=m=>{let{type:p,operator:g}=m;switch(p){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:p};default:return{type:p,operator:g}}};class h extends r{constructor(){super(),this.map={dataBar:this.databarXform=new s,extLst:this.extLstRefXform=new a,formula:this.formulaXform=new l,colorScale:this.colorScaleXform=new c,iconSet:this.iconSetXform=new u}}get tag(){return"cfRule"}static isPrimitive(p){return p.type!=="iconSet"||!p.custom&&!d[p.iconSet]}render(p,g){switch(g.type){case"expression":this.renderExpression(p,g);break;case"cellIs":this.renderCellIs(p,g);break;case"top10":this.renderTop10(p,g);break;case"aboveAverage":this.renderAboveAverage(p,g);break;case"dataBar":this.renderDataBar(p,g);break;case"colorScale":this.renderColorScale(p,g);break;case"iconSet":this.renderIconSet(p,g);break;case"containsText":this.renderText(p,g);break;case"timePeriod":this.renderTimePeriod(p,g)}}renderExpression(p,g){p.openNode(this.tag,{type:"expression",dxfId:g.dxfId,priority:g.priority}),this.formulaXform.render(p,g.formulae[0]),p.closeNode()}renderCellIs(p,g){p.openNode(this.tag,{type:"cellIs",dxfId:g.dxfId,priority:g.priority,operator:g.operator}),g.formulae.forEach(v=>{this.formulaXform.render(p,v)}),p.closeNode()}renderTop10(p,g){p.leafNode(this.tag,{type:"top10",dxfId:g.dxfId,priority:g.priority,percent:i.toBoolAttribute(g.percent,!1),bottom:i.toBoolAttribute(g.bottom,!1),rank:i.toIntValue(g.rank,10,!0)})}renderAboveAverage(p,g){p.leafNode(this.tag,{type:"aboveAverage",dxfId:g.dxfId,priority:g.priority,aboveAverage:i.toBoolAttribute(g.aboveAverage,!0)})}renderDataBar(p,g){p.openNode(this.tag,{type:"dataBar",priority:g.priority}),this.databarXform.render(p,g),this.extLstRefXform.render(p,g),p.closeNode()}renderColorScale(p,g){p.openNode(this.tag,{type:"colorScale",priority:g.priority}),this.colorScaleXform.render(p,g),p.closeNode()}renderIconSet(p,g){h.isPrimitive(g)&&(p.openNode(this.tag,{type:"iconSet",priority:g.priority}),this.iconSetXform.render(p,g),p.closeNode())}renderText(p,g){p.openNode(this.tag,{type:g.operator,dxfId:g.dxfId,priority:g.priority,operator:i.toStringAttribute(g.operator,"containsText")});let v=(x=>{if(x.formulae&&x.formulae[0])return x.formulae[0];let I=new o(x.ref),{tl:N}=I;switch(x.operator){case"containsText":return`NOT(ISERROR(SEARCH("${x.text}",${N})))`;case"containsBlanks":return`LEN(TRIM(${N}))=0`;case"notContainsBlanks":return`LEN(TRIM(${N}))>0`;case"containsErrors":return`ISERROR(${N})`;case"notContainsErrors":return`NOT(ISERROR(${N}))`;default:return}})(g);v&&this.formulaXform.render(p,v),p.closeNode()}renderTimePeriod(p,g){p.openNode(this.tag,{type:"timePeriod",dxfId:g.dxfId,priority:g.priority,timePeriod:g.timePeriod});let v=(x=>{if(x.formulae&&x.formulae[0])return x.formulae[0];let I=new o(x.ref),{tl:N}=I;switch(x.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${N},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${N},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${N},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${N},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${N},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${N},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${N},1)=TODAY()-1`;case"today":return`FLOOR(${N},1)=TODAY()`;case"tomorrow":return`FLOOR(${N},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${N},1)<=6,FLOOR(${N},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${N})=MONTH(EDATE(TODAY(),0-1)),YEAR(${N})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${N})=MONTH(TODAY()),YEAR(${N})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${N})=MONTH(EDATE(TODAY(),0+1)),YEAR(${N})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(g);v&&this.formulaXform.render(p,v),p.closeNode()}createNewModel(p){let{attributes:g}=p;return Xt(Be({},f(g)),{dxfId:i.toIntValue(g.dxfId),priority:i.toIntValue(g.priority),timePeriod:g.timePeriod,percent:i.toBoolValue(g.percent),bottom:i.toBoolValue(g.bottom),rank:i.toIntValue(g.rank),aboveAverage:i.toBoolValue(g.aboveAverage)})}onParserClose(p,g){switch(p){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,g.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(g.model)}}}e.exports=h},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(n,e,t){"use strict";let i=n("../../base-xform");e.exports=class extends i{get tag(){return"cfvo"}render(r,o){r.leafNode(this.tag,{type:o.type,val:o.value})}parseOpen(r){this.model={type:r.attributes.type,value:i.toFloatValue(r.attributes.val)}}parseClose(r){return r!==this.tag}}},{"../../base-xform":32}],85:[function(n,e,t){"use strict";let i=n("../../composite-xform"),r=n("../../style/color-xform"),o=n("./cfvo-xform");e.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new r}}get tag(){return"colorScale"}render(s,a){s.openNode(this.tag),a.cfvo.forEach(l=>{this.cfvoXform.render(s,l)}),a.color.forEach(l=>{this.colorXform.render(s,l)}),s.closeNode()}createNewModel(s){return{cfvo:[],color:[]}}onParserClose(s,a){this.model[s].push(a.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(n,e,t){"use strict";let i=n("../../composite-xform"),r=n("./cf-rule-xform");e.exports=class extends i{constructor(){super(),this.map={cfRule:new r}}get tag(){return"conditionalFormatting"}render(o,s){s.rules.some(r.isPrimitive)&&(o.openNode(this.tag,{sqref:s.ref}),s.rules.forEach(a=>{r.isPrimitive(a)&&(a.ref=s.ref,this.map.cfRule.render(o,a))}),o.closeNode())}createNewModel(o){let{attributes:s}=o;return{ref:s.sqref,rules:[]}}onParserClose(o,s){this.model.rules.push(s.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(n,e,t){"use strict";let i=n("../../base-xform"),r=n("./conditional-formatting-xform");e.exports=class extends i{constructor(){super(),this.cfXform=new r}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(o,s){let a=o.reduce((l,c)=>Math.max(l,...c.rules.map(u=>u.priority||0)),1);o.forEach(l=>{l.rules.forEach(c=>{c.priority||(c.priority=a++),c.style&&(c.dxfId=s.styles.addDxfStyle(c.style))})})}render(o,s){s.forEach(a=>{this.cfXform.render(o,a)})}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(o),!0;default:return!1}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return!!this.parser&&(!!this.parser.parseClose(o)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(o,s){o.forEach(a=>{a.rules.forEach(l=>{l.dxfId!==void 0&&(l.style=s.styles.getDxfStyle(l.dxfId),delete l.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(n,e,t){"use strict";let i=n("../../composite-xform"),r=n("../../style/color-xform"),o=n("./cfvo-xform");e.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new r}}get tag(){return"dataBar"}render(s,a){s.openNode(this.tag),a.cfvo.forEach(l=>{this.cfvoXform.render(s,l)}),this.colorXform.render(s,a.color),s.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(s,a){switch(s){case"cfvo":this.model.cfvo.push(a.model);break;case"color":this.model.color=a.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(n,e,t){"use strict";let i=n("../../base-xform"),r=n("../../composite-xform");class o extends i{get tag(){return"x14:id"}render(l,c){l.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(l){this.model+=l}parseClose(l){return l!==this.tag}}class s extends r{constructor(){super(),this.map={"x14:id":this.idXform=new o}}get tag(){return"ext"}render(l,c){l.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(l,c.x14Id),l.closeNode()}createNewModel(){return{}}onParserClose(l,c){this.model.x14Id=c.model}}e.exports=class extends r{constructor(){super(),this.map={ext:new s}}get tag(){return"extLst"}render(a,l){a.openNode(this.tag),this.map.ext.render(a,l),a.closeNode()}createNewModel(){return{}}onParserClose(a,l){Object.assign(this.model,l.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(n,e,t){"use strict";let i=n("../../base-xform");e.exports=class extends i{get tag(){return"formula"}render(r,o){r.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(r){this.model+=r}parseClose(r){return r!==this.tag}}},{"../../base-xform":32}],91:[function(n,e,t){"use strict";let i=n("../../base-xform"),r=n("../../composite-xform"),o=n("./cfvo-xform");e.exports=class extends r{constructor(){super(),this.map={cfvo:this.cfvoXform=new o}}get tag(){return"iconSet"}render(s,a){s.openNode(this.tag,{iconSet:i.toStringAttribute(a.iconSet,"3TrafficLights"),reverse:i.toBoolAttribute(a.reverse,!1),showValue:i.toBoolAttribute(a.showValue,!0)}),a.cfvo.forEach(l=>{this.cfvoXform.render(s,l)}),s.closeNode()}createNewModel(s){let{attributes:a}=s;return{iconSet:i.toStringValue(a.iconSet,"3TrafficLights"),reverse:i.toBoolValue(a.reverse),showValue:i.toBoolValue(a.showValue),cfvo:[]}}onParserClose(s,a){this.model[s].push(a.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(n,e,t){"use strict";let i=n("../../../utils/utils"),r=n("../base-xform");e.exports=class extends r{get tag(){return"col"}prepare(o,s){let a=s.styles.addStyleModel(o.style||{});a&&(o.styleId=a)}render(o,s){o.openNode("col"),o.addAttribute("min",s.min),o.addAttribute("max",s.max),s.width&&o.addAttribute("width",s.width),s.styleId&&o.addAttribute("style",s.styleId),s.hidden&&o.addAttribute("hidden","1"),s.bestFit&&o.addAttribute("bestFit","1"),s.outlineLevel&&o.addAttribute("outlineLevel",s.outlineLevel),s.collapsed&&o.addAttribute("collapsed","1"),o.addAttribute("customWidth","1"),o.closeNode()}parseOpen(o){if(o.name==="col"){let s=this.model={min:parseInt(o.attributes.min||"0",10),max:parseInt(o.attributes.max||"0",10),width:o.attributes.width===void 0?void 0:parseFloat(o.attributes.width||"0")};return o.attributes.style&&(s.styleId=parseInt(o.attributes.style,10)),i.parseBoolean(o.attributes.hidden)&&(s.hidden=!0),i.parseBoolean(o.attributes.bestFit)&&(s.bestFit=!0),o.attributes.outlineLevel&&(s.outlineLevel=parseInt(o.attributes.outlineLevel,10)),i.parseBoolean(o.attributes.collapsed)&&(s.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(o,s){o.styleId&&(o.style=s.styles.getStyleModel(o.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(n,e,t){"use strict";let i=n("../../../utils/under-dash"),r=n("../../../utils/utils"),o=n("../../../utils/col-cache"),s=n("../base-xform"),a=n("../../../doc/range");function l(u,d,f,h){let m=d[f];m!==void 0?u[f]=m:h!==void 0&&(u[f]=h)}function c(u,d,f,h){let m=d[f];m!==void 0?u[f]=r.parseBoolean(m):h!==void 0&&(u[f]=h)}e.exports=class extends s{get tag(){return"dataValidations"}render(u,d){let f=function(h){let m=i.map(h,(v,x)=>({address:x,dataValidation:v,marked:!1})).sort((v,x)=>i.strcmp(v.address,x.address)),p=i.keyBy(m,"address"),g=(v,x,I)=>{for(let N=0;N<x;N++){let H=o.encodeAddress(v.row+N,I);if(!h[H]||!i.isEqual(h[v.address],h[H]))return!1}return!0};return m.map(v=>{if(!v.marked){let x=o.decodeEx(v.address);if(x.dimensions)return p[x.dimensions].marked=!0,Xt(Be({},v.dataValidation),{sqref:v.address});let I=1,N=o.encodeAddress(x.row+I,x.col);for(;h[N]&&i.isEqual(v.dataValidation,h[N]);)I++,N=o.encodeAddress(x.row+I,x.col);let H=1;for(;g(x,I,x.col+H);)H++;for(let F=0;F<I;F++)for(let B=0;B<H;B++)N=o.encodeAddress(x.row+F,x.col+B),p[N].marked=!0;if(I>1||H>1){let F=x.row+(I-1),B=x.col+(H-1);return Xt(Be({},v.dataValidation),{sqref:`${v.address}:${o.encodeAddress(F,B)}`})}return Xt(Be({},v.dataValidation),{sqref:v.address})}return null}).filter(Boolean)}(d);f.length&&(u.openNode("dataValidations",{count:f.length}),f.forEach(h=>{u.openNode("dataValidation"),h.type!=="any"&&(u.addAttribute("type",h.type),h.operator&&h.type!=="list"&&h.operator!=="between"&&u.addAttribute("operator",h.operator),h.allowBlank&&u.addAttribute("allowBlank","1")),h.showInputMessage&&u.addAttribute("showInputMessage","1"),h.promptTitle&&u.addAttribute("promptTitle",h.promptTitle),h.prompt&&u.addAttribute("prompt",h.prompt),h.showErrorMessage&&u.addAttribute("showErrorMessage","1"),h.errorStyle&&u.addAttribute("errorStyle",h.errorStyle),h.errorTitle&&u.addAttribute("errorTitle",h.errorTitle),h.error&&u.addAttribute("error",h.error),u.addAttribute("sqref",h.sqref),(h.formulae||[]).forEach((m,p)=>{u.openNode("formula"+(p+1)),h.type==="date"?u.writeText(r.dateToExcel(new Date(m))):u.writeText(m),u.closeNode()}),u.closeNode()}),u.closeNode())}parseOpen(u){switch(u.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=u.attributes.sqref;let d={type:u.attributes.type||"any",formulae:[]};switch(u.attributes.type&&c(d,u.attributes,"allowBlank"),c(d,u.attributes,"showInputMessage"),c(d,u.attributes,"showErrorMessage"),d.type){case"any":case"list":case"custom":break;default:l(d,u.attributes,"operator","between")}return l(d,u.attributes,"promptTitle"),l(d,u.attributes,"prompt"),l(d,u.attributes,"errorStyle"),l(d,u.attributes,"errorTitle"),l(d,u.attributes,"error"),this._dataValidation=d,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(u){this._formula&&this._formula.push(u)}parseClose(u){switch(u){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(d=>{d.includes(":")?new a(d).forEachAddress(f=>{this.model[f]=this._dataValidation}):this.model[d]=this._dataValidation}),!0;case"formula1":case"formula2":{let d=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":d=parseInt(d,10);break;case"decimal":d=parseFloat(d);break;case"date":d=r.excelToDate(parseFloat(d))}return this._dataValidation.formulae.push(d),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{get tag(){return"dimension"}render(r,o){o&&r.leafNode("dimension",{ref:o})}parseOpen(r){return r.name==="dimension"&&(this.model=r.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{get tag(){return"drawing"}render(r,o){o&&r.leafNode(this.tag,{"r:id":o.rId})}parseOpen(r){switch(r.name){case this.tag:return this.model={rId:r.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(n,e,t){"use strict";let i=n("../composite-xform"),r=n("./cf-ext/conditional-formattings-ext-xform");class o extends i{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new r}}get tag(){return"ext"}hasContent(a){return this.conditionalFormattings.hasContent(a.conditionalFormattings)}prepare(a,l){this.conditionalFormattings.prepare(a.conditionalFormattings,l)}render(a,l){a.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(a,l.conditionalFormattings),a.closeNode()}createNewModel(){return{}}onParserClose(a,l){this.model[a]=l.model}}e.exports=class extends i{constructor(){super(),this.map={ext:this.ext=new o}}get tag(){return"extLst"}prepare(s,a){this.ext.prepare(s,a)}hasContent(s){return this.ext.hasContent(s)}render(s,a){this.hasContent(a)&&(s.openNode("extLst"),this.ext.render(s,a),s.closeNode())}createNewModel(){return{}}onParserClose(s,a){Object.assign(this.model,a.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{get tag(){return"headerFooter"}render(r,o){if(o){r.addRollback();let s=!1;r.openNode("headerFooter"),o.differentFirst&&(r.addAttribute("differentFirst","1"),s=!0),o.differentOddEven&&(r.addAttribute("differentOddEven","1"),s=!0),o.oddHeader&&typeof o.oddHeader=="string"&&(r.leafNode("oddHeader",null,o.oddHeader),s=!0),o.oddFooter&&typeof o.oddFooter=="string"&&(r.leafNode("oddFooter",null,o.oddFooter),s=!0),o.evenHeader&&typeof o.evenHeader=="string"&&(r.leafNode("evenHeader",null,o.evenHeader),s=!0),o.evenFooter&&typeof o.evenFooter=="string"&&(r.leafNode("evenFooter",null,o.evenFooter),s=!0),o.firstHeader&&typeof o.firstHeader=="string"&&(r.leafNode("firstHeader",null,o.firstHeader),s=!0),o.firstFooter&&typeof o.firstFooter=="string"&&(r.leafNode("firstFooter",null,o.firstFooter),s=!0),s?(r.closeNode(),r.commit()):r.rollback()}}parseOpen(r){switch(r.name){case"headerFooter":return this.model={},r.attributes.differentFirst&&(this.model.differentFirst=parseInt(r.attributes.differentFirst,0)===1),r.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(r.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(r){switch(this.currentNode){case"oddHeader":this.model.oddHeader=r;break;case"oddFooter":this.model.oddFooter=r;break;case"evenHeader":this.model.evenHeader=r;break;case"evenFooter":this.model.evenFooter=r;break;case"firstHeader":this.model.firstHeader=r;break;case"firstFooter":this.model.firstFooter=r}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{get tag(){return"hyperlink"}render(r,o){this.isInternalLink(o)?r.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip,location:o.target}):r.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip})}parseOpen(r){return r.name==="hyperlink"&&(this.model={address:r.attributes.ref,rId:r.attributes["r:id"],tooltip:r.attributes.tooltip},r.attributes.location&&(this.model.target=r.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(r){return r.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(r.target)}}},{"../base-xform":32}],99:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{get tag(){return"mergeCell"}render(r,o){r.leafNode("mergeCell",{ref:o})}parseOpen(r){return r.name==="mergeCell"&&(this.model=r.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(n,e,t){"use strict";let i=n("../../../utils/under-dash"),r=n("../../../doc/range"),o=n("../../../utils/col-cache"),s=n("../../../doc/enums");e.exports=class{constructor(){this.merges={}}add(a){if(this.merges[a.master])this.merges[a.master].expandToAddress(a.address);else{let l=`${a.master}:${a.address}`;this.merges[a.master]=new r(l)}}get mergeCells(){return i.map(this.merges,a=>a.range)}reconcile(a,l){i.each(a,c=>{let u=o.decode(c);for(let d=u.top;d<=u.bottom;d++){let f=l[d-1];for(let h=u.left;h<=u.right;h++){let m=f.cells[h-1];m?m.type===s.ValueType.Merge&&(m.master=u.tl):f.cells[h]={type:s.ValueType.Null,address:o.encodeAddress(d,h)}}}})}getMasterAddress(a){let l=this.hash[a];return l&&l.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(n,e,t){"use strict";let i=n("../base-xform"),r=o=>o!==void 0;e.exports=class extends i{get tag(){return"outlinePr"}render(o,s){return!(!s||!r(s.summaryBelow)&&!r(s.summaryRight))&&(o.leafNode(this.tag,{summaryBelow:r(s.summaryBelow)?Number(s.summaryBelow):void 0,summaryRight:r(s.summaryRight)?Number(s.summaryRight):void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={summaryBelow:r(o.attributes.summaryBelow)?!!Number(o.attributes.summaryBelow):void 0,summaryRight:r(o.attributes.summaryRight)?!!Number(o.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{get tag(){return"brk"}render(r,o){r.leafNode("brk",o)}parseOpen(r){return r.name==="brk"&&(this.model=r.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(n,e,t){"use strict";let i=n("../../../utils/under-dash"),r=n("../base-xform");e.exports=class extends r{get tag(){return"pageMargins"}render(o,s){if(s){let a={left:s.left,right:s.right,top:s.top,bottom:s.bottom,header:s.header,footer:s.footer};i.some(a,l=>l!==void 0)&&o.leafNode(this.tag,a)}}parseOpen(o){switch(o.name){case this.tag:return this.model={left:parseFloat(o.attributes.left||.7),right:parseFloat(o.attributes.right||.7),top:parseFloat(o.attributes.top||.75),bottom:parseFloat(o.attributes.bottom||.75),header:parseFloat(o.attributes.header||.3),footer:parseFloat(o.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{get tag(){return"pageSetUpPr"}render(r,o){return!(!o||!o.fitToPage)&&(r.leafNode(this.tag,{fitToPage:o.fitToPage?"1":void 0}),!0)}parseOpen(r){return r.name===this.tag&&(this.model={fitToPage:r.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(n,e,t){"use strict";let i=n("../../../utils/under-dash"),r=n("../base-xform");function o(c){return c?"1":void 0}function s(c){switch(c){case"overThenDown":return c;default:return}}function a(c){switch(c){case"atEnd":case"asDisplyed":return c;default:return}}function l(c){switch(c){case"dash":case"blank":case"NA":return c;default:return}}e.exports=class extends r{get tag(){return"pageSetup"}render(c,u){if(u){let d={paperSize:u.paperSize,orientation:u.orientation,horizontalDpi:u.horizontalDpi,verticalDpi:u.verticalDpi,pageOrder:s(u.pageOrder),blackAndWhite:o(u.blackAndWhite),draft:o(u.draft),cellComments:a(u.cellComments),errors:l(u.errors),scale:u.scale,fitToWidth:u.fitToWidth,fitToHeight:u.fitToHeight,firstPageNumber:u.firstPageNumber,useFirstPageNumber:o(u.firstPageNumber),usePrinterDefaults:o(u.usePrinterDefaults),copies:u.copies};i.some(d,f=>f!==void 0)&&c.leafNode(this.tag,d)}}parseOpen(c){switch(c.name){case this.tag:return this.model={paperSize:(u=c.attributes.paperSize,u!==void 0?parseInt(u,10):void 0),orientation:c.attributes.orientation||"portrait",horizontalDpi:parseInt(c.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(c.attributes.verticalDpi||"4294967295",10),pageOrder:c.attributes.pageOrder||"downThenOver",blackAndWhite:c.attributes.blackAndWhite==="1",draft:c.attributes.draft==="1",cellComments:c.attributes.cellComments||"None",errors:c.attributes.errors||"displayed",scale:parseInt(c.attributes.scale||"100",10),fitToWidth:parseInt(c.attributes.fitToWidth||"1",10),fitToHeight:parseInt(c.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(c.attributes.firstPageNumber||"1",10),useFirstPageNumber:c.attributes.useFirstPageNumber==="1",usePrinterDefaults:c.attributes.usePrinterDefaults==="1",copies:parseInt(c.attributes.copies||"1",10)},!0;default:return!1}var u}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{get tag(){return"picture"}render(r,o){o&&r.leafNode(this.tag,{"r:id":o.rId})}parseOpen(r){switch(r.name){case this.tag:return this.model={rId:r.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(n,e,t){"use strict";let i=n("../../../utils/under-dash"),r=n("../base-xform");function o(s){return s?"1":void 0}e.exports=class extends r{get tag(){return"printOptions"}render(s,a){if(a){let l={headings:o(a.showRowColHeaders),gridLines:o(a.showGridLines),horizontalCentered:o(a.horizontalCentered),verticalCentered:o(a.verticalCentered)};i.some(l,c=>c!==void 0)&&s.leafNode(this.tag,l)}}parseOpen(s){switch(s.name){case this.tag:return this.model={showRowColHeaders:s.attributes.headings==="1",showGridLines:s.attributes.gridLines==="1",horizontalCentered:s.attributes.horizontalCentered==="1",verticalCentered:s.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(n,e,t){"use strict";let i=n("./page-breaks-xform"),r=n("../list-xform");e.exports=class extends r{constructor(){super({tag:"rowBreaks",count:!0,childXform:new i})}render(o,s){if(s&&s.length){o.openNode(this.tag,this.$),this.count&&(o.addAttribute(this.$count,s.length),o.addAttribute("manualBreakCount",s.length));let{childXform:a}=this;s.forEach(l=>{a.render(o,l)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(n,e,t){"use strict";let i=n("../base-xform"),r=n("../../../utils/utils"),o=n("./cell-xform");e.exports=class extends i{constructor(s){super(),this.maxItems=s&&s.maxItems,this.map={c:new o}}get tag(){return"row"}prepare(s,a){let l=a.styles.addStyleModel(s.style);l&&(s.styleId=l);let c=this.map.c;s.cells.forEach(u=>{c.prepare(u,a)})}render(s,a,l){s.openNode("row"),s.addAttribute("r",a.number),a.height&&(s.addAttribute("ht",a.height),s.addAttribute("customHeight","1")),a.hidden&&s.addAttribute("hidden","1"),a.min>0&&a.max>0&&a.min<=a.max&&s.addAttribute("spans",`${a.min}:${a.max}`),a.styleId&&(s.addAttribute("s",a.styleId),s.addAttribute("customFormat","1")),s.addAttribute("x14ac:dyDescent","0.25"),a.outlineLevel&&s.addAttribute("outlineLevel",a.outlineLevel),a.collapsed&&s.addAttribute("collapsed","1");let c=this.map.c;a.cells.forEach(u=>{c.render(s,u,l)}),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;if(s.name==="row"){this.numRowsSeen+=1;let a=s.attributes.spans?s.attributes.spans.split(":").map(c=>parseInt(c,10)):[void 0,void 0],l=this.model={number:parseInt(s.attributes.r,10),min:a[0],max:a[1],cells:[]};return s.attributes.s&&(l.styleId=parseInt(s.attributes.s,10)),r.parseBoolean(s.attributes.hidden)&&(l.hidden=!0),r.parseBoolean(s.attributes.bestFit)&&(l.bestFit=!0),s.attributes.ht&&(l.height=parseFloat(s.attributes.ht)),s.attributes.outlineLevel&&(l.outlineLevel=parseInt(s.attributes.outlineLevel,10)),r.parseBoolean(s.attributes.collapsed)&&(l.collapsed=!0),!0}return this.parser=this.map[s.name],!!this.parser&&(this.parser.parseOpen(s),!0)}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(s,a){s.style=s.styleId?a.styles.getStyleModel(s.styleId):{},s.styleId!==void 0&&(s.styleId=void 0);let l=this.map.c;s.cells.forEach(c=>{l.reconcile(c,a)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(n,e,t){"use strict";let i=n("../../../utils/under-dash"),r=n("../base-xform");e.exports=class extends r{get tag(){return"sheetFormatPr"}render(o,s){if(s){let a={defaultRowHeight:s.defaultRowHeight,outlineLevelRow:s.outlineLevelRow,outlineLevelCol:s.outlineLevelCol,"x14ac:dyDescent":s.dyDescent};s.defaultColWidth&&(a.defaultColWidth=s.defaultColWidth),s.defaultRowHeight&&s.defaultRowHeight===15||(a.customHeight="1"),i.some(a,l=>l!==void 0)&&o.leafNode("sheetFormatPr",a)}}parseOpen(o){return o.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(o.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(o.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(o.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(o.attributes.outlineLevelCol||"0",10)},o.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(o.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(n,e,t){"use strict";let i=n("../base-xform"),r=n("../style/color-xform"),o=n("./page-setup-properties-xform"),s=n("./outline-properties-xform");e.exports=class extends i{constructor(){super(),this.map={tabColor:new r("tabColor"),pageSetUpPr:new o,outlinePr:new s}}get tag(){return"sheetPr"}render(a,l){if(l){a.addRollback(),a.openNode("sheetPr");let c=!1;c=this.map.tabColor.render(a,l.tabColor)||c,c=this.map.pageSetUpPr.render(a,l.pageSetup)||c,c=this.map.outlinePr.render(a,l.outlineProperties)||c,c?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){return this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag?(this.reset(),!0):!!this.map[a.name]&&(this.parser=this.map[a.name],this.parser.parseOpen(a),!0)}parseText(a){return!!this.parser&&(this.parser.parseText(a),!0)}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(n,e,t){"use strict";let i=n("../../../utils/under-dash"),r=n("../base-xform");function o(a,l){return a?l:void 0}function s(a,l){return a===l||void 0}e.exports=class extends r{get tag(){return"sheetProtection"}render(a,l){if(l){let c={sheet:o(l.sheet,"1"),selectLockedCells:l.selectLockedCells===!1?"1":void 0,selectUnlockedCells:l.selectUnlockedCells===!1?"1":void 0,formatCells:o(l.formatCells,"0"),formatColumns:o(l.formatColumns,"0"),formatRows:o(l.formatRows,"0"),insertColumns:o(l.insertColumns,"0"),insertRows:o(l.insertRows,"0"),insertHyperlinks:o(l.insertHyperlinks,"0"),deleteColumns:o(l.deleteColumns,"0"),deleteRows:o(l.deleteRows,"0"),sort:o(l.sort,"0"),autoFilter:o(l.autoFilter,"0"),pivotTables:o(l.pivotTables,"0")};l.sheet&&(c.algorithmName=l.algorithmName,c.hashValue=l.hashValue,c.saltValue=l.saltValue,c.spinCount=l.spinCount,c.objects=o(l.objects===!1,"1"),c.scenarios=o(l.scenarios===!1,"1")),i.some(c,u=>u!==void 0)&&a.leafNode(this.tag,c)}}parseOpen(a){switch(a.name){case this.tag:return this.model={sheet:s(a.attributes.sheet,"1"),objects:a.attributes.objects!=="1"&&void 0,scenarios:a.attributes.scenarios!=="1"&&void 0,selectLockedCells:a.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:a.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:s(a.attributes.formatCells,"0"),formatColumns:s(a.attributes.formatColumns,"0"),formatRows:s(a.attributes.formatRows,"0"),insertColumns:s(a.attributes.insertColumns,"0"),insertRows:s(a.attributes.insertRows,"0"),insertHyperlinks:s(a.attributes.insertHyperlinks,"0"),deleteColumns:s(a.attributes.deleteColumns,"0"),deleteRows:s(a.attributes.deleteRows,"0"),sort:s(a.attributes.sort,"0"),autoFilter:s(a.attributes.autoFilter,"0"),pivotTables:s(a.attributes.pivotTables,"0")},a.attributes.algorithmName&&(this.model.algorithmName=a.attributes.algorithmName,this.model.hashValue=a.attributes.hashValue,this.model.saltValue=a.attributes.saltValue,this.model.spinCount=parseInt(a.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(n,e,t){"use strict";let i=n("../../../utils/col-cache"),r=n("../base-xform"),o={frozen:"frozen",frozenSplit:"frozen",split:"split"};e.exports=class extends r{get tag(){return"sheetView"}prepare(s){switch(s.state){case"frozen":case"split":break;default:s.state="normal"}}render(s,a){s.openNode("sheetView",{workbookViewId:a.workbookViewId||0});let l=function(h,m,p){p&&s.addAttribute(h,m)},c,u,d,f;switch(l("rightToLeft","1",a.rightToLeft===!0),l("tabSelected","1",a.tabSelected),l("showRuler","0",a.showRuler===!1),l("showRowColHeaders","0",a.showRowColHeaders===!1),l("showGridLines","0",a.showGridLines===!1),l("zoomScale",a.zoomScale,a.zoomScale),l("zoomScaleNormal",a.zoomScaleNormal,a.zoomScaleNormal),l("view",a.style,a.style),a.state){case"frozen":u=a.xSplit||0,d=a.ySplit||0,c=a.topLeftCell||i.getAddress(d+1,u+1).address,f=(a.xSplit&&a.ySplit?"bottomRight":a.xSplit&&"topRight")||"bottomLeft",s.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:c,activePane:f,state:"frozen"}),s.leafNode("selection",{pane:f,activeCell:a.activeCell,sqref:a.activeCell});break;case"split":a.activePane==="topLeft"&&(a.activePane=void 0),s.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:a.topLeftCell,activePane:a.activePane}),s.leafNode("selection",{pane:a.activePane,activeCell:a.activeCell,sqref:a.activeCell});break;case"normal":a.activeCell&&s.leafNode("selection",{activeCell:a.activeCell,sqref:a.activeCell})}s.closeNode()}parseOpen(s){switch(s.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(s.attributes.workbookViewId,10),rightToLeft:s.attributes.rightToLeft==="1",tabSelected:s.attributes.tabSelected==="1",showRuler:s.attributes.showRuler!=="0",showRowColHeaders:s.attributes.showRowColHeaders!=="0",showGridLines:s.attributes.showGridLines!=="0",zoomScale:parseInt(s.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(s.attributes.zoomScaleNormal||"100",10),style:s.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(s.attributes.xSplit||"0",10),ySplit:parseInt(s.attributes.ySplit||"0",10),topLeftCell:s.attributes.topLeftCell,activePane:s.attributes.activePane||"topLeft",state:s.attributes.state},!0;case"selection":{let a=s.attributes.pane||"topLeft";return this.selections[a]={pane:a,activeCell:s.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(s){let a,l;switch(s){case"sheetView":return this.sheetView&&this.pane?(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:o[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(a.activePane=this.pane.activePane),l=this.selections[this.pane.activePane],l&&l.activeCell&&(a.activeCell=l.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)):(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},l=this.selections.topLeft,l&&l.activeCell&&(a.activeCell=l.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{get tag(){return"tablePart"}render(r,o){o&&r.leafNode(this.tag,{"r:id":o.rId})}parseOpen(r){switch(r.name){case this.tag:return this.model={rId:r.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(n,e,t){"use strict";let i=n("../../../utils/under-dash"),r=n("../../../utils/col-cache"),o=n("../../../utils/xml-stream"),s=n("../../rel-type"),a=n("./merges"),l=n("../base-xform"),c=n("../list-xform"),u=n("./row-xform"),d=n("./col-xform"),f=n("./dimension-xform"),h=n("./hyperlink-xform"),m=n("./merge-cell-xform"),p=n("./data-validations-xform"),g=n("./sheet-properties-xform"),v=n("./sheet-format-properties-xform"),x=n("./sheet-view-xform"),I=n("./sheet-protection-xform"),N=n("./page-margins-xform"),H=n("./page-setup-xform"),F=n("./print-options-xform"),B=n("./auto-filter-xform"),V=n("./picture-xform"),G=n("./drawing-xform"),W=n("./table-part-xform"),k=n("./row-breaks-xform"),E=n("./header-footer-xform"),L=n("./cf/conditional-formattings-xform"),b=n("./ext-lst-xform"),w=(y,C)=>{if(!C||!C.length)return y;if(!y||!y.length)return C;let S={},R={};return y.forEach(Z=>{S[Z.ref]=Z,Z.rules.forEach(j=>{let{x14Id:X}=j;X&&(R[X]=j)})}),C.forEach(Z=>{Z.rules.forEach(j=>{let X=R[j.x14Id];X?((D,Y)=>{Object.keys(Y).forEach(P=>{let M=D[P],$=Y[P];M===void 0&&$!==void 0&&(D[P]=$)})})(X,j):S[Z.ref]?S[Z.ref].rules.push(j):y.push({ref:Z.ref,rules:[j]})})}),y};class _ extends l{constructor(C){super();let{maxRows:S,maxCols:R,ignoreNodes:Z}=C||{};this.ignoreNodes=Z||[],this.map={sheetPr:new g,dimension:new f,sheetViews:new c({tag:"sheetViews",count:!1,childXform:new x}),sheetFormatPr:new v,cols:new c({tag:"cols",count:!1,childXform:new d}),sheetData:new c({tag:"sheetData",count:!1,empty:!0,childXform:new u({maxItems:R}),maxItems:S}),autoFilter:new B,mergeCells:new c({tag:"mergeCells",count:!0,childXform:new m}),rowBreaks:new k,hyperlinks:new c({tag:"hyperlinks",count:!1,childXform:new h}),pageMargins:new N,dataValidations:new p,pageSetup:new H,headerFooter:new E,printOptions:new F,picture:new V,drawing:new G,sheetProtection:new I,tableParts:new c({tag:"tableParts",count:!0,childXform:new W}),conditionalFormatting:new L,extLst:new b}}prepare(C,S){S.merges=new a,C.hyperlinks=S.hyperlinks=[],C.comments=S.comments=[],S.formulae={},S.siFormulae=0,this.map.cols.prepare(C.cols,S),this.map.sheetData.prepare(C.rows,S),this.map.conditionalFormatting.prepare(C.conditionalFormattings,S),C.mergeCells=S.merges.mergeCells;let R=C.rels=[];function Z(D){return"rId"+(D.length+1)}if(C.hyperlinks.forEach(D=>{let Y=Z(R);D.rId=Y,R.push({Id:Y,Type:s.Hyperlink,Target:D.target,TargetMode:"External"})}),C.comments.length>0){let D={Id:Z(R),Type:s.Comments,Target:`../comments${C.id}.xml`};R.push(D);let Y={Id:Z(R),Type:s.VmlDrawing,Target:`../drawings/vmlDrawing${C.id}.vml`};R.push(Y),C.comments.forEach(P=>{P.refAddress=r.decodeAddress(P.ref)}),S.commentRefs.push({commentName:"comments"+C.id,vmlDrawing:"vmlDrawing"+C.id})}let j=[],X;C.media.forEach(D=>{if(D.type==="background"){let Y=Z(R);X=S.media[D.imageId],R.push({Id:Y,Type:s.Image,Target:`../media/${X.name}.${X.extension}`}),C.background={rId:Y},C.image=S.media[D.imageId]}else if(D.type==="image"){let{drawing:Y}=C;X=S.media[D.imageId],Y||(Y=C.drawing={rId:Z(R),name:"drawing"+ ++S.drawingsCount,anchors:[],rels:[]},S.drawings.push(Y),R.push({Id:Y.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${Y.name}.xml`}));let P=this.preImageId===D.imageId?j[D.imageId]:j[Y.rels.length];P||(P=Z(Y.rels),j[Y.rels.length]=P,Y.rels.push({Id:P,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${X.name}.${X.extension}`}));let M={picture:{rId:P},range:D.range};if(D.hyperlinks&&D.hyperlinks.hyperlink){let $=Z(Y.rels);j[Y.rels.length]=$,M.picture.hyperlinks={tooltip:D.hyperlinks.tooltip,rId:$},Y.rels.push({Id:$,Type:s.Hyperlink,Target:D.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=D.imageId,Y.anchors.push(M)}}),C.tables.forEach(D=>{let Y=Z(R);D.rId=Y,R.push({Id:Y,Type:s.Table,Target:"../tables/"+D.target}),D.columns.forEach(P=>{let{style:M}=P;M&&(P.dxfId=S.styles.addDxfStyle(M))})}),this.map.extLst.prepare(C,S)}render(C,S){C.openXml(o.StdDocAttributes),C.openNode("worksheet",_.WORKSHEET_ATTRIBUTES);let R=S.properties?{defaultRowHeight:S.properties.defaultRowHeight,dyDescent:S.properties.dyDescent,outlineLevelCol:S.properties.outlineLevelCol,outlineLevelRow:S.properties.outlineLevelRow}:void 0;S.properties&&S.properties.defaultColWidth&&(R.defaultColWidth=S.properties.defaultColWidth);let Z={outlineProperties:S.properties&&S.properties.outlineProperties,tabColor:S.properties&&S.properties.tabColor,pageSetup:S.pageSetup&&S.pageSetup.fitToPage?{fitToPage:S.pageSetup.fitToPage}:void 0},j=S.pageSetup&&S.pageSetup.margins,X={showRowColHeaders:S.pageSetup&&S.pageSetup.showRowColHeaders,showGridLines:S.pageSetup&&S.pageSetup.showGridLines,horizontalCentered:S.pageSetup&&S.pageSetup.horizontalCentered,verticalCentered:S.pageSetup&&S.pageSetup.verticalCentered},D=S.sheetProtection;this.map.sheetPr.render(C,Z),this.map.dimension.render(C,S.dimensions),this.map.sheetViews.render(C,S.views),this.map.sheetFormatPr.render(C,R),this.map.cols.render(C,S.cols),this.map.sheetData.render(C,S.rows),this.map.sheetProtection.render(C,D),this.map.autoFilter.render(C,S.autoFilter),this.map.mergeCells.render(C,S.mergeCells),this.map.conditionalFormatting.render(C,S.conditionalFormattings),this.map.dataValidations.render(C,S.dataValidations),this.map.hyperlinks.render(C,S.hyperlinks),this.map.printOptions.render(C,X),this.map.pageMargins.render(C,j),this.map.pageSetup.render(C,S.pageSetup),this.map.headerFooter.render(C,S.headerFooter),this.map.rowBreaks.render(C,S.rowBreaks),this.map.drawing.render(C,S.drawing),this.map.picture.render(C,S.background),this.map.tableParts.render(C,S.tables),this.map.extLst.render(C,S),S.rels&&S.rels.forEach(Y=>{Y.Type===s.VmlDrawing&&C.leafNode("legacyDrawing",{"r:id":Y.Id})}),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):C.name==="worksheet"?(i.each(this.map,S=>{S.reset()}),!0):(this.map[C.name]&&!this.ignoreNodes.includes(C.name)&&(this.parser=this.map[C.name],this.parser.parseOpen(C)),!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser)return this.parser.parseClose(C)||(this.parser=void 0),!0;switch(C){case"worksheet":{let S=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(S.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(S.outlineProperties=this.map.sheetPr.model.outlineProperties);let R={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},Z=Object.assign(R,this.map.pageSetup.model,this.map.printOptions.model),j=w(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:S,views:this.map.sheetViews.model,pageSetup:Z,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:j},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(C,S){let R=(C.relationships||[]).reduce((j,X)=>{if(j[X.Id]=X,X.Type===s.Comments&&(C.comments=S.comments[X.Target].comments),X.Type===s.VmlDrawing&&C.comments&&C.comments.length){let D=S.vmlDrawings[X.Target].comments;C.comments.forEach((Y,P)=>{Y.note=Object.assign({},Y.note,D[P])})}return j},{});if(S.commentsMap=(C.comments||[]).reduce((j,X)=>(X.ref&&(j[X.ref]=X),j),{}),S.hyperlinkMap=(C.hyperlinks||[]).reduce((j,X)=>(X.rId&&(j[X.address]=R[X.rId].Target),j),{}),S.formulae={},C.rows=C.rows&&C.rows.filter(Boolean)||[],C.rows.forEach(j=>{j.cells=j.cells&&j.cells.filter(Boolean)||[]}),this.map.cols.reconcile(C.cols,S),this.map.sheetData.reconcile(C.rows,S),this.map.conditionalFormatting.reconcile(C.conditionalFormattings,S),C.media=[],C.drawing){let j=R[C.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(j){let X=j[1];S.drawings[X].anchors.forEach(D=>{if(D.medium){let Y={type:"image",imageId:D.medium.index,range:D.range,hyperlinks:D.picture.hyperlinks};C.media.push(Y)}})}}let Z=C.background&&R[C.background.rId];if(Z){let j=Z.Target.split("/media/")[1],X=S.mediaIndex&&S.mediaIndex[j];X!==void 0&&C.media.push({type:"background",imageId:X})}C.tables=(C.tables||[]).map(j=>{let X=R[j.rId];return S.tables[X.Target]}),delete C.relationships,delete C.hyperlinks,delete C.comments}}_.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},e.exports=_},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{constructor(r){super(),this.tag=r.tag,this.attr=r.attr}render(r,o){o&&(r.openNode(this.tag),r.closeNode())}parseOpen(r){r.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{constructor(r){super(),this.tag=r.tag,this.attr=r.attr,this.attrs=r.attrs,this._format=r.format||function(o){try{return Number.isNaN(o.getTime())?"":o.toISOString()}catch{return""}},this._parse=r.parse||function(o){return new Date(o)}}render(r,o){o&&(r.openNode(this.tag),this.attrs&&r.addAttributes(this.attrs),this.attr?r.addAttribute(this.attr,this._format(o)):r.writeText(this._format(o)),r.closeNode())}parseOpen(r){r.name===this.tag&&(this.attr?this.model=this._parse(r.attributes[this.attr]):this.text=[])}parseText(r){this.attr||this.text.push(r)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{constructor(r){super(),this.tag=r.tag,this.attr=r.attr,this.attrs=r.attrs,this.zero=r.zero}render(r,o){(o||this.zero)&&(r.openNode(this.tag),this.attrs&&r.addAttributes(this.attrs),this.attr?r.addAttribute(this.attr,o):r.writeText(o),r.closeNode())}parseOpen(r){return r.name===this.tag&&(this.attr?this.model=parseInt(r.attributes[this.attr],10):this.text=[],!0)}parseText(r){this.attr||this.text.push(r)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{constructor(r){super(),this.tag=r.tag,this.attr=r.attr,this.attrs=r.attrs}render(r,o){o!==void 0&&(r.openNode(this.tag),this.attrs&&r.addAttributes(this.attrs),this.attr?r.addAttribute(this.attr,o):r.writeText(o),r.closeNode())}parseOpen(r){r.name===this.tag&&(this.attr?this.model=r.attributes[this.attr]:this.text=[])}parseText(r){this.attr||this.text.push(r)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(n,e,t){"use strict";let i=n("./base-xform"),r=n("../../utils/xml-stream");e.exports=class extends i{constructor(o){super(),this._model=o}render(o){if(!this._xml){let s=new r;(function a(l,c){l.openNode(c.tag,c.$),c.c&&c.c.forEach(u=>{a(l,u)}),c.t&&l.writeText(c.t),l.closeNode()})(s,this._model),this._xml=s.xml}o.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(o){switch(o){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(n,e,t){"use strict";let i=n("./text-xform"),r=n("./rich-text-xform"),o=n("../base-xform");e.exports=class extends o{constructor(){super(),this.map={r:new r,t:new i}}get tag(){return"rPh"}render(s,a){if(s.openNode(this.tag,{sb:a.sb||0,eb:a.eb||0}),a&&a.hasOwnProperty("richText")&&a.richText){let{r:l}=this.map;a.richText.forEach(c=>{l.render(s,c)})}else a&&this.map.t.render(s,a.text);s.closeNode()}parseOpen(s){let{name:a}=s;return this.parser?(this.parser.parseOpen(s),!0):a===this.tag?(this.model={sb:parseInt(s.attributes.sb,10),eb:parseInt(s.attributes.eb,10)},!0):(this.parser=this.map[a],!!this.parser&&(this.parser.parseOpen(s),!0))}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)){switch(s){case"r":{let a=this.model.richText;a||(a=this.model.richText=[]),a.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(n,e,t){"use strict";let i=n("./text-xform"),r=n("../style/font-xform"),o=n("../base-xform");class s extends o{constructor(l){super(),this.model=l}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new i)}get fontXform(){return this._fontXform||(this._fontXform=new r(s.FONT_OPTIONS))}render(l,c){c=c||this.model,l.openNode("r"),c.font&&this.fontXform.render(l,c.font),this.textXform.render(l,c.text),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(l),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){switch(l){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(l),!0}}}s.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},e.exports=s},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(n,e,t){"use strict";let i=n("./text-xform"),r=n("./rich-text-xform"),o=n("./phonetic-text-xform"),s=n("../base-xform");e.exports=class extends s{constructor(a){super(),this.model=a,this.map={r:new r,t:new i,rPh:new o}}get tag(){return"si"}render(a,l){a.openNode(this.tag),l&&l.hasOwnProperty("richText")&&l.richText?l.richText.length?l.richText.forEach(c=>{this.map.r.render(a,c)}):this.map.t.render(a,""):l!=null&&this.map.t.render(a,l),a.closeNode()}parseOpen(a){let{name:l}=a;return this.parser?(this.parser.parseOpen(a),!0):l===this.tag?(this.model={},!0):(this.parser=this.map[l],!!this.parser&&(this.parser.parseOpen(a),!0))}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)){switch(a){case"r":{let l=this.model.richText;l||(l=this.model.richText=[]),l.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(n,e,t){"use strict";let i=n("../../../utils/xml-stream"),r=n("../base-xform"),o=n("./shared-string-xform");e.exports=class extends r{constructor(s){super(),this.model=s||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new o)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(s){return this.model.values[s]}add(s){return s.richText?this.addRichText(s):this.addText(s)}addText(s){let a=this.hash[s];return a===void 0&&(a=this.hash[s]=this.model.values.length,this.model.values.push(s)),this.model.count++,a}addRichText(s){let a=this.sharedStringXform.toXml(s),l=this.rich[a];return l===void 0&&(l=this.rich[a]=this.model.values.length,this.model.values.push(s)),this.model.count++,l}render(s,a){a=a||this._values,s.openXml(i.StdDocAttributes),s.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:a.count,uniqueCount:a.values.length});let l=this.sharedStringXform;a.values.forEach(c=>{l.render(s,c)}),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(s),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(s))}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(s){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+s)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{get tag(){return"t"}render(r,o){r.openNode("t"),/^\s|\n|\s$/.test(o)&&r.addAttribute("xml:space","preserve"),r.writeText(o),r.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(r,o)=>String.fromCharCode(parseInt(o,16)))}parseOpen(r){switch(r.name){case"t":return this._text=[],!0;default:return!1}}parseText(r){this._text.push(r)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(n,e,t){"use strict";let i=n("../../../doc/enums"),r=n("../../../utils/utils"),o=n("../base-xform"),s={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((l,c)=>(l[c]=!0,l),{}),horizontal(l){return this.horizontalValues[l]?l:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((l,c)=>(l[c]=!0,l),{}),vertical(l){return l==="middle"?"center":this.verticalValues[l]?l:void 0},wrapText:l=>!!l||void 0,shrinkToFit:l=>!!l||void 0,textRotation(l){switch(l){case"vertical":return l;default:return(l=r.validInt(l))>=-90&&l<=90?l:void 0}},indent:l=>(l=r.validInt(l),Math.max(0,l)),readingOrder(l){switch(l){case"ltr":return i.ReadingOrder.LeftToRight;case"rtl":return i.ReadingOrder.RightToLeft;default:return}}},a={toXml(l){if(l=s.textRotation(l)){if(l==="vertical")return 255;let c=Math.round(l);if(c>=0&&c<=90)return c;if(c<0&&c>=-90)return 90-c}},toModel(l){let c=r.validInt(l);if(c!==void 0){if(c===255)return"vertical";if(c>=0&&c<=90)return c;if(c>90&&c<=180)return 90-c}}};e.exports=class extends o{get tag(){return"alignment"}render(l,c){l.addRollback(),l.openNode("alignment");let u=!1;function d(f,h){h&&(l.addAttribute(f,h),u=!0)}d("horizontal",s.horizontal(c.horizontal)),d("vertical",s.vertical(c.vertical)),d("wrapText",!!s.wrapText(c.wrapText)&&"1"),d("shrinkToFit",!!s.shrinkToFit(c.shrinkToFit)&&"1"),d("indent",s.indent(c.indent)),d("textRotation",a.toXml(c.textRotation)),d("readingOrder",s.readingOrder(c.readingOrder)),l.closeNode(),u?l.commit():l.rollback()}parseOpen(l){let c={},u=!1;function d(f,h,m){f&&(c[h]=m,u=!0)}d(l.attributes.horizontal,"horizontal",l.attributes.horizontal),d(l.attributes.vertical,"vertical",l.attributes.vertical==="center"?"middle":l.attributes.vertical),d(l.attributes.wrapText,"wrapText",r.parseBoolean(l.attributes.wrapText)),d(l.attributes.shrinkToFit,"shrinkToFit",r.parseBoolean(l.attributes.shrinkToFit)),d(l.attributes.indent,"indent",parseInt(l.attributes.indent,10)),d(l.attributes.textRotation,"textRotation",a.toModel(l.attributes.textRotation)),d(l.attributes.readingOrder,"readingOrder",l.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=u?c:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(n,e,t){"use strict";let i=n("../base-xform"),r=n("../../../utils/utils"),o=n("./color-xform");class s extends i{constructor(l){super(),this.name=l,this.map={color:new o}}get tag(){return this.name}render(l,c,u){let d=c&&c.color||u||this.defaultColor;l.openNode(this.name),c&&c.style&&(l.addAttribute("style",c.style),d&&this.map.color.render(l,d)),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.name:{let{style:c}=l.attributes;return this.model=c?{style:c}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.parser=void 0),!0):(l===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(l){return s.validStyleValues[l]}}s.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((a,l)=>(a[l]=!0,a),{}),e.exports=class extends i{constructor(){super(),this.map={top:new s("top"),left:new s("left"),bottom:new s("bottom"),right:new s("right"),diagonal:new s("diagonal")}}render(a,l){let{color:c}=l;function u(d,f){d&&!d.color&&l.color&&(d=Xt(Be({},d),{color:l.color})),f.render(a,d,c)}a.openNode("border"),l.diagonal&&l.diagonal.style&&(l.diagonal.up&&a.addAttribute("diagonalUp","1"),l.diagonal.down&&a.addAttribute("diagonalDown","1")),u(l.left,this.map.left),u(l.right,this.map.right),u(l.top,this.map.top),u(l.bottom,this.map.bottom),u(l.diagonal,this.map.diagonal),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"border":return this.reset(),this.diagonalUp=r.parseBoolean(a.attributes.diagonalUp),this.diagonalDown=r.parseBoolean(a.attributes.diagonalDown),!0;default:return this.parser=this.map[a.name],!!this.parser&&(this.parser.parseOpen(a),!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;if(a==="border"){let l=this.model={},c=function(u,d,f){d&&(f&&Object.assign(d,f),l[u]=d)};c("left",this.map.left.model),c("right",this.map.right.model),c("top",this.map.top.model),c("bottom",this.map.bottom.model),c("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{constructor(r){super(),this.name=r||"color"}get tag(){return this.name}render(r,o){return!!o&&(r.openNode(this.name),o.argb?r.addAttribute("rgb",o.argb):o.theme!==void 0?(r.addAttribute("theme",o.theme),o.tint!==void 0&&r.addAttribute("tint",o.tint)):o.indexed!==void 0?r.addAttribute("indexed",o.indexed):r.addAttribute("auto","1"),r.closeNode(),!0)}parseOpen(r){return r.name===this.name&&(r.attributes.rgb?this.model={argb:r.attributes.rgb}:r.attributes.theme?(this.model={theme:parseInt(r.attributes.theme,10)},r.attributes.tint&&(this.model.tint=parseFloat(r.attributes.tint))):r.attributes.indexed?this.model={indexed:parseInt(r.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(n,e,t){"use strict";let i=n("../base-xform"),r=n("./alignment-xform"),o=n("./border-xform"),s=n("./fill-xform"),a=n("./font-xform"),l=n("./numfmt-xform"),c=n("./protection-xform");e.exports=class extends i{constructor(){super(),this.map={alignment:new r,border:new o,fill:new s,font:new a,numFmt:new l,protection:new c}}get tag(){return"dxf"}render(u,d){if(u.openNode(this.tag),d.font&&this.map.font.render(u,d.font),d.numFmt&&d.numFmtId){let f={id:d.numFmtId,formatCode:d.numFmt};this.map.numFmt.render(u,f)}d.fill&&this.map.fill.render(u,d.fill),d.alignment&&this.map.alignment.render(u,d.alignment),d.border&&this.map.border.render(u,d.border),d.protection&&this.map.protection.render(u,d.protection),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u),!0}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):u!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(n,e,t){"use strict";let i=n("../base-xform"),r=n("./color-xform");class o extends i{constructor(){super(),this.map={color:new r}}get tag(){return"stop"}render(u,d){u.openNode("stop"),u.addAttribute("position",d.position),this.map.color.render(u,d.color),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"stop":return this.model={position:parseFloat(u.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(u),!0;default:return!1}}parseText(){}parseClose(u){return!!this.parser&&(this.parser.parseClose(u)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class s extends i{constructor(){super(),this.map={fgColor:new r("fgColor"),bgColor:new r("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(u,d){u.openNode("patternFill"),u.addAttribute("patternType",d.pattern),d.fgColor&&this.map.fgColor.render(u,d.fgColor),d.bgColor&&this.map.bgColor.render(u,d.bgColor),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"patternFill":return this.model={type:"pattern",pattern:u.attributes.patternType},!0;default:return this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0)}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return!!this.parser&&(this.parser.parseClose(u)||(this.parser.model&&(this.model[u]=this.parser.model),this.parser=void 0),!0)}}class a extends i{constructor(){super(),this.map={stop:new o}}get name(){return"gradient"}get tag(){return"gradientFill"}render(u,d){switch(u.openNode("gradientFill"),d.gradient){case"angle":u.addAttribute("degree",d.degree);break;case"path":u.addAttribute("type","path"),d.center.left&&(u.addAttribute("left",d.center.left),d.center.right===void 0&&u.addAttribute("right",d.center.left)),d.center.right&&u.addAttribute("right",d.center.right),d.center.top&&(u.addAttribute("top",d.center.top),d.center.bottom===void 0&&u.addAttribute("bottom",d.center.top)),d.center.bottom&&u.addAttribute("bottom",d.center.bottom)}let f=this.map.stop;d.stops.forEach(h=>{f.render(u,h)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"gradientFill":{let d=this.model={stops:[]};return u.attributes.degree?(d.gradient="angle",d.degree=parseInt(u.attributes.degree,10)):u.attributes.type==="path"&&(d.gradient="path",d.center={left:u.attributes.left?parseFloat(u.attributes.left):0,top:u.attributes.top?parseFloat(u.attributes.top):0},u.attributes.right!==u.attributes.left&&(d.center.right=u.attributes.right?parseFloat(u.attributes.right):0),u.attributes.bottom!==u.attributes.top&&(d.center.bottom=u.attributes.bottom?parseFloat(u.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return!!this.parser&&(this.parser.parseClose(u)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class l extends i{constructor(){super(),this.map={patternFill:new s,gradientFill:new a}}get tag(){return"fill"}render(u,d){switch(u.addRollback(),u.openNode("fill"),d.type){case"pattern":this.map.patternFill.render(u,d);break;case"gradient":this.map.gradientFill.render(u,d);break;default:return void u.rollback()}u.closeNode(),u.commit()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"fill":return this.model={},!0;default:return this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0)}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return!!this.parser&&(this.parser.parseClose(u)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(u){return l.validPatternValues[u]}}l.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((c,u)=>(c[u]=!0,c),{}),l.StopXform=o,l.PatternFillXform=s,l.GradientFillXform=a,e.exports=l},{"../base-xform":32,"./color-xform":128}],131:[function(n,e,t){"use strict";let i=n("./color-xform"),r=n("../simple/boolean-xform"),o=n("../simple/integer-xform"),s=n("../simple/string-xform"),a=n("./underline-xform"),l=n("../../../utils/under-dash"),c=n("../base-xform");class u extends c{constructor(f){super(),this.options=f||u.OPTIONS,this.map={b:{prop:"bold",xform:new r({tag:"b",attr:"val"})},i:{prop:"italic",xform:new r({tag:"i",attr:"val"})},u:{prop:"underline",xform:new a},charset:{prop:"charset",xform:new o({tag:"charset",attr:"val"})},color:{prop:"color",xform:new i},condense:{prop:"condense",xform:new r({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new r({tag:"extend",attr:"val"})},family:{prop:"family",xform:new o({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new r({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new s({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new s({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new r({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new r({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new o({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new s({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(f,h){let{map:m}=this;f.openNode(this.options.tagName),l.each(this.map,(p,g)=>{m[g].xform.render(f,h[p.prop])}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;if(this.map[f.name])return this.parser=this.map[f.name].xform,this.parser.parseOpen(f);switch(f.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser&&!this.parser.parseClose(f)){let h=this.map[f];return this.parser.model&&(this.model[h.prop]=this.parser.model),this.parser=void 0,!0}switch(f){case this.options.tagName:return!1;default:return!0}}}u.OPTIONS={tagName:"font",fontNameTag:"name"},e.exports=u},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(n,e,t){"use strict";let i=n("../../../utils/under-dash"),r=n("../../defaultnumformats"),o=n("../base-xform"),s=function(){let l={};return i.each(r,(c,u)=>{c.f&&(l[c.f]=parseInt(u,10))}),l}();class a extends o{constructor(c,u){super(),this.id=c,this.formatCode=u}get tag(){return"numFmt"}render(c,u){c.leafNode("numFmt",{numFmtId:u.id,formatCode:u.formatCode})}parseOpen(c){switch(c.name){case"numFmt":return this.model={id:parseInt(c.attributes.numFmtId,10),formatCode:c.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}a.getDefaultFmtId=function(l){return s[l]},a.getDefaultFmtCode=function(l){return r[l]&&r[l].f},e.exports=a},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(n,e,t){"use strict";let i=n("../base-xform"),r={boolean:(o,s)=>o===void 0?s:o};e.exports=class extends i{get tag(){return"protection"}render(o,s){o.addRollback(),o.openNode("protection");let a=!1;function l(c,u){u!==void 0&&(o.addAttribute(c,u),a=!0)}l("locked",r.boolean(s.locked,!0)?void 0:"0"),l("hidden",r.boolean(s.hidden,!1)?"1":void 0),o.closeNode(),a?o.commit():o.rollback()}parseOpen(o){let s={locked:o.attributes.locked!=="0",hidden:o.attributes.hidden==="1"},a=!s.locked||s.hidden;this.model=a?s:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(n,e,t){"use strict";let i=n("../base-xform"),r=n("./alignment-xform"),o=n("./protection-xform");e.exports=class extends i{constructor(s){super(),this.xfId=!(!s||!s.xfId),this.map={alignment:new r,protection:new o}}get tag(){return"xf"}render(s,a){s.openNode("xf",{numFmtId:a.numFmtId||0,fontId:a.fontId||0,fillId:a.fillId||0,borderId:a.borderId||0}),this.xfId&&s.addAttribute("xfId",a.xfId||0),a.numFmtId&&s.addAttribute("applyNumberFormat","1"),a.fontId&&s.addAttribute("applyFont","1"),a.fillId&&s.addAttribute("applyFill","1"),a.borderId&&s.addAttribute("applyBorder","1"),a.alignment&&s.addAttribute("applyAlignment","1"),a.protection&&s.addAttribute("applyProtection","1"),a.alignment&&this.map.alignment.render(s,a.alignment),a.protection&&this.map.protection.render(s,a.protection),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"xf":return this.model={numFmtId:parseInt(s.attributes.numFmtId,10),fontId:parseInt(s.attributes.fontId,10),fillId:parseInt(s.attributes.fillId,10),borderId:parseInt(s.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(s.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(s),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(s),!0;default:return!1}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):s!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(n,e,t){"use strict";let i=n("../../../doc/enums"),r=n("../../../utils/xml-stream"),o=n("../base-xform"),s=n("../static-xform"),a=n("../list-xform"),l=n("./font-xform"),c=n("./fill-xform"),u=n("./border-xform"),d=n("./numfmt-xform"),f=n("./style-xform"),h=n("./dxf-xform");class m extends o{constructor(g){super(),this.map={numFmts:new a({tag:"numFmts",count:!0,childXform:new d}),fonts:new a({tag:"fonts",count:!0,childXform:new l,$:{"x14ac:knownFonts":1}}),fills:new a({tag:"fills",count:!0,childXform:new c}),borders:new a({tag:"borders",count:!0,childXform:new u}),cellStyleXfs:new a({tag:"cellStyleXfs",count:!0,childXform:new f}),cellXfs:new a({tag:"cellXfs",count:!0,childXform:new f({xfId:!0})}),dxfs:new a({tag:"dxfs",always:!0,count:!0,childXform:new h}),numFmt:new d,font:new l,fill:new c,border:new u,style:new f({xfId:!0}),cellStyles:m.STATIC_XFORMS.cellStyles,tableStyles:m.STATIC_XFORMS.tableStyles,extLst:m.STATIC_XFORMS.extLst},g&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(g,v){v=v||this.model,g.openXml(r.StdDocAttributes),g.openNode("styleSheet",m.STYLESHEET_ATTRIBUTES),this.index?(v.numFmts&&v.numFmts.length&&(g.openNode("numFmts",{count:v.numFmts.length}),v.numFmts.forEach(x=>{g.writeXml(x)}),g.closeNode()),v.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),g.openNode("fonts",{count:v.fonts.length,"x14ac:knownFonts":1}),v.fonts.forEach(x=>{g.writeXml(x)}),g.closeNode(),g.openNode("fills",{count:v.fills.length}),v.fills.forEach(x=>{g.writeXml(x)}),g.closeNode(),g.openNode("borders",{count:v.borders.length}),v.borders.forEach(x=>{g.writeXml(x)}),g.closeNode(),this.map.cellStyleXfs.render(g,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),g.openNode("cellXfs",{count:v.styles.length}),v.styles.forEach(x=>{g.writeXml(x)}),g.closeNode()):(this.map.numFmts.render(g,v.numFmts),this.map.fonts.render(g,v.fonts),this.map.fills.render(g,v.fills),this.map.borders.render(g,v.borders),this.map.cellStyleXfs.render(g,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(g,v.styles)),m.STATIC_XFORMS.cellStyles.render(g),this.map.dxfs.render(g,v.dxfs),m.STATIC_XFORMS.tableStyles.render(g),m.STATIC_XFORMS.extLst.render(g),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;switch(g.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[g.name],this.parser&&this.parser.parseOpen(g),!0}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser)return this.parser.parseClose(g)||(this.parser=void 0),!0;switch(g){case"styleSheet":{this.model={};let v=(x,I)=>{I.model&&I.model.length&&(this.model[x]=I.model)};if(v("numFmts",this.map.numFmts),v("fonts",this.map.fonts),v("fills",this.map.fills),v("borders",this.map.borders),v("styles",this.map.cellXfs),v("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){let x=this.index.numFmt;this.model.numFmts.forEach(I=>{x[I.id]=I.formatCode})}return!1}default:return!0}}addStyleModel(g,v){if(!g)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(g))return this.weakMap.get(g);let x={};if(v=v||i.ValueType.Number,g.numFmt)x.numFmtId=this._addNumFmtStr(g.numFmt);else switch(v){case i.ValueType.Number:x.numFmtId=this._addNumFmtStr("General");break;case i.ValueType.Date:x.numFmtId=this._addNumFmtStr("mm-dd-yy")}g.font&&(x.fontId=this._addFont(g.font)),g.border&&(x.borderId=this._addBorder(g.border)),g.fill&&(x.fillId=this._addFill(g.fill)),g.alignment&&(x.alignment=g.alignment),g.protection&&(x.protection=g.protection);let I=this._addStyle(x);return this.weakMap&&this.weakMap.set(g,I),I}getStyleModel(g){let v=this.model.styles[g];if(!v)return null;let x=this.index.model[g];if(x)return x;if(x=this.index.model[g]={},v.numFmtId){let N=this.index.numFmt[v.numFmtId]||d.getDefaultFmtCode(v.numFmtId);N&&(x.numFmt=N)}function I(N,H,F){if(F||F===0){let B=H[F];B&&(x[N]=B)}}return I("font",this.model.fonts,v.fontId),I("border",this.model.borders,v.borderId),I("fill",this.model.fills,v.fillId),v.alignment&&(x.alignment=v.alignment),v.protection&&(x.protection=v.protection),x}addDxfStyle(g){return g.numFmt&&(g.numFmtId=this._addNumFmtStr(g.numFmt)),this.model.dxfs.push(g),this.model.dxfs.length-1}getDxfStyle(g){return this.model.dxfs[g]}_addStyle(g){let v=this.map.style.toXml(g),x=this.index.style[v];return x===void 0&&(x=this.index.style[v]=this.model.styles.length,this.model.styles.push(v)),x}_addNumFmtStr(g){let v=d.getDefaultFmtId(g);if(v!==void 0||(v=this.index.numFmt[g],v!==void 0))return v;v=this.index.numFmt[g]=164+this.model.numFmts.length;let x=this.map.numFmt.toXml({id:v,formatCode:g});return this.model.numFmts.push(x),v}_addFont(g){let v=this.map.font.toXml(g),x=this.index.font[v];return x===void 0&&(x=this.index.font[v]=this.model.fonts.length,this.model.fonts.push(v)),x}_addBorder(g){let v=this.map.border.toXml(g),x=this.index.border[v];return x===void 0&&(x=this.index.border[v]=this.model.borders.length,this.model.borders.push(v)),x}_addFill(g){let v=this.map.fill.toXml(g),x=this.index.fill[v];return x===void 0&&(x=this.index.fill[v]=this.model.fills.length,this.model.fills.push(v)),x}}m.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},m.STATIC_XFORMS={cellStyles:new s({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new s({tag:"dxfs",$:{count:0}}),tableStyles:new s({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new s({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},m.Mock=class extends m{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(p){return p.autodrain(),Promise.resolve()}addStyleModel(p,g){switch(g){case i.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){let p={numFmtId:d.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(p)}return this._dateStyleId}getStyleModel(){return{}}},e.exports=m},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(n,e,t){"use strict";let i=n("../base-xform");class r extends i{constructor(s){super(),this.model=s}get tag(){return"u"}render(s,a){if((a=a||this.model)===!0)s.leafNode("u");else{let l=r.Attributes[a];l&&s.leafNode("u",l)}}parseOpen(s){s.name==="u"&&(this.model=s.attributes.val||!0)}parseText(){}parseClose(){return!1}}r.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},e.exports=r},{"../base-xform":32}],137:[function(n,e,t){"use strict";let i=n("../base-xform"),r=n("./filter-column-xform");e.exports=class extends i{constructor(){super(),this.map={filterColumn:new r}}get tag(){return"autoFilter"}prepare(o){o.columns.forEach((s,a)=>{this.map.filterColumn.prepare(s,{index:a})})}render(o,s){return o.openNode(this.tag,{ref:s.autoFilterRef}),s.columns.forEach(a=>{this.map.filterColumn.render(o,a)}),o.closeNode(),!0}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model={autoFilterRef:o.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[o.name],this.parser)return this.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(o){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+o)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{get tag(){return"customFilter"}render(r,o){r.leafNode(this.tag,{val:o.val,operator:o.operator})}parseOpen(r){return r.name===this.tag&&(this.model={val:r.attributes.val,operator:r.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(n,e,t){"use strict";let i=n("../base-xform"),r=n("../list-xform"),o=n("./custom-filter-xform"),s=n("./filter-xform");e.exports=class extends i{constructor(){super(),this.map={customFilters:new r({tag:"customFilters",count:!1,empty:!0,childXform:new o}),filters:new r({tag:"filters",count:!1,empty:!0,childXform:new s})}}get tag(){return"filterColumn"}prepare(a,l){a.colId=l.index.toString()}render(a,l){return l.customFilters?(a.openNode(this.tag,{colId:l.colId,hiddenButton:l.filterButton?"0":"1"}),this.map.customFilters.render(a,l.customFilters),a.closeNode(),!0):(a.leafNode(this.tag,{colId:l.colId,hiddenButton:l.filterButton?"0":"1"}),!0)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;let{attributes:l}=a;switch(a.name){case this.tag:return this.model={filterButton:l.hiddenButton==="0"},!0;default:if(this.parser=this.map[a.name],this.parser)return this.parseOpen(a),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{get tag(){return"filter"}render(r,o){r.leafNode(this.tag,{val:o.val})}parseOpen(r){return r.name===this.tag&&(this.model={val:r.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{get tag(){return"tableColumn"}prepare(r,o){r.id=o.index+1}render(r,o){return r.leafNode(this.tag,{id:o.id.toString(),name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId}),!0}parseOpen(r){if(r.name===this.tag){let{attributes:o}=r;return this.model={name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(n,e,t){"use strict";let i=n("../base-xform");e.exports=class extends i{get tag(){return"tableStyleInfo"}render(r,o){return r.leafNode(this.tag,{name:o.theme?o.theme:void 0,showFirstColumn:o.showFirstColumn?"1":"0",showLastColumn:o.showLastColumn?"1":"0",showRowStripes:o.showRowStripes?"1":"0",showColumnStripes:o.showColumnStripes?"1":"0"}),!0}parseOpen(r){if(r.name===this.tag){let{attributes:o}=r;return this.model={theme:o.name?o.name:null,showFirstColumn:o.showFirstColumn==="1",showLastColumn:o.showLastColumn==="1",showRowStripes:o.showRowStripes==="1",showColumnStripes:o.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(n,e,t){"use strict";let i=n("../../../utils/xml-stream"),r=n("../base-xform"),o=n("../list-xform"),s=n("./auto-filter-xform"),a=n("./table-column-xform"),l=n("./table-style-info-xform");class c extends r{constructor(){super(),this.map={autoFilter:new s,tableColumns:new o({tag:"tableColumns",count:!0,empty:!0,childXform:new a}),tableStyleInfo:new l}}prepare(d,f){this.map.autoFilter.prepare(d),this.map.tableColumns.prepare(d.columns,f)}get tag(){return"table"}render(d,f){d.openXml(i.StdDocAttributes),d.openNode(this.tag,Xt(Be({},c.TABLE_ATTRIBUTES),{id:f.id,name:f.name,displayName:f.displayName||f.name,ref:f.tableRef,totalsRowCount:f.totalsRow?"1":void 0,totalsRowShown:f.totalsRow?void 0:"1",headerRowCount:f.headerRow?"1":"0"})),this.map.autoFilter.render(d,f),this.map.tableColumns.render(d,f.columns),this.map.tableStyleInfo.render(d,f.style),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;let{name:f,attributes:h}=d;switch(f){case this.tag:this.reset(),this.model={name:h.name,displayName:h.displayName||h.name,tableRef:h.ref,totalsRow:h.totalsRowCount==="1",headerRow:h.headerRowCount==="1"};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((f,h)=>{this.model.columns[h].filterButton=f.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(d,f){d.columns.forEach(h=>{h.dxfId!==void 0&&(h.style=f.styles.getDxfStyle(h.dxfId))})}}c.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},e.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(n,e,t){(function(i,r){(function(){"use strict";let o=n("fs"),s=n("jszip"),{PassThrough:a}=n("readable-stream"),l=n("../utils/zip-stream"),c=n("../utils/stream-buf"),u=n("../utils/utils"),d=n("../utils/xml-stream"),{bufferToString:f}=n("../utils/browser-buffer-decode"),h=n("./xform/style/styles-xform"),m=n("./xform/core/core-xform"),p=n("./xform/strings/shared-strings-xform"),g=n("./xform/core/relationships-xform"),v=n("./xform/core/content-types-xform"),x=n("./xform/core/app-xform"),I=n("./xform/book/workbook-xform"),N=n("./xform/sheet/worksheet-xform"),H=n("./xform/drawing/drawing-xform"),F=n("./xform/table/table-xform"),B=n("./xform/comment/comments-xform"),V=n("./xform/comment/vml-notes-xform"),G=n("./xml/theme1");class W{constructor(E){this.workbook=E}readFile(E,L){return gn(this,null,function*(){if(!(yield u.fs.exists(E)))throw new Error("File not found: "+E);let b=o.createReadStream(E);try{let w=yield this.read(b,L);return b.close(),w}catch(w){throw b.close(),w}})}parseRels(E){return new g().parseStream(E)}parseWorkbook(E){return new I().parseStream(E)}parseSharedStrings(E){return new p().parseStream(E)}reconcile(E,L){let b=new I,w=new N(L),_=new H,y=new F;b.reconcile(E);let C={media:E.media,mediaIndex:E.mediaIndex};Object.keys(E.drawings).forEach(Z=>{let j=E.drawings[Z],X=E.drawingRels[Z];X&&(C.rels=X.reduce((D,Y)=>(D[Y.Id]=Y,D),{}),(j.anchors||[]).forEach(D=>{let Y=D.picture&&D.picture.hyperlinks;Y&&C.rels[Y.rId]&&(Y.hyperlink=C.rels[Y.rId].Target,delete Y.rId)}),_.reconcile(j,C))});let S={styles:E.styles};Object.values(E.tables).forEach(Z=>{y.reconcile(Z,S)});let R={styles:E.styles,sharedStrings:E.sharedStrings,media:E.media,mediaIndex:E.mediaIndex,date1904:E.properties&&E.properties.date1904,drawings:E.drawings,comments:E.comments,tables:E.tables,vmlDrawings:E.vmlDrawings};E.worksheets.forEach(Z=>{Z.relationships=E.worksheetRels[Z.sheetNo],w.reconcile(Z,R)}),delete E.worksheetHash,delete E.worksheetRels,delete E.globalRels,delete E.sharedStrings,delete E.workbookRels,delete E.sheetDefs,delete E.styles,delete E.mediaIndex,delete E.drawings,delete E.drawingRels,delete E.vmlDrawings}_processWorksheetEntry(E,L,b,w,_){return gn(this,null,function*(){let y=new N(w),C=yield y.parseStream(E);C.sheetNo=b,L.worksheetHash[_]=C,L.worksheets.push(C)})}_processCommentEntry(E,L,b){return gn(this,null,function*(){let w=new B,_=yield w.parseStream(E);L.comments[`../${b}.xml`]=_})}_processTableEntry(E,L,b){return gn(this,null,function*(){let w=new F,_=yield w.parseStream(E);L.tables[`../tables/${b}.xml`]=_})}_processWorksheetRelsEntry(E,L,b){return gn(this,null,function*(){let w=new g,_=yield w.parseStream(E);L.worksheetRels[b]=_})}_processMediaEntry(E,L,b){return gn(this,null,function*(){let w=b.lastIndexOf(".");if(w>=1){let _=b.substr(w+1),y=b.substr(0,w);yield new Promise((C,S)=>{let R=new c;R.on("finish",()=>{L.mediaIndex[b]=L.media.length,L.mediaIndex[y]=L.media.length;let Z={type:"image",name:y,extension:_,buffer:R.toBuffer()};L.media.push(Z),C()}),E.on("error",Z=>{S(Z)}),E.pipe(R)})}})}_processDrawingEntry(E,L,b){return gn(this,null,function*(){let w=new H,_=yield w.parseStream(E);L.drawings[b]=_})}_processDrawingRelsEntry(E,L,b){return gn(this,null,function*(){let w=new g,_=yield w.parseStream(E);L.drawingRels[b]=_})}_processVmlDrawingEntry(E,L,b){return gn(this,null,function*(){let w=new V,_=yield w.parseStream(E);L.vmlDrawings[`../drawings/${b}.vml`]=_})}_processThemeEntry(E,L,b){return gn(this,null,function*(){yield new Promise((w,_)=>{let y=new c;E.on("error",_),y.on("error",_),y.on("finish",()=>{L.themes[b]=y.read().toString(),w()}),E.pipe(y)})})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}read(E,L){return gn(this,null,function*(){!E[Symbol.asyncIterator]&&E.pipe&&(E=E.pipe(new a));let b=[];try{for(var w=kw(E),_,y,C;_=!(y=yield w.next()).done;_=!1){let S=y.value;b.push(S)}}catch{C=[y]}finally{try{_&&(y=w.return)&&(yield y.call(w))}finally{if(C)throw C[0]}}return this.load(r.concat(b),L)})}load(E,L){return gn(this,null,function*(){let b;b=L&&L.base64?r.from(E.toString(),"base64"):E;let w={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},_=yield s.loadAsync(b);for(let y of Object.values(_.files))if(!y.dir){let C,S=y.name;if(S[0]==="/"&&(S=S.substr(1)),S.match(/xl\/media\//)||S.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))C=new a,C.write(yield y.async("nodebuffer"));else{let R;C=new a({writableObjectMode:!0,readableObjectMode:!0}),R=i.browser?f(yield y.async("nodebuffer")):yield y.async("string");let Z=16384;for(let j=0;j<R.length;j+=Z)C.write(R.substring(j,j+Z))}switch(C.end(),S){case"_rels/.rels":w.globalRels=yield this.parseRels(C);break;case"xl/workbook.xml":{let R=yield this.parseWorkbook(C);w.sheets=R.sheets,w.definedNames=R.definedNames,w.views=R.views,w.properties=R.properties,w.calcProperties=R.calcProperties;break}case"xl/_rels/workbook.xml.rels":w.workbookRels=yield this.parseRels(C);break;case"xl/sharedStrings.xml":w.sharedStrings=new p,yield w.sharedStrings.parseStream(C);break;case"xl/styles.xml":w.styles=new h,yield w.styles.parseStream(C);break;case"docProps/app.xml":{let R=new x,Z=yield R.parseStream(C);w.company=Z.company,w.manager=Z.manager;break}case"docProps/core.xml":{let R=new m,Z=yield R.parseStream(C);Object.assign(w,Z);break}default:{let R=S.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(R){yield this._processWorksheetEntry(C,w,R[1],L,S);break}if(R=S.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),R){yield this._processWorksheetRelsEntry(C,w,R[1]);break}if(R=S.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),R){yield this._processThemeEntry(C,w,R[1]);break}if(R=S.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),R){yield this._processMediaEntry(C,w,R[1]);break}if(R=S.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),R){yield this._processDrawingEntry(C,w,R[1]);break}if(R=S.match(/xl\/(comments\d+)[.]xml/),R){yield this._processCommentEntry(C,w,R[1]);break}if(R=S.match(/xl\/tables\/(table\d+)[.]xml/),R){yield this._processTableEntry(C,w,R[1]);break}if(R=S.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),R){yield this._processDrawingRelsEntry(C,w,R[1]);break}if(R=S.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),R){yield this._processVmlDrawingEntry(C,w,R[1]);break}}}}return this.reconcile(w,L),this.workbook.model=w,this.workbook})}addMedia(E,L){return gn(this,null,function*(){yield Promise.all(L.media.map(b=>gn(this,null,function*(){if(b.type==="image"){let w=`xl/media/${b.name}.${b.extension}`;if(b.filename){let _=yield function(y,C){return new Promise((S,R)=>{o.readFile(y,C,(Z,j)=>{Z?R(Z):S(j)})})}(b.filename);return E.append(_,{name:w})}if(b.buffer)return E.append(b.buffer,{name:w});if(b.base64){let _=b.base64,y=_.substring(_.indexOf(",")+1);return E.append(y,{name:w,base64:!0})}}throw new Error("Unsupported media")})))})}addDrawings(E,L){let b=new H,w=new g;L.worksheets.forEach(_=>{let{drawing:y}=_;if(y){b.prepare(y,{});let C=b.toXml(y);E.append(C,{name:`xl/drawings/${y.name}.xml`}),C=w.toXml(y.rels),E.append(C,{name:`xl/drawings/_rels/${y.name}.xml.rels`})}})}addTables(E,L){let b=new F;L.worksheets.forEach(w=>{let{tables:_}=w;_.forEach(y=>{b.prepare(y,{});let C=b.toXml(y);E.append(C,{name:"xl/tables/"+y.target})})})}addContentTypes(E,L){return gn(this,null,function*(){let b=new v().toXml(L);E.append(b,{name:"[Content_Types].xml"})})}addApp(E,L){return gn(this,null,function*(){let b=new x().toXml(L);E.append(b,{name:"docProps/app.xml"})})}addCore(E,L){return gn(this,null,function*(){let b=new m;E.append(b.toXml(L),{name:"docProps/core.xml"})})}addThemes(E,L){return gn(this,null,function*(){let b=L.themes||{theme1:G};Object.keys(b).forEach(w=>{let _=b[w],y=`xl/theme/${w}.xml`;E.append(_,{name:y})})})}addOfficeRels(E){return gn(this,null,function*(){let L=new g().toXml([{Id:"rId1",Type:W.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:W.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:W.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);E.append(L,{name:"_rels/.rels"})})}addWorkbookRels(E,L){return gn(this,null,function*(){let b=1,w=[{Id:"rId"+b++,Type:W.RelType.Styles,Target:"styles.xml"},{Id:"rId"+b++,Type:W.RelType.Theme,Target:"theme/theme1.xml"}];L.sharedStrings.count&&w.push({Id:"rId"+b++,Type:W.RelType.SharedStrings,Target:"sharedStrings.xml"}),L.worksheets.forEach(y=>{y.rId="rId"+b++,w.push({Id:y.rId,Type:W.RelType.Worksheet,Target:`worksheets/sheet${y.id}.xml`})});let _=new g().toXml(w);E.append(_,{name:"xl/_rels/workbook.xml.rels"})})}addSharedStrings(E,L){return gn(this,null,function*(){L.sharedStrings&&L.sharedStrings.count&&E.append(L.sharedStrings.xml,{name:"xl/sharedStrings.xml"})})}addStyles(E,L){return gn(this,null,function*(){let{xml:b}=L.styles;b&&E.append(b,{name:"xl/styles.xml"})})}addWorkbook(E,L){return gn(this,null,function*(){let b=new I;E.append(b.toXml(L),{name:"xl/workbook.xml"})})}addWorksheets(E,L){return gn(this,null,function*(){let b=new N,w=new g,_=new B,y=new V;L.worksheets.forEach(C=>{let S=new d;b.render(S,C),E.append(S.xml,{name:`xl/worksheets/sheet${C.id}.xml`}),C.rels&&C.rels.length&&(S=new d,w.render(S,C.rels),E.append(S.xml,{name:`xl/worksheets/_rels/sheet${C.id}.xml.rels`})),C.comments.length>0&&(S=new d,_.render(S,C),E.append(S.xml,{name:`xl/comments${C.id}.xml`}),S=new d,y.render(S,C),E.append(S.xml,{name:`xl/drawings/vmlDrawing${C.id}.vml`}))})})}_finalize(E){return new Promise((L,b)=>{E.on("finish",()=>{L(this)}),E.on("error",b),E.finalize()})}prepareModel(E,L){E.creator=E.creator||"ExcelJS",E.lastModifiedBy=E.lastModifiedBy||"ExcelJS",E.created=E.created||new Date,E.modified=E.modified||new Date,E.useSharedStrings=L.useSharedStrings===void 0||L.useSharedStrings,E.useStyles=L.useStyles===void 0||L.useStyles,E.sharedStrings=new p,E.styles=E.useStyles?new h(!0):new h.Mock;let b=new I,w=new N;b.prepare(E);let _={sharedStrings:E.sharedStrings,styles:E.styles,date1904:E.properties.date1904,drawingsCount:0,media:E.media};_.drawings=E.drawings=[],_.commentRefs=E.commentRefs=[];let y=0;E.tables=[],E.worksheets.forEach(C=>{C.tables.forEach(S=>{y++,S.target=`table${y}.xml`,S.id=y,E.tables.push(S)}),w.prepare(C,_)})}write(E,L){return gn(this,null,function*(){L=L||{};let{model:b}=this.workbook,w=new l.ZipWriter(L.zip);return w.pipe(E),this.prepareModel(b,L),yield this.addContentTypes(w,b),yield this.addOfficeRels(w,b),yield this.addWorkbookRels(w,b),yield this.addWorksheets(w,b),yield this.addSharedStrings(w,b),yield this.addDrawings(w,b),yield this.addTables(w,b),yield Promise.all([this.addThemes(w,b),this.addStyles(w,b)]),yield this.addMedia(w,b),yield Promise.all([this.addApp(w,b),this.addCore(w,b)]),yield this.addWorkbook(w,b),this._finalize(w)})}writeFile(E,L){let b=o.createWriteStream(E);return new Promise((w,_)=>{b.on("finish",()=>{w()}),b.on("error",y=>{_(y)}),this.write(b,L).then(()=>{b.end()}).catch(y=>{_(y)})})}writeBuffer(E){return gn(this,null,function*(){let L=new c;return yield this.write(L,E),L.read()})}}W.RelType=n("./rel-type"),e.exports=W}).call(this)}).call(this,n("_process"),n("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(n,e,t){"use strict";e.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/> <a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/> <a:font script="Hans" typeface="\u5B8B\u4F53"/> <a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/> <a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/> <a:font script="Hans" typeface="\u5B8B\u4F53"/> <a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(n,e,t){(function(i){(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CsvFormatterStream=void 0;let r=n("stream"),o=n("./formatter");class s extends r.Transform{constructor(l){super({writableObjectMode:l.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=l,this.rowFormatter=new o.RowFormatter(l),this.hasWrittenBOM=!l.writeBOM}transform(l){return this.rowFormatter.rowTransform=l,this}_transform(l,c,u){let d=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(l,(f,h)=>f?(d=!0,u(f)):(h&&h.forEach(m=>{this.push(i.from(m,"utf8"))}),d=!0,u()))}catch(f){if(d)throw f;u(f)}}_flush(l){this.rowFormatter.finish((c,u)=>c?l(c):(u&&u.forEach(d=>{this.push(i.from(d,"utf8"))}),l()))}}t.CsvFormatterStream=s}).call(this)}).call(this,n("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FormatterOptions=void 0,t.FormatterOptions=class{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var r;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,i||{}),i?.quoteHeaders===void 0&&(this.quoteHeaders=this.quoteColumns),i?.quote===!0?this.quote='"':i?.quote===!1&&(this.quote=""),typeof i?.escape!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((r=i.writeHeaders)===null||r===void 0||r),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(n,e,t){"use strict";var i=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(t,"__esModule",{value:!0}),t.FieldFormatter=void 0;let r=i(n("lodash.isboolean")),o=i(n("lodash.isnil")),s=i(n("lodash.escaperegexp"));t.FieldFormatter=class{constructor(a){this._headers=null,this.formatterOptions=a,a.headers!==null&&(this.headers=a.headers),this.REPLACE_REGEXP=new RegExp(a.quote,"g");let l=`[${a.delimiter}${s.default(a.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(l)}set headers(a){this._headers=a}shouldQuote(a,l){let c=l?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return r.default(c)?c:Array.isArray(c)?c[a]:this._headers!==null&&c[this._headers[a]]}format(a,l,c){let u=(""+(o.default(a)?"":a)).replace(/\0/g,""),{formatterOptions:d}=this;return d.quote!==""&&u.indexOf(d.quote)!==-1?this.quoteField(u.replace(this.REPLACE_REGEXP,d.escapedQuote)):u.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(l,c)?this.quoteField(u):u}quoteField(a){let{quote:l}=this.formatterOptions;return`${l}${a}${l}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(n,e,t){"use strict";var i=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0}),t.RowFormatter=void 0;let r=i(n("lodash.isfunction")),o=i(n("lodash.isequal")),s=n("./FieldFormatter"),a=n("../types");class l{constructor(u){this.rowCount=0,this.formatterOptions=u,this.fieldFormatter=new s.FieldFormatter(u),this.headers=u.headers,this.shouldWriteHeaders=u.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),u.transform&&(this.rowTransform=u.transform)}static isRowHashArray(u){return!!Array.isArray(u)&&Array.isArray(u[0])&&u[0].length===2}static isRowArray(u){return Array.isArray(u)&&!this.isRowHashArray(u)}static gatherHeaders(u){return l.isRowHashArray(u)?u.map(d=>d[0]):Array.isArray(u)?u:Object.keys(u)}static createTransform(u){return a.isSyncTransform(u)?(d,f)=>{let h=null;try{h=u(d)}catch(m){return f(m)}return f(null,h)}:(d,f)=>{u(d,f)}}set rowTransform(u){if(!r.default(u))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(u)}format(u,d){this.callTransformer(u,(f,h)=>{if(f)return d(f);if(!u)return d(null);let m=[];if(h){let{shouldFormatColumns:p,headers:g}=this.checkHeaders(h);if(this.shouldWriteHeaders&&g&&!this.hasWrittenHeaders&&(m.push(this.formatColumns(g,!0)),this.hasWrittenHeaders=!0),p){let v=this.gatherColumns(h);m.push(this.formatColumns(v,!1))}}return d(null,m)})}finish(u){let d=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return u(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));d.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&d.push(this.formatterOptions.rowDelimiter),u(null,d)}checkHeaders(u){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};let d=l.gatherHeaders(u);return this.headers=d,this.fieldFormatter.headers=d,this.shouldWriteHeaders?{shouldFormatColumns:!o.default(d,u),headers:d}:{shouldFormatColumns:!0,headers:null}}gatherColumns(u){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(u)?l.isRowHashArray(u)?this.headers.map((d,f)=>{let h=u[f];return h?h[1]:""}):l.isRowArray(u)&&!this.shouldWriteHeaders?u:this.headers.map((d,f)=>u[f]):this.headers.map(d=>u[d])}callTransformer(u,d){return this._rowTransform?this._rowTransform(u,d):d(null,u)}formatColumns(u,d){let f=u.map((m,p)=>this.fieldFormatter.format(m,p,d)).join(this.formatterOptions.delimiter),{rowCount:h}=this;return this.rowCount+=1,h?[this.formatterOptions.rowDelimiter,f].join(""):f}}t.RowFormatter=l},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldFormatter=t.RowFormatter=void 0;var i=n("./RowFormatter");Object.defineProperty(t,"RowFormatter",{enumerable:!0,get:function(){return i.RowFormatter}});var r=n("./FieldFormatter");Object.defineProperty(t,"FieldFormatter",{enumerable:!0,get:function(){return r.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(n,e,t){(function(i){(function(){"use strict";var r=Object.create?function(p,g,v,x){x===void 0&&(x=v),Object.defineProperty(p,x,{enumerable:!0,get:function(){return g[v]}})}:function(p,g,v,x){x===void 0&&(x=v),p[x]=g[v]},o=Object.create?function(p,g){Object.defineProperty(p,"default",{enumerable:!0,value:g})}:function(p,g){p.default=g},s=function(p){if(p&&p.__esModule)return p;var g={};if(p!=null)for(var v in p)v!=="default"&&Object.prototype.hasOwnProperty.call(p,v)&&r(g,p,v);return o(g,p),g},a=function(p,g){for(var v in p)v==="default"||Object.prototype.hasOwnProperty.call(g,v)||r(g,p,v)};Object.defineProperty(t,"__esModule",{value:!0}),t.writeToPath=t.writeToString=t.writeToBuffer=t.writeToStream=t.write=t.format=t.FormatterOptions=t.CsvFormatterStream=void 0;let l=n("util"),c=n("stream"),u=s(n("fs")),d=n("./FormatterOptions"),f=n("./CsvFormatterStream");a(n("./types"),t);var h=n("./CsvFormatterStream");Object.defineProperty(t,"CsvFormatterStream",{enumerable:!0,get:function(){return h.CsvFormatterStream}});var m=n("./FormatterOptions");Object.defineProperty(t,"FormatterOptions",{enumerable:!0,get:function(){return m.FormatterOptions}}),t.format=p=>new f.CsvFormatterStream(new d.FormatterOptions(p)),t.write=(p,g)=>{let v=t.format(g),x=l.promisify((I,N)=>{v.write(I,void 0,N)});return p.reduce((I,N)=>I.then(()=>x(N)),Promise.resolve()).then(()=>v.end()).catch(I=>{v.emit("error",I)}),v},t.writeToStream=(p,g,v)=>t.write(g,v).pipe(p),t.writeToBuffer=function(p){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=[],x=new c.Writable({write(I,N,H){v.push(I),H()}});return new Promise((I,N)=>{x.on("error",N).on("finish",()=>I(i.concat(v))),t.write(p,g).pipe(x)})},t.writeToString=(p,g)=>t.writeToBuffer(p,g).then(v=>v.toString()),t.writeToPath=(p,g,v)=>{let x=u.createWriteStream(p,{encoding:"utf8"});return t.write(g,v).pipe(x)}}).call(this)}).call(this,n("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSyncTransform=void 0,t.isSyncTransform=i=>i.length===1},{}],153:[function(n,e,t){(function(i){(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CsvParserStream=void 0;let r=n("string_decoder"),o=n("stream"),s=n("./transforms"),a=n("./parser");class l extends o.Transform{constructor(u){super({objectMode:u.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=u,this.parser=new a.Parser(u),this.headerTransformer=new s.HeaderTransformer(u),this.decoder=new r.StringDecoder(u.encoding),this.rowTransformerValidator=new s.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(u){return this.rowTransformerValidator.rowTransform=u,this}validate(u){return this.rowTransformerValidator.rowValidator=u,this}emit(u){if(u==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var d=arguments.length,f=new Array(d>1?d-1:0),h=1;h<d;h++)f[h-1]=arguments[h];return super.emit(u,...f)}_transform(u,d,f){if(this.hasHitRowLimit)return f();let h=l.wrapDoneCallback(f);try{let{lines:m}=this,p=m+this.decoder.write(u),g=this.parse(p,!0);return this.processRows(g,h)}catch(m){return h(m)}}_flush(u){let d=l.wrapDoneCallback(u);if(this.hasHitRowLimit)return d();try{let f=this.lines+this.decoder.end(),h=this.parse(f,!1);return this.processRows(h,d)}catch(f){return d(f)}}parse(u,d){if(!u)return[];let{line:f,rows:h}=this.parser.parse(u,d);return this.lines=f,h}processRows(u,d){let f=u.length,h=m=>{let p=x=>x?d(x):m%100!=0?h(m+1):void i(()=>h(m+1));if(this.checkAndEmitHeaders(),m>=f||this.hasHitRowLimit)return d();if(this.parsedLineCount+=1,this.shouldSkipLine)return p();let g=u[m];this.rowCount+=1,this.parsedRowCount+=1;let v=this.rowCount;return this.transformRow(g,(x,I)=>{if(x)return this.rowCount-=1,p(x);if(!I)return p(new Error("expected transform result"));if(I.isValid){if(I.row)return this.pushRow(I.row,p)}else this.emit("data-invalid",I.row,v,I.reason);return p()})};h(0)}transformRow(u,d){try{this.headerTransformer.transform(u,(f,h)=>f?d(f):h?h.isValid?h.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(h.row,d):this.skipRow(d):(this.rowCount-=1,this.parsedRowCount-=1,d(null,{row:null,isValid:!0})):this.shouldEmitRows?d(null,{isValid:!1,row:u}):this.skipRow(d):d(new Error("Expected result from header transform")))}catch(f){d(f)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(u){return this.rowCount-=1,u(null,{row:null,isValid:!0})}pushRow(u,d){try{this.parserOptions.objectMode?this.push(u):this.push(JSON.stringify(u)),d()}catch(f){d(f)}}static wrapDoneCallback(u){let d=!1;return function(f){if(f){if(d)throw f;return d=!0,void u(f)}for(var h=arguments.length,m=new Array(h>1?h-1:0),p=1;p<h;p++)m[p-1]=arguments[p];u(...m)}}}t.CsvParserStream=l}).call(this)}).call(this,n("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(n,e,t){"use strict";var i=function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(t,"__esModule",{value:!0}),t.ParserOptions=void 0;let r=i(n("lodash.escaperegexp")),o=i(n("lodash.isnil"));t.ParserOptions=class{constructor(s){var a;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,s||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=r.default(this.delimiter),this.escapeChar=(a=this.escape)!==null&&a!==void 0?a:this.quote,this.supportsComments=!o.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(n,e,t){"use strict";var i=Object.create?function(h,m,p,g){g===void 0&&(g=p),Object.defineProperty(h,g,{enumerable:!0,get:function(){return m[p]}})}:function(h,m,p,g){g===void 0&&(g=p),h[g]=m[p]},r=Object.create?function(h,m){Object.defineProperty(h,"default",{enumerable:!0,value:m})}:function(h,m){h.default=m},o=function(h){if(h&&h.__esModule)return h;var m={};if(h!=null)for(var p in h)p!=="default"&&Object.prototype.hasOwnProperty.call(h,p)&&i(m,h,p);return r(m,h),m},s=function(h,m){for(var p in h)p==="default"||Object.prototype.hasOwnProperty.call(m,p)||i(m,h,p)};Object.defineProperty(t,"__esModule",{value:!0}),t.parseString=t.parseFile=t.parseStream=t.parse=t.ParserOptions=t.CsvParserStream=void 0;let a=o(n("fs")),l=n("stream"),c=n("./ParserOptions"),u=n("./CsvParserStream");s(n("./types"),t);var d=n("./CsvParserStream");Object.defineProperty(t,"CsvParserStream",{enumerable:!0,get:function(){return d.CsvParserStream}});var f=n("./ParserOptions");Object.defineProperty(t,"ParserOptions",{enumerable:!0,get:function(){return f.ParserOptions}}),t.parse=h=>new u.CsvParserStream(new c.ParserOptions(h)),t.parseStream=(h,m)=>h.pipe(new u.CsvParserStream(new c.ParserOptions(m))),t.parseFile=function(h){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a.createReadStream(h).pipe(new u.CsvParserStream(new c.ParserOptions(m)))},t.parseString=(h,m)=>{let p=new l.Readable;return p.push(h),p.push(null),p.pipe(new u.CsvParserStream(new c.ParserOptions(m)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;let i=n("./Scanner"),r=n("./RowParser"),o=n("./Token");class s{constructor(l){this.parserOptions=l,this.rowParser=new r.RowParser(this.parserOptions)}static removeBOM(l){return l&&l.charCodeAt(0)===65279?l.slice(1):l}parse(l,c){let u=new i.Scanner({line:s.removeBOM(l),parserOptions:this.parserOptions,hasMoreData:c});return this.parserOptions.supportsComments?this.parseWithComments(u):this.parseWithoutComments(u)}parseWithoutComments(l){let c=[],u=!0;for(;u;)u=this.parseRow(l,c);return{line:l.line,rows:c}}parseWithComments(l){let{parserOptions:c}=this,u=[];for(let d=l.nextCharacterToken;d!==null;d=l.nextCharacterToken)if(o.Token.isTokenComment(d,c)){if(l.advancePastLine()===null)return{line:l.lineFromCursor,rows:u};if(!l.hasMoreCharacters)return{line:l.lineFromCursor,rows:u};l.truncateToCursor()}else if(!this.parseRow(l,u))break;return{line:l.line,rows:u}}parseRow(l,c){if(!l.nextNonSpaceToken)return!1;let u=this.rowParser.parse(l);return u!==null&&(this.parserOptions.ignoreEmpty&&r.RowParser.isEmptyRow(u)||c.push(u),!0)}}t.Parser=s},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RowParser=void 0;let i=n("./column"),r=n("./Token");t.RowParser=class{constructor(o){this.parserOptions=o,this.columnParser=new i.ColumnParser(o)}static isEmptyRow(o){return o.join("").replace(/\s+/g,"")===""}parse(o){let{parserOptions:s}=this,{hasMoreData:a}=o,l=o,c=[],u=this.getStartToken(l,c);for(;u;){if(r.Token.isTokenRowDelimiter(u))return l.advancePastToken(u),!l.hasMoreCharacters&&r.Token.isTokenCarriageReturn(u,s)&&a?null:(l.truncateToCursor(),c);if(!this.shouldSkipColumnParse(l,u,c)){let d=this.columnParser.parse(l);if(d===null)return null;c.push(d)}u=l.nextNonSpaceToken}return a?null:(l.truncateToCursor(),c)}getStartToken(o,s){let a=o.nextNonSpaceToken;return a!==null&&r.Token.isTokenDelimiter(a,this.parserOptions)?(s.push(""),o.nextNonSpaceToken):a}shouldSkipColumnParse(o,s,a){let{parserOptions:l}=this;if(r.Token.isTokenDelimiter(s,l)){o.advancePastToken(s);let c=o.nextCharacterToken;if(!o.hasMoreCharacters||c!==null&&r.Token.isTokenRowDelimiter(c)||c!==null&&r.Token.isTokenDelimiter(c,l))return a.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scanner=void 0;let i=n("./Token"),r=/((?:\r\n)|\n|\r)/;t.Scanner=class{constructor(o){this.cursor=0,this.line=o.line,this.lineLength=this.line.length,this.parserOptions=o.parserOptions,this.hasMoreData=o.hasMoreData,this.cursor=o.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){let{lineFromCursor:o}=this,s=this.parserOptions.NEXT_TOKEN_REGEXP;if(o.search(s)===-1)return null;let a=s.exec(o);if(a==null)return null;let l=a[1],c=this.cursor+(a.index||0);return new i.Token({token:l,startCursor:c,endCursor:c+l.length-1})}get nextCharacterToken(){let{cursor:o,lineLength:s}=this;return s<=o?null:new i.Token({token:this.line[o],startCursor:o,endCursor:o})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){let o=r.exec(this.lineFromCursor);return o?(this.cursor+=(o.index||0)+o[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(o){return this.cursor=o,this}advanceToToken(o){return this.cursor=o.startCursor,this}advancePastToken(o){return this.cursor=o.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Token=void 0,t.Token=class{constructor(i){this.token=i.token,this.startCursor=i.startCursor,this.endCursor=i.endCursor}static isTokenRowDelimiter(i){let r=i.token;return r==="\r"||r===`
`||r===`\r
`}static isTokenCarriageReturn(i,r){return i.token===r.carriageReturn}static isTokenComment(i,r){return r.supportsComments&&!!i&&i.token===r.comment}static isTokenEscapeCharacter(i,r){return i.token===r.escapeChar}static isTokenQuote(i,r){return i.token===r.quote}static isTokenDelimiter(i,r){return i.token===r.delimiter}}},{}],160:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnFormatter=void 0,t.ColumnFormatter=class{constructor(i){i.trim?this.format=r=>r.trim():i.ltrim?this.format=r=>r.trimLeft():i.rtrim?this.format=r=>r.trimRight():this.format=r=>r}}},{}],161:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnParser=void 0;let i=n("./NonQuotedColumnParser"),r=n("./QuotedColumnParser"),o=n("../Token");t.ColumnParser=class{constructor(s){this.parserOptions=s,this.quotedColumnParser=new r.QuotedColumnParser(s),this.nonQuotedColumnParser=new i.NonQuotedColumnParser(s)}parse(s){let{nextNonSpaceToken:a}=s;return a!==null&&o.Token.isTokenQuote(a,this.parserOptions)?(s.advanceToToken(a),this.quotedColumnParser.parse(s)):this.nonQuotedColumnParser.parse(s)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NonQuotedColumnParser=void 0;let i=n("./ColumnFormatter"),r=n("../Token");t.NonQuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new i.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;let{parserOptions:s}=this,a=[],l=o.nextCharacterToken;for(;l&&!r.Token.isTokenDelimiter(l,s)&&!r.Token.isTokenRowDelimiter(l);l=o.nextCharacterToken)a.push(l.token),o.advancePastToken(l);return this.columnFormatter.format(a.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuotedColumnParser=void 0;let i=n("./ColumnFormatter"),r=n("../Token");t.QuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new i.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;let s=o.cursor,{foundClosingQuote:a,col:l}=this.gatherDataBetweenQuotes(o);if(!a){if(o.advanceTo(s),!o.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${o.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(o),l}gatherDataBetweenQuotes(o){let{parserOptions:s}=this,a=!1,l=!1,c=[],u=o.nextCharacterToken;for(;!l&&u!==null;u=o.nextCharacterToken){let d=r.Token.isTokenQuote(u,s);if(!a&&d)a=!0;else if(a)if(r.Token.isTokenEscapeCharacter(u,s)){o.advancePastToken(u);let f=o.nextCharacterToken;f!==null&&(r.Token.isTokenQuote(f,s)||r.Token.isTokenEscapeCharacter(f,s))?(c.push(f.token),u=f):d?l=!0:c.push(u.token)}else d?l=!0:c.push(u.token);o.advancePastToken(u)}return{col:this.columnFormatter.format(c.join("")),foundClosingQuote:l}}checkForMalformedColumn(o){let{parserOptions:s}=this,{nextNonSpaceToken:a}=o;if(a){let l=r.Token.isTokenDelimiter(a,s),c=r.Token.isTokenRowDelimiter(a);if(!l&&!c){let u=o.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${s.escapedDelimiter}' OR new line got: '${a.token}'. at '${u}`)}o.advanceToToken(a)}else o.hasMoreData||o.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnFormatter=t.QuotedColumnParser=t.NonQuotedColumnParser=t.ColumnParser=void 0;var i=n("./ColumnParser");Object.defineProperty(t,"ColumnParser",{enumerable:!0,get:function(){return i.ColumnParser}});var r=n("./NonQuotedColumnParser");Object.defineProperty(t,"NonQuotedColumnParser",{enumerable:!0,get:function(){return r.NonQuotedColumnParser}});var o=n("./QuotedColumnParser");Object.defineProperty(t,"QuotedColumnParser",{enumerable:!0,get:function(){return o.QuotedColumnParser}});var s=n("./ColumnFormatter");Object.defineProperty(t,"ColumnFormatter",{enumerable:!0,get:function(){return s.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuotedColumnParser=t.NonQuotedColumnParser=t.ColumnParser=t.Token=t.Scanner=t.RowParser=t.Parser=void 0;var i=n("./Parser");Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return i.Parser}});var r=n("./RowParser");Object.defineProperty(t,"RowParser",{enumerable:!0,get:function(){return r.RowParser}});var o=n("./Scanner");Object.defineProperty(t,"Scanner",{enumerable:!0,get:function(){return o.Scanner}});var s=n("./Token");Object.defineProperty(t,"Token",{enumerable:!0,get:function(){return s.Token}});var a=n("./column");Object.defineProperty(t,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}}),Object.defineProperty(t,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}}),Object.defineProperty(t,"QuotedColumnParser",{enumerable:!0,get:function(){return a.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(n,e,t){"use strict";var i=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderTransformer=void 0;let r=i(n("lodash.isundefined")),o=i(n("lodash.isfunction")),s=i(n("lodash.uniq")),a=i(n("lodash.groupby"));t.HeaderTransformer=class{constructor(l){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=l,l.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(l.headers)?this.setHeaders(l.headers):o.default(l.headers)&&(this.headersTransform=l.headers)}transform(l,c){return this.shouldMapRow(l)?c(null,this.processRow(l)):c(null,{row:null,isValid:!0})}shouldMapRow(l){let{parserOptions:c}=this;if(!this.headersTransform&&c.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(l)){if(this.headersTransform)this.setHeaders(this.headersTransform(l));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(l)}return!1}return!0}processRow(l){if(!this.headers)return{row:l,isValid:!0};let{parserOptions:c}=this;if(!c.discardUnmappedColumns&&l.length>this.headersLength){if(!c.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${l.length}`);return{row:l,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${l.length}`}}return c.strictColumnHandling&&l.length<this.headersLength?{row:l,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${l.length}`}:{row:this.mapHeaders(l),isValid:!0}}mapHeaders(l){let c={},{headers:u,headersLength:d}=this;for(let f=0;f<d;f+=1){let h=u[f];if(!r.default(h)){let m=l[f];r.default(m)?c[h]="":c[h]=m}}return c}setHeaders(l){var c;let u=l.filter(d=>!!d);if(s.default(u).length!==u.length){let d=a.default(u),f=Object.keys(d).filter(h=>d[h].length>1);throw new Error("Duplicate headers found "+JSON.stringify(f))}this.headers=l,this.receivedHeaders=!0,this.headersLength=((c=this.headers)===null||c===void 0?void 0:c.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(n,e,t){"use strict";var i=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(t,"__esModule",{value:!0}),t.RowTransformerValidator=void 0;let r=i(n("lodash.isfunction")),o=n("../types");class s{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(l){return o.isSyncTransform(l)?(c,u)=>{let d=null;try{d=l(c)}catch(f){return u(f)}return u(null,d)}:l}static createValidator(l){return o.isSyncValidate(l)?(c,u)=>{u(null,{row:c,isValid:l(c)})}:(c,u)=>{l(c,(d,f,h)=>d?u(d):u(null,f?{row:c,isValid:f,reason:h}:{row:c,isValid:!1,reason:h}))}}set rowTransform(l){if(!r.default(l))throw new TypeError("The transform should be a function");this._rowTransform=s.createTransform(l)}set rowValidator(l){if(!r.default(l))throw new TypeError("The validate should be a function");this._rowValidator=s.createValidator(l)}transformAndValidate(l,c){return this.callTransformer(l,(u,d)=>u?c(u):d?this.callValidator(d,(f,h)=>f?c(f):h&&!h.isValid?c(null,{row:d,isValid:!1,reason:h.reason}):c(null,{row:d,isValid:!0})):c(null,{row:null,isValid:!0}))}callTransformer(l,c){return this._rowTransform?this._rowTransform(l,c):c(null,l)}callValidator(l,c){return this._rowValidator?this._rowValidator(l,c):c(null,{row:l,isValid:!0})}}t.RowTransformerValidator=s},{"../types":169,"lodash.isfunction":446}],168:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderTransformer=t.RowTransformerValidator=void 0;var i=n("./RowTransformerValidator");Object.defineProperty(t,"RowTransformerValidator",{enumerable:!0,get:function(){return i.RowTransformerValidator}});var r=n("./HeaderTransformer");Object.defineProperty(t,"HeaderTransformer",{enumerable:!0,get:function(){return r.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSyncValidate=t.isSyncTransform=void 0,t.isSyncTransform=i=>i.length===1,t.isSyncValidate=i=>i.length===1},{}],170:[function(n,e,t){"use strict";let i=t;i.bignum=n("bn.js"),i.define=n("./asn1/api").define,i.base=n("./asn1/base"),i.constants=n("./asn1/constants"),i.decoders=n("./asn1/decoders"),i.encoders=n("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(n,e,t){"use strict";let i=n("./encoders"),r=n("./decoders"),o=n("inherits");function s(a,l){this.name=a,this.body=l,this.decoders={},this.encoders={}}t.define=function(a,l){return new s(a,l)},s.prototype._createNamed=function(a){let l=this.name;function c(u){this._initNamed(u,l)}return o(c,a),c.prototype._initNamed=function(u,d){a.call(this,u,d)},new c(this)},s.prototype._getDecoder=function(a){return a=a||"der",this.decoders.hasOwnProperty(a)||(this.decoders[a]=this._createNamed(r[a])),this.decoders[a]},s.prototype.decode=function(a,l,c){return this._getDecoder(l).decode(a,c)},s.prototype._getEncoder=function(a){return a=a||"der",this.encoders.hasOwnProperty(a)||(this.encoders[a]=this._createNamed(i[a])),this.encoders[a]},s.prototype.encode=function(a,l,c){return this._getEncoder(l).encode(a,c)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(n,e,t){"use strict";let i=n("inherits"),r=n("../base/reporter").Reporter,o=n("safer-buffer").Buffer;function s(l,c){r.call(this,c),o.isBuffer(l)?(this.base=l,this.offset=0,this.length=l.length):this.error("Input not Buffer")}function a(l,c){if(Array.isArray(l))this.length=0,this.value=l.map(function(u){return a.isEncoderBuffer(u)||(u=new a(u,c)),this.length+=u.length,u},this);else if(typeof l=="number"){if(!(0<=l&&l<=255))return c.error("non-byte EncoderBuffer value");this.value=l,this.length=1}else if(typeof l=="string")this.value=l,this.length=o.byteLength(l);else{if(!o.isBuffer(l))return c.error("Unsupported type: "+typeof l);this.value=l,this.length=l.length}}i(s,r),t.DecoderBuffer=s,s.isDecoderBuffer=function(l){return l instanceof s?!0:typeof l=="object"&&o.isBuffer(l.base)&&l.constructor.name==="DecoderBuffer"&&typeof l.offset=="number"&&typeof l.length=="number"&&typeof l.save=="function"&&typeof l.restore=="function"&&typeof l.isEmpty=="function"&&typeof l.readUInt8=="function"&&typeof l.skip=="function"&&typeof l.raw=="function"},s.prototype.save=function(){return{offset:this.offset,reporter:r.prototype.save.call(this)}},s.prototype.restore=function(l){let c=new s(this.base);return c.offset=l.offset,c.length=this.offset,this.offset=l.offset,r.prototype.restore.call(this,l.reporter),c},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(l){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(l||"DecoderBuffer overrun")},s.prototype.skip=function(l,c){if(!(this.offset+l<=this.length))return this.error(c||"DecoderBuffer overrun");let u=new s(this.base);return u._reporterState=this._reporterState,u.offset=this.offset,u.length=this.offset+l,this.offset+=l,u},s.prototype.raw=function(l){return this.base.slice(l?l.offset:this.offset,this.length)},t.EncoderBuffer=a,a.isEncoderBuffer=function(l){return l instanceof a?!0:typeof l=="object"&&l.constructor.name==="EncoderBuffer"&&typeof l.length=="number"&&typeof l.join=="function"},a.prototype.join=function(l,c){return l||(l=o.alloc(this.length)),c||(c=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(u){u.join(l,c),c+=u.length}):(typeof this.value=="number"?l[c]=this.value:typeof this.value=="string"?l.write(this.value,c):o.isBuffer(this.value)&&this.value.copy(l,c),c+=this.length)),l}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(n,e,t){"use strict";let i=t;i.Reporter=n("./reporter").Reporter,i.DecoderBuffer=n("./buffer").DecoderBuffer,i.EncoderBuffer=n("./buffer").EncoderBuffer,i.Node=n("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(n,e,t){"use strict";let i=n("../base/reporter").Reporter,r=n("../base/buffer").EncoderBuffer,o=n("../base/buffer").DecoderBuffer,s=n("minimalistic-assert"),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],l=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function c(d,f,h){let m={};this._baseState=m,m.name=h,m.enc=d,m.parent=f||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}e.exports=c;let u=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){let d=this._baseState,f={};u.forEach(function(m){f[m]=d[m]});let h=new this.constructor(f.parent);return h._baseState=f,h},c.prototype._wrap=function(){let d=this._baseState;l.forEach(function(f){this[f]=function(){let h=new this.constructor(this);return d.children.push(h),h[f].apply(h,arguments)}},this)},c.prototype._init=function(d){let f=this._baseState;s(f.parent===null),d.call(this),f.children=f.children.filter(function(h){return h._baseState.parent===this},this),s.equal(f.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(d){let f=this._baseState,h=d.filter(function(m){return m instanceof this.constructor},this);d=d.filter(function(m){return!(m instanceof this.constructor)},this),h.length!==0&&(s(f.children===null),f.children=h,h.forEach(function(m){m._baseState.parent=this},this)),d.length!==0&&(s(f.args===null),f.args=d,f.reverseArgs=d.map(function(m){if(typeof m!="object"||m.constructor!==Object)return m;let p={};return Object.keys(m).forEach(function(g){g==(0|g)&&(g|=0);let v=m[g];p[v]=g}),p}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(d){c.prototype[d]=function(){let f=this._baseState;throw new Error(d+" not implemented for encoding: "+f.enc)}}),a.forEach(function(d){c.prototype[d]=function(){let f=this._baseState,h=Array.prototype.slice.call(arguments);return s(f.tag===null),f.tag=d,this._useArgs(h),this}}),c.prototype.use=function(d){s(d);let f=this._baseState;return s(f.use===null),f.use=d,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(d){let f=this._baseState;return s(f.default===null),f.default=d,f.optional=!0,this},c.prototype.explicit=function(d){let f=this._baseState;return s(f.explicit===null&&f.implicit===null),f.explicit=d,this},c.prototype.implicit=function(d){let f=this._baseState;return s(f.explicit===null&&f.implicit===null),f.implicit=d,this},c.prototype.obj=function(){let d=this._baseState,f=Array.prototype.slice.call(arguments);return d.obj=!0,f.length!==0&&this._useArgs(f),this},c.prototype.key=function(d){let f=this._baseState;return s(f.key===null),f.key=d,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(d){let f=this._baseState;return s(f.choice===null),f.choice=d,this._useArgs(Object.keys(d).map(function(h){return d[h]})),this},c.prototype.contains=function(d){let f=this._baseState;return s(f.use===null),f.contains=d,this},c.prototype._decode=function(d,f){let h=this._baseState;if(h.parent===null)return d.wrapResult(h.children[0]._decode(d,f));let m,p=h.default,g=!0,v=null;if(h.key!==null&&(v=d.enterKey(h.key)),h.optional){let x=null;if(h.explicit!==null?x=h.explicit:h.implicit!==null?x=h.implicit:h.tag!==null&&(x=h.tag),x!==null||h.any){if(g=this._peekTag(d,x,h.any),d.isError(g))return g}else{let I=d.save();try{h.choice===null?this._decodeGeneric(h.tag,d,f):this._decodeChoice(d,f),g=!0}catch{g=!1}d.restore(I)}}if(h.obj&&g&&(m=d.enterObject()),g){if(h.explicit!==null){let I=this._decodeTag(d,h.explicit);if(d.isError(I))return I;d=I}let x=d.offset;if(h.use===null&&h.choice===null){let I;h.any&&(I=d.save());let N=this._decodeTag(d,h.implicit!==null?h.implicit:h.tag,h.any);if(d.isError(N))return N;h.any?p=d.raw(I):d=N}if(f&&f.track&&h.tag!==null&&f.track(d.path(),x,d.length,"tagged"),f&&f.track&&h.tag!==null&&f.track(d.path(),d.offset,d.length,"content"),h.any||(p=h.choice===null?this._decodeGeneric(h.tag,d,f):this._decodeChoice(d,f)),d.isError(p))return p;if(h.any||h.choice!==null||h.children===null||h.children.forEach(function(I){I._decode(d,f)}),h.contains&&(h.tag==="octstr"||h.tag==="bitstr")){let I=new o(p);p=this._getUse(h.contains,d._reporterState.obj)._decode(I,f)}}return h.obj&&g&&(p=d.leaveObject(m)),h.key===null||p===null&&g!==!0?v!==null&&d.exitKey(v):d.leaveKey(v,h.key,p),p},c.prototype._decodeGeneric=function(d,f,h){let m=this._baseState;return d==="seq"||d==="set"?null:d==="seqof"||d==="setof"?this._decodeList(f,d,m.args[0],h):/str$/.test(d)?this._decodeStr(f,d,h):d==="objid"&&m.args?this._decodeObjid(f,m.args[0],m.args[1],h):d==="objid"?this._decodeObjid(f,null,null,h):d==="gentime"||d==="utctime"?this._decodeTime(f,d,h):d==="null_"?this._decodeNull(f,h):d==="bool"?this._decodeBool(f,h):d==="objDesc"?this._decodeStr(f,d,h):d==="int"||d==="enum"?this._decodeInt(f,m.args&&m.args[0],h):m.use!==null?this._getUse(m.use,f._reporterState.obj)._decode(f,h):f.error("unknown tag: "+d)},c.prototype._getUse=function(d,f){let h=this._baseState;return h.useDecoder=this._use(d,f),s(h.useDecoder._baseState.parent===null),h.useDecoder=h.useDecoder._baseState.children[0],h.implicit!==h.useDecoder._baseState.implicit&&(h.useDecoder=h.useDecoder.clone(),h.useDecoder._baseState.implicit=h.implicit),h.useDecoder},c.prototype._decodeChoice=function(d,f){let h=this._baseState,m=null,p=!1;return Object.keys(h.choice).some(function(g){let v=d.save(),x=h.choice[g];try{let I=x._decode(d,f);if(d.isError(I))return!1;m={type:g,value:I},p=!0}catch{return d.restore(v),!1}return!0},this),p?m:d.error("Choice not matched")},c.prototype._createEncoderBuffer=function(d){return new r(d,this.reporter)},c.prototype._encode=function(d,f,h){let m=this._baseState;if(m.default!==null&&m.default===d)return;let p=this._encodeValue(d,f,h);return p===void 0||this._skipDefault(p,f,h)?void 0:p},c.prototype._encodeValue=function(d,f,h){let m=this._baseState;if(m.parent===null)return m.children[0]._encode(d,f||new i);let p=null;if(this.reporter=f,m.optional&&d===void 0){if(m.default===null)return;d=m.default}let g=null,v=!1;if(m.any)p=this._createEncoderBuffer(d);else if(m.choice)p=this._encodeChoice(d,f);else if(m.contains)g=this._getUse(m.contains,h)._encode(d,f),v=!0;else if(m.children)g=m.children.map(function(x){if(x._baseState.tag==="null_")return x._encode(null,f,d);if(x._baseState.key===null)return f.error("Child should have a key");let I=f.enterKey(x._baseState.key);if(typeof d!="object")return f.error("Child expected, but input is not object");let N=x._encode(d[x._baseState.key],f,d);return f.leaveKey(I),N},this).filter(function(x){return x}),g=this._createEncoderBuffer(g);else if(m.tag==="seqof"||m.tag==="setof"){if(!m.args||m.args.length!==1)return f.error("Too many args for : "+m.tag);if(!Array.isArray(d))return f.error("seqof/setof, but data is not Array");let x=this.clone();x._baseState.implicit=null,g=this._createEncoderBuffer(d.map(function(I){let N=this._baseState;return this._getUse(N.args[0],d)._encode(I,f)},x))}else m.use!==null?p=this._getUse(m.use,h)._encode(d,f):(g=this._encodePrimitive(m.tag,d),v=!0);if(!m.any&&m.choice===null){let x=m.implicit!==null?m.implicit:m.tag,I=m.implicit===null?"universal":"context";x===null?m.use===null&&f.error("Tag could be omitted only for .use()"):m.use===null&&(p=this._encodeComposite(x,v,I,g))}return m.explicit!==null&&(p=this._encodeComposite(m.explicit,!1,"context",p)),p},c.prototype._encodeChoice=function(d,f){let h=this._baseState,m=h.choice[d.type];return m||s(!1,d.type+" not found in "+JSON.stringify(Object.keys(h.choice))),m._encode(d.value,f)},c.prototype._encodePrimitive=function(d,f){let h=this._baseState;if(/str$/.test(d))return this._encodeStr(f,d);if(d==="objid"&&h.args)return this._encodeObjid(f,h.reverseArgs[0],h.args[1]);if(d==="objid")return this._encodeObjid(f,null,null);if(d==="gentime"||d==="utctime")return this._encodeTime(f,d);if(d==="null_")return this._encodeNull();if(d==="int"||d==="enum")return this._encodeInt(f,h.args&&h.reverseArgs[0]);if(d==="bool")return this._encodeBool(f);if(d==="objDesc")return this._encodeStr(f,d);throw new Error("Unsupported tag: "+d)},c.prototype._isNumstr=function(d){return/^[0-9 ]*$/.test(d)},c.prototype._isPrintstr=function(d){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(d)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(n,e,t){"use strict";let i=n("inherits");function r(s){this._reporterState={obj:null,path:[],options:s||{},errors:[]}}function o(s,a){this.path=s,this.rethrow(a)}t.Reporter=r,r.prototype.isError=function(s){return s instanceof o},r.prototype.save=function(){let s=this._reporterState;return{obj:s.obj,pathLen:s.path.length}},r.prototype.restore=function(s){let a=this._reporterState;a.obj=s.obj,a.path=a.path.slice(0,s.pathLen)},r.prototype.enterKey=function(s){return this._reporterState.path.push(s)},r.prototype.exitKey=function(s){let a=this._reporterState;a.path=a.path.slice(0,s-1)},r.prototype.leaveKey=function(s,a,l){let c=this._reporterState;this.exitKey(s),c.obj!==null&&(c.obj[a]=l)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){let s=this._reporterState,a=s.obj;return s.obj={},a},r.prototype.leaveObject=function(s){let a=this._reporterState,l=a.obj;return a.obj=s,l},r.prototype.error=function(s){let a,l=this._reporterState,c=s instanceof o;if(a=c?s:new o(l.path.map(function(u){return"["+JSON.stringify(u)+"]"}).join(""),s.message||s,s.stack),!l.options.partial)throw a;return c||l.errors.push(a),a},r.prototype.wrapResult=function(s){let a=this._reporterState;return a.options.partial?{result:this.isError(s)?null:s,errors:a.errors}:s},i(o,Error),o.prototype.rethrow=function(s){if(this.message=s+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(a){this.stack=a.stack}return this}},{inherits:440}],176:[function(n,e,t){"use strict";function i(r){let o={};return Object.keys(r).forEach(function(s){(0|s)==s&&(s|=0);let a=r[s];o[a]=s}),o}t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=i(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=i(t.tag)},{}],177:[function(n,e,t){"use strict";let i=t;i._reverse=function(r){let o={};return Object.keys(r).forEach(function(s){(0|s)==s&&(s|=0);let a=r[s];o[a]=s}),o},i.der=n("./der")},{"./der":176}],178:[function(n,e,t){"use strict";let i=n("inherits"),r=n("bn.js"),o=n("../base/buffer").DecoderBuffer,s=n("../base/node"),a=n("../constants/der");function l(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new c,this.tree._init(f.body)}function c(f){s.call(this,"der",f)}function u(f,h){let m=f.readUInt8(h);if(f.isError(m))return m;let p=a.tagClass[m>>6],g=(32&m)==0;if((31&m)==31){let v=m;for(m=0;(128&v)==128;){if(v=f.readUInt8(h),f.isError(v))return v;m<<=7,m|=127&v}}else m&=31;return{cls:p,primitive:g,tag:m,tagStr:a.tag[m]}}function d(f,h,m){let p=f.readUInt8(m);if(f.isError(p))return p;if(!h&&p===128)return null;if(!(128&p))return p;let g=127&p;if(g>4)return f.error("length octect is too long");p=0;for(let v=0;v<g;v++){p<<=8;let x=f.readUInt8(m);if(f.isError(x))return x;p|=x}return p}e.exports=l,l.prototype.decode=function(f,h){return o.isDecoderBuffer(f)||(f=new o(f,h)),this.tree._decode(f,h)},i(c,s),c.prototype._peekTag=function(f,h,m){if(f.isEmpty())return!1;let p=f.save(),g=u(f,'Failed to peek tag: "'+h+'"');return f.isError(g)?g:(f.restore(p),g.tag===h||g.tagStr===h||g.tagStr+"of"===h||m)},c.prototype._decodeTag=function(f,h,m){let p=u(f,'Failed to decode tag of "'+h+'"');if(f.isError(p))return p;let g=d(f,p.primitive,'Failed to get length of "'+h+'"');if(f.isError(g))return g;if(!m&&p.tag!==h&&p.tagStr!==h&&p.tagStr+"of"!==h)return f.error('Failed to match tag: "'+h+'"');if(p.primitive||g!==null)return f.skip(g,'Failed to match body of: "'+h+'"');let v=f.save(),x=this._skipUntilEnd(f,'Failed to skip indefinite length body: "'+this.tag+'"');return f.isError(x)?x:(g=f.offset-v.offset,f.restore(v),f.skip(g,'Failed to match body of: "'+h+'"'))},c.prototype._skipUntilEnd=function(f,h){for(;;){let m=u(f,h);if(f.isError(m))return m;let p=d(f,m.primitive,h);if(f.isError(p))return p;let g;if(g=m.primitive||p!==null?f.skip(p):this._skipUntilEnd(f,h),f.isError(g))return g;if(m.tagStr==="end")break}},c.prototype._decodeList=function(f,h,m,p){let g=[];for(;!f.isEmpty();){let v=this._peekTag(f,"end");if(f.isError(v))return v;let x=m.decode(f,"der",p);if(f.isError(x)&&v)break;g.push(x)}return g},c.prototype._decodeStr=function(f,h){if(h==="bitstr"){let m=f.readUInt8();return f.isError(m)?m:{unused:m,data:f.raw()}}if(h==="bmpstr"){let m=f.raw();if(m.length%2==1)return f.error("Decoding of string type: bmpstr length mismatch");let p="";for(let g=0;g<m.length/2;g++)p+=String.fromCharCode(m.readUInt16BE(2*g));return p}if(h==="numstr"){let m=f.raw().toString("ascii");return this._isNumstr(m)?m:f.error("Decoding of string type: numstr unsupported characters")}if(h==="octstr"||h==="objDesc")return f.raw();if(h==="printstr"){let m=f.raw().toString("ascii");return this._isPrintstr(m)?m:f.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(h)?f.raw().toString():f.error("Decoding of string type: "+h+" unsupported")},c.prototype._decodeObjid=function(f,h,m){let p,g=[],v=0,x=0;for(;!f.isEmpty();)x=f.readUInt8(),v<<=7,v|=127&x,!(128&x)&&(g.push(v),v=0);128&x&&g.push(v);let I=g[0]/40|0,N=g[0]%40;if(p=m?g:[I,N].concat(g.slice(1)),h){let H=h[p.join(" ")];H===void 0&&(H=h[p.join(".")]),H!==void 0&&(p=H)}return p},c.prototype._decodeTime=function(f,h){let m=f.raw().toString(),p,g,v,x,I,N;if(h==="gentime")p=0|m.slice(0,4),g=0|m.slice(4,6),v=0|m.slice(6,8),x=0|m.slice(8,10),I=0|m.slice(10,12),N=0|m.slice(12,14);else{if(h!=="utctime")return f.error("Decoding "+h+" time is not supported yet");p=0|m.slice(0,2),g=0|m.slice(2,4),v=0|m.slice(4,6),x=0|m.slice(6,8),I=0|m.slice(8,10),N=0|m.slice(10,12),p=p<70?2e3+p:1900+p}return Date.UTC(p,g-1,v,x,I,N,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(f){let h=f.readUInt8();return f.isError(h)?h:h!==0},c.prototype._decodeInt=function(f,h){let m=f.raw(),p=new r(m);return h&&(p=h[p.toString(10)]||p),p},c.prototype._use=function(f,h){return typeof f=="function"&&(f=f(h)),f._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(n,e,t){"use strict";let i=t;i.der=n("./der"),i.pem=n("./pem")},{"./der":178,"./pem":180}],180:[function(n,e,t){"use strict";let i=n("inherits"),r=n("safer-buffer").Buffer,o=n("./der");function s(a){o.call(this,a),this.enc="pem"}i(s,o),e.exports=s,s.prototype.decode=function(a,l){let c=a.toString().split(/[\r\n]+/g),u=l.label.toUpperCase(),d=/^-----(BEGIN|END) ([^-]+)-----$/,f=-1,h=-1;for(let g=0;g<c.length;g++){let v=c[g].match(d);if(v!==null&&v[2]===u){if(f!==-1){if(v[1]!=="END")break;h=g;break}if(v[1]!=="BEGIN")break;f=g}}if(f===-1||h===-1)throw new Error("PEM section not found for: "+u);let m=c.slice(f+1,h).join("");m.replace(/[^a-z0-9+/=]+/gi,"");let p=r.from(m,"base64");return o.prototype.decode.call(this,p,l)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(n,e,t){"use strict";let i=n("inherits"),r=n("safer-buffer").Buffer,o=n("../base/node"),s=n("../constants/der");function a(u){this.enc="der",this.name=u.name,this.entity=u,this.tree=new l,this.tree._init(u.body)}function l(u){o.call(this,"der",u)}function c(u){return u<10?"0"+u:u}e.exports=a,a.prototype.encode=function(u,d){return this.tree._encode(u,d).join()},i(l,o),l.prototype._encodeComposite=function(u,d,f,h){let m=function(v,x,I,N){let H;if(v==="seqof"?v="seq":v==="setof"&&(v="set"),s.tagByName.hasOwnProperty(v))H=s.tagByName[v];else{if(typeof v!="number"||(0|v)!==v)return N.error("Unknown tag: "+v);H=v}return H>=31?N.error("Multi-octet tag encoding unsupported"):(x||(H|=32),H|=s.tagClassByName[I||"universal"]<<6,H)}(u,d,f,this.reporter);if(h.length<128){let v=r.alloc(2);return v[0]=m,v[1]=h.length,this._createEncoderBuffer([v,h])}let p=1;for(let v=h.length;v>=256;v>>=8)p++;let g=r.alloc(2+p);g[0]=m,g[1]=128|p;for(let v=1+p,x=h.length;x>0;v--,x>>=8)g[v]=255&x;return this._createEncoderBuffer([g,h])},l.prototype._encodeStr=function(u,d){if(d==="bitstr")return this._createEncoderBuffer([0|u.unused,u.data]);if(d==="bmpstr"){let f=r.alloc(2*u.length);for(let h=0;h<u.length;h++)f.writeUInt16BE(u.charCodeAt(h),2*h);return this._createEncoderBuffer(f)}return d==="numstr"?this._isNumstr(u)?this._createEncoderBuffer(u):this.reporter.error("Encoding of string type: numstr supports only digits and space"):d==="printstr"?this._isPrintstr(u)?this._createEncoderBuffer(u):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(d)||d==="objDesc"?this._createEncoderBuffer(u):this.reporter.error("Encoding of string type: "+d+" unsupported")},l.prototype._encodeObjid=function(u,d,f){if(typeof u=="string"){if(!d)return this.reporter.error("string objid given, but no values map found");if(!d.hasOwnProperty(u))return this.reporter.error("objid not found in values map");u=d[u].split(/[\s.]+/g);for(let g=0;g<u.length;g++)u[g]|=0}else if(Array.isArray(u)){u=u.slice();for(let g=0;g<u.length;g++)u[g]|=0}if(!Array.isArray(u))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(u));if(!f){if(u[1]>=40)return this.reporter.error("Second objid identifier OOB");u.splice(0,2,40*u[0]+u[1])}let h=0;for(let g=0;g<u.length;g++){let v=u[g];for(h++;v>=128;v>>=7)h++}let m=r.alloc(h),p=m.length-1;for(let g=u.length-1;g>=0;g--){let v=u[g];for(m[p--]=127&v;(v>>=7)>0;)m[p--]=128|127&v}return this._createEncoderBuffer(m)},l.prototype._encodeTime=function(u,d){let f,h=new Date(u);return d==="gentime"?f=[c(h.getUTCFullYear()),c(h.getUTCMonth()+1),c(h.getUTCDate()),c(h.getUTCHours()),c(h.getUTCMinutes()),c(h.getUTCSeconds()),"Z"].join(""):d==="utctime"?f=[c(h.getUTCFullYear()%100),c(h.getUTCMonth()+1),c(h.getUTCDate()),c(h.getUTCHours()),c(h.getUTCMinutes()),c(h.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+d+" time is not supported yet"),this._encodeStr(f,"octstr")},l.prototype._encodeNull=function(){return this._createEncoderBuffer("")},l.prototype._encodeInt=function(u,d){if(typeof u=="string"){if(!d)return this.reporter.error("String int or enum given, but no values map");if(!d.hasOwnProperty(u))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(u));u=d[u]}if(typeof u!="number"&&!r.isBuffer(u)){let m=u.toArray();!u.sign&&128&m[0]&&m.unshift(0),u=r.from(m)}if(r.isBuffer(u)){let m=u.length;u.length===0&&m++;let p=r.alloc(m);return u.copy(p),u.length===0&&(p[0]=0),this._createEncoderBuffer(p)}if(u<128)return this._createEncoderBuffer(u);if(u<256)return this._createEncoderBuffer([0,u]);let f=1;for(let m=u;m>=256;m>>=8)f++;let h=new Array(f);for(let m=h.length-1;m>=0;m--)h[m]=255&u,u>>=8;return 128&h[0]&&h.unshift(0),this._createEncoderBuffer(r.from(h))},l.prototype._encodeBool=function(u){return this._createEncoderBuffer(u?255:0)},l.prototype._use=function(u,d){return typeof u=="function"&&(u=u(d)),u._getEncoder("der").tree},l.prototype._skipDefault=function(u,d,f){let h=this._baseState,m;if(h.default===null)return!1;let p=u.join();if(h.defaultBuffer===void 0&&(h.defaultBuffer=this._encodeValue(h.default,d,f).join()),p.length!==h.defaultBuffer.length)return!1;for(m=0;m<p.length;m++)if(p[m]!==h.defaultBuffer[m])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(n,e,t){"use strict";let i=t;i.der=n("./der"),i.pem=n("./pem")},{"./der":181,"./pem":183}],183:[function(n,e,t){"use strict";let i=n("inherits"),r=n("./der");function o(s){r.call(this,s),this.enc="pem"}i(o,r),e.exports=o,o.prototype.encode=function(s,a){let l=r.prototype.encode.call(this,s).toString("base64"),c=["-----BEGIN "+a.label+"-----"];for(let u=0;u<l.length;u+=64)c.push(l.slice(u,u+64));return c.push("-----END "+a.label+"-----"),c.join(`
`)}},{"./der":181,inherits:440}],184:[function(n,e,t){"use strict";(function(i,r){function o(k,E){if(!k)throw new Error(E||"Assertion failed")}function s(k,E){k.super_=E;var L=function(){};L.prototype=E.prototype,k.prototype=new L,k.prototype.constructor=k}function a(k,E,L){if(a.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,k!==null&&(E!=="le"&&E!=="be"||(L=E,E=10),this._init(k||0,E||10,L||"be"))}var l;typeof i=="object"?i.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{l=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:n("buffer").Buffer}catch{}function c(k,E){var L=k.charCodeAt(E);return L>=65&&L<=70?L-55:L>=97&&L<=102?L-87:L-48&15}function u(k,E,L){var b=c(k,L);return L-1>=E&&(b|=c(k,L-1)<<4),b}function d(k,E,L,b){for(var w=0,_=Math.min(k.length,L),y=E;y<_;y++){var C=k.charCodeAt(y)-48;w*=b,w+=C>=49?C-49+10:C>=17?C-17+10:C}return w}a.isBN=function(k){return k instanceof a||k!==null&&typeof k=="object"&&k.constructor.wordSize===a.wordSize&&Array.isArray(k.words)},a.max=function(k,E){return k.cmp(E)>0?k:E},a.min=function(k,E){return k.cmp(E)<0?k:E},a.prototype._init=function(k,E,L){if(typeof k=="number")return this._initNumber(k,E,L);if(typeof k=="object")return this._initArray(k,E,L);E==="hex"&&(E=16),o(E===(0|E)&&E>=2&&E<=36);var b=0;(k=k.toString().replace(/\s+/g,""))[0]==="-"&&(b++,this.negative=1),b<k.length&&(E===16?this._parseHex(k,b,L):(this._parseBase(k,E,b),L==="le"&&this._initArray(this.toArray(),E,L)))},a.prototype._initNumber=function(k,E,L){k<0&&(this.negative=1,k=-k),k<67108864?(this.words=[67108863&k],this.length=1):k<4503599627370496?(this.words=[67108863&k,k/67108864&67108863],this.length=2):(o(k<9007199254740992),this.words=[67108863&k,k/67108864&67108863,1],this.length=3),L==="le"&&this._initArray(this.toArray(),E,L)},a.prototype._initArray=function(k,E,L){if(o(typeof k.length=="number"),k.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(k.length/3),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var w,_,y=0;if(L==="be")for(b=k.length-1,w=0;b>=0;b-=3)_=k[b]|k[b-1]<<8|k[b-2]<<16,this.words[w]|=_<<y&67108863,this.words[w+1]=_>>>26-y&67108863,(y+=24)>=26&&(y-=26,w++);else if(L==="le")for(b=0,w=0;b<k.length;b+=3)_=k[b]|k[b+1]<<8|k[b+2]<<16,this.words[w]|=_<<y&67108863,this.words[w+1]=_>>>26-y&67108863,(y+=24)>=26&&(y-=26,w++);return this.strip()},a.prototype._parseHex=function(k,E,L){this.length=Math.ceil((k.length-E)/6),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var w,_=0,y=0;if(L==="be")for(b=k.length-1;b>=E;b-=2)w=u(k,E,b)<<_,this.words[y]|=67108863&w,_>=18?(_-=18,y+=1,this.words[y]|=w>>>26):_+=8;else for(b=(k.length-E)%2==0?E+1:E;b<k.length;b+=2)w=u(k,E,b)<<_,this.words[y]|=67108863&w,_>=18?(_-=18,y+=1,this.words[y]|=w>>>26):_+=8;this.strip()},a.prototype._parseBase=function(k,E,L){this.words=[0],this.length=1;for(var b=0,w=1;w<=67108863;w*=E)b++;b--,w=w/E|0;for(var _=k.length-L,y=_%b,C=Math.min(_,_-y)+L,S=0,R=L;R<C;R+=b)S=d(k,R,R+b,E),this.imuln(w),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S);if(y!==0){var Z=1;for(S=d(k,R,k.length,E),R=0;R<y;R++)Z*=E;this.imuln(Z),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S)}this.strip()},a.prototype.copy=function(k){k.words=new Array(this.length);for(var E=0;E<this.length;E++)k.words[E]=this.words[E];k.length=this.length,k.negative=this.negative,k.red=this.red},a.prototype.clone=function(){var k=new a(null);return this.copy(k),k},a.prototype._expand=function(k){for(;this.length<k;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function p(k,E,L){L.negative=E.negative^k.negative;var b=k.length+E.length|0;L.length=b,b=b-1|0;var w=0|k.words[0],_=0|E.words[0],y=w*_,C=67108863&y,S=y/67108864|0;L.words[0]=C;for(var R=1;R<b;R++){for(var Z=S>>>26,j=67108863&S,X=Math.min(R,E.length-1),D=Math.max(0,R-k.length+1);D<=X;D++){var Y=R-D|0;Z+=(y=(w=0|k.words[Y])*(_=0|E.words[D])+j)/67108864|0,j=67108863&y}L.words[R]=0|j,S=0|Z}return S!==0?L.words[R]=0|S:L.length--,L.strip()}a.prototype.toString=function(k,E){var L;if(E=0|E||1,(k=k||10)===16||k==="hex"){L="";for(var b=0,w=0,_=0;_<this.length;_++){var y=this.words[_],C=(16777215&(y<<b|w)).toString(16);L=(w=y>>>24-b&16777215)!==0||_!==this.length-1?f[6-C.length]+C+L:C+L,(b+=2)>=26&&(b-=26,_--)}for(w!==0&&(L=w.toString(16)+L);L.length%E!=0;)L="0"+L;return this.negative!==0&&(L="-"+L),L}if(k===(0|k)&&k>=2&&k<=36){var S=h[k],R=m[k];L="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var j=Z.modn(R).toString(k);L=(Z=Z.idivn(R)).isZero()?j+L:f[S-j.length]+j+L}for(this.isZero()&&(L="0"+L);L.length%E!=0;)L="0"+L;return this.negative!==0&&(L="-"+L),L}o(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var k=this.words[0];return this.length===2?k+=67108864*this.words[1]:this.length===3&&this.words[2]===1?k+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-k:k},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(k,E){return o(l!==void 0),this.toArrayLike(l,k,E)},a.prototype.toArray=function(k,E){return this.toArrayLike(Array,k,E)},a.prototype.toArrayLike=function(k,E,L){var b=this.byteLength(),w=L||Math.max(1,b);o(b<=w,"byte array longer than desired length"),o(w>0,"Requested array length <= 0"),this.strip();var _,y,C=E==="le",S=new k(w),R=this.clone();if(C){for(y=0;!R.isZero();y++)_=R.andln(255),R.iushrn(8),S[y]=_;for(;y<w;y++)S[y]=0}else{for(y=0;y<w-b;y++)S[y]=0;for(y=0;!R.isZero();y++)_=R.andln(255),R.iushrn(8),S[w-y-1]=_}return S},Math.clz32?a.prototype._countBits=function(k){return 32-Math.clz32(k)}:a.prototype._countBits=function(k){var E=k,L=0;return E>=4096&&(L+=13,E>>>=13),E>=64&&(L+=7,E>>>=7),E>=8&&(L+=4,E>>>=4),E>=2&&(L+=2,E>>>=2),L+E},a.prototype._zeroBits=function(k){if(k===0)return 26;var E=k,L=0;return!(8191&E)&&(L+=13,E>>>=13),!(127&E)&&(L+=7,E>>>=7),!(15&E)&&(L+=4,E>>>=4),!(3&E)&&(L+=2,E>>>=2),!(1&E)&&L++,L},a.prototype.bitLength=function(){var k=this.words[this.length-1],E=this._countBits(k);return 26*(this.length-1)+E},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var k=0,E=0;E<this.length;E++){var L=this._zeroBits(this.words[E]);if(k+=L,L!==26)break}return k},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(k){return this.negative!==0?this.abs().inotn(k).iaddn(1):this.clone()},a.prototype.fromTwos=function(k){return this.testn(k-1)?this.notn(k).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(k){for(;this.length<k.length;)this.words[this.length++]=0;for(var E=0;E<k.length;E++)this.words[E]=this.words[E]|k.words[E];return this.strip()},a.prototype.ior=function(k){return o((this.negative|k.negative)==0),this.iuor(k)},a.prototype.or=function(k){return this.length>k.length?this.clone().ior(k):k.clone().ior(this)},a.prototype.uor=function(k){return this.length>k.length?this.clone().iuor(k):k.clone().iuor(this)},a.prototype.iuand=function(k){var E;E=this.length>k.length?k:this;for(var L=0;L<E.length;L++)this.words[L]=this.words[L]&k.words[L];return this.length=E.length,this.strip()},a.prototype.iand=function(k){return o((this.negative|k.negative)==0),this.iuand(k)},a.prototype.and=function(k){return this.length>k.length?this.clone().iand(k):k.clone().iand(this)},a.prototype.uand=function(k){return this.length>k.length?this.clone().iuand(k):k.clone().iuand(this)},a.prototype.iuxor=function(k){var E,L;this.length>k.length?(E=this,L=k):(E=k,L=this);for(var b=0;b<L.length;b++)this.words[b]=E.words[b]^L.words[b];if(this!==E)for(;b<E.length;b++)this.words[b]=E.words[b];return this.length=E.length,this.strip()},a.prototype.ixor=function(k){return o((this.negative|k.negative)==0),this.iuxor(k)},a.prototype.xor=function(k){return this.length>k.length?this.clone().ixor(k):k.clone().ixor(this)},a.prototype.uxor=function(k){return this.length>k.length?this.clone().iuxor(k):k.clone().iuxor(this)},a.prototype.inotn=function(k){o(typeof k=="number"&&k>=0);var E=0|Math.ceil(k/26),L=k%26;this._expand(E),L>0&&E--;for(var b=0;b<E;b++)this.words[b]=67108863&~this.words[b];return L>0&&(this.words[b]=~this.words[b]&67108863>>26-L),this.strip()},a.prototype.notn=function(k){return this.clone().inotn(k)},a.prototype.setn=function(k,E){o(typeof k=="number"&&k>=0);var L=k/26|0,b=k%26;return this._expand(L+1),this.words[L]=E?this.words[L]|1<<b:this.words[L]&~(1<<b),this.strip()},a.prototype.iadd=function(k){var E,L,b;if(this.negative!==0&&k.negative===0)return this.negative=0,E=this.isub(k),this.negative^=1,this._normSign();if(this.negative===0&&k.negative!==0)return k.negative=0,E=this.isub(k),k.negative=1,E._normSign();this.length>k.length?(L=this,b=k):(L=k,b=this);for(var w=0,_=0;_<b.length;_++)E=(0|L.words[_])+(0|b.words[_])+w,this.words[_]=67108863&E,w=E>>>26;for(;w!==0&&_<L.length;_++)E=(0|L.words[_])+w,this.words[_]=67108863&E,w=E>>>26;if(this.length=L.length,w!==0)this.words[this.length]=w,this.length++;else if(L!==this)for(;_<L.length;_++)this.words[_]=L.words[_];return this},a.prototype.add=function(k){var E;return k.negative!==0&&this.negative===0?(k.negative=0,E=this.sub(k),k.negative^=1,E):k.negative===0&&this.negative!==0?(this.negative=0,E=k.sub(this),this.negative=1,E):this.length>k.length?this.clone().iadd(k):k.clone().iadd(this)},a.prototype.isub=function(k){if(k.negative!==0){k.negative=0;var E=this.iadd(k);return k.negative=1,E._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(k),this.negative=1,this._normSign();var L,b,w=this.cmp(k);if(w===0)return this.negative=0,this.length=1,this.words[0]=0,this;w>0?(L=this,b=k):(L=k,b=this);for(var _=0,y=0;y<b.length;y++)_=(E=(0|L.words[y])-(0|b.words[y])+_)>>26,this.words[y]=67108863&E;for(;_!==0&&y<L.length;y++)_=(E=(0|L.words[y])+_)>>26,this.words[y]=67108863&E;if(_===0&&y<L.length&&L!==this)for(;y<L.length;y++)this.words[y]=L.words[y];return this.length=Math.max(this.length,y),L!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(k){return this.clone().isub(k)};var g=function(k,E,L){var b,w,_,y=k.words,C=E.words,S=L.words,R=0,Z=0|y[0],j=8191&Z,X=Z>>>13,D=0|y[1],Y=8191&D,P=D>>>13,M=0|y[2],$=8191&M,te=M>>>13,ue=0|y[3],re=8191&ue,ce=ue>>>13,_e=0|y[4],xe=8191&_e,ie=_e>>>13,se=0|y[5],ge=8191&se,Ae=se>>>13,Ee=0|y[6],Te=8191&Ee,Se=Ee>>>13,Fe=0|y[7],He=8191&Fe,Ze=Fe>>>13,ut=0|y[8],tt=8191&ut,pt=ut>>>13,Zt=0|y[9],bt=8191&Zt,lt=Zt>>>13,st=0|C[0],vt=8191&st,at=st>>>13,mn=0|C[1],Dt=8191&mn,Vt=mn>>>13,jr=0|C[2],Rt=8191&jr,rn=jr>>>13,Wn=0|C[3],fn=8191&Wn,pn=Wn>>>13,wi=0|C[4],It=8191&wi,Ft=wi>>>13,ur=0|C[5],on=8191&ur,ln=ur>>>13,zr=0|C[6],St=8191&zr,Ie=zr>>>13,$e=0|C[7],Ye=8191&$e,ct=$e>>>13,vn=0|C[8],Mt=8191&vn,Et=vn>>>13,li=0|C[9],Jt=8191&li,Bt=li>>>13;L.negative=k.negative^E.negative,L.length=19;var Kn=(R+(b=Math.imul(j,vt))|0)+((8191&(w=(w=Math.imul(j,at))+Math.imul(X,vt)|0))<<13)|0;R=((_=Math.imul(X,at))+(w>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,b=Math.imul(Y,vt),w=(w=Math.imul(Y,at))+Math.imul(P,vt)|0,_=Math.imul(P,at);var Dn=(R+(b=b+Math.imul(j,Dt)|0)|0)+((8191&(w=(w=w+Math.imul(j,Vt)|0)+Math.imul(X,Dt)|0))<<13)|0;R=((_=_+Math.imul(X,Vt)|0)+(w>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,b=Math.imul($,vt),w=(w=Math.imul($,at))+Math.imul(te,vt)|0,_=Math.imul(te,at),b=b+Math.imul(Y,Dt)|0,w=(w=w+Math.imul(Y,Vt)|0)+Math.imul(P,Dt)|0,_=_+Math.imul(P,Vt)|0;var kn=(R+(b=b+Math.imul(j,Rt)|0)|0)+((8191&(w=(w=w+Math.imul(j,rn)|0)+Math.imul(X,Rt)|0))<<13)|0;R=((_=_+Math.imul(X,rn)|0)+(w>>>13)|0)+(kn>>>26)|0,kn&=67108863,b=Math.imul(re,vt),w=(w=Math.imul(re,at))+Math.imul(ce,vt)|0,_=Math.imul(ce,at),b=b+Math.imul($,Dt)|0,w=(w=w+Math.imul($,Vt)|0)+Math.imul(te,Dt)|0,_=_+Math.imul(te,Vt)|0,b=b+Math.imul(Y,Rt)|0,w=(w=w+Math.imul(Y,rn)|0)+Math.imul(P,Rt)|0,_=_+Math.imul(P,rn)|0;var Xn=(R+(b=b+Math.imul(j,fn)|0)|0)+((8191&(w=(w=w+Math.imul(j,pn)|0)+Math.imul(X,fn)|0))<<13)|0;R=((_=_+Math.imul(X,pn)|0)+(w>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,b=Math.imul(xe,vt),w=(w=Math.imul(xe,at))+Math.imul(ie,vt)|0,_=Math.imul(ie,at),b=b+Math.imul(re,Dt)|0,w=(w=w+Math.imul(re,Vt)|0)+Math.imul(ce,Dt)|0,_=_+Math.imul(ce,Vt)|0,b=b+Math.imul($,Rt)|0,w=(w=w+Math.imul($,rn)|0)+Math.imul(te,Rt)|0,_=_+Math.imul(te,rn)|0,b=b+Math.imul(Y,fn)|0,w=(w=w+Math.imul(Y,pn)|0)+Math.imul(P,fn)|0,_=_+Math.imul(P,pn)|0;var Ei=(R+(b=b+Math.imul(j,It)|0)|0)+((8191&(w=(w=w+Math.imul(j,Ft)|0)+Math.imul(X,It)|0))<<13)|0;R=((_=_+Math.imul(X,Ft)|0)+(w>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,b=Math.imul(ge,vt),w=(w=Math.imul(ge,at))+Math.imul(Ae,vt)|0,_=Math.imul(Ae,at),b=b+Math.imul(xe,Dt)|0,w=(w=w+Math.imul(xe,Vt)|0)+Math.imul(ie,Dt)|0,_=_+Math.imul(ie,Vt)|0,b=b+Math.imul(re,Rt)|0,w=(w=w+Math.imul(re,rn)|0)+Math.imul(ce,Rt)|0,_=_+Math.imul(ce,rn)|0,b=b+Math.imul($,fn)|0,w=(w=w+Math.imul($,pn)|0)+Math.imul(te,fn)|0,_=_+Math.imul(te,pn)|0,b=b+Math.imul(Y,It)|0,w=(w=w+Math.imul(Y,Ft)|0)+Math.imul(P,It)|0,_=_+Math.imul(P,Ft)|0;var er=(R+(b=b+Math.imul(j,on)|0)|0)+((8191&(w=(w=w+Math.imul(j,ln)|0)+Math.imul(X,on)|0))<<13)|0;R=((_=_+Math.imul(X,ln)|0)+(w>>>13)|0)+(er>>>26)|0,er&=67108863,b=Math.imul(Te,vt),w=(w=Math.imul(Te,at))+Math.imul(Se,vt)|0,_=Math.imul(Se,at),b=b+Math.imul(ge,Dt)|0,w=(w=w+Math.imul(ge,Vt)|0)+Math.imul(Ae,Dt)|0,_=_+Math.imul(Ae,Vt)|0,b=b+Math.imul(xe,Rt)|0,w=(w=w+Math.imul(xe,rn)|0)+Math.imul(ie,Rt)|0,_=_+Math.imul(ie,rn)|0,b=b+Math.imul(re,fn)|0,w=(w=w+Math.imul(re,pn)|0)+Math.imul(ce,fn)|0,_=_+Math.imul(ce,pn)|0,b=b+Math.imul($,It)|0,w=(w=w+Math.imul($,Ft)|0)+Math.imul(te,It)|0,_=_+Math.imul(te,Ft)|0,b=b+Math.imul(Y,on)|0,w=(w=w+Math.imul(Y,ln)|0)+Math.imul(P,on)|0,_=_+Math.imul(P,ln)|0;var yr=(R+(b=b+Math.imul(j,St)|0)|0)+((8191&(w=(w=w+Math.imul(j,Ie)|0)+Math.imul(X,St)|0))<<13)|0;R=((_=_+Math.imul(X,Ie)|0)+(w>>>13)|0)+(yr>>>26)|0,yr&=67108863,b=Math.imul(He,vt),w=(w=Math.imul(He,at))+Math.imul(Ze,vt)|0,_=Math.imul(Ze,at),b=b+Math.imul(Te,Dt)|0,w=(w=w+Math.imul(Te,Vt)|0)+Math.imul(Se,Dt)|0,_=_+Math.imul(Se,Vt)|0,b=b+Math.imul(ge,Rt)|0,w=(w=w+Math.imul(ge,rn)|0)+Math.imul(Ae,Rt)|0,_=_+Math.imul(Ae,rn)|0,b=b+Math.imul(xe,fn)|0,w=(w=w+Math.imul(xe,pn)|0)+Math.imul(ie,fn)|0,_=_+Math.imul(ie,pn)|0,b=b+Math.imul(re,It)|0,w=(w=w+Math.imul(re,Ft)|0)+Math.imul(ce,It)|0,_=_+Math.imul(ce,Ft)|0,b=b+Math.imul($,on)|0,w=(w=w+Math.imul($,ln)|0)+Math.imul(te,on)|0,_=_+Math.imul(te,ln)|0,b=b+Math.imul(Y,St)|0,w=(w=w+Math.imul(Y,Ie)|0)+Math.imul(P,St)|0,_=_+Math.imul(P,Ie)|0;var Ln=(R+(b=b+Math.imul(j,Ye)|0)|0)+((8191&(w=(w=w+Math.imul(j,ct)|0)+Math.imul(X,Ye)|0))<<13)|0;R=((_=_+Math.imul(X,ct)|0)+(w>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,b=Math.imul(tt,vt),w=(w=Math.imul(tt,at))+Math.imul(pt,vt)|0,_=Math.imul(pt,at),b=b+Math.imul(He,Dt)|0,w=(w=w+Math.imul(He,Vt)|0)+Math.imul(Ze,Dt)|0,_=_+Math.imul(Ze,Vt)|0,b=b+Math.imul(Te,Rt)|0,w=(w=w+Math.imul(Te,rn)|0)+Math.imul(Se,Rt)|0,_=_+Math.imul(Se,rn)|0,b=b+Math.imul(ge,fn)|0,w=(w=w+Math.imul(ge,pn)|0)+Math.imul(Ae,fn)|0,_=_+Math.imul(Ae,pn)|0,b=b+Math.imul(xe,It)|0,w=(w=w+Math.imul(xe,Ft)|0)+Math.imul(ie,It)|0,_=_+Math.imul(ie,Ft)|0,b=b+Math.imul(re,on)|0,w=(w=w+Math.imul(re,ln)|0)+Math.imul(ce,on)|0,_=_+Math.imul(ce,ln)|0,b=b+Math.imul($,St)|0,w=(w=w+Math.imul($,Ie)|0)+Math.imul(te,St)|0,_=_+Math.imul(te,Ie)|0,b=b+Math.imul(Y,Ye)|0,w=(w=w+Math.imul(Y,ct)|0)+Math.imul(P,Ye)|0,_=_+Math.imul(P,ct)|0;var Ur=(R+(b=b+Math.imul(j,Mt)|0)|0)+((8191&(w=(w=w+Math.imul(j,Et)|0)+Math.imul(X,Mt)|0))<<13)|0;R=((_=_+Math.imul(X,Et)|0)+(w>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,b=Math.imul(bt,vt),w=(w=Math.imul(bt,at))+Math.imul(lt,vt)|0,_=Math.imul(lt,at),b=b+Math.imul(tt,Dt)|0,w=(w=w+Math.imul(tt,Vt)|0)+Math.imul(pt,Dt)|0,_=_+Math.imul(pt,Vt)|0,b=b+Math.imul(He,Rt)|0,w=(w=w+Math.imul(He,rn)|0)+Math.imul(Ze,Rt)|0,_=_+Math.imul(Ze,rn)|0,b=b+Math.imul(Te,fn)|0,w=(w=w+Math.imul(Te,pn)|0)+Math.imul(Se,fn)|0,_=_+Math.imul(Se,pn)|0,b=b+Math.imul(ge,It)|0,w=(w=w+Math.imul(ge,Ft)|0)+Math.imul(Ae,It)|0,_=_+Math.imul(Ae,Ft)|0,b=b+Math.imul(xe,on)|0,w=(w=w+Math.imul(xe,ln)|0)+Math.imul(ie,on)|0,_=_+Math.imul(ie,ln)|0,b=b+Math.imul(re,St)|0,w=(w=w+Math.imul(re,Ie)|0)+Math.imul(ce,St)|0,_=_+Math.imul(ce,Ie)|0,b=b+Math.imul($,Ye)|0,w=(w=w+Math.imul($,ct)|0)+Math.imul(te,Ye)|0,_=_+Math.imul(te,ct)|0,b=b+Math.imul(Y,Mt)|0,w=(w=w+Math.imul(Y,Et)|0)+Math.imul(P,Mt)|0,_=_+Math.imul(P,Et)|0;var ye=(R+(b=b+Math.imul(j,Jt)|0)|0)+((8191&(w=(w=w+Math.imul(j,Bt)|0)+Math.imul(X,Jt)|0))<<13)|0;R=((_=_+Math.imul(X,Bt)|0)+(w>>>13)|0)+(ye>>>26)|0,ye&=67108863,b=Math.imul(bt,Dt),w=(w=Math.imul(bt,Vt))+Math.imul(lt,Dt)|0,_=Math.imul(lt,Vt),b=b+Math.imul(tt,Rt)|0,w=(w=w+Math.imul(tt,rn)|0)+Math.imul(pt,Rt)|0,_=_+Math.imul(pt,rn)|0,b=b+Math.imul(He,fn)|0,w=(w=w+Math.imul(He,pn)|0)+Math.imul(Ze,fn)|0,_=_+Math.imul(Ze,pn)|0,b=b+Math.imul(Te,It)|0,w=(w=w+Math.imul(Te,Ft)|0)+Math.imul(Se,It)|0,_=_+Math.imul(Se,Ft)|0,b=b+Math.imul(ge,on)|0,w=(w=w+Math.imul(ge,ln)|0)+Math.imul(Ae,on)|0,_=_+Math.imul(Ae,ln)|0,b=b+Math.imul(xe,St)|0,w=(w=w+Math.imul(xe,Ie)|0)+Math.imul(ie,St)|0,_=_+Math.imul(ie,Ie)|0,b=b+Math.imul(re,Ye)|0,w=(w=w+Math.imul(re,ct)|0)+Math.imul(ce,Ye)|0,_=_+Math.imul(ce,ct)|0,b=b+Math.imul($,Mt)|0,w=(w=w+Math.imul($,Et)|0)+Math.imul(te,Mt)|0,_=_+Math.imul(te,Et)|0;var We=(R+(b=b+Math.imul(Y,Jt)|0)|0)+((8191&(w=(w=w+Math.imul(Y,Bt)|0)+Math.imul(P,Jt)|0))<<13)|0;R=((_=_+Math.imul(P,Bt)|0)+(w>>>13)|0)+(We>>>26)|0,We&=67108863,b=Math.imul(bt,Rt),w=(w=Math.imul(bt,rn))+Math.imul(lt,Rt)|0,_=Math.imul(lt,rn),b=b+Math.imul(tt,fn)|0,w=(w=w+Math.imul(tt,pn)|0)+Math.imul(pt,fn)|0,_=_+Math.imul(pt,pn)|0,b=b+Math.imul(He,It)|0,w=(w=w+Math.imul(He,Ft)|0)+Math.imul(Ze,It)|0,_=_+Math.imul(Ze,Ft)|0,b=b+Math.imul(Te,on)|0,w=(w=w+Math.imul(Te,ln)|0)+Math.imul(Se,on)|0,_=_+Math.imul(Se,ln)|0,b=b+Math.imul(ge,St)|0,w=(w=w+Math.imul(ge,Ie)|0)+Math.imul(Ae,St)|0,_=_+Math.imul(Ae,Ie)|0,b=b+Math.imul(xe,Ye)|0,w=(w=w+Math.imul(xe,ct)|0)+Math.imul(ie,Ye)|0,_=_+Math.imul(ie,ct)|0,b=b+Math.imul(re,Mt)|0,w=(w=w+Math.imul(re,Et)|0)+Math.imul(ce,Mt)|0,_=_+Math.imul(ce,Et)|0;var dt=(R+(b=b+Math.imul($,Jt)|0)|0)+((8191&(w=(w=w+Math.imul($,Bt)|0)+Math.imul(te,Jt)|0))<<13)|0;R=((_=_+Math.imul(te,Bt)|0)+(w>>>13)|0)+(dt>>>26)|0,dt&=67108863,b=Math.imul(bt,fn),w=(w=Math.imul(bt,pn))+Math.imul(lt,fn)|0,_=Math.imul(lt,pn),b=b+Math.imul(tt,It)|0,w=(w=w+Math.imul(tt,Ft)|0)+Math.imul(pt,It)|0,_=_+Math.imul(pt,Ft)|0,b=b+Math.imul(He,on)|0,w=(w=w+Math.imul(He,ln)|0)+Math.imul(Ze,on)|0,_=_+Math.imul(Ze,ln)|0,b=b+Math.imul(Te,St)|0,w=(w=w+Math.imul(Te,Ie)|0)+Math.imul(Se,St)|0,_=_+Math.imul(Se,Ie)|0,b=b+Math.imul(ge,Ye)|0,w=(w=w+Math.imul(ge,ct)|0)+Math.imul(Ae,Ye)|0,_=_+Math.imul(Ae,ct)|0,b=b+Math.imul(xe,Mt)|0,w=(w=w+Math.imul(xe,Et)|0)+Math.imul(ie,Mt)|0,_=_+Math.imul(ie,Et)|0;var it=(R+(b=b+Math.imul(re,Jt)|0)|0)+((8191&(w=(w=w+Math.imul(re,Bt)|0)+Math.imul(ce,Jt)|0))<<13)|0;R=((_=_+Math.imul(ce,Bt)|0)+(w>>>13)|0)+(it>>>26)|0,it&=67108863,b=Math.imul(bt,It),w=(w=Math.imul(bt,Ft))+Math.imul(lt,It)|0,_=Math.imul(lt,Ft),b=b+Math.imul(tt,on)|0,w=(w=w+Math.imul(tt,ln)|0)+Math.imul(pt,on)|0,_=_+Math.imul(pt,ln)|0,b=b+Math.imul(He,St)|0,w=(w=w+Math.imul(He,Ie)|0)+Math.imul(Ze,St)|0,_=_+Math.imul(Ze,Ie)|0,b=b+Math.imul(Te,Ye)|0,w=(w=w+Math.imul(Te,ct)|0)+Math.imul(Se,Ye)|0,_=_+Math.imul(Se,ct)|0,b=b+Math.imul(ge,Mt)|0,w=(w=w+Math.imul(ge,Et)|0)+Math.imul(Ae,Mt)|0,_=_+Math.imul(Ae,Et)|0;var Pt=(R+(b=b+Math.imul(xe,Jt)|0)|0)+((8191&(w=(w=w+Math.imul(xe,Bt)|0)+Math.imul(ie,Jt)|0))<<13)|0;R=((_=_+Math.imul(ie,Bt)|0)+(w>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,b=Math.imul(bt,on),w=(w=Math.imul(bt,ln))+Math.imul(lt,on)|0,_=Math.imul(lt,ln),b=b+Math.imul(tt,St)|0,w=(w=w+Math.imul(tt,Ie)|0)+Math.imul(pt,St)|0,_=_+Math.imul(pt,Ie)|0,b=b+Math.imul(He,Ye)|0,w=(w=w+Math.imul(He,ct)|0)+Math.imul(Ze,Ye)|0,_=_+Math.imul(Ze,ct)|0,b=b+Math.imul(Te,Mt)|0,w=(w=w+Math.imul(Te,Et)|0)+Math.imul(Se,Mt)|0,_=_+Math.imul(Se,Et)|0;var Qt=(R+(b=b+Math.imul(ge,Jt)|0)|0)+((8191&(w=(w=w+Math.imul(ge,Bt)|0)+Math.imul(Ae,Jt)|0))<<13)|0;R=((_=_+Math.imul(Ae,Bt)|0)+(w>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,b=Math.imul(bt,St),w=(w=Math.imul(bt,Ie))+Math.imul(lt,St)|0,_=Math.imul(lt,Ie),b=b+Math.imul(tt,Ye)|0,w=(w=w+Math.imul(tt,ct)|0)+Math.imul(pt,Ye)|0,_=_+Math.imul(pt,ct)|0,b=b+Math.imul(He,Mt)|0,w=(w=w+Math.imul(He,Et)|0)+Math.imul(Ze,Mt)|0,_=_+Math.imul(Ze,Et)|0;var Yt=(R+(b=b+Math.imul(Te,Jt)|0)|0)+((8191&(w=(w=w+Math.imul(Te,Bt)|0)+Math.imul(Se,Jt)|0))<<13)|0;R=((_=_+Math.imul(Se,Bt)|0)+(w>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,b=Math.imul(bt,Ye),w=(w=Math.imul(bt,ct))+Math.imul(lt,Ye)|0,_=Math.imul(lt,ct),b=b+Math.imul(tt,Mt)|0,w=(w=w+Math.imul(tt,Et)|0)+Math.imul(pt,Mt)|0,_=_+Math.imul(pt,Et)|0;var Jn=(R+(b=b+Math.imul(He,Jt)|0)|0)+((8191&(w=(w=w+Math.imul(He,Bt)|0)+Math.imul(Ze,Jt)|0))<<13)|0;R=((_=_+Math.imul(Ze,Bt)|0)+(w>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,b=Math.imul(bt,Mt),w=(w=Math.imul(bt,Et))+Math.imul(lt,Mt)|0,_=Math.imul(lt,Et);var xn=(R+(b=b+Math.imul(tt,Jt)|0)|0)+((8191&(w=(w=w+Math.imul(tt,Bt)|0)+Math.imul(pt,Jt)|0))<<13)|0;R=((_=_+Math.imul(pt,Bt)|0)+(w>>>13)|0)+(xn>>>26)|0,xn&=67108863;var yn=(R+(b=Math.imul(bt,Jt))|0)+((8191&(w=(w=Math.imul(bt,Bt))+Math.imul(lt,Jt)|0))<<13)|0;return R=((_=Math.imul(lt,Bt))+(w>>>13)|0)+(yn>>>26)|0,yn&=67108863,S[0]=Kn,S[1]=Dn,S[2]=kn,S[3]=Xn,S[4]=Ei,S[5]=er,S[6]=yr,S[7]=Ln,S[8]=Ur,S[9]=ye,S[10]=We,S[11]=dt,S[12]=it,S[13]=Pt,S[14]=Qt,S[15]=Yt,S[16]=Jn,S[17]=xn,S[18]=yn,R!==0&&(S[19]=R,L.length++),L};function v(k,E,L){return new x().mulp(k,E,L)}function x(k,E){this.x=k,this.y=E}Math.imul||(g=p),a.prototype.mulTo=function(k,E){var L=this.length+k.length;return this.length===10&&k.length===10?g(this,k,E):L<63?p(this,k,E):L<1024?function(b,w,_){_.negative=w.negative^b.negative,_.length=b.length+w.length;for(var y=0,C=0,S=0;S<_.length-1;S++){var R=C;C=0;for(var Z=67108863&y,j=Math.min(S,w.length-1),X=Math.max(0,S-b.length+1);X<=j;X++){var D=S-X,Y=(0|b.words[D])*(0|w.words[X]),P=67108863&Y;Z=67108863&(P=P+Z|0),C+=(R=(R=R+(Y/67108864|0)|0)+(P>>>26)|0)>>>26,R&=67108863}_.words[S]=Z,y=R,R=C}return y!==0?_.words[S]=y:_.length--,_.strip()}(this,k,E):v(this,k,E)},x.prototype.makeRBT=function(k){for(var E=new Array(k),L=a.prototype._countBits(k)-1,b=0;b<k;b++)E[b]=this.revBin(b,L,k);return E},x.prototype.revBin=function(k,E,L){if(k===0||k===L-1)return k;for(var b=0,w=0;w<E;w++)b|=(1&k)<<E-w-1,k>>=1;return b},x.prototype.permute=function(k,E,L,b,w,_){for(var y=0;y<_;y++)b[y]=E[k[y]],w[y]=L[k[y]]},x.prototype.transform=function(k,E,L,b,w,_){this.permute(_,k,E,L,b,w);for(var y=1;y<w;y<<=1)for(var C=y<<1,S=Math.cos(2*Math.PI/C),R=Math.sin(2*Math.PI/C),Z=0;Z<w;Z+=C)for(var j=S,X=R,D=0;D<y;D++){var Y=L[Z+D],P=b[Z+D],M=L[Z+D+y],$=b[Z+D+y],te=j*M-X*$;$=j*$+X*M,M=te,L[Z+D]=Y+M,b[Z+D]=P+$,L[Z+D+y]=Y-M,b[Z+D+y]=P-$,D!==C&&(te=S*j-R*X,X=S*X+R*j,j=te)}},x.prototype.guessLen13b=function(k,E){var L=1|Math.max(E,k),b=1&L,w=0;for(L=L/2|0;L;L>>>=1)w++;return 1<<w+1+b},x.prototype.conjugate=function(k,E,L){if(!(L<=1))for(var b=0;b<L/2;b++){var w=k[b];k[b]=k[L-b-1],k[L-b-1]=w,w=E[b],E[b]=-E[L-b-1],E[L-b-1]=-w}},x.prototype.normalize13b=function(k,E){for(var L=0,b=0;b<E/2;b++){var w=8192*Math.round(k[2*b+1]/E)+Math.round(k[2*b]/E)+L;k[b]=67108863&w,L=w<67108864?0:w/67108864|0}return k},x.prototype.convert13b=function(k,E,L,b){for(var w=0,_=0;_<E;_++)w+=0|k[_],L[2*_]=8191&w,w>>>=13,L[2*_+1]=8191&w,w>>>=13;for(_=2*E;_<b;++_)L[_]=0;o(w===0),o((-8192&w)==0)},x.prototype.stub=function(k){for(var E=new Array(k),L=0;L<k;L++)E[L]=0;return E},x.prototype.mulp=function(k,E,L){var b=2*this.guessLen13b(k.length,E.length),w=this.makeRBT(b),_=this.stub(b),y=new Array(b),C=new Array(b),S=new Array(b),R=new Array(b),Z=new Array(b),j=new Array(b),X=L.words;X.length=b,this.convert13b(k.words,k.length,y,b),this.convert13b(E.words,E.length,R,b),this.transform(y,_,C,S,b,w),this.transform(R,_,Z,j,b,w);for(var D=0;D<b;D++){var Y=C[D]*Z[D]-S[D]*j[D];S[D]=C[D]*j[D]+S[D]*Z[D],C[D]=Y}return this.conjugate(C,S,b),this.transform(C,S,X,_,b,w),this.conjugate(X,_,b),this.normalize13b(X,b),L.negative=k.negative^E.negative,L.length=k.length+E.length,L.strip()},a.prototype.mul=function(k){var E=new a(null);return E.words=new Array(this.length+k.length),this.mulTo(k,E)},a.prototype.mulf=function(k){var E=new a(null);return E.words=new Array(this.length+k.length),v(this,k,E)},a.prototype.imul=function(k){return this.clone().mulTo(k,this)},a.prototype.imuln=function(k){o(typeof k=="number"),o(k<67108864);for(var E=0,L=0;L<this.length;L++){var b=(0|this.words[L])*k,w=(67108863&b)+(67108863&E);E>>=26,E+=b/67108864|0,E+=w>>>26,this.words[L]=67108863&w}return E!==0&&(this.words[L]=E,this.length++),this},a.prototype.muln=function(k){return this.clone().imuln(k)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(k){var E=function(_){for(var y=new Array(_.bitLength()),C=0;C<y.length;C++){var S=C/26|0,R=C%26;y[C]=(_.words[S]&1<<R)>>>R}return y}(k);if(E.length===0)return new a(1);for(var L=this,b=0;b<E.length&&E[b]===0;b++,L=L.sqr());if(++b<E.length)for(var w=L.sqr();b<E.length;b++,w=w.sqr())E[b]!==0&&(L=L.mul(w));return L},a.prototype.iushln=function(k){o(typeof k=="number"&&k>=0);var E,L=k%26,b=(k-L)/26,w=67108863>>>26-L<<26-L;if(L!==0){var _=0;for(E=0;E<this.length;E++){var y=this.words[E]&w,C=(0|this.words[E])-y<<L;this.words[E]=C|_,_=y>>>26-L}_&&(this.words[E]=_,this.length++)}if(b!==0){for(E=this.length-1;E>=0;E--)this.words[E+b]=this.words[E];for(E=0;E<b;E++)this.words[E]=0;this.length+=b}return this.strip()},a.prototype.ishln=function(k){return o(this.negative===0),this.iushln(k)},a.prototype.iushrn=function(k,E,L){var b;o(typeof k=="number"&&k>=0),b=E?(E-E%26)/26:0;var w=k%26,_=Math.min((k-w)/26,this.length),y=67108863^67108863>>>w<<w,C=L;if(b-=_,b=Math.max(0,b),C){for(var S=0;S<_;S++)C.words[S]=this.words[S];C.length=_}if(_!==0)if(this.length>_)for(this.length-=_,S=0;S<this.length;S++)this.words[S]=this.words[S+_];else this.words[0]=0,this.length=1;var R=0;for(S=this.length-1;S>=0&&(R!==0||S>=b);S--){var Z=0|this.words[S];this.words[S]=R<<26-w|Z>>>w,R=Z&y}return C&&R!==0&&(C.words[C.length++]=R),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(k,E,L){return o(this.negative===0),this.iushrn(k,E,L)},a.prototype.shln=function(k){return this.clone().ishln(k)},a.prototype.ushln=function(k){return this.clone().iushln(k)},a.prototype.shrn=function(k){return this.clone().ishrn(k)},a.prototype.ushrn=function(k){return this.clone().iushrn(k)},a.prototype.testn=function(k){o(typeof k=="number"&&k>=0);var E=k%26,L=(k-E)/26,b=1<<E;return!(this.length<=L)&&!!(this.words[L]&b)},a.prototype.imaskn=function(k){o(typeof k=="number"&&k>=0);var E=k%26,L=(k-E)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=L)return this;if(E!==0&&L++,this.length=Math.min(L,this.length),E!==0){var b=67108863^67108863>>>E<<E;this.words[this.length-1]&=b}return this.strip()},a.prototype.maskn=function(k){return this.clone().imaskn(k)},a.prototype.iaddn=function(k){return o(typeof k=="number"),o(k<67108864),k<0?this.isubn(-k):this.negative!==0?this.length===1&&(0|this.words[0])<k?(this.words[0]=k-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(k),this.negative=1,this):this._iaddn(k)},a.prototype._iaddn=function(k){this.words[0]+=k;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},a.prototype.isubn=function(k){if(o(typeof k=="number"),o(k<67108864),k<0)return this.iaddn(-k);if(this.negative!==0)return this.negative=0,this.iaddn(k),this.negative=1,this;if(this.words[0]-=k,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this.strip()},a.prototype.addn=function(k){return this.clone().iaddn(k)},a.prototype.subn=function(k){return this.clone().isubn(k)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(k,E,L){var b,w,_=k.length+L;this._expand(_);var y=0;for(b=0;b<k.length;b++){w=(0|this.words[b+L])+y;var C=(0|k.words[b])*E;y=((w-=67108863&C)>>26)-(C/67108864|0),this.words[b+L]=67108863&w}for(;b<this.length-L;b++)y=(w=(0|this.words[b+L])+y)>>26,this.words[b+L]=67108863&w;if(y===0)return this.strip();for(o(y===-1),y=0,b=0;b<this.length;b++)y=(w=-(0|this.words[b])+y)>>26,this.words[b]=67108863&w;return this.negative=1,this.strip()},a.prototype._wordDiv=function(k,E){var L=(this.length,k.length),b=this.clone(),w=k,_=0|w.words[w.length-1];(L=26-this._countBits(_))!==0&&(w=w.ushln(L),b.iushln(L),_=0|w.words[w.length-1]);var y,C=b.length-w.length;if(E!=="mod"){(y=new a(null)).length=C+1,y.words=new Array(y.length);for(var S=0;S<y.length;S++)y.words[S]=0}var R=b.clone()._ishlnsubmul(w,1,C);R.negative===0&&(b=R,y&&(y.words[C]=1));for(var Z=C-1;Z>=0;Z--){var j=67108864*(0|b.words[w.length+Z])+(0|b.words[w.length+Z-1]);for(j=Math.min(j/_|0,67108863),b._ishlnsubmul(w,j,Z);b.negative!==0;)j--,b.negative=0,b._ishlnsubmul(w,1,Z),b.isZero()||(b.negative^=1);y&&(y.words[Z]=j)}return y&&y.strip(),b.strip(),E!=="div"&&L!==0&&b.iushrn(L),{div:y||null,mod:b}},a.prototype.divmod=function(k,E,L){return o(!k.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&k.negative===0?(_=this.neg().divmod(k,E),E!=="mod"&&(b=_.div.neg()),E!=="div"&&(w=_.mod.neg(),L&&w.negative!==0&&w.iadd(k)),{div:b,mod:w}):this.negative===0&&k.negative!==0?(_=this.divmod(k.neg(),E),E!=="mod"&&(b=_.div.neg()),{div:b,mod:_.mod}):this.negative&k.negative?(_=this.neg().divmod(k.neg(),E),E!=="div"&&(w=_.mod.neg(),L&&w.negative!==0&&w.isub(k)),{div:_.div,mod:w}):k.length>this.length||this.cmp(k)<0?{div:new a(0),mod:this}:k.length===1?E==="div"?{div:this.divn(k.words[0]),mod:null}:E==="mod"?{div:null,mod:new a(this.modn(k.words[0]))}:{div:this.divn(k.words[0]),mod:new a(this.modn(k.words[0]))}:this._wordDiv(k,E);var b,w,_},a.prototype.div=function(k){return this.divmod(k,"div",!1).div},a.prototype.mod=function(k){return this.divmod(k,"mod",!1).mod},a.prototype.umod=function(k){return this.divmod(k,"mod",!0).mod},a.prototype.divRound=function(k){var E=this.divmod(k);if(E.mod.isZero())return E.div;var L=E.div.negative!==0?E.mod.isub(k):E.mod,b=k.ushrn(1),w=k.andln(1),_=L.cmp(b);return _<0||w===1&&_===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},a.prototype.modn=function(k){o(k<=67108863);for(var E=(1<<26)%k,L=0,b=this.length-1;b>=0;b--)L=(E*L+(0|this.words[b]))%k;return L},a.prototype.idivn=function(k){o(k<=67108863);for(var E=0,L=this.length-1;L>=0;L--){var b=(0|this.words[L])+67108864*E;this.words[L]=b/k|0,E=b%k}return this.strip()},a.prototype.divn=function(k){return this.clone().idivn(k)},a.prototype.egcd=function(k){o(k.negative===0),o(!k.isZero());var E=this,L=k.clone();E=E.negative!==0?E.umod(k):E.clone();for(var b=new a(1),w=new a(0),_=new a(0),y=new a(1),C=0;E.isEven()&&L.isEven();)E.iushrn(1),L.iushrn(1),++C;for(var S=L.clone(),R=E.clone();!E.isZero();){for(var Z=0,j=1;!(E.words[0]&j)&&Z<26;++Z,j<<=1);if(Z>0)for(E.iushrn(Z);Z-- >0;)(b.isOdd()||w.isOdd())&&(b.iadd(S),w.isub(R)),b.iushrn(1),w.iushrn(1);for(var X=0,D=1;!(L.words[0]&D)&&X<26;++X,D<<=1);if(X>0)for(L.iushrn(X);X-- >0;)(_.isOdd()||y.isOdd())&&(_.iadd(S),y.isub(R)),_.iushrn(1),y.iushrn(1);E.cmp(L)>=0?(E.isub(L),b.isub(_),w.isub(y)):(L.isub(E),_.isub(b),y.isub(w))}return{a:_,b:y,gcd:L.iushln(C)}},a.prototype._invmp=function(k){o(k.negative===0),o(!k.isZero());var E=this,L=k.clone();E=E.negative!==0?E.umod(k):E.clone();for(var b,w=new a(1),_=new a(0),y=L.clone();E.cmpn(1)>0&&L.cmpn(1)>0;){for(var C=0,S=1;!(E.words[0]&S)&&C<26;++C,S<<=1);if(C>0)for(E.iushrn(C);C-- >0;)w.isOdd()&&w.iadd(y),w.iushrn(1);for(var R=0,Z=1;!(L.words[0]&Z)&&R<26;++R,Z<<=1);if(R>0)for(L.iushrn(R);R-- >0;)_.isOdd()&&_.iadd(y),_.iushrn(1);E.cmp(L)>=0?(E.isub(L),w.isub(_)):(L.isub(E),_.isub(w))}return(b=E.cmpn(1)===0?w:_).cmpn(0)<0&&b.iadd(k),b},a.prototype.gcd=function(k){if(this.isZero())return k.abs();if(k.isZero())return this.abs();var E=this.clone(),L=k.clone();E.negative=0,L.negative=0;for(var b=0;E.isEven()&&L.isEven();b++)E.iushrn(1),L.iushrn(1);for(;;){for(;E.isEven();)E.iushrn(1);for(;L.isEven();)L.iushrn(1);var w=E.cmp(L);if(w<0){var _=E;E=L,L=_}else if(w===0||L.cmpn(1)===0)break;E.isub(L)}return L.iushln(b)},a.prototype.invm=function(k){return this.egcd(k).a.umod(k)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(k){return this.words[0]&k},a.prototype.bincn=function(k){o(typeof k=="number");var E=k%26,L=(k-E)/26,b=1<<E;if(this.length<=L)return this._expand(L+1),this.words[L]|=b,this;for(var w=b,_=L;w!==0&&_<this.length;_++){var y=0|this.words[_];w=(y+=w)>>>26,y&=67108863,this.words[_]=y}return w!==0&&(this.words[_]=w,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(k){var E,L=k<0;if(this.negative!==0&&!L)return-1;if(this.negative===0&&L)return 1;if(this.strip(),this.length>1)E=1;else{L&&(k=-k),o(k<=67108863,"Number is too big");var b=0|this.words[0];E=b===k?0:b<k?-1:1}return this.negative!==0?0|-E:E},a.prototype.cmp=function(k){if(this.negative!==0&&k.negative===0)return-1;if(this.negative===0&&k.negative!==0)return 1;var E=this.ucmp(k);return this.negative!==0?0|-E:E},a.prototype.ucmp=function(k){if(this.length>k.length)return 1;if(this.length<k.length)return-1;for(var E=0,L=this.length-1;L>=0;L--){var b=0|this.words[L],w=0|k.words[L];if(b!==w){b<w?E=-1:b>w&&(E=1);break}}return E},a.prototype.gtn=function(k){return this.cmpn(k)===1},a.prototype.gt=function(k){return this.cmp(k)===1},a.prototype.gten=function(k){return this.cmpn(k)>=0},a.prototype.gte=function(k){return this.cmp(k)>=0},a.prototype.ltn=function(k){return this.cmpn(k)===-1},a.prototype.lt=function(k){return this.cmp(k)===-1},a.prototype.lten=function(k){return this.cmpn(k)<=0},a.prototype.lte=function(k){return this.cmp(k)<=0},a.prototype.eqn=function(k){return this.cmpn(k)===0},a.prototype.eq=function(k){return this.cmp(k)===0},a.red=function(k){return new G(k)},a.prototype.toRed=function(k){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),k.convertTo(this)._forceRed(k)},a.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(k){return this.red=k,this},a.prototype.forceRed=function(k){return o(!this.red,"Already a number in reduction context"),this._forceRed(k)},a.prototype.redAdd=function(k){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,k)},a.prototype.redIAdd=function(k){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,k)},a.prototype.redSub=function(k){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,k)},a.prototype.redISub=function(k){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,k)},a.prototype.redShl=function(k){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,k)},a.prototype.redMul=function(k){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.mul(this,k)},a.prototype.redIMul=function(k){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.imul(this,k)},a.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(k){return o(this.red&&!k.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,k)};var I={k256:null,p224:null,p192:null,p25519:null};function N(k,E){this.name=k,this.p=new a(E,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function H(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function F(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function B(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function V(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function G(k){if(typeof k=="string"){var E=a._prime(k);this.m=E.p,this.prime=E}else o(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function W(k){G.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}N.prototype._tmp=function(){var k=new a(null);return k.words=new Array(Math.ceil(this.n/13)),k},N.prototype.ireduce=function(k){var E,L=k;do this.split(L,this.tmp),E=(L=(L=this.imulK(L)).iadd(this.tmp)).bitLength();while(E>this.n);var b=E<this.n?-1:L.ucmp(this.p);return b===0?(L.words[0]=0,L.length=1):b>0?L.isub(this.p):L.strip!==void 0?L.strip():L._strip(),L},N.prototype.split=function(k,E){k.iushrn(this.n,0,E)},N.prototype.imulK=function(k){return k.imul(this.k)},s(H,N),H.prototype.split=function(k,E){for(var L=Math.min(k.length,9),b=0;b<L;b++)E.words[b]=k.words[b];if(E.length=L,k.length<=9)return k.words[0]=0,void(k.length=1);var w=k.words[9];for(E.words[E.length++]=4194303&w,b=10;b<k.length;b++){var _=0|k.words[b];k.words[b-10]=(4194303&_)<<4|w>>>22,w=_}w>>>=22,k.words[b-10]=w,w===0&&k.length>10?k.length-=10:k.length-=9},H.prototype.imulK=function(k){k.words[k.length]=0,k.words[k.length+1]=0,k.length+=2;for(var E=0,L=0;L<k.length;L++){var b=0|k.words[L];E+=977*b,k.words[L]=67108863&E,E=64*b+(E/67108864|0)}return k.words[k.length-1]===0&&(k.length--,k.words[k.length-1]===0&&k.length--),k},s(F,N),s(B,N),s(V,N),V.prototype.imulK=function(k){for(var E=0,L=0;L<k.length;L++){var b=19*(0|k.words[L])+E,w=67108863&b;b>>>=26,k.words[L]=w,E=b}return E!==0&&(k.words[k.length++]=E),k},a._prime=function(k){if(I[k])return I[k];var E;if(k==="k256")E=new H;else if(k==="p224")E=new F;else if(k==="p192")E=new B;else{if(k!=="p25519")throw new Error("Unknown prime "+k);E=new V}return I[k]=E,E},G.prototype._verify1=function(k){o(k.negative===0,"red works only with positives"),o(k.red,"red works only with red numbers")},G.prototype._verify2=function(k,E){o((k.negative|E.negative)==0,"red works only with positives"),o(k.red&&k.red===E.red,"red works only with red numbers")},G.prototype.imod=function(k){return this.prime?this.prime.ireduce(k)._forceRed(this):k.umod(this.m)._forceRed(this)},G.prototype.neg=function(k){return k.isZero()?k.clone():this.m.sub(k)._forceRed(this)},G.prototype.add=function(k,E){this._verify2(k,E);var L=k.add(E);return L.cmp(this.m)>=0&&L.isub(this.m),L._forceRed(this)},G.prototype.iadd=function(k,E){this._verify2(k,E);var L=k.iadd(E);return L.cmp(this.m)>=0&&L.isub(this.m),L},G.prototype.sub=function(k,E){this._verify2(k,E);var L=k.sub(E);return L.cmpn(0)<0&&L.iadd(this.m),L._forceRed(this)},G.prototype.isub=function(k,E){this._verify2(k,E);var L=k.isub(E);return L.cmpn(0)<0&&L.iadd(this.m),L},G.prototype.shl=function(k,E){return this._verify1(k),this.imod(k.ushln(E))},G.prototype.imul=function(k,E){return this._verify2(k,E),this.imod(k.imul(E))},G.prototype.mul=function(k,E){return this._verify2(k,E),this.imod(k.mul(E))},G.prototype.isqr=function(k){return this.imul(k,k.clone())},G.prototype.sqr=function(k){return this.mul(k,k)},G.prototype.sqrt=function(k){if(k.isZero())return k.clone();var E=this.m.andln(3);if(o(E%2==1),E===3){var L=this.m.add(new a(1)).iushrn(2);return this.pow(k,L)}for(var b=this.m.subn(1),w=0;!b.isZero()&&b.andln(1)===0;)w++,b.iushrn(1);o(!b.isZero());var _=new a(1).toRed(this),y=_.redNeg(),C=this.m.subn(1).iushrn(1),S=this.m.bitLength();for(S=new a(2*S*S).toRed(this);this.pow(S,C).cmp(y)!==0;)S.redIAdd(y);for(var R=this.pow(S,b),Z=this.pow(k,b.addn(1).iushrn(1)),j=this.pow(k,b),X=w;j.cmp(_)!==0;){for(var D=j,Y=0;D.cmp(_)!==0;Y++)D=D.redSqr();o(Y<X);var P=this.pow(R,new a(1).iushln(X-Y-1));Z=Z.redMul(P),R=P.redSqr(),j=j.redMul(R),X=Y}return Z},G.prototype.invm=function(k){var E=k._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},G.prototype.pow=function(k,E){if(E.isZero())return new a(1).toRed(this);if(E.cmpn(1)===0)return k.clone();var L=new Array(16);L[0]=new a(1).toRed(this),L[1]=k;for(var b=2;b<L.length;b++)L[b]=this.mul(L[b-1],k);var w=L[0],_=0,y=0,C=E.bitLength()%26;for(C===0&&(C=26),b=E.length-1;b>=0;b--){for(var S=E.words[b],R=C-1;R>=0;R--){var Z=S>>R&1;w!==L[0]&&(w=this.sqr(w)),Z!==0||_!==0?(_<<=1,_|=Z,(++y===4||b===0&&R===0)&&(w=this.mul(w,L[_]),y=0,_=0)):y=0}C=26}return w},G.prototype.convertTo=function(k){var E=k.umod(this.m);return E===k?E.clone():E},G.prototype.convertFrom=function(k){var E=k.clone();return E.red=null,E},a.mont=function(k){return new W(k)},s(W,G),W.prototype.convertTo=function(k){return this.imod(k.ushln(this.shift))},W.prototype.convertFrom=function(k){var E=this.imod(k.mul(this.rinv));return E.red=null,E},W.prototype.imul=function(k,E){if(k.isZero()||E.isZero())return k.words[0]=0,k.length=1,k;var L=k.imul(E),b=L.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=L.isub(b).iushrn(this.shift),_=w;return w.cmp(this.m)>=0?_=w.isub(this.m):w.cmpn(0)<0&&(_=w.iadd(this.m)),_._forceRed(this)},W.prototype.mul=function(k,E){if(k.isZero()||E.isZero())return new a(0)._forceRed(this);var L=k.mul(E),b=L.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=L.isub(b).iushrn(this.shift),_=w;return w.cmp(this.m)>=0?_=w.isub(this.m):w.cmpn(0)<0&&(_=w.iadd(this.m)),_._forceRed(this)},W.prototype.invm=function(k){return this.imod(k._invmp(this.m).mul(this.r2))._forceRed(this)}})(e===void 0||e)},{buffer:188}],185:[function(n,e,t){"use strict";t.byteLength=function(d){var f=c(d),h=f[0],m=f[1];return 3*(h+m)/4-m},t.toByteArray=function(d){var f,h,m=c(d),p=m[0],g=m[1],v=new o(function(N,H,F){return 3*(H+F)/4-F}(0,p,g)),x=0,I=g>0?p-4:p;for(h=0;h<I;h+=4)f=r[d.charCodeAt(h)]<<18|r[d.charCodeAt(h+1)]<<12|r[d.charCodeAt(h+2)]<<6|r[d.charCodeAt(h+3)],v[x++]=f>>16&255,v[x++]=f>>8&255,v[x++]=255&f;return g===2&&(f=r[d.charCodeAt(h)]<<2|r[d.charCodeAt(h+1)]>>4,v[x++]=255&f),g===1&&(f=r[d.charCodeAt(h)]<<10|r[d.charCodeAt(h+1)]<<4|r[d.charCodeAt(h+2)]>>2,v[x++]=f>>8&255,v[x++]=255&f),v},t.fromByteArray=function(d){for(var f,h=d.length,m=h%3,p=[],g=0,v=h-m;g<v;g+=16383)p.push(u(d,g,g+16383>v?v:g+16383));return m===1?(f=d[h-1],p.push(i[f>>2]+i[f<<4&63]+"==")):m===2&&(f=(d[h-2]<<8)+d[h-1],p.push(i[f>>10]+i[f>>4&63]+i[f<<2&63]+"=")),p.join("")};for(var i=[],r=[],o=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)i[a]=s[a],r[s.charCodeAt(a)]=a;function c(d){var f=d.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=d.indexOf("=");return h===-1&&(h=f),[h,h===f?0:4-h%4]}function u(d,f,h){for(var m,p,g=[],v=f;v<h;v+=3)m=(d[v]<<16&16711680)+(d[v+1]<<8&65280)+(255&d[v+2]),g.push(i[(p=m)>>18&63]+i[p>>12&63]+i[p>>6&63]+i[63&p]);return g.join("")}r[45]=62,r[95]=63},{}],186:[function(n,e,t){"use strict";(function(i,r){function o(b,w){if(!b)throw new Error(w||"Assertion failed")}function s(b,w){b.super_=w;var _=function(){};_.prototype=w.prototype,b.prototype=new _,b.prototype.constructor=b}function a(b,w,_){if(a.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&(w!=="le"&&w!=="be"||(_=w,w=10),this._init(b||0,w||10,_||"be"))}var l;typeof i=="object"?i.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{l=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:n("buffer").Buffer}catch{}function c(b,w){var _=b.charCodeAt(w);return _>=48&&_<=57?_-48:_>=65&&_<=70?_-55:_>=97&&_<=102?_-87:void o(!1,"Invalid character in "+b)}function u(b,w,_){var y=c(b,_);return _-1>=w&&(y|=c(b,_-1)<<4),y}function d(b,w,_,y){for(var C=0,S=0,R=Math.min(b.length,_),Z=w;Z<R;Z++){var j=b.charCodeAt(Z)-48;C*=y,S=j>=49?j-49+10:j>=17?j-17+10:j,o(j>=0&&S<y,"Invalid character"),C+=S}return C}function f(b,w){b.words=w.words,b.length=w.length,b.negative=w.negative,b.red=w.red}if(a.isBN=function(b){return b instanceof a||b!==null&&typeof b=="object"&&b.constructor.wordSize===a.wordSize&&Array.isArray(b.words)},a.max=function(b,w){return b.cmp(w)>0?b:w},a.min=function(b,w){return b.cmp(w)<0?b:w},a.prototype._init=function(b,w,_){if(typeof b=="number")return this._initNumber(b,w,_);if(typeof b=="object")return this._initArray(b,w,_);w==="hex"&&(w=16),o(w===(0|w)&&w>=2&&w<=36);var y=0;(b=b.toString().replace(/\s+/g,""))[0]==="-"&&(y++,this.negative=1),y<b.length&&(w===16?this._parseHex(b,y,_):(this._parseBase(b,w,y),_==="le"&&this._initArray(this.toArray(),w,_)))},a.prototype._initNumber=function(b,w,_){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[67108863&b],this.length=1):b<4503599627370496?(this.words=[67108863&b,b/67108864&67108863],this.length=2):(o(b<9007199254740992),this.words=[67108863&b,b/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),w,_)},a.prototype._initArray=function(b,w,_){if(o(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var C,S,R=0;if(_==="be")for(y=b.length-1,C=0;y>=0;y-=3)S=b[y]|b[y-1]<<8|b[y-2]<<16,this.words[C]|=S<<R&67108863,this.words[C+1]=S>>>26-R&67108863,(R+=24)>=26&&(R-=26,C++);else if(_==="le")for(y=0,C=0;y<b.length;y+=3)S=b[y]|b[y+1]<<8|b[y+2]<<16,this.words[C]|=S<<R&67108863,this.words[C+1]=S>>>26-R&67108863,(R+=24)>=26&&(R-=26,C++);return this._strip()},a.prototype._parseHex=function(b,w,_){this.length=Math.ceil((b.length-w)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var C,S=0,R=0;if(_==="be")for(y=b.length-1;y>=w;y-=2)C=u(b,w,y)<<S,this.words[R]|=67108863&C,S>=18?(S-=18,R+=1,this.words[R]|=C>>>26):S+=8;else for(y=(b.length-w)%2==0?w+1:w;y<b.length;y+=2)C=u(b,w,y)<<S,this.words[R]|=67108863&C,S>=18?(S-=18,R+=1,this.words[R]|=C>>>26):S+=8;this._strip()},a.prototype._parseBase=function(b,w,_){this.words=[0],this.length=1;for(var y=0,C=1;C<=67108863;C*=w)y++;y--,C=C/w|0;for(var S=b.length-_,R=S%y,Z=Math.min(S,S-R)+_,j=0,X=_;X<Z;X+=y)j=d(b,X,X+y,w),this.imuln(C),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j);if(R!==0){var D=1;for(j=d(b,X,b.length,w),X=0;X<R;X++)D*=w;this.imuln(D),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j)}this._strip()},a.prototype.copy=function(b){b.words=new Array(this.length);for(var w=0;w<this.length;w++)b.words[w]=this.words[w];b.length=this.length,b.negative=this.negative,b.red=this.red},a.prototype._move=function(b){f(b,this)},a.prototype.clone=function(){var b=new a(null);return this.copy(b),b},a.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{a.prototype.inspect=h}else a.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(b,w){var _;if(w=0|w||1,(b=b||10)===16||b==="hex"){_="";for(var y=0,C=0,S=0;S<this.length;S++){var R=this.words[S],Z=(16777215&(R<<y|C)).toString(16);C=R>>>24-y&16777215,(y+=2)>=26&&(y-=26,S--),_=C!==0||S!==this.length-1?m[6-Z.length]+Z+_:Z+_}for(C!==0&&(_=C.toString(16)+_);_.length%w!=0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(b===(0|b)&&b>=2&&b<=36){var j=p[b],X=g[b];_="";var D=this.clone();for(D.negative=0;!D.isZero();){var Y=D.modrn(X).toString(b);_=(D=D.idivn(X)).isZero()?Y+_:m[j-Y.length]+Y+_}for(this.isZero()&&(_="0"+_);_.length%w!=0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}o(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=67108864*this.words[1]:this.length===3&&this.words[2]===1?b+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},a.prototype.toJSON=function(){return this.toString(16,2)},l&&(a.prototype.toBuffer=function(b,w){return this.toArrayLike(l,b,w)}),a.prototype.toArray=function(b,w){return this.toArrayLike(Array,b,w)};function v(b,w,_){_.negative=w.negative^b.negative;var y=b.length+w.length|0;_.length=y,y=y-1|0;var C=0|b.words[0],S=0|w.words[0],R=C*S,Z=67108863&R,j=R/67108864|0;_.words[0]=Z;for(var X=1;X<y;X++){for(var D=j>>>26,Y=67108863&j,P=Math.min(X,w.length-1),M=Math.max(0,X-b.length+1);M<=P;M++){var $=X-M|0;D+=(R=(C=0|b.words[$])*(S=0|w.words[M])+Y)/67108864|0,Y=67108863&R}_.words[X]=0|Y,j=0|D}return j!==0?_.words[X]=0|j:_.length--,_._strip()}a.prototype.toArrayLike=function(b,w,_){this._strip();var y=this.byteLength(),C=_||Math.max(1,y);o(y<=C,"byte array longer than desired length"),o(C>0,"Requested array length <= 0");var S=function(R,Z){return R.allocUnsafe?R.allocUnsafe(Z):new R(Z)}(b,C);return this["_toArrayLike"+(w==="le"?"LE":"BE")](S,y),S},a.prototype._toArrayLikeLE=function(b,w){for(var _=0,y=0,C=0,S=0;C<this.length;C++){var R=this.words[C]<<S|y;b[_++]=255&R,_<b.length&&(b[_++]=R>>8&255),_<b.length&&(b[_++]=R>>16&255),S===6?(_<b.length&&(b[_++]=R>>24&255),y=0,S=0):(y=R>>>24,S+=2)}if(_<b.length)for(b[_++]=y;_<b.length;)b[_++]=0},a.prototype._toArrayLikeBE=function(b,w){for(var _=b.length-1,y=0,C=0,S=0;C<this.length;C++){var R=this.words[C]<<S|y;b[_--]=255&R,_>=0&&(b[_--]=R>>8&255),_>=0&&(b[_--]=R>>16&255),S===6?(_>=0&&(b[_--]=R>>24&255),y=0,S=0):(y=R>>>24,S+=2)}if(_>=0)for(b[_--]=y;_>=0;)b[_--]=0},Math.clz32?a.prototype._countBits=function(b){return 32-Math.clz32(b)}:a.prototype._countBits=function(b){var w=b,_=0;return w>=4096&&(_+=13,w>>>=13),w>=64&&(_+=7,w>>>=7),w>=8&&(_+=4,w>>>=4),w>=2&&(_+=2,w>>>=2),_+w},a.prototype._zeroBits=function(b){if(b===0)return 26;var w=b,_=0;return!(8191&w)&&(_+=13,w>>>=13),!(127&w)&&(_+=7,w>>>=7),!(15&w)&&(_+=4,w>>>=4),!(3&w)&&(_+=2,w>>>=2),!(1&w)&&_++,_},a.prototype.bitLength=function(){var b=this.words[this.length-1],w=this._countBits(b);return 26*(this.length-1)+w},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,w=0;w<this.length;w++){var _=this._zeroBits(this.words[w]);if(b+=_,_!==26)break}return b},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},a.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var w=0;w<b.length;w++)this.words[w]=this.words[w]|b.words[w];return this._strip()},a.prototype.ior=function(b){return o((this.negative|b.negative)==0),this.iuor(b)},a.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},a.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},a.prototype.iuand=function(b){var w;w=this.length>b.length?b:this;for(var _=0;_<w.length;_++)this.words[_]=this.words[_]&b.words[_];return this.length=w.length,this._strip()},a.prototype.iand=function(b){return o((this.negative|b.negative)==0),this.iuand(b)},a.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},a.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},a.prototype.iuxor=function(b){var w,_;this.length>b.length?(w=this,_=b):(w=b,_=this);for(var y=0;y<_.length;y++)this.words[y]=w.words[y]^_.words[y];if(this!==w)for(;y<w.length;y++)this.words[y]=w.words[y];return this.length=w.length,this._strip()},a.prototype.ixor=function(b){return o((this.negative|b.negative)==0),this.iuxor(b)},a.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},a.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},a.prototype.inotn=function(b){o(typeof b=="number"&&b>=0);var w=0|Math.ceil(b/26),_=b%26;this._expand(w),_>0&&w--;for(var y=0;y<w;y++)this.words[y]=67108863&~this.words[y];return _>0&&(this.words[y]=~this.words[y]&67108863>>26-_),this._strip()},a.prototype.notn=function(b){return this.clone().inotn(b)},a.prototype.setn=function(b,w){o(typeof b=="number"&&b>=0);var _=b/26|0,y=b%26;return this._expand(_+1),this.words[_]=w?this.words[_]|1<<y:this.words[_]&~(1<<y),this._strip()},a.prototype.iadd=function(b){var w,_,y;if(this.negative!==0&&b.negative===0)return this.negative=0,w=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,w=this.isub(b),b.negative=1,w._normSign();this.length>b.length?(_=this,y=b):(_=b,y=this);for(var C=0,S=0;S<y.length;S++)w=(0|_.words[S])+(0|y.words[S])+C,this.words[S]=67108863&w,C=w>>>26;for(;C!==0&&S<_.length;S++)w=(0|_.words[S])+C,this.words[S]=67108863&w,C=w>>>26;if(this.length=_.length,C!==0)this.words[this.length]=C,this.length++;else if(_!==this)for(;S<_.length;S++)this.words[S]=_.words[S];return this},a.prototype.add=function(b){var w;return b.negative!==0&&this.negative===0?(b.negative=0,w=this.sub(b),b.negative^=1,w):b.negative===0&&this.negative!==0?(this.negative=0,w=b.sub(this),this.negative=1,w):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},a.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var w=this.iadd(b);return b.negative=1,w._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var _,y,C=this.cmp(b);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;C>0?(_=this,y=b):(_=b,y=this);for(var S=0,R=0;R<y.length;R++)S=(w=(0|_.words[R])-(0|y.words[R])+S)>>26,this.words[R]=67108863&w;for(;S!==0&&R<_.length;R++)S=(w=(0|_.words[R])+S)>>26,this.words[R]=67108863&w;if(S===0&&R<_.length&&_!==this)for(;R<_.length;R++)this.words[R]=_.words[R];return this.length=Math.max(this.length,R),_!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(b){return this.clone().isub(b)};var x=function(b,w,_){var y,C,S,R=b.words,Z=w.words,j=_.words,X=0,D=0|R[0],Y=8191&D,P=D>>>13,M=0|R[1],$=8191&M,te=M>>>13,ue=0|R[2],re=8191&ue,ce=ue>>>13,_e=0|R[3],xe=8191&_e,ie=_e>>>13,se=0|R[4],ge=8191&se,Ae=se>>>13,Ee=0|R[5],Te=8191&Ee,Se=Ee>>>13,Fe=0|R[6],He=8191&Fe,Ze=Fe>>>13,ut=0|R[7],tt=8191&ut,pt=ut>>>13,Zt=0|R[8],bt=8191&Zt,lt=Zt>>>13,st=0|R[9],vt=8191&st,at=st>>>13,mn=0|Z[0],Dt=8191&mn,Vt=mn>>>13,jr=0|Z[1],Rt=8191&jr,rn=jr>>>13,Wn=0|Z[2],fn=8191&Wn,pn=Wn>>>13,wi=0|Z[3],It=8191&wi,Ft=wi>>>13,ur=0|Z[4],on=8191&ur,ln=ur>>>13,zr=0|Z[5],St=8191&zr,Ie=zr>>>13,$e=0|Z[6],Ye=8191&$e,ct=$e>>>13,vn=0|Z[7],Mt=8191&vn,Et=vn>>>13,li=0|Z[8],Jt=8191&li,Bt=li>>>13,Kn=0|Z[9],Dn=8191&Kn,kn=Kn>>>13;_.negative=b.negative^w.negative,_.length=19;var Xn=(X+(y=Math.imul(Y,Dt))|0)+((8191&(C=(C=Math.imul(Y,Vt))+Math.imul(P,Dt)|0))<<13)|0;X=((S=Math.imul(P,Vt))+(C>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,y=Math.imul($,Dt),C=(C=Math.imul($,Vt))+Math.imul(te,Dt)|0,S=Math.imul(te,Vt);var Ei=(X+(y=y+Math.imul(Y,Rt)|0)|0)+((8191&(C=(C=C+Math.imul(Y,rn)|0)+Math.imul(P,Rt)|0))<<13)|0;X=((S=S+Math.imul(P,rn)|0)+(C>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,y=Math.imul(re,Dt),C=(C=Math.imul(re,Vt))+Math.imul(ce,Dt)|0,S=Math.imul(ce,Vt),y=y+Math.imul($,Rt)|0,C=(C=C+Math.imul($,rn)|0)+Math.imul(te,Rt)|0,S=S+Math.imul(te,rn)|0;var er=(X+(y=y+Math.imul(Y,fn)|0)|0)+((8191&(C=(C=C+Math.imul(Y,pn)|0)+Math.imul(P,fn)|0))<<13)|0;X=((S=S+Math.imul(P,pn)|0)+(C>>>13)|0)+(er>>>26)|0,er&=67108863,y=Math.imul(xe,Dt),C=(C=Math.imul(xe,Vt))+Math.imul(ie,Dt)|0,S=Math.imul(ie,Vt),y=y+Math.imul(re,Rt)|0,C=(C=C+Math.imul(re,rn)|0)+Math.imul(ce,Rt)|0,S=S+Math.imul(ce,rn)|0,y=y+Math.imul($,fn)|0,C=(C=C+Math.imul($,pn)|0)+Math.imul(te,fn)|0,S=S+Math.imul(te,pn)|0;var yr=(X+(y=y+Math.imul(Y,It)|0)|0)+((8191&(C=(C=C+Math.imul(Y,Ft)|0)+Math.imul(P,It)|0))<<13)|0;X=((S=S+Math.imul(P,Ft)|0)+(C>>>13)|0)+(yr>>>26)|0,yr&=67108863,y=Math.imul(ge,Dt),C=(C=Math.imul(ge,Vt))+Math.imul(Ae,Dt)|0,S=Math.imul(Ae,Vt),y=y+Math.imul(xe,Rt)|0,C=(C=C+Math.imul(xe,rn)|0)+Math.imul(ie,Rt)|0,S=S+Math.imul(ie,rn)|0,y=y+Math.imul(re,fn)|0,C=(C=C+Math.imul(re,pn)|0)+Math.imul(ce,fn)|0,S=S+Math.imul(ce,pn)|0,y=y+Math.imul($,It)|0,C=(C=C+Math.imul($,Ft)|0)+Math.imul(te,It)|0,S=S+Math.imul(te,Ft)|0;var Ln=(X+(y=y+Math.imul(Y,on)|0)|0)+((8191&(C=(C=C+Math.imul(Y,ln)|0)+Math.imul(P,on)|0))<<13)|0;X=((S=S+Math.imul(P,ln)|0)+(C>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,y=Math.imul(Te,Dt),C=(C=Math.imul(Te,Vt))+Math.imul(Se,Dt)|0,S=Math.imul(Se,Vt),y=y+Math.imul(ge,Rt)|0,C=(C=C+Math.imul(ge,rn)|0)+Math.imul(Ae,Rt)|0,S=S+Math.imul(Ae,rn)|0,y=y+Math.imul(xe,fn)|0,C=(C=C+Math.imul(xe,pn)|0)+Math.imul(ie,fn)|0,S=S+Math.imul(ie,pn)|0,y=y+Math.imul(re,It)|0,C=(C=C+Math.imul(re,Ft)|0)+Math.imul(ce,It)|0,S=S+Math.imul(ce,Ft)|0,y=y+Math.imul($,on)|0,C=(C=C+Math.imul($,ln)|0)+Math.imul(te,on)|0,S=S+Math.imul(te,ln)|0;var Ur=(X+(y=y+Math.imul(Y,St)|0)|0)+((8191&(C=(C=C+Math.imul(Y,Ie)|0)+Math.imul(P,St)|0))<<13)|0;X=((S=S+Math.imul(P,Ie)|0)+(C>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,y=Math.imul(He,Dt),C=(C=Math.imul(He,Vt))+Math.imul(Ze,Dt)|0,S=Math.imul(Ze,Vt),y=y+Math.imul(Te,Rt)|0,C=(C=C+Math.imul(Te,rn)|0)+Math.imul(Se,Rt)|0,S=S+Math.imul(Se,rn)|0,y=y+Math.imul(ge,fn)|0,C=(C=C+Math.imul(ge,pn)|0)+Math.imul(Ae,fn)|0,S=S+Math.imul(Ae,pn)|0,y=y+Math.imul(xe,It)|0,C=(C=C+Math.imul(xe,Ft)|0)+Math.imul(ie,It)|0,S=S+Math.imul(ie,Ft)|0,y=y+Math.imul(re,on)|0,C=(C=C+Math.imul(re,ln)|0)+Math.imul(ce,on)|0,S=S+Math.imul(ce,ln)|0,y=y+Math.imul($,St)|0,C=(C=C+Math.imul($,Ie)|0)+Math.imul(te,St)|0,S=S+Math.imul(te,Ie)|0;var ye=(X+(y=y+Math.imul(Y,Ye)|0)|0)+((8191&(C=(C=C+Math.imul(Y,ct)|0)+Math.imul(P,Ye)|0))<<13)|0;X=((S=S+Math.imul(P,ct)|0)+(C>>>13)|0)+(ye>>>26)|0,ye&=67108863,y=Math.imul(tt,Dt),C=(C=Math.imul(tt,Vt))+Math.imul(pt,Dt)|0,S=Math.imul(pt,Vt),y=y+Math.imul(He,Rt)|0,C=(C=C+Math.imul(He,rn)|0)+Math.imul(Ze,Rt)|0,S=S+Math.imul(Ze,rn)|0,y=y+Math.imul(Te,fn)|0,C=(C=C+Math.imul(Te,pn)|0)+Math.imul(Se,fn)|0,S=S+Math.imul(Se,pn)|0,y=y+Math.imul(ge,It)|0,C=(C=C+Math.imul(ge,Ft)|0)+Math.imul(Ae,It)|0,S=S+Math.imul(Ae,Ft)|0,y=y+Math.imul(xe,on)|0,C=(C=C+Math.imul(xe,ln)|0)+Math.imul(ie,on)|0,S=S+Math.imul(ie,ln)|0,y=y+Math.imul(re,St)|0,C=(C=C+Math.imul(re,Ie)|0)+Math.imul(ce,St)|0,S=S+Math.imul(ce,Ie)|0,y=y+Math.imul($,Ye)|0,C=(C=C+Math.imul($,ct)|0)+Math.imul(te,Ye)|0,S=S+Math.imul(te,ct)|0;var We=(X+(y=y+Math.imul(Y,Mt)|0)|0)+((8191&(C=(C=C+Math.imul(Y,Et)|0)+Math.imul(P,Mt)|0))<<13)|0;X=((S=S+Math.imul(P,Et)|0)+(C>>>13)|0)+(We>>>26)|0,We&=67108863,y=Math.imul(bt,Dt),C=(C=Math.imul(bt,Vt))+Math.imul(lt,Dt)|0,S=Math.imul(lt,Vt),y=y+Math.imul(tt,Rt)|0,C=(C=C+Math.imul(tt,rn)|0)+Math.imul(pt,Rt)|0,S=S+Math.imul(pt,rn)|0,y=y+Math.imul(He,fn)|0,C=(C=C+Math.imul(He,pn)|0)+Math.imul(Ze,fn)|0,S=S+Math.imul(Ze,pn)|0,y=y+Math.imul(Te,It)|0,C=(C=C+Math.imul(Te,Ft)|0)+Math.imul(Se,It)|0,S=S+Math.imul(Se,Ft)|0,y=y+Math.imul(ge,on)|0,C=(C=C+Math.imul(ge,ln)|0)+Math.imul(Ae,on)|0,S=S+Math.imul(Ae,ln)|0,y=y+Math.imul(xe,St)|0,C=(C=C+Math.imul(xe,Ie)|0)+Math.imul(ie,St)|0,S=S+Math.imul(ie,Ie)|0,y=y+Math.imul(re,Ye)|0,C=(C=C+Math.imul(re,ct)|0)+Math.imul(ce,Ye)|0,S=S+Math.imul(ce,ct)|0,y=y+Math.imul($,Mt)|0,C=(C=C+Math.imul($,Et)|0)+Math.imul(te,Mt)|0,S=S+Math.imul(te,Et)|0;var dt=(X+(y=y+Math.imul(Y,Jt)|0)|0)+((8191&(C=(C=C+Math.imul(Y,Bt)|0)+Math.imul(P,Jt)|0))<<13)|0;X=((S=S+Math.imul(P,Bt)|0)+(C>>>13)|0)+(dt>>>26)|0,dt&=67108863,y=Math.imul(vt,Dt),C=(C=Math.imul(vt,Vt))+Math.imul(at,Dt)|0,S=Math.imul(at,Vt),y=y+Math.imul(bt,Rt)|0,C=(C=C+Math.imul(bt,rn)|0)+Math.imul(lt,Rt)|0,S=S+Math.imul(lt,rn)|0,y=y+Math.imul(tt,fn)|0,C=(C=C+Math.imul(tt,pn)|0)+Math.imul(pt,fn)|0,S=S+Math.imul(pt,pn)|0,y=y+Math.imul(He,It)|0,C=(C=C+Math.imul(He,Ft)|0)+Math.imul(Ze,It)|0,S=S+Math.imul(Ze,Ft)|0,y=y+Math.imul(Te,on)|0,C=(C=C+Math.imul(Te,ln)|0)+Math.imul(Se,on)|0,S=S+Math.imul(Se,ln)|0,y=y+Math.imul(ge,St)|0,C=(C=C+Math.imul(ge,Ie)|0)+Math.imul(Ae,St)|0,S=S+Math.imul(Ae,Ie)|0,y=y+Math.imul(xe,Ye)|0,C=(C=C+Math.imul(xe,ct)|0)+Math.imul(ie,Ye)|0,S=S+Math.imul(ie,ct)|0,y=y+Math.imul(re,Mt)|0,C=(C=C+Math.imul(re,Et)|0)+Math.imul(ce,Mt)|0,S=S+Math.imul(ce,Et)|0,y=y+Math.imul($,Jt)|0,C=(C=C+Math.imul($,Bt)|0)+Math.imul(te,Jt)|0,S=S+Math.imul(te,Bt)|0;var it=(X+(y=y+Math.imul(Y,Dn)|0)|0)+((8191&(C=(C=C+Math.imul(Y,kn)|0)+Math.imul(P,Dn)|0))<<13)|0;X=((S=S+Math.imul(P,kn)|0)+(C>>>13)|0)+(it>>>26)|0,it&=67108863,y=Math.imul(vt,Rt),C=(C=Math.imul(vt,rn))+Math.imul(at,Rt)|0,S=Math.imul(at,rn),y=y+Math.imul(bt,fn)|0,C=(C=C+Math.imul(bt,pn)|0)+Math.imul(lt,fn)|0,S=S+Math.imul(lt,pn)|0,y=y+Math.imul(tt,It)|0,C=(C=C+Math.imul(tt,Ft)|0)+Math.imul(pt,It)|0,S=S+Math.imul(pt,Ft)|0,y=y+Math.imul(He,on)|0,C=(C=C+Math.imul(He,ln)|0)+Math.imul(Ze,on)|0,S=S+Math.imul(Ze,ln)|0,y=y+Math.imul(Te,St)|0,C=(C=C+Math.imul(Te,Ie)|0)+Math.imul(Se,St)|0,S=S+Math.imul(Se,Ie)|0,y=y+Math.imul(ge,Ye)|0,C=(C=C+Math.imul(ge,ct)|0)+Math.imul(Ae,Ye)|0,S=S+Math.imul(Ae,ct)|0,y=y+Math.imul(xe,Mt)|0,C=(C=C+Math.imul(xe,Et)|0)+Math.imul(ie,Mt)|0,S=S+Math.imul(ie,Et)|0,y=y+Math.imul(re,Jt)|0,C=(C=C+Math.imul(re,Bt)|0)+Math.imul(ce,Jt)|0,S=S+Math.imul(ce,Bt)|0;var Pt=(X+(y=y+Math.imul($,Dn)|0)|0)+((8191&(C=(C=C+Math.imul($,kn)|0)+Math.imul(te,Dn)|0))<<13)|0;X=((S=S+Math.imul(te,kn)|0)+(C>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,y=Math.imul(vt,fn),C=(C=Math.imul(vt,pn))+Math.imul(at,fn)|0,S=Math.imul(at,pn),y=y+Math.imul(bt,It)|0,C=(C=C+Math.imul(bt,Ft)|0)+Math.imul(lt,It)|0,S=S+Math.imul(lt,Ft)|0,y=y+Math.imul(tt,on)|0,C=(C=C+Math.imul(tt,ln)|0)+Math.imul(pt,on)|0,S=S+Math.imul(pt,ln)|0,y=y+Math.imul(He,St)|0,C=(C=C+Math.imul(He,Ie)|0)+Math.imul(Ze,St)|0,S=S+Math.imul(Ze,Ie)|0,y=y+Math.imul(Te,Ye)|0,C=(C=C+Math.imul(Te,ct)|0)+Math.imul(Se,Ye)|0,S=S+Math.imul(Se,ct)|0,y=y+Math.imul(ge,Mt)|0,C=(C=C+Math.imul(ge,Et)|0)+Math.imul(Ae,Mt)|0,S=S+Math.imul(Ae,Et)|0,y=y+Math.imul(xe,Jt)|0,C=(C=C+Math.imul(xe,Bt)|0)+Math.imul(ie,Jt)|0,S=S+Math.imul(ie,Bt)|0;var Qt=(X+(y=y+Math.imul(re,Dn)|0)|0)+((8191&(C=(C=C+Math.imul(re,kn)|0)+Math.imul(ce,Dn)|0))<<13)|0;X=((S=S+Math.imul(ce,kn)|0)+(C>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,y=Math.imul(vt,It),C=(C=Math.imul(vt,Ft))+Math.imul(at,It)|0,S=Math.imul(at,Ft),y=y+Math.imul(bt,on)|0,C=(C=C+Math.imul(bt,ln)|0)+Math.imul(lt,on)|0,S=S+Math.imul(lt,ln)|0,y=y+Math.imul(tt,St)|0,C=(C=C+Math.imul(tt,Ie)|0)+Math.imul(pt,St)|0,S=S+Math.imul(pt,Ie)|0,y=y+Math.imul(He,Ye)|0,C=(C=C+Math.imul(He,ct)|0)+Math.imul(Ze,Ye)|0,S=S+Math.imul(Ze,ct)|0,y=y+Math.imul(Te,Mt)|0,C=(C=C+Math.imul(Te,Et)|0)+Math.imul(Se,Mt)|0,S=S+Math.imul(Se,Et)|0,y=y+Math.imul(ge,Jt)|0,C=(C=C+Math.imul(ge,Bt)|0)+Math.imul(Ae,Jt)|0,S=S+Math.imul(Ae,Bt)|0;var Yt=(X+(y=y+Math.imul(xe,Dn)|0)|0)+((8191&(C=(C=C+Math.imul(xe,kn)|0)+Math.imul(ie,Dn)|0))<<13)|0;X=((S=S+Math.imul(ie,kn)|0)+(C>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,y=Math.imul(vt,on),C=(C=Math.imul(vt,ln))+Math.imul(at,on)|0,S=Math.imul(at,ln),y=y+Math.imul(bt,St)|0,C=(C=C+Math.imul(bt,Ie)|0)+Math.imul(lt,St)|0,S=S+Math.imul(lt,Ie)|0,y=y+Math.imul(tt,Ye)|0,C=(C=C+Math.imul(tt,ct)|0)+Math.imul(pt,Ye)|0,S=S+Math.imul(pt,ct)|0,y=y+Math.imul(He,Mt)|0,C=(C=C+Math.imul(He,Et)|0)+Math.imul(Ze,Mt)|0,S=S+Math.imul(Ze,Et)|0,y=y+Math.imul(Te,Jt)|0,C=(C=C+Math.imul(Te,Bt)|0)+Math.imul(Se,Jt)|0,S=S+Math.imul(Se,Bt)|0;var Jn=(X+(y=y+Math.imul(ge,Dn)|0)|0)+((8191&(C=(C=C+Math.imul(ge,kn)|0)+Math.imul(Ae,Dn)|0))<<13)|0;X=((S=S+Math.imul(Ae,kn)|0)+(C>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,y=Math.imul(vt,St),C=(C=Math.imul(vt,Ie))+Math.imul(at,St)|0,S=Math.imul(at,Ie),y=y+Math.imul(bt,Ye)|0,C=(C=C+Math.imul(bt,ct)|0)+Math.imul(lt,Ye)|0,S=S+Math.imul(lt,ct)|0,y=y+Math.imul(tt,Mt)|0,C=(C=C+Math.imul(tt,Et)|0)+Math.imul(pt,Mt)|0,S=S+Math.imul(pt,Et)|0,y=y+Math.imul(He,Jt)|0,C=(C=C+Math.imul(He,Bt)|0)+Math.imul(Ze,Jt)|0,S=S+Math.imul(Ze,Bt)|0;var xn=(X+(y=y+Math.imul(Te,Dn)|0)|0)+((8191&(C=(C=C+Math.imul(Te,kn)|0)+Math.imul(Se,Dn)|0))<<13)|0;X=((S=S+Math.imul(Se,kn)|0)+(C>>>13)|0)+(xn>>>26)|0,xn&=67108863,y=Math.imul(vt,Ye),C=(C=Math.imul(vt,ct))+Math.imul(at,Ye)|0,S=Math.imul(at,ct),y=y+Math.imul(bt,Mt)|0,C=(C=C+Math.imul(bt,Et)|0)+Math.imul(lt,Mt)|0,S=S+Math.imul(lt,Et)|0,y=y+Math.imul(tt,Jt)|0,C=(C=C+Math.imul(tt,Bt)|0)+Math.imul(pt,Jt)|0,S=S+Math.imul(pt,Bt)|0;var yn=(X+(y=y+Math.imul(He,Dn)|0)|0)+((8191&(C=(C=C+Math.imul(He,kn)|0)+Math.imul(Ze,Dn)|0))<<13)|0;X=((S=S+Math.imul(Ze,kn)|0)+(C>>>13)|0)+(yn>>>26)|0,yn&=67108863,y=Math.imul(vt,Mt),C=(C=Math.imul(vt,Et))+Math.imul(at,Mt)|0,S=Math.imul(at,Et),y=y+Math.imul(bt,Jt)|0,C=(C=C+Math.imul(bt,Bt)|0)+Math.imul(lt,Jt)|0,S=S+Math.imul(lt,Bt)|0;var Cn=(X+(y=y+Math.imul(tt,Dn)|0)|0)+((8191&(C=(C=C+Math.imul(tt,kn)|0)+Math.imul(pt,Dn)|0))<<13)|0;X=((S=S+Math.imul(pt,kn)|0)+(C>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,y=Math.imul(vt,Jt),C=(C=Math.imul(vt,Bt))+Math.imul(at,Jt)|0,S=Math.imul(at,Bt);var tr=(X+(y=y+Math.imul(bt,Dn)|0)|0)+((8191&(C=(C=C+Math.imul(bt,kn)|0)+Math.imul(lt,Dn)|0))<<13)|0;X=((S=S+Math.imul(lt,kn)|0)+(C>>>13)|0)+(tr>>>26)|0,tr&=67108863;var $n=(X+(y=Math.imul(vt,Dn))|0)+((8191&(C=(C=Math.imul(vt,kn))+Math.imul(at,Dn)|0))<<13)|0;return X=((S=Math.imul(at,kn))+(C>>>13)|0)+($n>>>26)|0,$n&=67108863,j[0]=Xn,j[1]=Ei,j[2]=er,j[3]=yr,j[4]=Ln,j[5]=Ur,j[6]=ye,j[7]=We,j[8]=dt,j[9]=it,j[10]=Pt,j[11]=Qt,j[12]=Yt,j[13]=Jn,j[14]=xn,j[15]=yn,j[16]=Cn,j[17]=tr,j[18]=$n,X!==0&&(j[19]=X,_.length++),_};function I(b,w,_){_.negative=w.negative^b.negative,_.length=b.length+w.length;for(var y=0,C=0,S=0;S<_.length-1;S++){var R=C;C=0;for(var Z=67108863&y,j=Math.min(S,w.length-1),X=Math.max(0,S-b.length+1);X<=j;X++){var D=S-X,Y=(0|b.words[D])*(0|w.words[X]),P=67108863&Y;Z=67108863&(P=P+Z|0),C+=(R=(R=R+(Y/67108864|0)|0)+(P>>>26)|0)>>>26,R&=67108863}_.words[S]=Z,y=R,R=C}return y!==0?_.words[S]=y:_.length--,_._strip()}function N(b,w,_){return I(b,w,_)}function H(b,w){this.x=b,this.y=w}Math.imul||(x=v),a.prototype.mulTo=function(b,w){var _=this.length+b.length;return this.length===10&&b.length===10?x(this,b,w):_<63?v(this,b,w):_<1024?I(this,b,w):N(this,b,w)},H.prototype.makeRBT=function(b){for(var w=new Array(b),_=a.prototype._countBits(b)-1,y=0;y<b;y++)w[y]=this.revBin(y,_,b);return w},H.prototype.revBin=function(b,w,_){if(b===0||b===_-1)return b;for(var y=0,C=0;C<w;C++)y|=(1&b)<<w-C-1,b>>=1;return y},H.prototype.permute=function(b,w,_,y,C,S){for(var R=0;R<S;R++)y[R]=w[b[R]],C[R]=_[b[R]]},H.prototype.transform=function(b,w,_,y,C,S){this.permute(S,b,w,_,y,C);for(var R=1;R<C;R<<=1)for(var Z=R<<1,j=Math.cos(2*Math.PI/Z),X=Math.sin(2*Math.PI/Z),D=0;D<C;D+=Z)for(var Y=j,P=X,M=0;M<R;M++){var $=_[D+M],te=y[D+M],ue=_[D+M+R],re=y[D+M+R],ce=Y*ue-P*re;re=Y*re+P*ue,ue=ce,_[D+M]=$+ue,y[D+M]=te+re,_[D+M+R]=$-ue,y[D+M+R]=te-re,M!==Z&&(ce=j*Y-X*P,P=j*P+X*Y,Y=ce)}},H.prototype.guessLen13b=function(b,w){var _=1|Math.max(w,b),y=1&_,C=0;for(_=_/2|0;_;_>>>=1)C++;return 1<<C+1+y},H.prototype.conjugate=function(b,w,_){if(!(_<=1))for(var y=0;y<_/2;y++){var C=b[y];b[y]=b[_-y-1],b[_-y-1]=C,C=w[y],w[y]=-w[_-y-1],w[_-y-1]=-C}},H.prototype.normalize13b=function(b,w){for(var _=0,y=0;y<w/2;y++){var C=8192*Math.round(b[2*y+1]/w)+Math.round(b[2*y]/w)+_;b[y]=67108863&C,_=C<67108864?0:C/67108864|0}return b},H.prototype.convert13b=function(b,w,_,y){for(var C=0,S=0;S<w;S++)C+=0|b[S],_[2*S]=8191&C,C>>>=13,_[2*S+1]=8191&C,C>>>=13;for(S=2*w;S<y;++S)_[S]=0;o(C===0),o((-8192&C)==0)},H.prototype.stub=function(b){for(var w=new Array(b),_=0;_<b;_++)w[_]=0;return w},H.prototype.mulp=function(b,w,_){var y=2*this.guessLen13b(b.length,w.length),C=this.makeRBT(y),S=this.stub(y),R=new Array(y),Z=new Array(y),j=new Array(y),X=new Array(y),D=new Array(y),Y=new Array(y),P=_.words;P.length=y,this.convert13b(b.words,b.length,R,y),this.convert13b(w.words,w.length,X,y),this.transform(R,S,Z,j,y,C),this.transform(X,S,D,Y,y,C);for(var M=0;M<y;M++){var $=Z[M]*D[M]-j[M]*Y[M];j[M]=Z[M]*Y[M]+j[M]*D[M],Z[M]=$}return this.conjugate(Z,j,y),this.transform(Z,j,P,S,y,C),this.conjugate(P,S,y),this.normalize13b(P,y),_.negative=b.negative^w.negative,_.length=b.length+w.length,_._strip()},a.prototype.mul=function(b){var w=new a(null);return w.words=new Array(this.length+b.length),this.mulTo(b,w)},a.prototype.mulf=function(b){var w=new a(null);return w.words=new Array(this.length+b.length),N(this,b,w)},a.prototype.imul=function(b){return this.clone().mulTo(b,this)},a.prototype.imuln=function(b){var w=b<0;w&&(b=-b),o(typeof b=="number"),o(b<67108864);for(var _=0,y=0;y<this.length;y++){var C=(0|this.words[y])*b,S=(67108863&C)+(67108863&_);_>>=26,_+=C/67108864|0,_+=S>>>26,this.words[y]=67108863&S}return _!==0&&(this.words[y]=_,this.length++),w?this.ineg():this},a.prototype.muln=function(b){return this.clone().imuln(b)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(b){var w=function(S){for(var R=new Array(S.bitLength()),Z=0;Z<R.length;Z++){var j=Z/26|0,X=Z%26;R[Z]=S.words[j]>>>X&1}return R}(b);if(w.length===0)return new a(1);for(var _=this,y=0;y<w.length&&w[y]===0;y++,_=_.sqr());if(++y<w.length)for(var C=_.sqr();y<w.length;y++,C=C.sqr())w[y]!==0&&(_=_.mul(C));return _},a.prototype.iushln=function(b){o(typeof b=="number"&&b>=0);var w,_=b%26,y=(b-_)/26,C=67108863>>>26-_<<26-_;if(_!==0){var S=0;for(w=0;w<this.length;w++){var R=this.words[w]&C,Z=(0|this.words[w])-R<<_;this.words[w]=Z|S,S=R>>>26-_}S&&(this.words[w]=S,this.length++)}if(y!==0){for(w=this.length-1;w>=0;w--)this.words[w+y]=this.words[w];for(w=0;w<y;w++)this.words[w]=0;this.length+=y}return this._strip()},a.prototype.ishln=function(b){return o(this.negative===0),this.iushln(b)},a.prototype.iushrn=function(b,w,_){var y;o(typeof b=="number"&&b>=0),y=w?(w-w%26)/26:0;var C=b%26,S=Math.min((b-C)/26,this.length),R=67108863^67108863>>>C<<C,Z=_;if(y-=S,y=Math.max(0,y),Z){for(var j=0;j<S;j++)Z.words[j]=this.words[j];Z.length=S}if(S!==0)if(this.length>S)for(this.length-=S,j=0;j<this.length;j++)this.words[j]=this.words[j+S];else this.words[0]=0,this.length=1;var X=0;for(j=this.length-1;j>=0&&(X!==0||j>=y);j--){var D=0|this.words[j];this.words[j]=X<<26-C|D>>>C,X=D&R}return Z&&X!==0&&(Z.words[Z.length++]=X),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(b,w,_){return o(this.negative===0),this.iushrn(b,w,_)},a.prototype.shln=function(b){return this.clone().ishln(b)},a.prototype.ushln=function(b){return this.clone().iushln(b)},a.prototype.shrn=function(b){return this.clone().ishrn(b)},a.prototype.ushrn=function(b){return this.clone().iushrn(b)},a.prototype.testn=function(b){o(typeof b=="number"&&b>=0);var w=b%26,_=(b-w)/26,y=1<<w;return!(this.length<=_)&&!!(this.words[_]&y)},a.prototype.imaskn=function(b){o(typeof b=="number"&&b>=0);var w=b%26,_=(b-w)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(w!==0&&_++,this.length=Math.min(_,this.length),w!==0){var y=67108863^67108863>>>w<<w;this.words[this.length-1]&=y}return this._strip()},a.prototype.maskn=function(b){return this.clone().imaskn(b)},a.prototype.iaddn=function(b){return o(typeof b=="number"),o(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(0|this.words[0])<=b?(this.words[0]=b-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},a.prototype._iaddn=function(b){this.words[0]+=b;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},a.prototype.isubn=function(b){if(o(typeof b=="number"),o(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},a.prototype.addn=function(b){return this.clone().iaddn(b)},a.prototype.subn=function(b){return this.clone().isubn(b)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(b,w,_){var y,C,S=b.length+_;this._expand(S);var R=0;for(y=0;y<b.length;y++){C=(0|this.words[y+_])+R;var Z=(0|b.words[y])*w;R=((C-=67108863&Z)>>26)-(Z/67108864|0),this.words[y+_]=67108863&C}for(;y<this.length-_;y++)R=(C=(0|this.words[y+_])+R)>>26,this.words[y+_]=67108863&C;if(R===0)return this._strip();for(o(R===-1),R=0,y=0;y<this.length;y++)R=(C=-(0|this.words[y])+R)>>26,this.words[y]=67108863&C;return this.negative=1,this._strip()},a.prototype._wordDiv=function(b,w){var _=(this.length,b.length),y=this.clone(),C=b,S=0|C.words[C.length-1];(_=26-this._countBits(S))!==0&&(C=C.ushln(_),y.iushln(_),S=0|C.words[C.length-1]);var R,Z=y.length-C.length;if(w!=="mod"){(R=new a(null)).length=Z+1,R.words=new Array(R.length);for(var j=0;j<R.length;j++)R.words[j]=0}var X=y.clone()._ishlnsubmul(C,1,Z);X.negative===0&&(y=X,R&&(R.words[Z]=1));for(var D=Z-1;D>=0;D--){var Y=67108864*(0|y.words[C.length+D])+(0|y.words[C.length+D-1]);for(Y=Math.min(Y/S|0,67108863),y._ishlnsubmul(C,Y,D);y.negative!==0;)Y--,y.negative=0,y._ishlnsubmul(C,1,D),y.isZero()||(y.negative^=1);R&&(R.words[D]=Y)}return R&&R._strip(),y._strip(),w!=="div"&&_!==0&&y.iushrn(_),{div:R||null,mod:y}},a.prototype.divmod=function(b,w,_){return o(!b.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&b.negative===0?(S=this.neg().divmod(b,w),w!=="mod"&&(y=S.div.neg()),w!=="div"&&(C=S.mod.neg(),_&&C.negative!==0&&C.iadd(b)),{div:y,mod:C}):this.negative===0&&b.negative!==0?(S=this.divmod(b.neg(),w),w!=="mod"&&(y=S.div.neg()),{div:y,mod:S.mod}):this.negative&b.negative?(S=this.neg().divmod(b.neg(),w),w!=="div"&&(C=S.mod.neg(),_&&C.negative!==0&&C.isub(b)),{div:S.div,mod:C}):b.length>this.length||this.cmp(b)<0?{div:new a(0),mod:this}:b.length===1?w==="div"?{div:this.divn(b.words[0]),mod:null}:w==="mod"?{div:null,mod:new a(this.modrn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new a(this.modrn(b.words[0]))}:this._wordDiv(b,w);var y,C,S},a.prototype.div=function(b){return this.divmod(b,"div",!1).div},a.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},a.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},a.prototype.divRound=function(b){var w=this.divmod(b);if(w.mod.isZero())return w.div;var _=w.div.negative!==0?w.mod.isub(b):w.mod,y=b.ushrn(1),C=b.andln(1),S=_.cmp(y);return S<0||C===1&&S===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},a.prototype.modrn=function(b){var w=b<0;w&&(b=-b),o(b<=67108863);for(var _=(1<<26)%b,y=0,C=this.length-1;C>=0;C--)y=(_*y+(0|this.words[C]))%b;return w?-y:y},a.prototype.modn=function(b){return this.modrn(b)},a.prototype.idivn=function(b){var w=b<0;w&&(b=-b),o(b<=67108863);for(var _=0,y=this.length-1;y>=0;y--){var C=(0|this.words[y])+67108864*_;this.words[y]=C/b|0,_=C%b}return this._strip(),w?this.ineg():this},a.prototype.divn=function(b){return this.clone().idivn(b)},a.prototype.egcd=function(b){o(b.negative===0),o(!b.isZero());var w=this,_=b.clone();w=w.negative!==0?w.umod(b):w.clone();for(var y=new a(1),C=new a(0),S=new a(0),R=new a(1),Z=0;w.isEven()&&_.isEven();)w.iushrn(1),_.iushrn(1),++Z;for(var j=_.clone(),X=w.clone();!w.isZero();){for(var D=0,Y=1;!(w.words[0]&Y)&&D<26;++D,Y<<=1);if(D>0)for(w.iushrn(D);D-- >0;)(y.isOdd()||C.isOdd())&&(y.iadd(j),C.isub(X)),y.iushrn(1),C.iushrn(1);for(var P=0,M=1;!(_.words[0]&M)&&P<26;++P,M<<=1);if(P>0)for(_.iushrn(P);P-- >0;)(S.isOdd()||R.isOdd())&&(S.iadd(j),R.isub(X)),S.iushrn(1),R.iushrn(1);w.cmp(_)>=0?(w.isub(_),y.isub(S),C.isub(R)):(_.isub(w),S.isub(y),R.isub(C))}return{a:S,b:R,gcd:_.iushln(Z)}},a.prototype._invmp=function(b){o(b.negative===0),o(!b.isZero());var w=this,_=b.clone();w=w.negative!==0?w.umod(b):w.clone();for(var y,C=new a(1),S=new a(0),R=_.clone();w.cmpn(1)>0&&_.cmpn(1)>0;){for(var Z=0,j=1;!(w.words[0]&j)&&Z<26;++Z,j<<=1);if(Z>0)for(w.iushrn(Z);Z-- >0;)C.isOdd()&&C.iadd(R),C.iushrn(1);for(var X=0,D=1;!(_.words[0]&D)&&X<26;++X,D<<=1);if(X>0)for(_.iushrn(X);X-- >0;)S.isOdd()&&S.iadd(R),S.iushrn(1);w.cmp(_)>=0?(w.isub(_),C.isub(S)):(_.isub(w),S.isub(C))}return(y=w.cmpn(1)===0?C:S).cmpn(0)<0&&y.iadd(b),y},a.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var w=this.clone(),_=b.clone();w.negative=0,_.negative=0;for(var y=0;w.isEven()&&_.isEven();y++)w.iushrn(1),_.iushrn(1);for(;;){for(;w.isEven();)w.iushrn(1);for(;_.isEven();)_.iushrn(1);var C=w.cmp(_);if(C<0){var S=w;w=_,_=S}else if(C===0||_.cmpn(1)===0)break;w.isub(_)}return _.iushln(y)},a.prototype.invm=function(b){return this.egcd(b).a.umod(b)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(b){return this.words[0]&b},a.prototype.bincn=function(b){o(typeof b=="number");var w=b%26,_=(b-w)/26,y=1<<w;if(this.length<=_)return this._expand(_+1),this.words[_]|=y,this;for(var C=y,S=_;C!==0&&S<this.length;S++){var R=0|this.words[S];C=(R+=C)>>>26,R&=67108863,this.words[S]=R}return C!==0&&(this.words[S]=C,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(b){var w,_=b<0;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;if(this._strip(),this.length>1)w=1;else{_&&(b=-b),o(b<=67108863,"Number is too big");var y=0|this.words[0];w=y===b?0:y<b?-1:1}return this.negative!==0?0|-w:w},a.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var w=this.ucmp(b);return this.negative!==0?0|-w:w},a.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var w=0,_=this.length-1;_>=0;_--){var y=0|this.words[_],C=0|b.words[_];if(y!==C){y<C?w=-1:y>C&&(w=1);break}}return w},a.prototype.gtn=function(b){return this.cmpn(b)===1},a.prototype.gt=function(b){return this.cmp(b)===1},a.prototype.gten=function(b){return this.cmpn(b)>=0},a.prototype.gte=function(b){return this.cmp(b)>=0},a.prototype.ltn=function(b){return this.cmpn(b)===-1},a.prototype.lt=function(b){return this.cmp(b)===-1},a.prototype.lten=function(b){return this.cmpn(b)<=0},a.prototype.lte=function(b){return this.cmp(b)<=0},a.prototype.eqn=function(b){return this.cmpn(b)===0},a.prototype.eq=function(b){return this.cmp(b)===0},a.red=function(b){return new E(b)},a.prototype.toRed=function(b){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},a.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(b){return this.red=b,this},a.prototype.forceRed=function(b){return o(!this.red,"Already a number in reduction context"),this._forceRed(b)},a.prototype.redAdd=function(b){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},a.prototype.redIAdd=function(b){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},a.prototype.redSub=function(b){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},a.prototype.redISub=function(b){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},a.prototype.redShl=function(b){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},a.prototype.redMul=function(b){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},a.prototype.redIMul=function(b){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},a.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(b){return o(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var F={k256:null,p224:null,p192:null,p25519:null};function B(b,w){this.name=b,this.p=new a(w,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function V(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function G(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function W(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(b){if(typeof b=="string"){var w=a._prime(b);this.m=w.p,this.prime=w}else o(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}function L(b){E.call(this,b),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}B.prototype._tmp=function(){var b=new a(null);return b.words=new Array(Math.ceil(this.n/13)),b},B.prototype.ireduce=function(b){var w,_=b;do this.split(_,this.tmp),w=(_=(_=this.imulK(_)).iadd(this.tmp)).bitLength();while(w>this.n);var y=w<this.n?-1:_.ucmp(this.p);return y===0?(_.words[0]=0,_.length=1):y>0?_.isub(this.p):_.strip!==void 0?_.strip():_._strip(),_},B.prototype.split=function(b,w){b.iushrn(this.n,0,w)},B.prototype.imulK=function(b){return b.imul(this.k)},s(V,B),V.prototype.split=function(b,w){for(var _=Math.min(b.length,9),y=0;y<_;y++)w.words[y]=b.words[y];if(w.length=_,b.length<=9)return b.words[0]=0,void(b.length=1);var C=b.words[9];for(w.words[w.length++]=4194303&C,y=10;y<b.length;y++){var S=0|b.words[y];b.words[y-10]=(4194303&S)<<4|C>>>22,C=S}C>>>=22,b.words[y-10]=C,C===0&&b.length>10?b.length-=10:b.length-=9},V.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var w=0,_=0;_<b.length;_++){var y=0|b.words[_];w+=977*y,b.words[_]=67108863&w,w=64*y+(w/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b},s(G,B),s(W,B),s(k,B),k.prototype.imulK=function(b){for(var w=0,_=0;_<b.length;_++){var y=19*(0|b.words[_])+w,C=67108863&y;y>>>=26,b.words[_]=C,w=y}return w!==0&&(b.words[b.length++]=w),b},a._prime=function(b){if(F[b])return F[b];var w;if(b==="k256")w=new V;else if(b==="p224")w=new G;else if(b==="p192")w=new W;else{if(b!=="p25519")throw new Error("Unknown prime "+b);w=new k}return F[b]=w,w},E.prototype._verify1=function(b){o(b.negative===0,"red works only with positives"),o(b.red,"red works only with red numbers")},E.prototype._verify2=function(b,w){o((b.negative|w.negative)==0,"red works only with positives"),o(b.red&&b.red===w.red,"red works only with red numbers")},E.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):(f(b,b.umod(this.m)._forceRed(this)),b)},E.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},E.prototype.add=function(b,w){this._verify2(b,w);var _=b.add(w);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},E.prototype.iadd=function(b,w){this._verify2(b,w);var _=b.iadd(w);return _.cmp(this.m)>=0&&_.isub(this.m),_},E.prototype.sub=function(b,w){this._verify2(b,w);var _=b.sub(w);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},E.prototype.isub=function(b,w){this._verify2(b,w);var _=b.isub(w);return _.cmpn(0)<0&&_.iadd(this.m),_},E.prototype.shl=function(b,w){return this._verify1(b),this.imod(b.ushln(w))},E.prototype.imul=function(b,w){return this._verify2(b,w),this.imod(b.imul(w))},E.prototype.mul=function(b,w){return this._verify2(b,w),this.imod(b.mul(w))},E.prototype.isqr=function(b){return this.imul(b,b.clone())},E.prototype.sqr=function(b){return this.mul(b,b)},E.prototype.sqrt=function(b){if(b.isZero())return b.clone();var w=this.m.andln(3);if(o(w%2==1),w===3){var _=this.m.add(new a(1)).iushrn(2);return this.pow(b,_)}for(var y=this.m.subn(1),C=0;!y.isZero()&&y.andln(1)===0;)C++,y.iushrn(1);o(!y.isZero());var S=new a(1).toRed(this),R=S.redNeg(),Z=this.m.subn(1).iushrn(1),j=this.m.bitLength();for(j=new a(2*j*j).toRed(this);this.pow(j,Z).cmp(R)!==0;)j.redIAdd(R);for(var X=this.pow(j,y),D=this.pow(b,y.addn(1).iushrn(1)),Y=this.pow(b,y),P=C;Y.cmp(S)!==0;){for(var M=Y,$=0;M.cmp(S)!==0;$++)M=M.redSqr();o($<P);var te=this.pow(X,new a(1).iushln(P-$-1));D=D.redMul(te),X=te.redSqr(),Y=Y.redMul(X),P=$}return D},E.prototype.invm=function(b){var w=b._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},E.prototype.pow=function(b,w){if(w.isZero())return new a(1).toRed(this);if(w.cmpn(1)===0)return b.clone();var _=new Array(16);_[0]=new a(1).toRed(this),_[1]=b;for(var y=2;y<_.length;y++)_[y]=this.mul(_[y-1],b);var C=_[0],S=0,R=0,Z=w.bitLength()%26;for(Z===0&&(Z=26),y=w.length-1;y>=0;y--){for(var j=w.words[y],X=Z-1;X>=0;X--){var D=j>>X&1;C!==_[0]&&(C=this.sqr(C)),D!==0||S!==0?(S<<=1,S|=D,(++R===4||y===0&&X===0)&&(C=this.mul(C,_[S]),R=0,S=0)):R=0}Z=26}return C},E.prototype.convertTo=function(b){var w=b.umod(this.m);return w===b?w.clone():w},E.prototype.convertFrom=function(b){var w=b.clone();return w.red=null,w},a.mont=function(b){return new L(b)},s(L,E),L.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},L.prototype.convertFrom=function(b){var w=this.imod(b.mul(this.rinv));return w.red=null,w},L.prototype.imul=function(b,w){if(b.isZero()||w.isZero())return b.words[0]=0,b.length=1,b;var _=b.imul(w),y=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=_.isub(y).iushrn(this.shift),S=C;return C.cmp(this.m)>=0?S=C.isub(this.m):C.cmpn(0)<0&&(S=C.iadd(this.m)),S._forceRed(this)},L.prototype.mul=function(b,w){if(b.isZero()||w.isZero())return new a(0)._forceRed(this);var _=b.mul(w),y=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=_.isub(y).iushrn(this.shift),S=C;return C.cmp(this.m)>=0?S=C.isub(this.m):C.cmpn(0)<0&&(S=C.iadd(this.m)),S._forceRed(this)},L.prototype.invm=function(b){return this.imod(b._invmp(this.m).mul(this.r2))._forceRed(this)}})(e===void 0||e)},{buffer:188}],187:[function(n,e,t){"use strict";var i;function r(s){this.rand=s}if(e.exports=function(s){return i||(i=new r(null)),i.generate(s)},e.exports.Rand=r,r.prototype.generate=function(s){return this._rand(s)},r.prototype._rand=function(s){if(this.rand.getBytes)return this.rand.getBytes(s);for(var a=new Uint8Array(s),l=0;l<a.length;l++)a[l]=this.rand.getByte();return a},typeof self=="object")self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(s){var a=new Uint8Array(s);return self.crypto.getRandomValues(a),a}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(s){var a=new Uint8Array(s);return self.msCrypto.getRandomValues(a),a}:typeof window=="object"&&(r.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=n("crypto");if(typeof o.randomBytes!="function")throw new Error("Not supported");r.prototype._rand=function(s){return o.randomBytes(s)}}catch{}},{crypto:188}],188:[function(n,e,t){},{}],189:[function(n,e,t){"use strict";var i=n("safe-buffer").Buffer;function r(u){i.isBuffer(u)||(u=i.from(u));for(var d=u.length/4|0,f=new Array(d),h=0;h<d;h++)f[h]=u.readUInt32BE(4*h);return f}function o(u){for(;0<u.length;u++)u[0]=0}function s(u,d,f,h,m){for(var p,g,v,x,I=f[0],N=f[1],H=f[2],F=f[3],B=u[0]^d[0],V=u[1]^d[1],G=u[2]^d[2],W=u[3]^d[3],k=4,E=1;E<m;E++)p=I[B>>>24]^N[V>>>16&255]^H[G>>>8&255]^F[255&W]^d[k++],g=I[V>>>24]^N[G>>>16&255]^H[W>>>8&255]^F[255&B]^d[k++],v=I[G>>>24]^N[W>>>16&255]^H[B>>>8&255]^F[255&V]^d[k++],x=I[W>>>24]^N[B>>>16&255]^H[V>>>8&255]^F[255&G]^d[k++],B=p,V=g,G=v,W=x;return p=(h[B>>>24]<<24|h[V>>>16&255]<<16|h[G>>>8&255]<<8|h[255&W])^d[k++],g=(h[V>>>24]<<24|h[G>>>16&255]<<16|h[W>>>8&255]<<8|h[255&B])^d[k++],v=(h[G>>>24]<<24|h[W>>>16&255]<<16|h[B>>>8&255]<<8|h[255&V])^d[k++],x=(h[W>>>24]<<24|h[B>>>16&255]<<16|h[V>>>8&255]<<8|h[255&G])^d[k++],[p>>>=0,g>>>=0,v>>>=0,x>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],l=function(){for(var u=new Array(256),d=0;d<256;d++)u[d]=d<128?d<<1:d<<1^283;for(var f=[],h=[],m=[[],[],[],[]],p=[[],[],[],[]],g=0,v=0,x=0;x<256;++x){var I=v^v<<1^v<<2^v<<3^v<<4;I=I>>>8^255&I^99,f[g]=I,h[I]=g;var N=u[g],H=u[N],F=u[H],B=257*u[I]^16843008*I;m[0][g]=B<<24|B>>>8,m[1][g]=B<<16|B>>>16,m[2][g]=B<<8|B>>>24,m[3][g]=B,B=16843009*F^65537*H^257*N^16843008*g,p[0][I]=B<<24|B>>>8,p[1][I]=B<<16|B>>>16,p[2][I]=B<<8|B>>>24,p[3][I]=B,g===0?g=v=1:(g=N^u[u[u[F^N]]],v^=u[u[v]])}return{SBOX:f,INV_SBOX:h,SUB_MIX:m,INV_SUB_MIX:p}}();function c(u){this._key=r(u),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var u=this._key,d=u.length,f=d+6,h=4*(f+1),m=[],p=0;p<d;p++)m[p]=u[p];for(p=d;p<h;p++){var g=m[p-1];p%d==0?(g=g<<8|g>>>24,g=l.SBOX[g>>>24]<<24|l.SBOX[g>>>16&255]<<16|l.SBOX[g>>>8&255]<<8|l.SBOX[255&g],g^=a[p/d|0]<<24):d>6&&p%d==4&&(g=l.SBOX[g>>>24]<<24|l.SBOX[g>>>16&255]<<16|l.SBOX[g>>>8&255]<<8|l.SBOX[255&g]),m[p]=m[p-d]^g}for(var v=[],x=0;x<h;x++){var I=h-x,N=m[I-(x%4?0:4)];v[x]=x<4||I<=4?N:l.INV_SUB_MIX[0][l.SBOX[N>>>24]]^l.INV_SUB_MIX[1][l.SBOX[N>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[N>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&N]]}this._nRounds=f,this._keySchedule=m,this._invKeySchedule=v},c.prototype.encryptBlockRaw=function(u){return s(u=r(u),this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},c.prototype.encryptBlock=function(u){var d=this.encryptBlockRaw(u),f=i.allocUnsafe(16);return f.writeUInt32BE(d[0],0),f.writeUInt32BE(d[1],4),f.writeUInt32BE(d[2],8),f.writeUInt32BE(d[3],12),f},c.prototype.decryptBlock=function(u){var d=(u=r(u))[1];u[1]=u[3],u[3]=d;var f=s(u,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),h=i.allocUnsafe(16);return h.writeUInt32BE(f[0],0),h.writeUInt32BE(f[3],4),h.writeUInt32BE(f[2],8),h.writeUInt32BE(f[1],12),h},c.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},e.exports.AES=c},{"safe-buffer":494}],190:[function(n,e,t){"use strict";var i=n("./aes"),r=n("safe-buffer").Buffer,o=n("cipher-base"),s=n("inherits"),a=n("./ghash"),l=n("buffer-xor"),c=n("./incr32");function u(d,f,h,m){o.call(this);var p=r.alloc(4,0);this._cipher=new i.AES(f);var g=this._cipher.encryptBlock(p);this._ghash=new a(g),h=function(v,x,I){if(x.length===12)return v._finID=r.concat([x,r.from([0,0,0,1])]),r.concat([x,r.from([0,0,0,2])]);var N=new a(I),H=x.length,F=H%16;N.update(x),F&&(F=16-F,N.update(r.alloc(F,0))),N.update(r.alloc(8,0));var B=8*H,V=r.alloc(8);V.writeUIntBE(B,0,8),N.update(V),v._finID=N.state;var G=r.from(v._finID);return c(G),G}(this,h,g),this._prev=r.from(h),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=m,this._alen=0,this._len=0,this._mode=d,this._authTag=null,this._called=!1}s(u,o),u.prototype._update=function(d){if(!this._called&&this._alen){var f=16-this._alen%16;f<16&&(f=r.alloc(f,0),this._ghash.update(f))}this._called=!0;var h=this._mode.encrypt(this,d);return this._decrypt?this._ghash.update(d):this._ghash.update(h),this._len+=d.length,h},u.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var d=l(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(f,h){var m=0;f.length!==h.length&&m++;for(var p=Math.min(f.length,h.length),g=0;g<p;++g)m+=f[g]^h[g];return m}(d,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=d,this._cipher.scrub()},u.prototype.getAuthTag=function(){if(this._decrypt||!r.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},u.prototype.setAuthTag=function(d){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=d},u.prototype.setAAD=function(d){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(d),this._alen+=d.length},e.exports=u},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(n,e,t){"use strict";var i=n("./encrypter"),r=n("./decrypter"),o=n("./modes/list.json");t.createCipher=t.Cipher=i.createCipher,t.createCipheriv=t.Cipheriv=i.createCipheriv,t.createDecipher=t.Decipher=r.createDecipher,t.createDecipheriv=t.Decipheriv=r.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(o)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(n,e,t){"use strict";var i=n("./authCipher"),r=n("safe-buffer").Buffer,o=n("./modes"),s=n("./streamCipher"),a=n("cipher-base"),l=n("./aes"),c=n("evp_bytestokey");function u(h,m,p){a.call(this),this._cache=new d,this._last=void 0,this._cipher=new l.AES(m),this._prev=r.from(p),this._mode=h,this._autopadding=!0}function d(){this.cache=r.allocUnsafe(0)}function f(h,m,p){var g=o[h.toLowerCase()];if(!g)throw new TypeError("invalid suite type");if(typeof p=="string"&&(p=r.from(p)),g.mode!=="GCM"&&p.length!==g.iv)throw new TypeError("invalid iv length "+p.length);if(typeof m=="string"&&(m=r.from(m)),m.length!==g.key/8)throw new TypeError("invalid key length "+m.length);return g.type==="stream"?new s(g.module,m,p,!0):g.type==="auth"?new i(g.module,m,p,!0):new u(g.module,m,p)}n("inherits")(u,a),u.prototype._update=function(h){var m,p;this._cache.add(h);for(var g=[];m=this._cache.get(this._autopadding);)p=this._mode.decrypt(this,m),g.push(p);return r.concat(g)},u.prototype._final=function(){var h=this._cache.flush();if(this._autopadding)return function(m){var p=m[15];if(p<1||p>16)throw new Error("unable to decrypt data");for(var g=-1;++g<p;)if(m[g+(16-p)]!==p)throw new Error("unable to decrypt data");if(p!==16)return m.slice(0,16-p)}(this._mode.decrypt(this,h));if(h)throw new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(h){return this._autopadding=!!h,this},d.prototype.add=function(h){this.cache=r.concat([this.cache,h])},d.prototype.get=function(h){var m;if(h){if(this.cache.length>16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m}else if(this.cache.length>=16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(h,m){var p=o[h.toLowerCase()];if(!p)throw new TypeError("invalid suite type");var g=c(m,!1,p.key,p.iv);return f(h,g.key,g.iv)},t.createDecipheriv=f},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(n,e,t){"use strict";var i=n("./modes"),r=n("./authCipher"),o=n("safe-buffer").Buffer,s=n("./streamCipher"),a=n("cipher-base"),l=n("./aes"),c=n("evp_bytestokey");function u(m,p,g){a.call(this),this._cache=new f,this._cipher=new l.AES(p),this._prev=o.from(g),this._mode=m,this._autopadding=!0}n("inherits")(u,a),u.prototype._update=function(m){var p,g;this._cache.add(m);for(var v=[];p=this._cache.get();)g=this._mode.encrypt(this,p),v.push(g);return o.concat(v)};var d=o.alloc(16,16);function f(){this.cache=o.allocUnsafe(0)}function h(m,p,g){var v=i[m.toLowerCase()];if(!v)throw new TypeError("invalid suite type");if(typeof p=="string"&&(p=o.from(p)),p.length!==v.key/8)throw new TypeError("invalid key length "+p.length);if(typeof g=="string"&&(g=o.from(g)),v.mode!=="GCM"&&g.length!==v.iv)throw new TypeError("invalid iv length "+g.length);return v.type==="stream"?new s(v.module,p,g):v.type==="auth"?new r(v.module,p,g):new u(v.module,p,g)}u.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return m=this._mode.encrypt(this,m),this._cipher.scrub(),m;if(!m.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this},f.prototype.add=function(m){this.cache=o.concat([this.cache,m])},f.prototype.get=function(){if(this.cache.length>15){var m=this.cache.slice(0,16);return this.cache=this.cache.slice(16),m}return null},f.prototype.flush=function(){for(var m=16-this.cache.length,p=o.allocUnsafe(m),g=-1;++g<m;)p.writeUInt8(m,g);return o.concat([this.cache,p])},t.createCipheriv=h,t.createCipher=function(m,p){var g=i[m.toLowerCase()];if(!g)throw new TypeError("invalid suite type");var v=c(p,!1,g.key,g.iv);return h(m,v.key,v.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(n,e,t){"use strict";var i=n("safe-buffer").Buffer,r=i.alloc(16,0);function o(a){var l=i.allocUnsafe(16);return l.writeUInt32BE(a[0]>>>0,0),l.writeUInt32BE(a[1]>>>0,4),l.writeUInt32BE(a[2]>>>0,8),l.writeUInt32BE(a[3]>>>0,12),l}function s(a){this.h=a,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}s.prototype.ghash=function(a){for(var l=-1;++l<a.length;)this.state[l]^=a[l];this._multiply()},s.prototype._multiply=function(){for(var a,l,c,u=[(a=this.h).readUInt32BE(0),a.readUInt32BE(4),a.readUInt32BE(8),a.readUInt32BE(12)],d=[0,0,0,0],f=-1;++f<128;){for(this.state[~~(f/8)]&1<<7-f%8&&(d[0]^=u[0],d[1]^=u[1],d[2]^=u[2],d[3]^=u[3]),c=(1&u[3])!=0,l=3;l>0;l--)u[l]=u[l]>>>1|(1&u[l-1])<<31;u[0]=u[0]>>>1,c&&(u[0]=u[0]^225<<24)}this.state=o(d)},s.prototype.update=function(a){var l;for(this.cache=i.concat([this.cache,a]);this.cache.length>=16;)l=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(l)},s.prototype.final=function(a,l){return this.cache.length&&this.ghash(i.concat([this.cache,r],16)),this.ghash(o([0,a,0,l])),this.state},e.exports=s},{"safe-buffer":494}],195:[function(n,e,t){"use strict";e.exports=function(i){for(var r,o=i.length;o--;){if((r=i.readUInt8(o))!==255){r++,i.writeUInt8(r,o);break}i.writeUInt8(0,o)}}},{}],196:[function(n,e,t){"use strict";var i=n("buffer-xor");t.encrypt=function(r,o){var s=i(o,r._prev);return r._prev=r._cipher.encryptBlock(s),r._prev},t.decrypt=function(r,o){var s=r._prev;r._prev=o;var a=r._cipher.decryptBlock(o);return i(a,s)}},{"buffer-xor":219}],197:[function(n,e,t){"use strict";var i=n("safe-buffer").Buffer,r=n("buffer-xor");function o(s,a,l){var c=a.length,u=r(a,s._cache);return s._cache=s._cache.slice(c),s._prev=i.concat([s._prev,l?a:u]),u}t.encrypt=function(s,a,l){for(var c,u=i.allocUnsafe(0);a.length;){if(s._cache.length===0&&(s._cache=s._cipher.encryptBlock(s._prev),s._prev=i.allocUnsafe(0)),!(s._cache.length<=a.length)){u=i.concat([u,o(s,a,l)]);break}c=s._cache.length,u=i.concat([u,o(s,a.slice(0,c),l)]),a=a.slice(c)}return u}},{"buffer-xor":219,"safe-buffer":494}],198:[function(n,e,t){"use strict";var i=n("safe-buffer").Buffer;function r(s,a,l){for(var c,u,d=-1,f=0;++d<8;)c=a&1<<7-d?128:0,f+=(128&(u=s._cipher.encryptBlock(s._prev)[0]^c))>>d%8,s._prev=o(s._prev,l?c:u);return f}function o(s,a){var l=s.length,c=-1,u=i.allocUnsafe(s.length);for(s=i.concat([s,i.from([a])]);++c<l;)u[c]=s[c]<<1|s[c+1]>>7;return u}t.encrypt=function(s,a,l){for(var c=a.length,u=i.allocUnsafe(c),d=-1;++d<c;)u[d]=r(s,a[d],l);return u}},{"safe-buffer":494}],199:[function(n,e,t){"use strict";var i=n("safe-buffer").Buffer;function r(o,s,a){var l=o._cipher.encryptBlock(o._prev)[0]^s;return o._prev=i.concat([o._prev.slice(1),i.from([a?s:l])]),l}t.encrypt=function(o,s,a){for(var l=s.length,c=i.allocUnsafe(l),u=-1;++u<l;)c[u]=r(o,s[u],a);return c}},{"safe-buffer":494}],200:[function(n,e,t){"use strict";var i=n("buffer-xor"),r=n("safe-buffer").Buffer,o=n("../incr32");function s(a){var l=a._cipher.encryptBlockRaw(a._prev);return o(a._prev),l}t.encrypt=function(a,l){var c=Math.ceil(l.length/16),u=a._cache.length;a._cache=r.concat([a._cache,r.allocUnsafe(16*c)]);for(var d=0;d<c;d++){var f=s(a),h=u+16*d;a._cache.writeUInt32BE(f[0],h+0),a._cache.writeUInt32BE(f[1],h+4),a._cache.writeUInt32BE(f[2],h+8),a._cache.writeUInt32BE(f[3],h+12)}var m=a._cache.slice(0,l.length);return a._cache=a._cache.slice(l.length),i(l,m)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(n,e,t){"use strict";t.encrypt=function(i,r){return i._cipher.encryptBlock(r)},t.decrypt=function(i,r){return i._cipher.decryptBlock(r)}},{}],202:[function(n,e,t){"use strict";var i={ECB:n("./ecb"),CBC:n("./cbc"),CFB:n("./cfb"),CFB8:n("./cfb8"),CFB1:n("./cfb1"),OFB:n("./ofb"),CTR:n("./ctr"),GCM:n("./ctr")},r=n("./list.json");for(var o in r)r[o].module=i[r[o].mode];e.exports=r},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(n,e,t){e.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(n,e,t){(function(i){(function(){"use strict";var r=n("buffer-xor");function o(s){return s._prev=s._cipher.encryptBlock(s._prev),s._prev}t.encrypt=function(s,a){for(;s._cache.length<a.length;)s._cache=i.concat([s._cache,o(s)]);var l=s._cache.slice(0,a.length);return s._cache=s._cache.slice(a.length),r(a,l)}}).call(this)}).call(this,n("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(n,e,t){"use strict";var i=n("./aes"),r=n("safe-buffer").Buffer,o=n("cipher-base");function s(a,l,c,u){o.call(this),this._cipher=new i.AES(l),this._prev=r.from(c),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=u,this._mode=a}n("inherits")(s,o),s.prototype._update=function(a){return this._mode.encrypt(this,a,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},e.exports=s},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(n,e,t){"use strict";var i=n("browserify-des"),r=n("browserify-aes/browser"),o=n("browserify-aes/modes"),s=n("browserify-des/modes"),a=n("evp_bytestokey");function l(u,d,f){if(u=u.toLowerCase(),o[u])return r.createCipheriv(u,d,f);if(s[u])return new i({key:d,iv:f,mode:u});throw new TypeError("invalid suite type")}function c(u,d,f){if(u=u.toLowerCase(),o[u])return r.createDecipheriv(u,d,f);if(s[u])return new i({key:d,iv:f,mode:u,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(u,d){var f,h;if(u=u.toLowerCase(),o[u])f=o[u].key,h=o[u].iv;else{if(!s[u])throw new TypeError("invalid suite type");f=8*s[u].key,h=s[u].iv}var m=a(d,!1,f,h);return l(u,m.key,m.iv)},t.createCipheriv=t.Cipheriv=l,t.createDecipher=t.Decipher=function(u,d){var f,h;if(u=u.toLowerCase(),o[u])f=o[u].key,h=o[u].iv;else{if(!s[u])throw new TypeError("invalid suite type");f=8*s[u].key,h=s[u].iv}var m=a(d,!1,f,h);return c(u,m.key,m.iv)},t.createDecipheriv=t.Decipheriv=c,t.listCiphers=t.getCiphers=function(){return Object.keys(s).concat(r.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(n,e,t){"use strict";var i=n("cipher-base"),r=n("des.js"),o=n("inherits"),s=n("safe-buffer").Buffer,a={"des-ede3-cbc":r.CBC.instantiate(r.EDE),"des-ede3":r.EDE,"des-ede-cbc":r.CBC.instantiate(r.EDE),"des-ede":r.EDE,"des-cbc":r.CBC.instantiate(r.DES),"des-ecb":r.DES};function l(c){i.call(this);var u,d=c.mode.toLowerCase(),f=a[d];u=c.decrypt?"decrypt":"encrypt";var h=c.key;s.isBuffer(h)||(h=s.from(h)),d!=="des-ede"&&d!=="des-ede-cbc"||(h=s.concat([h,h.slice(0,8)]));var m=c.iv;s.isBuffer(m)||(m=s.from(m)),this._des=f.create({key:h,iv:m,type:u})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],e.exports=l,o(l,i),l.prototype._update=function(c){return s.from(this._des.update(c))},l.prototype._final=function(){return s.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(n,e,t){"use strict";t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},{}],209:[function(n,e,t){(function(i){(function(){"use strict";var r=n("bn.js"),o=n("randombytes");function s(l){var c,u=l.modulus.byteLength();do c=new r(o(u));while(c.cmp(l.modulus)>=0||!c.umod(l.prime1)||!c.umod(l.prime2));return c}function a(l,c){var u=function(H){var F=s(H);return{blinder:F.toRed(r.mont(H.modulus)).redPow(new r(H.publicExponent)).fromRed(),unblinder:F.invm(H.modulus)}}(c),d=c.modulus.byteLength(),f=new r(l).mul(u.blinder).umod(c.modulus),h=f.toRed(r.mont(c.prime1)),m=f.toRed(r.mont(c.prime2)),p=c.coefficient,g=c.prime1,v=c.prime2,x=h.redPow(c.exponent1).fromRed(),I=m.redPow(c.exponent2).fromRed(),N=x.isub(I).imul(p).umod(g).imul(v);return I.iadd(N).imul(u.unblinder).umod(c.modulus).toArrayLike(i,"be",d)}a.getr=s,e.exports=a}).call(this)}).call(this,n("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(n,e,t){"use strict";e.exports=n("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(n,e,t){e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(n,e,t){e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(n,e,t){"use strict";var i=n("safe-buffer").Buffer,r=n("create-hash"),o=n("readable-stream"),s=n("inherits"),a=n("./sign"),l=n("./verify"),c=n("./algorithms.json");function u(m){o.Writable.call(this);var p=c[m];if(!p)throw new Error("Unknown message digest");this._hashType=p.hash,this._hash=r(p.hash),this._tag=p.id,this._signType=p.sign}function d(m){o.Writable.call(this);var p=c[m];if(!p)throw new Error("Unknown message digest");this._hash=r(p.hash),this._tag=p.id,this._signType=p.sign}function f(m){return new u(m)}function h(m){return new d(m)}Object.keys(c).forEach(function(m){c[m].id=i.from(c[m].id,"hex"),c[m.toLowerCase()]=c[m]}),s(u,o.Writable),u.prototype._write=function(m,p,g){this._hash.update(m),g()},u.prototype.update=function(m,p){return typeof m=="string"&&(m=i.from(m,p)),this._hash.update(m),this},u.prototype.sign=function(m,p){this.end();var g=this._hash.digest(),v=a(g,m,this._hashType,this._signType,this._tag);return p?v.toString(p):v},s(d,o.Writable),d.prototype._write=function(m,p,g){this._hash.update(m),g()},d.prototype.update=function(m,p){return typeof m=="string"&&(m=i.from(m,p)),this._hash.update(m),this},d.prototype.verify=function(m,p,g){typeof p=="string"&&(p=i.from(p,g)),this.end();var v=this._hash.digest();return l(p,v,m,this._signType,this._tag)},e.exports={Sign:f,Verify:h,createSign:f,createVerify:h}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(n,e,t){"use strict";var i=n("safe-buffer").Buffer,r=n("create-hmac"),o=n("browserify-rsa"),s=n("elliptic").ec,a=n("bn.js"),l=n("parse-asn1"),c=n("./curves.json");function u(m,p,g,v){if((m=i.from(m.toArray())).length<p.byteLength()){var x=i.alloc(p.byteLength()-m.length);m=i.concat([x,m])}var I=g.length,N=function(B,V){B=(B=d(B,V)).mod(V);var G=i.from(B.toArray());if(G.length<V.byteLength()){var W=i.alloc(V.byteLength()-G.length);G=i.concat([W,G])}return G}(g,p),H=i.alloc(I);H.fill(1);var F=i.alloc(I);return F=r(v,F).update(H).update(i.from([0])).update(m).update(N).digest(),H=r(v,F).update(H).digest(),{k:F=r(v,F).update(H).update(i.from([1])).update(m).update(N).digest(),v:H=r(v,F).update(H).digest()}}function d(m,p){var g=new a(m),v=(m.length<<3)-p.bitLength();return v>0&&g.ishrn(v),g}function f(m,p,g){var v,x;do{for(v=i.alloc(0);8*v.length<m.bitLength();)p.v=r(g,p.k).update(p.v).digest(),v=i.concat([v,p.v]);x=d(v,m),p.k=r(g,p.k).update(p.v).update(i.from([0])).digest(),p.v=r(g,p.k).update(p.v).digest()}while(x.cmp(m)!==-1);return x}function h(m,p,g,v){return m.toRed(a.mont(g)).redPow(p).fromRed().mod(v)}e.exports=function(m,p,g,v,x){var I=l(p);if(I.curve){if(v!=="ecdsa"&&v!=="ecdsa/rsa")throw new Error("wrong private key type");return function(B,V){var G=c[V.curve.join(".")];if(!G)throw new Error("unknown curve "+V.curve.join("."));var W=new s(G).keyFromPrivate(V.privateKey).sign(B);return i.from(W.toDER())}(m,I)}if(I.type==="dsa"){if(v!=="dsa")throw new Error("wrong private key type");return function(B,V,G){for(var W,k=V.params.priv_key,E=V.params.p,L=V.params.q,b=V.params.g,w=new a(0),_=d(B,L).mod(L),y=!1,C=u(k,L,B,G);y===!1;)W=f(L,C,G),w=h(b,W,E,L),(y=W.invm(L).imul(_.add(k.mul(w))).mod(L)).cmpn(0)===0&&(y=!1,w=new a(0));return function(S,R){S=S.toArray(),R=R.toArray(),128&S[0]&&(S=[0].concat(S)),128&R[0]&&(R=[0].concat(R));var Z=[48,S.length+R.length+4,2,S.length];return Z=Z.concat(S,[2,R.length],R),i.from(Z)}(w,y)}(m,I,g)}if(v!=="rsa"&&v!=="ecdsa/rsa")throw new Error("wrong private key type");m=i.concat([x,m]);for(var N=I.modulus.byteLength(),H=[0,1];m.length+H.length+1<N;)H.push(255);H.push(0);for(var F=-1;++F<m.length;)H.push(m[F]);return o(H,I)},e.exports.getKey=u,e.exports.makeKey=f},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(n,e,t){"use strict";var i=n("safe-buffer").Buffer,r=n("bn.js"),o=n("elliptic").ec,s=n("parse-asn1"),a=n("./curves.json");function l(c,u){if(c.cmpn(0)<=0)throw new Error("invalid sig");if(c.cmp(u)>=u)throw new Error("invalid sig")}e.exports=function(c,u,d,f,h){var m=s(d);if(m.type==="ec"){if(f!=="ecdsa"&&f!=="ecdsa/rsa")throw new Error("wrong public key type");return function(H,F,B){var V=a[B.data.algorithm.curve.join(".")];if(!V)throw new Error("unknown curve "+B.data.algorithm.curve.join("."));var G=new o(V),W=B.data.subjectPrivateKey.data;return G.verify(F,H,W)}(c,u,m)}if(m.type==="dsa"){if(f!=="dsa")throw new Error("wrong public key type");return function(H,F,B){var V=B.data.p,G=B.data.q,W=B.data.g,k=B.data.pub_key,E=s.signature.decode(H,"der"),L=E.s,b=E.r;l(L,G),l(b,G);var w=r.mont(V),_=L.invm(G);return W.toRed(w).redPow(new r(F).mul(_).mod(G)).fromRed().mul(k.toRed(w).redPow(b.mul(_).mod(G)).fromRed()).mod(V).mod(G).cmp(b)===0}(c,u,m)}if(f!=="rsa"&&f!=="ecdsa/rsa")throw new Error("wrong public key type");u=i.concat([h,u]);for(var p=m.modulus.byteLength(),g=[1],v=0;u.length+g.length+2<p;)g.push(255),v++;g.push(0);for(var x=-1;++x<u.length;)g.push(u[x]);g=i.from(g);var I=r.mont(m.modulus);c=(c=new r(c).toRed(I)).redPow(new r(m.publicExponent)),c=i.from(c.fromRed().toArray());var N=v<8?1:0;for(p=Math.min(c.length,g.length),c.length!==g.length&&(N=1),x=-1;++x<p;)N|=c[x]^g[x];return N===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(n,e,t){},{}],217:[function(n,e,t){"use strict";var i=n("buffer"),r=i.Buffer;function o(a,l){for(var c in a)l[c]=a[c]}function s(a,l,c){return r(a,l,c)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=i:(o(i,t),t.Buffer=s),o(r,s),s.from=function(a,l,c){if(typeof a=="number")throw new TypeError("Argument must not be a number");return r(a,l,c)},s.alloc=function(a,l,c){if(typeof a!="number")throw new TypeError("Argument must be a number");var u=r(a);return l!==void 0?typeof c=="string"?u.fill(l,c):u.fill(l):u.fill(0),u},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(a)}},{buffer:220}],218:[function(n,e,t){"use strict";var i=n("safe-buffer").Buffer,r=i.isEncoding||function(m){switch((m=""+m)&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(m){var p;switch(this.encoding=function(g){var v=function(x){if(!x)return"utf8";for(var I;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(I)return;x=(""+x).toLowerCase(),I=!0}}(g);if(typeof v!="string"&&(i.isEncoding===r||!r(g)))throw new Error("Unknown encoding: "+g);return v||g}(m),this.encoding){case"utf16le":this.text=l,this.end=c,p=4;break;case"utf8":this.fillLast=a,p=4;break;case"base64":this.text=u,this.end=d,p=3;break;default:return this.write=f,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(p)}function s(m){return m<=127?0:m>>5==6?2:m>>4==14?3:m>>3==30?4:m>>6==2?-1:-2}function a(m){var p=this.lastTotal-this.lastNeed,g=function(v,x,I){if((192&x[0])!=128)return v.lastNeed=0,"\uFFFD";if(v.lastNeed>1&&x.length>1){if((192&x[1])!=128)return v.lastNeed=1,"\uFFFD";if(v.lastNeed>2&&x.length>2&&(192&x[2])!=128)return v.lastNeed=2,"\uFFFD"}}(this,m);return g!==void 0?g:this.lastNeed<=m.length?(m.copy(this.lastChar,p,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(m.copy(this.lastChar,p,0,m.length),void(this.lastNeed-=m.length))}function l(m,p){if((m.length-p)%2==0){var g=m.toString("utf16le",p);if(g){var v=g.charCodeAt(g.length-1);if(v>=55296&&v<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],g.slice(0,-1)}return g}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",p,m.length-1)}function c(m){var p=m&&m.length?this.write(m):"";if(this.lastNeed){var g=this.lastTotal-this.lastNeed;return p+this.lastChar.toString("utf16le",0,g)}return p}function u(m,p){var g=(m.length-p)%3;return g===0?m.toString("base64",p):(this.lastNeed=3-g,this.lastTotal=3,g===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",p,m.length-g))}function d(m){var p=m&&m.length?this.write(m):"";return this.lastNeed?p+this.lastChar.toString("base64",0,3-this.lastNeed):p}function f(m){return m.toString(this.encoding)}function h(m){return m&&m.length?this.write(m):""}t.StringDecoder=o,o.prototype.write=function(m){if(m.length===0)return"";var p,g;if(this.lastNeed){if((p=this.fillLast(m))===void 0)return"";g=this.lastNeed,this.lastNeed=0}else g=0;return g<m.length?p?p+this.text(m,g):this.text(m,g):p||""},o.prototype.end=function(m){var p=m&&m.length?this.write(m):"";return this.lastNeed?p+"\uFFFD":p},o.prototype.text=function(m,p){var g=function(x,I,N){var H=I.length-1;if(H<N)return 0;var F=s(I[H]);return F>=0?(F>0&&(x.lastNeed=F-1),F):--H<N||F===-2?0:(F=s(I[H]))>=0?(F>0&&(x.lastNeed=F-2),F):--H<N||F===-2?0:(F=s(I[H]))>=0?(F>0&&(F===2?F=0:x.lastNeed=F-3),F):0}(this,m,p);if(!this.lastNeed)return m.toString("utf8",p);this.lastTotal=g;var v=m.length-(g-this.lastNeed);return m.copy(this.lastChar,0,v),m.toString("utf8",p,v)},o.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length}},{"safe-buffer":217}],219:[function(n,e,t){(function(i){(function(){"use strict";e.exports=function(r,o){for(var s=Math.min(r.length,o.length),a=new i(s),l=0;l<s;++l)a[l]=r[l]^o[l];return a}}).call(this)}).call(this,n("buffer").Buffer)},{buffer:220}],220:[function(n,e,t){(function(i){(function(){"use strict";var r=n("base64-js"),o=n("ieee754");t.Buffer=a,t.SlowBuffer=function(P){return+P!=P&&(P=0),a.alloc(+P)},t.INSPECT_MAX_BYTES=50;function s(P){if(P>2147483647)throw new RangeError('The value "'+P+'" is invalid for option "size"');var M=new Uint8Array(P);return M.__proto__=a.prototype,M}function a(P,M,$){if(typeof P=="number"){if(typeof M=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(P)}return l(P,M,$)}function l(P,M,$){if(typeof P=="string")return function(re,ce){if(typeof ce=="string"&&ce!==""||(ce="utf8"),!a.isEncoding(ce))throw new TypeError("Unknown encoding: "+ce);var _e=0|h(re,ce),xe=s(_e),ie=xe.write(re,ce);return ie!==_e&&(xe=xe.slice(0,ie)),xe}(P,M);if(ArrayBuffer.isView(P))return d(P);if(P==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P);if(D(P,ArrayBuffer)||P&&D(P.buffer,ArrayBuffer))return function(re,ce,_e){if(ce<0||re.byteLength<ce)throw new RangeError('"offset" is outside of buffer bounds');if(re.byteLength<ce+(_e||0))throw new RangeError('"length" is outside of buffer bounds');var xe;return xe=ce===void 0&&_e===void 0?new Uint8Array(re):_e===void 0?new Uint8Array(re,ce):new Uint8Array(re,ce,_e),xe.__proto__=a.prototype,xe}(P,M,$);if(typeof P=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var te=P.valueOf&&P.valueOf();if(te!=null&&te!==P)return a.from(te,M,$);var ue=function(re){if(a.isBuffer(re)){var ce=0|f(re.length),_e=s(ce);return _e.length===0||re.copy(_e,0,0,ce),_e}if(re.length!==void 0)return typeof re.length!="number"||Y(re.length)?s(0):d(re);if(re.type==="Buffer"&&Array.isArray(re.data))return d(re.data)}(P);if(ue)return ue;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]=="function")return a.from(P[Symbol.toPrimitive]("string"),M,$);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}function c(P){if(typeof P!="number")throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function u(P){return c(P),s(P<0?0:0|f(P))}function d(P){for(var M=P.length<0?0:0|f(P.length),$=s(M),te=0;te<M;te+=1)$[te]=255&P[te];return $}function f(P){if(P>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|P}function h(P,M){if(a.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||D(P,ArrayBuffer))return P.byteLength;if(typeof P!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);var $=P.length,te=arguments.length>2&&arguments[2]===!0;if(!te&&$===0)return 0;for(var ue=!1;;)switch(M){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":return Z(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*$;case"hex":return $>>>1;case"base64":return j(P).length;default:if(ue)return te?-1:Z(P).length;M=(""+M).toLowerCase(),ue=!0}}function m(P,M,$){var te=!1;if((M===void 0||M<0)&&(M=0),M>this.length||(($===void 0||$>this.length)&&($=this.length),$<=0)||($>>>=0)<=(M>>>=0))return"";for(P||(P="utf8");;)switch(P){case"hex":return E(this,M,$);case"utf8":case"utf-8":return G(this,M,$);case"ascii":return W(this,M,$);case"latin1":case"binary":return k(this,M,$);case"base64":return V(this,M,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,M,$);default:if(te)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),te=!0}}function p(P,M,$){var te=P[M];P[M]=P[$],P[$]=te}function g(P,M,$,te,ue){if(P.length===0)return-1;if(typeof $=="string"?(te=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),Y($=+$)&&($=ue?0:P.length-1),$<0&&($=P.length+$),$>=P.length){if(ue)return-1;$=P.length-1}else if($<0){if(!ue)return-1;$=0}if(typeof M=="string"&&(M=a.from(M,te)),a.isBuffer(M))return M.length===0?-1:v(P,M,$,te,ue);if(typeof M=="number")return M&=255,typeof Uint8Array.prototype.indexOf=="function"?ue?Uint8Array.prototype.indexOf.call(P,M,$):Uint8Array.prototype.lastIndexOf.call(P,M,$):v(P,[M],$,te,ue);throw new TypeError("val must be string, number or Buffer")}function v(P,M,$,te,ue){var re,ce=1,_e=P.length,xe=M.length;if(te!==void 0&&((te=String(te).toLowerCase())==="ucs2"||te==="ucs-2"||te==="utf16le"||te==="utf-16le")){if(P.length<2||M.length<2)return-1;ce=2,_e/=2,xe/=2,$/=2}function ie(Ee,Te){return ce===1?Ee[Te]:Ee.readUInt16BE(Te*ce)}if(ue){var se=-1;for(re=$;re<_e;re++)if(ie(P,re)===ie(M,se===-1?0:re-se)){if(se===-1&&(se=re),re-se+1===xe)return se*ce}else se!==-1&&(re-=re-se),se=-1}else for($+xe>_e&&($=_e-xe),re=$;re>=0;re--){for(var ge=!0,Ae=0;Ae<xe;Ae++)if(ie(P,re+Ae)!==ie(M,Ae)){ge=!1;break}if(ge)return re}return-1}function x(P,M,$,te){$=Number($)||0;var ue=P.length-$;te?(te=Number(te))>ue&&(te=ue):te=ue;var re=M.length;te>re/2&&(te=re/2);for(var ce=0;ce<te;++ce){var _e=parseInt(M.substr(2*ce,2),16);if(Y(_e))return ce;P[$+ce]=_e}return ce}function I(P,M,$,te){return X(Z(M,P.length-$),P,$,te)}function N(P,M,$,te){return X(function(ue){for(var re=[],ce=0;ce<ue.length;++ce)re.push(255&ue.charCodeAt(ce));return re}(M),P,$,te)}function H(P,M,$,te){return N(P,M,$,te)}function F(P,M,$,te){return X(j(M),P,$,te)}function B(P,M,$,te){return X(function(ue,re){for(var ce,_e,xe,ie=[],se=0;se<ue.length&&!((re-=2)<0);++se)ce=ue.charCodeAt(se),_e=ce>>8,xe=ce%256,ie.push(xe),ie.push(_e);return ie}(M,P.length-$),P,$,te)}function V(P,M,$){return M===0&&$===P.length?r.fromByteArray(P):r.fromByteArray(P.slice(M,$))}function G(P,M,$){$=Math.min(P.length,$);for(var te=[],ue=M;ue<$;){var re,ce,_e,xe,ie=P[ue],se=null,ge=ie>239?4:ie>223?3:ie>191?2:1;if(ue+ge<=$)switch(ge){case 1:ie<128&&(se=ie);break;case 2:(192&(re=P[ue+1]))==128&&(xe=(31&ie)<<6|63&re)>127&&(se=xe);break;case 3:re=P[ue+1],ce=P[ue+2],(192&re)==128&&(192&ce)==128&&(xe=(15&ie)<<12|(63&re)<<6|63&ce)>2047&&(xe<55296||xe>57343)&&(se=xe);break;case 4:re=P[ue+1],ce=P[ue+2],_e=P[ue+3],(192&re)==128&&(192&ce)==128&&(192&_e)==128&&(xe=(15&ie)<<18|(63&re)<<12|(63&ce)<<6|63&_e)>65535&&xe<1114112&&(se=xe)}se===null?(se=65533,ge=1):se>65535&&(se-=65536,te.push(se>>>10&1023|55296),se=56320|1023&se),te.push(se),ue+=ge}return function(Ae){var Ee=Ae.length;if(Ee<=4096)return String.fromCharCode.apply(String,Ae);for(var Te="",Se=0;Se<Ee;)Te+=String.fromCharCode.apply(String,Ae.slice(Se,Se+=4096));return Te}(te)}t.kMaxLength=2147483647,a.TYPED_ARRAY_SUPPORT=function(){try{var P=new Uint8Array(1);return P.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},P.foo()===42}catch{return!1}}(),a.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(P,M,$){return l(P,M,$)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(P,M,$){return function(te,ue,re){return c(te),te<=0?s(te):ue!==void 0?typeof re=="string"?s(te).fill(ue,re):s(te).fill(ue):s(te)}(P,M,$)},a.allocUnsafe=function(P){return u(P)},a.allocUnsafeSlow=function(P){return u(P)},a.isBuffer=function(P){return P!=null&&P._isBuffer===!0&&P!==a.prototype},a.compare=function(P,M){if(D(P,Uint8Array)&&(P=a.from(P,P.offset,P.byteLength)),D(M,Uint8Array)&&(M=a.from(M,M.offset,M.byteLength)),!a.isBuffer(P)||!a.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(P===M)return 0;for(var $=P.length,te=M.length,ue=0,re=Math.min($,te);ue<re;++ue)if(P[ue]!==M[ue]){$=P[ue],te=M[ue];break}return $<te?-1:te<$?1:0},a.isEncoding=function(P){switch(String(P).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(P,M){if(!Array.isArray(P))throw new TypeError('"list" argument must be an Array of Buffers');if(P.length===0)return a.alloc(0);var $;if(M===void 0)for(M=0,$=0;$<P.length;++$)M+=P[$].length;var te=a.allocUnsafe(M),ue=0;for($=0;$<P.length;++$){var re=P[$];if(D(re,Uint8Array)&&(re=a.from(re)),!a.isBuffer(re))throw new TypeError('"list" argument must be an Array of Buffers');re.copy(te,ue),ue+=re.length}return te},a.byteLength=h,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var P=this.length;if(P%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var M=0;M<P;M+=2)p(this,M,M+1);return this},a.prototype.swap32=function(){var P=this.length;if(P%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var M=0;M<P;M+=4)p(this,M,M+3),p(this,M+1,M+2);return this},a.prototype.swap64=function(){var P=this.length;if(P%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var M=0;M<P;M+=8)p(this,M,M+7),p(this,M+1,M+6),p(this,M+2,M+5),p(this,M+3,M+4);return this},a.prototype.toString=function(){var P=this.length;return P===0?"":arguments.length===0?G(this,0,P):m.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(P){if(!a.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P||a.compare(this,P)===0},a.prototype.inspect=function(){var P="",M=t.INSPECT_MAX_BYTES;return P=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(P+=" ... "),"<Buffer "+P+">"},a.prototype.compare=function(P,M,$,te,ue){if(D(P,Uint8Array)&&(P=a.from(P,P.offset,P.byteLength)),!a.isBuffer(P))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof P);if(M===void 0&&(M=0),$===void 0&&($=P?P.length:0),te===void 0&&(te=0),ue===void 0&&(ue=this.length),M<0||$>P.length||te<0||ue>this.length)throw new RangeError("out of range index");if(te>=ue&&M>=$)return 0;if(te>=ue)return-1;if(M>=$)return 1;if(this===P)return 0;for(var re=(ue>>>=0)-(te>>>=0),ce=($>>>=0)-(M>>>=0),_e=Math.min(re,ce),xe=this.slice(te,ue),ie=P.slice(M,$),se=0;se<_e;++se)if(xe[se]!==ie[se]){re=xe[se],ce=ie[se];break}return re<ce?-1:ce<re?1:0},a.prototype.includes=function(P,M,$){return this.indexOf(P,M,$)!==-1},a.prototype.indexOf=function(P,M,$){return g(this,P,M,$,!0)},a.prototype.lastIndexOf=function(P,M,$){return g(this,P,M,$,!1)},a.prototype.write=function(P,M,$,te){if(M===void 0)te="utf8",$=this.length,M=0;else if($===void 0&&typeof M=="string")te=M,$=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M>>>=0,isFinite($)?($>>>=0,te===void 0&&(te="utf8")):(te=$,$=void 0)}var ue=this.length-M;if(($===void 0||$>ue)&&($=ue),P.length>0&&($<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");te||(te="utf8");for(var re=!1;;)switch(te){case"hex":return x(this,P,M,$);case"utf8":case"utf-8":return I(this,P,M,$);case"ascii":return N(this,P,M,$);case"latin1":case"binary":return H(this,P,M,$);case"base64":return F(this,P,M,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,P,M,$);default:if(re)throw new TypeError("Unknown encoding: "+te);te=(""+te).toLowerCase(),re=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function W(P,M,$){var te="";$=Math.min(P.length,$);for(var ue=M;ue<$;++ue)te+=String.fromCharCode(127&P[ue]);return te}function k(P,M,$){var te="";$=Math.min(P.length,$);for(var ue=M;ue<$;++ue)te+=String.fromCharCode(P[ue]);return te}function E(P,M,$){var te=P.length;(!M||M<0)&&(M=0),(!$||$<0||$>te)&&($=te);for(var ue="",re=M;re<$;++re)ue+=R(P[re]);return ue}function L(P,M,$){for(var te=P.slice(M,$),ue="",re=0;re<te.length;re+=2)ue+=String.fromCharCode(te[re]+256*te[re+1]);return ue}function b(P,M,$){if(P%1!=0||P<0)throw new RangeError("offset is not uint");if(P+M>$)throw new RangeError("Trying to access beyond buffer length")}function w(P,M,$,te,ue,re){if(!a.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(M>ue||M<re)throw new RangeError('"value" argument is out of bounds');if($+te>P.length)throw new RangeError("Index out of range")}function _(P,M,$,te,ue,re){if($+te>P.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function y(P,M,$,te,ue){return M=+M,$>>>=0,ue||_(P,0,$,4),o.write(P,M,$,te,23,4),$+4}function C(P,M,$,te,ue){return M=+M,$>>>=0,ue||_(P,0,$,8),o.write(P,M,$,te,52,8),$+8}a.prototype.slice=function(P,M){var $=this.length;(P=~~P)<0?(P+=$)<0&&(P=0):P>$&&(P=$),(M=M===void 0?$:~~M)<0?(M+=$)<0&&(M=0):M>$&&(M=$),M<P&&(M=P);var te=this.subarray(P,M);return te.__proto__=a.prototype,te},a.prototype.readUIntLE=function(P,M,$){P>>>=0,M>>>=0,$||b(P,M,this.length);for(var te=this[P],ue=1,re=0;++re<M&&(ue*=256);)te+=this[P+re]*ue;return te},a.prototype.readUIntBE=function(P,M,$){P>>>=0,M>>>=0,$||b(P,M,this.length);for(var te=this[P+--M],ue=1;M>0&&(ue*=256);)te+=this[P+--M]*ue;return te},a.prototype.readUInt8=function(P,M){return P>>>=0,M||b(P,1,this.length),this[P]},a.prototype.readUInt16LE=function(P,M){return P>>>=0,M||b(P,2,this.length),this[P]|this[P+1]<<8},a.prototype.readUInt16BE=function(P,M){return P>>>=0,M||b(P,2,this.length),this[P]<<8|this[P+1]},a.prototype.readUInt32LE=function(P,M){return P>>>=0,M||b(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+16777216*this[P+3]},a.prototype.readUInt32BE=function(P,M){return P>>>=0,M||b(P,4,this.length),16777216*this[P]+(this[P+1]<<16|this[P+2]<<8|this[P+3])},a.prototype.readIntLE=function(P,M,$){P>>>=0,M>>>=0,$||b(P,M,this.length);for(var te=this[P],ue=1,re=0;++re<M&&(ue*=256);)te+=this[P+re]*ue;return te>=(ue*=128)&&(te-=Math.pow(2,8*M)),te},a.prototype.readIntBE=function(P,M,$){P>>>=0,M>>>=0,$||b(P,M,this.length);for(var te=M,ue=1,re=this[P+--te];te>0&&(ue*=256);)re+=this[P+--te]*ue;return re>=(ue*=128)&&(re-=Math.pow(2,8*M)),re},a.prototype.readInt8=function(P,M){return P>>>=0,M||b(P,1,this.length),128&this[P]?-1*(255-this[P]+1):this[P]},a.prototype.readInt16LE=function(P,M){P>>>=0,M||b(P,2,this.length);var $=this[P]|this[P+1]<<8;return 32768&$?4294901760|$:$},a.prototype.readInt16BE=function(P,M){P>>>=0,M||b(P,2,this.length);var $=this[P+1]|this[P]<<8;return 32768&$?4294901760|$:$},a.prototype.readInt32LE=function(P,M){return P>>>=0,M||b(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},a.prototype.readInt32BE=function(P,M){return P>>>=0,M||b(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},a.prototype.readFloatLE=function(P,M){return P>>>=0,M||b(P,4,this.length),o.read(this,P,!0,23,4)},a.prototype.readFloatBE=function(P,M){return P>>>=0,M||b(P,4,this.length),o.read(this,P,!1,23,4)},a.prototype.readDoubleLE=function(P,M){return P>>>=0,M||b(P,8,this.length),o.read(this,P,!0,52,8)},a.prototype.readDoubleBE=function(P,M){return P>>>=0,M||b(P,8,this.length),o.read(this,P,!1,52,8)},a.prototype.writeUIntLE=function(P,M,$,te){P=+P,M>>>=0,$>>>=0,te||w(this,P,M,$,Math.pow(2,8*$)-1,0);var ue=1,re=0;for(this[M]=255&P;++re<$&&(ue*=256);)this[M+re]=P/ue&255;return M+$},a.prototype.writeUIntBE=function(P,M,$,te){P=+P,M>>>=0,$>>>=0,te||w(this,P,M,$,Math.pow(2,8*$)-1,0);var ue=$-1,re=1;for(this[M+ue]=255&P;--ue>=0&&(re*=256);)this[M+ue]=P/re&255;return M+$},a.prototype.writeUInt8=function(P,M,$){return P=+P,M>>>=0,$||w(this,P,M,1,255,0),this[M]=255&P,M+1},a.prototype.writeUInt16LE=function(P,M,$){return P=+P,M>>>=0,$||w(this,P,M,2,65535,0),this[M]=255&P,this[M+1]=P>>>8,M+2},a.prototype.writeUInt16BE=function(P,M,$){return P=+P,M>>>=0,$||w(this,P,M,2,65535,0),this[M]=P>>>8,this[M+1]=255&P,M+2},a.prototype.writeUInt32LE=function(P,M,$){return P=+P,M>>>=0,$||w(this,P,M,4,4294967295,0),this[M+3]=P>>>24,this[M+2]=P>>>16,this[M+1]=P>>>8,this[M]=255&P,M+4},a.prototype.writeUInt32BE=function(P,M,$){return P=+P,M>>>=0,$||w(this,P,M,4,4294967295,0),this[M]=P>>>24,this[M+1]=P>>>16,this[M+2]=P>>>8,this[M+3]=255&P,M+4},a.prototype.writeIntLE=function(P,M,$,te){if(P=+P,M>>>=0,!te){var ue=Math.pow(2,8*$-1);w(this,P,M,$,ue-1,-ue)}var re=0,ce=1,_e=0;for(this[M]=255&P;++re<$&&(ce*=256);)P<0&&_e===0&&this[M+re-1]!==0&&(_e=1),this[M+re]=(P/ce>>0)-_e&255;return M+$},a.prototype.writeIntBE=function(P,M,$,te){if(P=+P,M>>>=0,!te){var ue=Math.pow(2,8*$-1);w(this,P,M,$,ue-1,-ue)}var re=$-1,ce=1,_e=0;for(this[M+re]=255&P;--re>=0&&(ce*=256);)P<0&&_e===0&&this[M+re+1]!==0&&(_e=1),this[M+re]=(P/ce>>0)-_e&255;return M+$},a.prototype.writeInt8=function(P,M,$){return P=+P,M>>>=0,$||w(this,P,M,1,127,-128),P<0&&(P=255+P+1),this[M]=255&P,M+1},a.prototype.writeInt16LE=function(P,M,$){return P=+P,M>>>=0,$||w(this,P,M,2,32767,-32768),this[M]=255&P,this[M+1]=P>>>8,M+2},a.prototype.writeInt16BE=function(P,M,$){return P=+P,M>>>=0,$||w(this,P,M,2,32767,-32768),this[M]=P>>>8,this[M+1]=255&P,M+2},a.prototype.writeInt32LE=function(P,M,$){return P=+P,M>>>=0,$||w(this,P,M,4,2147483647,-2147483648),this[M]=255&P,this[M+1]=P>>>8,this[M+2]=P>>>16,this[M+3]=P>>>24,M+4},a.prototype.writeInt32BE=function(P,M,$){return P=+P,M>>>=0,$||w(this,P,M,4,2147483647,-2147483648),P<0&&(P=4294967295+P+1),this[M]=P>>>24,this[M+1]=P>>>16,this[M+2]=P>>>8,this[M+3]=255&P,M+4},a.prototype.writeFloatLE=function(P,M,$){return y(this,P,M,!0,$)},a.prototype.writeFloatBE=function(P,M,$){return y(this,P,M,!1,$)},a.prototype.writeDoubleLE=function(P,M,$){return C(this,P,M,!0,$)},a.prototype.writeDoubleBE=function(P,M,$){return C(this,P,M,!1,$)},a.prototype.copy=function(P,M,$,te){if(!a.isBuffer(P))throw new TypeError("argument should be a Buffer");if($||($=0),te||te===0||(te=this.length),M>=P.length&&(M=P.length),M||(M=0),te>0&&te<$&&(te=$),te===$||P.length===0||this.length===0)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("sourceEnd out of bounds");te>this.length&&(te=this.length),P.length-M<te-$&&(te=P.length-M+$);var ue=te-$;if(this===P&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(M,$,te);else if(this===P&&$<M&&M<te)for(var re=ue-1;re>=0;--re)P[re+M]=this[re+$];else Uint8Array.prototype.set.call(P,this.subarray($,te),M);return ue},a.prototype.fill=function(P,M,$,te){if(typeof P=="string"){if(typeof M=="string"?(te=M,M=0,$=this.length):typeof $=="string"&&(te=$,$=this.length),te!==void 0&&typeof te!="string")throw new TypeError("encoding must be a string");if(typeof te=="string"&&!a.isEncoding(te))throw new TypeError("Unknown encoding: "+te);if(P.length===1){var ue=P.charCodeAt(0);(te==="utf8"&&ue<128||te==="latin1")&&(P=ue)}}else typeof P=="number"&&(P&=255);if(M<0||this.length<M||this.length<$)throw new RangeError("Out of range index");if($<=M)return this;var re;if(M>>>=0,$=$===void 0?this.length:$>>>0,P||(P=0),typeof P=="number")for(re=M;re<$;++re)this[re]=P;else{var ce=a.isBuffer(P)?P:a.from(P,te),_e=ce.length;if(_e===0)throw new TypeError('The value "'+P+'" is invalid for argument "value"');for(re=0;re<$-M;++re)this[re+M]=ce[re%_e]}return this};var S=/[^+/0-9A-Za-z-_]/g;function R(P){return P<16?"0"+P.toString(16):P.toString(16)}function Z(P,M){var $;M=M||1/0;for(var te=P.length,ue=null,re=[],ce=0;ce<te;++ce){if(($=P.charCodeAt(ce))>55295&&$<57344){if(!ue){if($>56319){(M-=3)>-1&&re.push(239,191,189);continue}if(ce+1===te){(M-=3)>-1&&re.push(239,191,189);continue}ue=$;continue}if($<56320){(M-=3)>-1&&re.push(239,191,189),ue=$;continue}$=65536+(ue-55296<<10|$-56320)}else ue&&(M-=3)>-1&&re.push(239,191,189);if(ue=null,$<128){if((M-=1)<0)break;re.push($)}else if($<2048){if((M-=2)<0)break;re.push($>>6|192,63&$|128)}else if($<65536){if((M-=3)<0)break;re.push($>>12|224,$>>6&63|128,63&$|128)}else{if(!($<1114112))throw new Error("Invalid code point");if((M-=4)<0)break;re.push($>>18|240,$>>12&63|128,$>>6&63|128,63&$|128)}}return re}function j(P){return r.toByteArray(function(M){if((M=(M=M.split("=")[0]).trim().replace(S,"")).length<2)return"";for(;M.length%4!=0;)M+="=";return M}(P))}function X(P,M,$,te){for(var ue=0;ue<te&&!(ue+$>=M.length||ue>=P.length);++ue)M[ue+$]=P[ue];return ue}function D(P,M){return P instanceof M||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===M.name}function Y(P){return P!=P}}).call(this)}).call(this,n("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(n,e,t){"use strict";var i=n("safe-buffer").Buffer,r=n("stream").Transform,o=n("string_decoder").StringDecoder;function s(a){r.call(this),this.hashMode=typeof a=="string",this.hashMode?this[a]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n("inherits")(s,r),s.prototype.update=function(a,l,c){typeof a=="string"&&(a=i.from(a,l));var u=this._update(a);return this.hashMode?this:(c&&(u=this._toString(u,c)),u)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(a,l,c){var u;try{this.hashMode?this._update(a):this.push(this._update(a))}catch(d){u=d}finally{c(u)}},s.prototype._flush=function(a){var l;try{this.push(this.__final())}catch(c){l=c}a(l)},s.prototype._finalOrDigest=function(a){var l=this.__final()||i.alloc(0);return a&&(l=this._toString(l,a,!0)),l},s.prototype._toString=function(a,l,c){if(this._decoder||(this._decoder=new o(l),this._encoding=l),this._encoding!==l)throw new Error("can't switch encodings");var u=this._decoder.write(a);return c&&(u+=this._decoder.end()),u},e.exports=s},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(n,e,t){"use strict";var i=n("../internals/is-callable"),r=n("../internals/try-to-string"),o=TypeError;e.exports=function(s){if(i(s))return s;throw new o(r(s)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(n,e,t){"use strict";var i=n("../internals/is-constructor"),r=n("../internals/try-to-string"),o=TypeError;e.exports=function(s){if(i(s))return s;throw new o(r(s)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(n,e,t){"use strict";var i=n("../internals/is-callable"),r=String,o=TypeError;e.exports=function(s){if(typeof s=="object"||i(s))return s;throw new o("Can't set "+r(s)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(n,e,t){"use strict";var i=n("../internals/well-known-symbol"),r=n("../internals/object-create"),o=n("../internals/object-define-property").f,s=i("unscopables"),a=Array.prototype;a[s]===void 0&&o(a,s,{configurable:!0,value:r(null)}),e.exports=function(l){a[s][l]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(n,e,t){"use strict";var i=n("../internals/object-is-prototype-of"),r=TypeError;e.exports=function(o,s){if(i(s,o))return o;throw new r("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(n,e,t){"use strict";var i=n("../internals/is-object"),r=String,o=TypeError;e.exports=function(s){if(i(s))return s;throw new o(r(s)+" is not an object")}},{"../internals/is-object":289}],228:[function(n,e,t){"use strict";var i=n("../internals/to-indexed-object"),r=n("../internals/to-absolute-index"),o=n("../internals/length-of-array-like"),s=function(a){return function(l,c,u){var d,f=i(l),h=o(f),m=r(u,h);if(a&&c!=c){for(;h>m;)if((d=f[m++])!=d)return!0}else for(;h>m;m++)if((a||m in f)&&f[m]===c)return a||m||0;return!a&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(n,e,t){"use strict";var i=n("../internals/function-bind-context"),r=n("../internals/function-uncurry-this"),o=n("../internals/indexed-object"),s=n("../internals/to-object"),a=n("../internals/length-of-array-like"),l=n("../internals/array-species-create"),c=r([].push),u=function(d){var f=d===1,h=d===2,m=d===3,p=d===4,g=d===6,v=d===7,x=d===5||g;return function(I,N,H,F){for(var B,V,G=s(I),W=o(G),k=i(N,H),E=a(W),L=0,b=F||l,w=f?b(I,E):h||v?b(I,0):void 0;E>L;L++)if((x||L in W)&&(V=k(B=W[L],L,G),d))if(f)w[L]=V;else if(V)switch(d){case 3:return!0;case 5:return B;case 6:return L;case 2:c(w,B)}else switch(d){case 4:return!1;case 7:c(w,B)}return g?-1:m||p?p:w}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(n,e,t){"use strict";var i=n("../internals/to-absolute-index"),r=n("../internals/length-of-array-like"),o=n("../internals/create-property"),s=Array,a=Math.max;e.exports=function(l,c,u){for(var d=r(l),f=i(c,d),h=i(u===void 0?d:u,d),m=s(a(h-f,0)),p=0;f<h;f++,p++)o(m,p,l[f]);return m.length=p,m}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(n,e,t){"use strict";var i=n("../internals/function-uncurry-this");e.exports=i([].slice)},{"../internals/function-uncurry-this":268}],232:[function(n,e,t){"use strict";var i=n("../internals/is-array"),r=n("../internals/is-constructor"),o=n("../internals/is-object"),s=n("../internals/well-known-symbol")("species"),a=Array;e.exports=function(l){var c;return i(l)&&(c=l.constructor,(r(c)&&(c===a||i(c.prototype))||o(c)&&(c=c[s])===null)&&(c=void 0)),c===void 0?a:c}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(n,e,t){"use strict";var i=n("../internals/array-species-constructor");e.exports=function(r,o){return new(i(r))(o===0?0:o)}},{"../internals/array-species-constructor":232}],234:[function(n,e,t){"use strict";var i=n("../internals/well-known-symbol")("iterator"),r=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){r=!0}};s[i]=function(){return this},Array.from(s,function(){throw 2})}catch{}e.exports=function(a,l){try{if(!l&&!r)return!1}catch{return!1}var c=!1;try{var u={};u[i]=function(){return{next:function(){return{done:c=!0}}}},a(u)}catch{}return c}},{"../internals/well-known-symbol":357}],235:[function(n,e,t){"use strict";var i=n("../internals/function-uncurry-this"),r=i({}.toString),o=i("".slice);e.exports=function(s){return o(r(s),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(n,e,t){"use strict";var i=n("../internals/to-string-tag-support"),r=n("../internals/is-callable"),o=n("../internals/classof-raw"),s=n("../internals/well-known-symbol")("toStringTag"),a=Object,l=o(function(){return arguments}())==="Arguments";e.exports=i?o:function(c){var u,d,f;return c===void 0?"Undefined":c===null?"Null":typeof(d=function(h,m){try{return h[m]}catch{}}(u=a(c),s))=="string"?d:l?o(u):(f=o(u))==="Object"&&r(u.callee)?"Arguments":f}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(n,e,t){"use strict";var i=n("../internals/has-own-property"),r=n("../internals/own-keys"),o=n("../internals/object-get-own-property-descriptor"),s=n("../internals/object-define-property");e.exports=function(a,l,c){for(var u=r(l),d=s.f,f=o.f,h=0;h<u.length;h++){var m=u[h];i(a,m)||c&&i(c,m)||d(a,m,f(l,m))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(n,e,t){"use strict";var i=n("../internals/well-known-symbol")("match");e.exports=function(r){var o=/./;try{"/./"[r](o)}catch{try{return o[i]=!1,"/./"[r](o)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(n,e,t){"use strict";var i=n("../internals/fails");e.exports=!i(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype})},{"../internals/fails":260}],240:[function(n,e,t){"use strict";e.exports=function(i,r){return{value:i,done:r}}},{}],241:[function(n,e,t){"use strict";var i=n("../internals/descriptors"),r=n("../internals/object-define-property"),o=n("../internals/create-property-descriptor");e.exports=i?function(s,a,l){return r.f(s,a,o(1,l))}:function(s,a,l){return s[a]=l,s}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(n,e,t){"use strict";e.exports=function(i,r){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:r}}},{}],243:[function(n,e,t){"use strict";var i=n("../internals/to-property-key"),r=n("../internals/object-define-property"),o=n("../internals/create-property-descriptor");e.exports=function(s,a,l){var c=i(a);c in s?r.f(s,c,o(0,l)):s[c]=l}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(n,e,t){"use strict";var i=n("../internals/make-built-in"),r=n("../internals/object-define-property");e.exports=function(o,s,a){return a.get&&i(a.get,s,{getter:!0}),a.set&&i(a.set,s,{setter:!0}),r.f(o,s,a)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(n,e,t){"use strict";var i=n("../internals/is-callable"),r=n("../internals/object-define-property"),o=n("../internals/make-built-in"),s=n("../internals/define-global-property");e.exports=function(a,l,c,u){u||(u={});var d=u.enumerable,f=u.name!==void 0?u.name:l;if(i(c)&&o(c,f,u),u.global)d?a[l]=c:s(l,c);else{try{u.unsafe?a[l]&&(d=!0):delete a[l]}catch{}d?a[l]=c:r.f(a,l,{value:c,enumerable:!1,configurable:!u.nonConfigurable,writable:!u.nonWritable})}return a}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(n,e,t){"use strict";var i=n("../internals/global"),r=Object.defineProperty;e.exports=function(o,s){try{r(i,o,{value:s,configurable:!0,writable:!0})}catch{i[o]=s}return s}},{"../internals/global":274}],247:[function(n,e,t){"use strict";var i=n("../internals/fails");e.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(n,e,t){"use strict";var i=typeof document=="object"&&document.all,r=i===void 0&&i!==void 0;e.exports={all:i,IS_HTMLDDA:r}},{}],249:[function(n,e,t){"use strict";var i=n("../internals/global"),r=n("../internals/is-object"),o=i.document,s=r(o)&&r(o.createElement);e.exports=function(a){return s?o.createElement(a):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(n,e,t){"use strict";var i=n("../internals/engine-is-deno"),r=n("../internals/engine-is-node");e.exports=!i&&!r&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(n,e,t){"use strict";e.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(n,e,t){"use strict";var i=n("../internals/engine-user-agent");e.exports=/ipad|iphone|ipod/i.test(i)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(n,e,t){"use strict";var i=n("../internals/engine-user-agent");e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},{"../internals/engine-user-agent":256}],254:[function(n,e,t){"use strict";var i=n("../internals/global"),r=n("../internals/classof-raw");e.exports=r(i.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(n,e,t){"use strict";var i=n("../internals/engine-user-agent");e.exports=/web0s(?!.*chrome)/i.test(i)},{"../internals/engine-user-agent":256}],256:[function(n,e,t){"use strict";e.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(n,e,t){"use strict";var i,r,o=n("../internals/global"),s=n("../internals/engine-user-agent"),a=o.process,l=o.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(r=(i=u.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&s&&(!(i=s.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/))&&(r=+i[1]),e.exports=r},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(n,e,t){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(n,e,t){"use strict";var i=n("../internals/global"),r=n("../internals/object-get-own-property-descriptor").f,o=n("../internals/create-non-enumerable-property"),s=n("../internals/define-built-in"),a=n("../internals/define-global-property"),l=n("../internals/copy-constructor-properties"),c=n("../internals/is-forced");e.exports=function(u,d){var f,h,m,p,g,v=u.target,x=u.global,I=u.stat;if(f=x?i:I?i[v]||a(v,{}):(i[v]||{}).prototype)for(h in d){if(p=d[h],m=u.dontCallGetSet?(g=r(f,h))&&g.value:f[h],!c(x?h:v+(I?".":"#")+h,u.forced)&&m!==void 0){if(typeof p==typeof m)continue;l(p,m)}(u.sham||m&&m.sham)&&o(p,"sham",!0),s(f,h,p,u)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(n,e,t){"use strict";e.exports=function(i){try{return!!i()}catch{return!0}}},{}],261:[function(n,e,t){"use strict";var i=n("../internals/function-bind-native"),r=Function.prototype,o=r.apply,s=r.call;e.exports=typeof Reflect=="object"&&Reflect.apply||(i?s.bind(o):function(){return s.apply(o,arguments)})},{"../internals/function-bind-native":263}],262:[function(n,e,t){"use strict";var i=n("../internals/function-uncurry-this-clause"),r=n("../internals/a-callable"),o=n("../internals/function-bind-native"),s=i(i.bind);e.exports=function(a,l){return r(a),l===void 0?a:o?s(a,l):function(){return a.apply(l,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(n,e,t){"use strict";var i=n("../internals/fails");e.exports=!i(function(){var r=(function(){}).bind();return typeof r!="function"||r.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(n,e,t){"use strict";var i=n("../internals/function-bind-native"),r=Function.prototype.call;e.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},{"../internals/function-bind-native":263}],265:[function(n,e,t){"use strict";var i=n("../internals/descriptors"),r=n("../internals/has-own-property"),o=Function.prototype,s=i&&Object.getOwnPropertyDescriptor,a=r(o,"name"),l=a&&(function(){}).name==="something",c=a&&(!i||i&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(n,e,t){"use strict";var i=n("../internals/function-uncurry-this"),r=n("../internals/a-callable");e.exports=function(o,s,a){try{return i(r(Object.getOwnPropertyDescriptor(o,s)[a]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(n,e,t){"use strict";var i=n("../internals/classof-raw"),r=n("../internals/function-uncurry-this");e.exports=function(o){if(i(o)==="Function")return r(o)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(n,e,t){"use strict";var i=n("../internals/function-bind-native"),r=Function.prototype,o=r.call,s=i&&r.bind.bind(o,o);e.exports=i?s:function(a){return function(){return o.apply(a,arguments)}}},{"../internals/function-bind-native":263}],269:[function(n,e,t){"use strict";var i=n("../internals/global"),r=n("../internals/is-callable"),o=function(s){return r(s)?s:void 0};e.exports=function(s,a){return arguments.length<2?o(i[s]):i[s]&&i[s][a]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(n,e,t){"use strict";var i=n("../internals/classof"),r=n("../internals/get-method"),o=n("../internals/is-null-or-undefined"),s=n("../internals/iterators"),a=n("../internals/well-known-symbol")("iterator");e.exports=function(l){if(!o(l))return r(l,a)||r(l,"@@iterator")||s[i(l)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(n,e,t){"use strict";var i=n("../internals/function-call"),r=n("../internals/a-callable"),o=n("../internals/an-object"),s=n("../internals/try-to-string"),a=n("../internals/get-iterator-method"),l=TypeError;e.exports=function(c,u){var d=arguments.length<2?a(c):u;if(r(d))return o(i(d,c));throw new l(s(c)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(n,e,t){"use strict";var i=n("../internals/function-uncurry-this"),r=n("../internals/is-array"),o=n("../internals/is-callable"),s=n("../internals/classof-raw"),a=n("../internals/to-string"),l=i([].push);e.exports=function(c){if(o(c))return c;if(r(c)){for(var u=c.length,d=[],f=0;f<u;f++){var h=c[f];typeof h=="string"?l(d,h):typeof h!="number"&&s(h)!=="Number"&&s(h)!=="String"||l(d,a(h))}var m=d.length,p=!0;return function(g,v){if(p)return p=!1,v;if(r(this))return v;for(var x=0;x<m;x++)if(d[x]===g)return v}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(n,e,t){"use strict";var i=n("../internals/a-callable"),r=n("../internals/is-null-or-undefined");e.exports=function(o,s){var a=o[s];return r(a)?void 0:i(a)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(n,e,t){(function(i){(function(){"use strict";var r=function(o){return o&&o.Math===Math&&o};e.exports=r(typeof globalThis=="object"&&globalThis)||r(typeof window=="object"&&window)||r(typeof self=="object"&&self)||r(typeof i=="object"&&i)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(n,e,t){"use strict";var i=n("../internals/function-uncurry-this"),r=n("../internals/to-object"),o=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(s,a){return o(r(s),a)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(n,e,t){"use strict";e.exports={}},{}],277:[function(n,e,t){"use strict";e.exports=function(i,r){try{arguments.length===1?console.error(i):console.error(i,r)}catch{}}},{}],278:[function(n,e,t){"use strict";var i=n("../internals/get-built-in");e.exports=i("document","documentElement")},{"../internals/get-built-in":269}],279:[function(n,e,t){"use strict";var i=n("../internals/descriptors"),r=n("../internals/fails"),o=n("../internals/document-create-element");e.exports=!i&&!r(function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(n,e,t){"use strict";var i=n("../internals/function-uncurry-this"),r=n("../internals/fails"),o=n("../internals/classof-raw"),s=Object,a=i("".split);e.exports=r(function(){return!s("z").propertyIsEnumerable(0)})?function(l){return o(l)==="String"?a(l,""):s(l)}:s},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(n,e,t){"use strict";var i=n("../internals/function-uncurry-this"),r=n("../internals/is-callable"),o=n("../internals/shared-store"),s=i(Function.toString);r(o.inspectSource)||(o.inspectSource=function(a){return s(a)}),e.exports=o.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(n,e,t){"use strict";var i,r,o,s=n("../internals/weak-map-basic-detection"),a=n("../internals/global"),l=n("../internals/is-object"),c=n("../internals/create-non-enumerable-property"),u=n("../internals/has-own-property"),d=n("../internals/shared-store"),f=n("../internals/shared-key"),h=n("../internals/hidden-keys"),m=a.TypeError,p=a.WeakMap;if(s||d.state){var g=d.state||(d.state=new p);g.get=g.get,g.has=g.has,g.set=g.set,i=function(x,I){if(g.has(x))throw new m("Object already initialized");return I.facade=x,g.set(x,I),I},r=function(x){return g.get(x)||{}},o=function(x){return g.has(x)}}else{var v=f("state");h[v]=!0,i=function(x,I){if(u(x,v))throw new m("Object already initialized");return I.facade=x,c(x,v,I),I},r=function(x){return u(x,v)?x[v]:{}},o=function(x){return u(x,v)}}e.exports={set:i,get:r,has:o,enforce:function(x){return o(x)?r(x):i(x,{})},getterFor:function(x){return function(I){var N;if(!l(I)||(N=r(I)).type!==x)throw new m("Incompatible receiver, "+x+" required");return N}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(n,e,t){"use strict";var i=n("../internals/well-known-symbol"),r=n("../internals/iterators"),o=i("iterator"),s=Array.prototype;e.exports=function(a){return a!==void 0&&(r.Array===a||s[o]===a)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(n,e,t){"use strict";var i=n("../internals/classof-raw");e.exports=Array.isArray||function(r){return i(r)==="Array"}},{"../internals/classof-raw":235}],285:[function(n,e,t){"use strict";var i=n("../internals/document-all"),r=i.all;e.exports=i.IS_HTMLDDA?function(o){return typeof o=="function"||o===r}:function(o){return typeof o=="function"}},{"../internals/document-all":248}],286:[function(n,e,t){"use strict";var i=n("../internals/function-uncurry-this"),r=n("../internals/fails"),o=n("../internals/is-callable"),s=n("../internals/classof"),a=n("../internals/get-built-in"),l=n("../internals/inspect-source"),c=function(){},u=[],d=a("Reflect","construct"),f=/^\s*(?:class|function)\b/,h=i(f.exec),m=!f.test(c),p=function(v){if(!o(v))return!1;try{return d(c,u,v),!0}catch{return!1}},g=function(v){if(!o(v))return!1;switch(s(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!h(f,l(v))}catch{return!0}};g.sham=!0,e.exports=!d||r(function(){var v;return p(p.call)||!p(Object)||!p(function(){v=!0})||v})?g:p},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(n,e,t){"use strict";var i=n("../internals/fails"),r=n("../internals/is-callable"),o=/#|\.prototype\./,s=function(d,f){var h=l[a(d)];return h===u||h!==c&&(r(f)?i(f):!!f)},a=s.normalize=function(d){return String(d).replace(o,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(n,e,t){"use strict";e.exports=function(i){return i==null}},{}],289:[function(n,e,t){"use strict";var i=n("../internals/is-callable"),r=n("../internals/document-all"),o=r.all;e.exports=r.IS_HTMLDDA?function(s){return typeof s=="object"?s!==null:i(s)||s===o}:function(s){return typeof s=="object"?s!==null:i(s)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(n,e,t){"use strict";e.exports=!1},{}],291:[function(n,e,t){"use strict";var i=n("../internals/is-object"),r=n("../internals/classof-raw"),o=n("../internals/well-known-symbol")("match");e.exports=function(s){var a;return i(s)&&((a=s[o])!==void 0?!!a:r(s)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(n,e,t){"use strict";var i=n("../internals/get-built-in"),r=n("../internals/is-callable"),o=n("../internals/object-is-prototype-of"),s=n("../internals/use-symbol-as-uid"),a=Object;e.exports=s?function(l){return typeof l=="symbol"}:function(l){var c=i("Symbol");return r(c)&&o(c.prototype,a(l))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(n,e,t){"use strict";var i=n("../internals/function-bind-context"),r=n("../internals/function-call"),o=n("../internals/an-object"),s=n("../internals/try-to-string"),a=n("../internals/is-array-iterator-method"),l=n("../internals/length-of-array-like"),c=n("../internals/object-is-prototype-of"),u=n("../internals/get-iterator"),d=n("../internals/get-iterator-method"),f=n("../internals/iterator-close"),h=TypeError,m=function(g,v){this.stopped=g,this.result=v},p=m.prototype;e.exports=function(g,v,x){var I,N,H,F,B,V,G,W=x&&x.that,k=!(!x||!x.AS_ENTRIES),E=!(!x||!x.IS_RECORD),L=!(!x||!x.IS_ITERATOR),b=!(!x||!x.INTERRUPTED),w=i(v,W),_=function(C){return I&&f(I,"normal",C),new m(!0,C)},y=function(C){return k?(o(C),b?w(C[0],C[1],_):w(C[0],C[1])):b?w(C,_):w(C)};if(E)I=g.iterator;else if(L)I=g;else{if(!(N=d(g)))throw new h(s(g)+" is not iterable");if(a(N)){for(H=0,F=l(g);F>H;H++)if((B=y(g[H]))&&c(p,B))return B;return new m(!1)}I=u(g,N)}for(V=E?g.next:I.next;!(G=r(V,I)).done;){try{B=y(G.value)}catch(C){f(I,"throw",C)}if(typeof B=="object"&&B&&c(p,B))return B}return new m(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(n,e,t){"use strict";var i=n("../internals/function-call"),r=n("../internals/an-object"),o=n("../internals/get-method");e.exports=function(s,a,l){var c,u;r(s);try{if(!(c=o(s,"return"))){if(a==="throw")throw l;return l}c=i(c,s)}catch(d){u=!0,c=d}if(a==="throw")throw l;if(u)throw c;return r(c),l}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(n,e,t){"use strict";var i=n("../internals/iterators-core").IteratorPrototype,r=n("../internals/object-create"),o=n("../internals/create-property-descriptor"),s=n("../internals/set-to-string-tag"),a=n("../internals/iterators"),l=function(){return this};e.exports=function(c,u,d,f){var h=u+" Iterator";return c.prototype=r(i,{next:o(+!f,d)}),s(c,h,!1,!0),a[h]=l,c}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(n,e,t){"use strict";var i=n("../internals/export"),r=n("../internals/function-call"),o=n("../internals/is-pure"),s=n("../internals/function-name"),a=n("../internals/is-callable"),l=n("../internals/iterator-create-constructor"),c=n("../internals/object-get-prototype-of"),u=n("../internals/object-set-prototype-of"),d=n("../internals/set-to-string-tag"),f=n("../internals/create-non-enumerable-property"),h=n("../internals/define-built-in"),m=n("../internals/well-known-symbol"),p=n("../internals/iterators"),g=n("../internals/iterators-core"),v=s.PROPER,x=s.CONFIGURABLE,I=g.IteratorPrototype,N=g.BUGGY_SAFARI_ITERATORS,H=m("iterator"),F=function(){return this};e.exports=function(B,V,G,W,k,E,L){l(G,V,W);var b,w,_,y=function(D){if(D===k&&j)return j;if(!N&&D&&D in R)return R[D];switch(D){case"keys":case"values":case"entries":return function(){return new G(this,D)}}return function(){return new G(this)}},C=V+" Iterator",S=!1,R=B.prototype,Z=R[H]||R["@@iterator"]||k&&R[k],j=!N&&Z||y(k),X=V==="Array"&&R.entries||Z;if(X&&(b=c(X.call(new B)))!==Object.prototype&&b.next&&(o||c(b)===I||(u?u(b,I):a(b[H])||h(b,H,F)),d(b,C,!0,!0),o&&(p[C]=F)),v&&k==="values"&&Z&&Z.name!=="values"&&(!o&&x?f(R,"name","values"):(S=!0,j=function(){return r(Z,this)})),k)if(w={values:y("values"),keys:E?j:y("keys"),entries:y("entries")},L)for(_ in w)(N||S||!(_ in R))&&h(R,_,w[_]);else i({target:V,proto:!0,forced:N||S},w);return o&&!L||R[H]===j||h(R,H,j,{name:k}),p[V]=j,w}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(n,e,t){"use strict";var i,r,o,s=n("../internals/fails"),a=n("../internals/is-callable"),l=n("../internals/is-object"),c=n("../internals/object-create"),u=n("../internals/object-get-prototype-of"),d=n("../internals/define-built-in"),f=n("../internals/well-known-symbol"),h=n("../internals/is-pure"),m=f("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(r=u(u(o)))!==Object.prototype&&(i=r):p=!0),!l(i)||s(function(){var g={};return i[m].call(g)!==g})?i={}:h&&(i=c(i)),a(i[m])||d(i,m,function(){return this}),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:p}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(n,e,t){arguments[4][276][0].apply(t,arguments)},{dup:276}],299:[function(n,e,t){"use strict";var i=n("../internals/to-length");e.exports=function(r){return i(r.length)}},{"../internals/to-length":343}],300:[function(n,e,t){"use strict";var i=n("../internals/function-uncurry-this"),r=n("../internals/fails"),o=n("../internals/is-callable"),s=n("../internals/has-own-property"),a=n("../internals/descriptors"),l=n("../internals/function-name").CONFIGURABLE,c=n("../internals/inspect-source"),u=n("../internals/internal-state"),d=u.enforce,f=u.get,h=String,m=Object.defineProperty,p=i("".slice),g=i("".replace),v=i([].join),x=a&&!r(function(){return m(function(){},"length",{value:8}).length!==8}),I=String(String).split("String"),N=e.exports=function(H,F,B){p(h(F),0,7)==="Symbol("&&(F="["+g(h(F),/^Symbol\(([^)]*)\)/,"$1")+"]"),B&&B.getter&&(F="get "+F),B&&B.setter&&(F="set "+F),(!s(H,"name")||l&&H.name!==F)&&(a?m(H,"name",{value:F,configurable:!0}):H.name=F),x&&B&&s(B,"arity")&&H.length!==B.arity&&m(H,"length",{value:B.arity});try{B&&s(B,"constructor")&&B.constructor?a&&m(H,"prototype",{writable:!1}):H.prototype&&(H.prototype=void 0)}catch{}var V=d(H);return s(V,"source")||(V.source=v(I,typeof F=="string"?F:"")),H};Function.prototype.toString=N(function(){return o(this)&&f(this).source||c(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(n,e,t){"use strict";var i=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(o){var s=+o;return(s>0?r:i)(s)}},{}],302:[function(n,e,t){"use strict";var i,r,o,s,a,l=n("../internals/global"),c=n("../internals/function-bind-context"),u=n("../internals/object-get-own-property-descriptor").f,d=n("../internals/task").set,f=n("../internals/queue"),h=n("../internals/engine-is-ios"),m=n("../internals/engine-is-ios-pebble"),p=n("../internals/engine-is-webos-webkit"),g=n("../internals/engine-is-node"),v=l.MutationObserver||l.WebKitMutationObserver,x=l.document,I=l.process,N=l.Promise,H=u(l,"queueMicrotask"),F=H&&H.value;if(!F){var B=new f,V=function(){var G,W;for(g&&(G=I.domain)&&G.exit();W=B.get();)try{W()}catch(k){throw B.head&&i(),k}G&&G.enter()};h||g||p||!v||!x?!m&&N&&N.resolve?((s=N.resolve(void 0)).constructor=N,a=c(s.then,s),i=function(){a(V)}):g?i=function(){I.nextTick(V)}:(d=c(d,l),i=function(){d(V)}):(r=!0,o=x.createTextNode(""),new v(V).observe(o,{characterData:!0}),i=function(){o.data=r=!r}),F=function(G){B.head||i(),B.add(G)}}e.exports=F},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(n,e,t){"use strict";var i=n("../internals/a-callable"),r=TypeError,o=function(s){var a,l;this.promise=new s(function(c,u){if(a!==void 0||l!==void 0)throw new r("Bad Promise constructor");a=c,l=u}),this.resolve=i(a),this.reject=i(l)};e.exports.f=function(s){return new o(s)}},{"../internals/a-callable":222}],304:[function(n,e,t){"use strict";var i=n("../internals/is-regexp"),r=TypeError;e.exports=function(o){if(i(o))throw new r("The method doesn't accept regular expressions");return o}},{"../internals/is-regexp":291}],305:[function(n,e,t){"use strict";var i=n("../internals/descriptors"),r=n("../internals/function-uncurry-this"),o=n("../internals/function-call"),s=n("../internals/fails"),a=n("../internals/object-keys"),l=n("../internals/object-get-own-property-symbols"),c=n("../internals/object-property-is-enumerable"),u=n("../internals/to-object"),d=n("../internals/indexed-object"),f=Object.assign,h=Object.defineProperty,m=r([].concat);e.exports=!f||s(function(){if(i&&f({b:1},f(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var p={},g={},v=Symbol("assign detection");return p[v]=7,"abcdefghijklmnopqrst".split("").forEach(function(x){g[x]=x}),f({},p)[v]!==7||a(f({},g)).join("")!=="abcdefghijklmnopqrst"})?function(p,g){for(var v=u(p),x=arguments.length,I=1,N=l.f,H=c.f;x>I;)for(var F,B=d(arguments[I++]),V=N?m(a(B),N(B)):a(B),G=V.length,W=0;G>W;)F=V[W++],i&&!o(H,B,F)||(v[F]=B[F]);return v}:f},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(n,e,t){"use strict";var i,r=n("../internals/an-object"),o=n("../internals/object-define-properties"),s=n("../internals/enum-bug-keys"),a=n("../internals/hidden-keys"),l=n("../internals/html"),c=n("../internals/document-create-element"),u=n("../internals/shared-key"),d=u("IE_PROTO"),f=function(){},h=function(g){return"<script>"+g+"<\/script>"},m=function(g){g.write(h("")),g.close();var v=g.parentWindow.Object;return g=null,v},p=function(){try{i=new ActiveXObject("htmlfile")}catch{}var g,v;p=typeof document<"u"?document.domain&&i?m(i):((v=c("iframe")).style.display="none",l.appendChild(v),v.src="javascript:",(g=v.contentWindow.document).open(),g.write(h("document.F=Object")),g.close(),g.F):m(i);for(var x=s.length;x--;)delete p.prototype[s[x]];return p()};a[d]=!0,e.exports=Object.create||function(g,v){var x;return g!==null?(f.prototype=r(g),x=new f,f.prototype=null,x[d]=g):x=p(),v===void 0?x:o.f(x,v)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(n,e,t){"use strict";var i=n("../internals/descriptors"),r=n("../internals/v8-prototype-define-bug"),o=n("../internals/object-define-property"),s=n("../internals/an-object"),a=n("../internals/to-indexed-object"),l=n("../internals/object-keys");t.f=i&&!r?Object.defineProperties:function(c,u){s(c);for(var d,f=a(u),h=l(u),m=h.length,p=0;m>p;)o.f(c,d=h[p++],f[d]);return c}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(n,e,t){"use strict";var i=n("../internals/descriptors"),r=n("../internals/ie8-dom-define"),o=n("../internals/v8-prototype-define-bug"),s=n("../internals/an-object"),a=n("../internals/to-property-key"),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor;t.f=i?o?function(d,f,h){if(s(d),f=a(f),s(h),typeof d=="function"&&f==="prototype"&&"value"in h&&"writable"in h&&!h.writable){var m=u(d,f);m&&m.writable&&(d[f]=h.value,h={configurable:"configurable"in h?h.configurable:m.configurable,enumerable:"enumerable"in h?h.enumerable:m.enumerable,writable:!1})}return c(d,f,h)}:c:function(d,f,h){if(s(d),f=a(f),s(h),r)try{return c(d,f,h)}catch{}if("get"in h||"set"in h)throw new l("Accessors not supported");return"value"in h&&(d[f]=h.value),d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(n,e,t){"use strict";var i=n("../internals/descriptors"),r=n("../internals/function-call"),o=n("../internals/object-property-is-enumerable"),s=n("../internals/create-property-descriptor"),a=n("../internals/to-indexed-object"),l=n("../internals/to-property-key"),c=n("../internals/has-own-property"),u=n("../internals/ie8-dom-define"),d=Object.getOwnPropertyDescriptor;t.f=i?d:function(f,h){if(f=a(f),h=l(h),u)try{return d(f,h)}catch{}if(c(f,h))return s(!r(o.f,f,h),f[h])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(n,e,t){"use strict";var i=n("../internals/classof-raw"),r=n("../internals/to-indexed-object"),o=n("../internals/object-get-own-property-names").f,s=n("../internals/array-slice-simple"),a=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(l){return a&&i(l)==="Window"?function(c){try{return o(c)}catch{return s(a)}}(l):o(r(l))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(n,e,t){"use strict";var i=n("../internals/object-keys-internal"),r=n("../internals/enum-bug-keys").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(o){return i(o,r)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(n,e,t){"use strict";t.f=Object.getOwnPropertySymbols},{}],313:[function(n,e,t){"use strict";var i=n("../internals/has-own-property"),r=n("../internals/is-callable"),o=n("../internals/to-object"),s=n("../internals/shared-key"),a=n("../internals/correct-prototype-getter"),l=s("IE_PROTO"),c=Object,u=c.prototype;e.exports=a?c.getPrototypeOf:function(d){var f=o(d);if(i(f,l))return f[l];var h=f.constructor;return r(h)&&f instanceof h?h.prototype:f instanceof c?u:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(n,e,t){"use strict";var i=n("../internals/function-uncurry-this");e.exports=i({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(n,e,t){"use strict";var i=n("../internals/function-uncurry-this"),r=n("../internals/has-own-property"),o=n("../internals/to-indexed-object"),s=n("../internals/array-includes").indexOf,a=n("../internals/hidden-keys"),l=i([].push);e.exports=function(c,u){var d,f=o(c),h=0,m=[];for(d in f)!r(a,d)&&r(f,d)&&l(m,d);for(;u.length>h;)r(f,d=u[h++])&&(~s(m,d)||l(m,d));return m}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(n,e,t){"use strict";var i=n("../internals/object-keys-internal"),r=n("../internals/enum-bug-keys");e.exports=Object.keys||function(o){return i(o,r)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(n,e,t){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!i.call({1:2},1);t.f=o?function(s){var a=r(this,s);return!!a&&a.enumerable}:i},{}],318:[function(n,e,t){"use strict";var i=n("../internals/function-uncurry-this-accessor"),r=n("../internals/an-object"),o=n("../internals/a-possible-prototype");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,a=!1,l={};try{(s=i(Object.prototype,"__proto__","set"))(l,[]),a=l instanceof Array}catch{}return function(c,u){return r(c),o(u),a?s(c,u):c.__proto__=u,c}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(n,e,t){"use strict";var i=n("../internals/descriptors"),r=n("../internals/fails"),o=n("../internals/function-uncurry-this"),s=n("../internals/object-get-prototype-of"),a=n("../internals/object-keys"),l=n("../internals/to-indexed-object"),c=o(n("../internals/object-property-is-enumerable").f),u=o([].push),d=i&&r(function(){var h=Object.create(null);return h[2]=2,!c(h,2)}),f=function(h){return function(m){for(var p,g=l(m),v=a(g),x=d&&s(g)===null,I=v.length,N=0,H=[];I>N;)p=v[N++],i&&!(x?p in g:c(g,p))||u(H,h?[p,g[p]]:g[p]);return H}};e.exports={entries:f(!0),values:f(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(n,e,t){"use strict";var i=n("../internals/function-call"),r=n("../internals/is-callable"),o=n("../internals/is-object"),s=TypeError;e.exports=function(a,l){var c,u;if(l==="string"&&r(c=a.toString)&&!o(u=i(c,a))||r(c=a.valueOf)&&!o(u=i(c,a))||l!=="string"&&r(c=a.toString)&&!o(u=i(c,a)))return u;throw new s("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(n,e,t){"use strict";var i=n("../internals/get-built-in"),r=n("../internals/function-uncurry-this"),o=n("../internals/object-get-own-property-names"),s=n("../internals/object-get-own-property-symbols"),a=n("../internals/an-object"),l=r([].concat);e.exports=i("Reflect","ownKeys")||function(c){var u=o.f(a(c)),d=s.f;return d?l(u,d(c)):u}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(n,e,t){"use strict";var i=n("../internals/global");e.exports=i},{"../internals/global":274}],323:[function(n,e,t){"use strict";e.exports=function(i){try{return{error:!1,value:i()}}catch(r){return{error:!0,value:r}}}},{}],324:[function(n,e,t){"use strict";var i=n("../internals/global"),r=n("../internals/promise-native-constructor"),o=n("../internals/is-callable"),s=n("../internals/is-forced"),a=n("../internals/inspect-source"),l=n("../internals/well-known-symbol"),c=n("../internals/engine-is-browser"),u=n("../internals/engine-is-deno"),d=n("../internals/is-pure"),f=n("../internals/engine-v8-version"),h=r&&r.prototype,m=l("species"),p=!1,g=o(i.PromiseRejectionEvent),v=s("Promise",function(){var x=a(r),I=x!==String(r);if(!I&&f===66||d&&(!h.catch||!h.finally))return!0;if(!f||f<51||!/native code/.test(x)){var N=new r(function(F){F(1)}),H=function(F){F(function(){},function(){})};if((N.constructor={})[m]=H,!(p=N.then(function(){})instanceof H))return!0}return!I&&(c||u)&&!g});e.exports={CONSTRUCTOR:v,REJECTION_EVENT:g,SUBCLASSING:p}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(n,e,t){"use strict";var i=n("../internals/global");e.exports=i.Promise},{"../internals/global":274}],326:[function(n,e,t){"use strict";var i=n("../internals/an-object"),r=n("../internals/is-object"),o=n("../internals/new-promise-capability");e.exports=function(s,a){if(i(s),r(a)&&a.constructor===s)return a;var l=o.f(s);return(0,l.resolve)(a),l.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(n,e,t){"use strict";var i=n("../internals/promise-native-constructor"),r=n("../internals/check-correctness-of-iteration"),o=n("../internals/promise-constructor-detection").CONSTRUCTOR;e.exports=o||!r(function(s){i.all(s).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(n,e,t){"use strict";var i=function(){this.head=null,this.tail=null};i.prototype={add:function(r){var o={item:r,next:null},s=this.tail;s?s.next=o:this.head=o,this.tail=o},get:function(){var r=this.head;if(r)return(this.head=r.next)===null&&(this.tail=null),r.item}},e.exports=i},{}],329:[function(n,e,t){"use strict";var i=n("../internals/is-null-or-undefined"),r=TypeError;e.exports=function(o){if(i(o))throw new r("Can't call method on "+o);return o}},{"../internals/is-null-or-undefined":288}],330:[function(n,e,t){"use strict";var i=n("../internals/get-built-in"),r=n("../internals/define-built-in-accessor"),o=n("../internals/well-known-symbol"),s=n("../internals/descriptors"),a=o("species");e.exports=function(l){var c=i(l);s&&c&&!c[a]&&r(c,a,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(n,e,t){"use strict";var i=n("../internals/object-define-property").f,r=n("../internals/has-own-property"),o=n("../internals/well-known-symbol")("toStringTag");e.exports=function(s,a,l){s&&!l&&(s=s.prototype),s&&!r(s,o)&&i(s,o,{configurable:!0,value:a})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(n,e,t){"use strict";var i=n("../internals/shared"),r=n("../internals/uid"),o=i("keys");e.exports=function(s){return o[s]||(o[s]=r(s))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(n,e,t){"use strict";var i=n("../internals/global"),r=n("../internals/define-global-property"),o=i["__core-js_shared__"]||r("__core-js_shared__",{});e.exports=o},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(n,e,t){"use strict";var i=n("../internals/is-pure"),r=n("../internals/shared-store");(e.exports=function(o,s){return r[o]||(r[o]=s!==void 0?s:{})})("versions",[]).push({version:"3.33.0",mode:i?"pure":"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(n,e,t){"use strict";var i=n("../internals/an-object"),r=n("../internals/a-constructor"),o=n("../internals/is-null-or-undefined"),s=n("../internals/well-known-symbol")("species");e.exports=function(a,l){var c,u=i(a).constructor;return u===void 0||o(c=i(u)[s])?l:r(c)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(n,e,t){"use strict";var i=n("../internals/engine-v8-version"),r=n("../internals/fails"),o=n("../internals/global").String;e.exports=!!Object.getOwnPropertySymbols&&!r(function(){var s=Symbol("symbol detection");return!o(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&i&&i<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(n,e,t){"use strict";var i=n("../internals/function-call"),r=n("../internals/get-built-in"),o=n("../internals/well-known-symbol"),s=n("../internals/define-built-in");e.exports=function(){var a=r("Symbol"),l=a&&a.prototype,c=l&&l.valueOf,u=o("toPrimitive");l&&!l[u]&&s(l,u,function(d){return i(c,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(n,e,t){"use strict";var i=n("../internals/symbol-constructor-detection");e.exports=i&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(n,e,t){"use strict";var i,r,o,s,a=n("../internals/global"),l=n("../internals/function-apply"),c=n("../internals/function-bind-context"),u=n("../internals/is-callable"),d=n("../internals/has-own-property"),f=n("../internals/fails"),h=n("../internals/html"),m=n("../internals/array-slice"),p=n("../internals/document-create-element"),g=n("../internals/validate-arguments-length"),v=n("../internals/engine-is-ios"),x=n("../internals/engine-is-node"),I=a.setImmediate,N=a.clearImmediate,H=a.process,F=a.Dispatch,B=a.Function,V=a.MessageChannel,G=a.String,W=0,k={};f(function(){i=a.location});var E=function(_){if(d(k,_)){var y=k[_];delete k[_],y()}},L=function(_){return function(){E(_)}},b=function(_){E(_.data)},w=function(_){a.postMessage(G(_),i.protocol+"//"+i.host)};I&&N||(I=function(_){g(arguments.length,1);var y=u(_)?_:B(_),C=m(arguments,1);return k[++W]=function(){l(y,void 0,C)},r(W),W},N=function(_){delete k[_]},x?r=function(_){H.nextTick(L(_))}:F&&F.now?r=function(_){F.now(L(_))}:V&&!v?(s=(o=new V).port2,o.port1.onmessage=b,r=c(s.postMessage,s)):a.addEventListener&&u(a.postMessage)&&!a.importScripts&&i&&i.protocol!=="file:"&&!f(w)?(r=w,a.addEventListener("message",b,!1)):r="onreadystatechange"in p("script")?function(_){h.appendChild(p("script")).onreadystatechange=function(){h.removeChild(this),E(_)}}:function(_){setTimeout(L(_),0)}),e.exports={set:I,clear:N}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(n,e,t){"use strict";var i=n("../internals/to-integer-or-infinity"),r=Math.max,o=Math.min;e.exports=function(s,a){var l=i(s);return l<0?r(l+a,0):o(l,a)}},{"../internals/to-integer-or-infinity":342}],341:[function(n,e,t){"use strict";var i=n("../internals/indexed-object"),r=n("../internals/require-object-coercible");e.exports=function(o){return i(r(o))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(n,e,t){"use strict";var i=n("../internals/math-trunc");e.exports=function(r){var o=+r;return o!=o||o===0?0:i(o)}},{"../internals/math-trunc":301}],343:[function(n,e,t){"use strict";var i=n("../internals/to-integer-or-infinity"),r=Math.min;e.exports=function(o){return o>0?r(i(o),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(n,e,t){"use strict";var i=n("../internals/require-object-coercible"),r=Object;e.exports=function(o){return r(i(o))}},{"../internals/require-object-coercible":329}],345:[function(n,e,t){"use strict";var i=n("../internals/function-call"),r=n("../internals/is-object"),o=n("../internals/is-symbol"),s=n("../internals/get-method"),a=n("../internals/ordinary-to-primitive"),l=n("../internals/well-known-symbol"),c=TypeError,u=l("toPrimitive");e.exports=function(d,f){if(!r(d)||o(d))return d;var h,m=s(d,u);if(m){if(f===void 0&&(f="default"),h=i(m,d,f),!r(h)||o(h))return h;throw new c("Can't convert object to primitive value")}return f===void 0&&(f="number"),a(d,f)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(n,e,t){"use strict";var i=n("../internals/to-primitive"),r=n("../internals/is-symbol");e.exports=function(o){var s=i(o,"string");return r(s)?s:s+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(n,e,t){"use strict";var i={};i[n("../internals/well-known-symbol")("toStringTag")]="z",e.exports=String(i)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(n,e,t){"use strict";var i=n("../internals/classof"),r=String;e.exports=function(o){if(i(o)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return r(o)}},{"../internals/classof":236}],349:[function(n,e,t){"use strict";var i=String;e.exports=function(r){try{return i(r)}catch{return"Object"}}},{}],350:[function(n,e,t){"use strict";var i=n("../internals/function-uncurry-this"),r=0,o=Math.random(),s=i(1 .toString);e.exports=function(a){return"Symbol("+(a===void 0?"":a)+")_"+s(++r+o,36)}},{"../internals/function-uncurry-this":268}],351:[function(n,e,t){"use strict";var i=n("../internals/symbol-constructor-detection");e.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(n,e,t){"use strict";var i=n("../internals/descriptors"),r=n("../internals/fails");e.exports=i&&r(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(n,e,t){"use strict";var i=TypeError;e.exports=function(r,o){if(r<o)throw new i("Not enough arguments");return r}},{}],354:[function(n,e,t){"use strict";var i=n("../internals/global"),r=n("../internals/is-callable"),o=i.WeakMap;e.exports=r(o)&&/native code/.test(String(o))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(n,e,t){"use strict";var i=n("../internals/path"),r=n("../internals/has-own-property"),o=n("../internals/well-known-symbol-wrapped"),s=n("../internals/object-define-property").f;e.exports=function(a){var l=i.Symbol||(i.Symbol={});r(l,a)||s(l,a,{value:o.f(a)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(n,e,t){"use strict";var i=n("../internals/well-known-symbol");t.f=i},{"../internals/well-known-symbol":357}],357:[function(n,e,t){"use strict";var i=n("../internals/global"),r=n("../internals/shared"),o=n("../internals/has-own-property"),s=n("../internals/uid"),a=n("../internals/symbol-constructor-detection"),l=n("../internals/use-symbol-as-uid"),c=i.Symbol,u=r("wks"),d=l?c.for||c:c&&c.withoutSetter||s;e.exports=function(f){return o(u,f)||(u[f]=a&&o(c,f)?c[f]:d("Symbol."+f)),u[f]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(n,e,t){"use strict";var i=n("../internals/export"),r=n("../internals/array-iteration").findIndex,o=n("../internals/add-to-unscopables"),s=!0;"findIndex"in[]&&Array(1).findIndex(function(){s=!1}),i({target:"Array",proto:!0,forced:s},{findIndex:function(a){return r(this,a,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(n,e,t){"use strict";var i=n("../internals/export"),r=n("../internals/array-iteration").find,o=n("../internals/add-to-unscopables"),s=!0;"find"in[]&&Array(1).find(function(){s=!1}),i({target:"Array",proto:!0,forced:s},{find:function(a){return r(this,a,arguments.length>1?arguments[1]:void 0)}}),o("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(n,e,t){"use strict";var i=n("../internals/export"),r=n("../internals/array-includes").includes,o=n("../internals/fails"),s=n("../internals/add-to-unscopables");i({target:"Array",proto:!0,forced:o(function(){return!Array(1).includes()})},{includes:function(a){return r(this,a,arguments.length>1?arguments[1]:void 0)}}),s("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(n,e,t){"use strict";var i=n("../internals/to-indexed-object"),r=n("../internals/add-to-unscopables"),o=n("../internals/iterators"),s=n("../internals/internal-state"),a=n("../internals/object-define-property").f,l=n("../internals/iterator-define"),c=n("../internals/create-iter-result-object"),u=n("../internals/is-pure"),d=n("../internals/descriptors"),f=s.set,h=s.getterFor("Array Iterator");e.exports=l(Array,"Array",function(p,g){f(this,{type:"Array Iterator",target:i(p),index:0,kind:g})},function(){var p=h(this),g=p.target,v=p.kind,x=p.index++;if(!g||x>=g.length)return p.target=void 0,c(void 0,!0);switch(v){case"keys":return c(x,!1);case"values":return c(g[x],!1)}return c([x,g[x]],!1)},"values");var m=o.Arguments=o.Array;if(r("keys"),r("values"),r("entries"),!u&&d&&m.name!=="values")try{a(m,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(n,e,t){"use strict";var i=n("../internals/export"),r=n("../internals/get-built-in"),o=n("../internals/function-apply"),s=n("../internals/function-call"),a=n("../internals/function-uncurry-this"),l=n("../internals/fails"),c=n("../internals/is-callable"),u=n("../internals/is-symbol"),d=n("../internals/array-slice"),f=n("../internals/get-json-replacer-function"),h=n("../internals/symbol-constructor-detection"),m=String,p=r("JSON","stringify"),g=a(/./.exec),v=a("".charAt),x=a("".charCodeAt),I=a("".replace),N=a(1 .toString),H=/[\uD800-\uDFFF]/g,F=/^[\uD800-\uDBFF]$/,B=/^[\uDC00-\uDFFF]$/,V=!h||l(function(){var E=r("Symbol")("stringify detection");return p([E])!=="[null]"||p({a:E})!=="{}"||p(Object(E))!=="{}"}),G=l(function(){return p("\uDF06\uD834")!=='"\\udf06\\ud834"'||p("\uDEAD")!=='"\\udead"'}),W=function(E,L){var b=d(arguments),w=f(L);if(c(w)||E!==void 0&&!u(E))return b[1]=function(_,y){if(c(w)&&(y=s(w,this,m(_),y)),!u(y))return y},o(p,null,b)},k=function(E,L,b){var w=v(b,L-1),_=v(b,L+1);return g(F,E)&&!g(B,_)||g(B,E)&&!g(F,w)?"\\u"+N(x(E,0),16):E};p&&i({target:"JSON",stat:!0,arity:3,forced:V||G},{stringify:function(E,L,b){var w=d(arguments),_=o(V?W:p,null,w);return G&&typeof _=="string"?I(_,H,k):_}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(n,e,t){"use strict";n("../internals/export")({target:"Number",stat:!0},{isNaN:function(i){return i!=i}})},{"../internals/export":259}],364:[function(n,e,t){"use strict";var i=n("../internals/export"),r=n("../internals/object-assign");i({target:"Object",stat:!0,arity:2,forced:Object.assign!==r},{assign:r})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(n,e,t){"use strict";var i=n("../internals/export"),r=n("../internals/symbol-constructor-detection"),o=n("../internals/fails"),s=n("../internals/object-get-own-property-symbols"),a=n("../internals/to-object");i({target:"Object",stat:!0,forced:!r||o(function(){s.f(1)})},{getOwnPropertySymbols:function(l){var c=s.f;return c?c(a(l)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(n,e,t){"use strict";var i=n("../internals/export"),r=n("../internals/to-object"),o=n("../internals/object-keys");i({target:"Object",stat:!0,forced:n("../internals/fails")(function(){o(1)})},{keys:function(s){return o(r(s))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(n,e,t){"use strict";var i=n("../internals/export"),r=n("../internals/object-to-array").values;i({target:"Object",stat:!0},{values:function(o){return r(o)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(n,e,t){"use strict";var i=n("../internals/export"),r=n("../internals/function-call"),o=n("../internals/a-callable"),s=n("../internals/new-promise-capability"),a=n("../internals/perform"),l=n("../internals/iterate");i({target:"Promise",stat:!0,forced:n("../internals/promise-statics-incorrect-iteration")},{all:function(c){var u=this,d=s.f(u),f=d.resolve,h=d.reject,m=a(function(){var p=o(u.resolve),g=[],v=0,x=1;l(c,function(I){var N=v++,H=!1;x++,r(p,u,I).then(function(F){H||(H=!0,g[N]=F,--x||f(g))},h)}),--x||f(g)});return m.error&&h(m.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(n,e,t){"use strict";var i=n("../internals/export"),r=n("../internals/is-pure"),o=n("../internals/promise-constructor-detection").CONSTRUCTOR,s=n("../internals/promise-native-constructor"),a=n("../internals/get-built-in"),l=n("../internals/is-callable"),c=n("../internals/define-built-in"),u=s&&s.prototype;if(i({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(f){return this.then(void 0,f)}}),!r&&l(s)){var d=a("Promise").prototype.catch;u.catch!==d&&c(u,"catch",d,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(n,e,t){"use strict";var i,r,o,s=n("../internals/export"),a=n("../internals/is-pure"),l=n("../internals/engine-is-node"),c=n("../internals/global"),u=n("../internals/function-call"),d=n("../internals/define-built-in"),f=n("../internals/object-set-prototype-of"),h=n("../internals/set-to-string-tag"),m=n("../internals/set-species"),p=n("../internals/a-callable"),g=n("../internals/is-callable"),v=n("../internals/is-object"),x=n("../internals/an-instance"),I=n("../internals/species-constructor"),N=n("../internals/task").set,H=n("../internals/microtask"),F=n("../internals/host-report-errors"),B=n("../internals/perform"),V=n("../internals/queue"),G=n("../internals/internal-state"),W=n("../internals/promise-native-constructor"),k=n("../internals/promise-constructor-detection"),E=n("../internals/new-promise-capability"),L=k.CONSTRUCTOR,b=k.REJECTION_EVENT,w=k.SUBCLASSING,_=G.getterFor("Promise"),y=G.set,C=W&&W.prototype,S=W,R=C,Z=c.TypeError,j=c.document,X=c.process,D=E.f,Y=D,P=!!(j&&j.createEvent&&c.dispatchEvent),M=function(ge){var Ae;return!(!v(ge)||!g(Ae=ge.then))&&Ae},$=function(ge,Ae){var Ee,Te,Se,Fe=Ae.value,He=Ae.state===1,Ze=He?ge.ok:ge.fail,ut=ge.resolve,tt=ge.reject,pt=ge.domain;try{Ze?(He||(Ae.rejection===2&&_e(Ae),Ae.rejection=1),Ze===!0?Ee=Fe:(pt&&pt.enter(),Ee=Ze(Fe),pt&&(pt.exit(),Se=!0)),Ee===ge.promise?tt(new Z("Promise-chain cycle")):(Te=M(Ee))?u(Te,Ee,ut,tt):ut(Ee)):tt(Fe)}catch(Zt){pt&&!Se&&pt.exit(),tt(Zt)}},te=function(ge,Ae){ge.notified||(ge.notified=!0,H(function(){for(var Ee,Te=ge.reactions;Ee=Te.get();)$(Ee,ge);ge.notified=!1,Ae&&!ge.rejection&&re(ge)}))},ue=function(ge,Ae,Ee){var Te,Se;P?((Te=j.createEvent("Event")).promise=Ae,Te.reason=Ee,Te.initEvent(ge,!1,!0),c.dispatchEvent(Te)):Te={promise:Ae,reason:Ee},!b&&(Se=c["on"+ge])?Se(Te):ge==="unhandledrejection"&&F("Unhandled promise rejection",Ee)},re=function(ge){u(N,c,function(){var Ae,Ee=ge.facade,Te=ge.value;if(ce(ge)&&(Ae=B(function(){l?X.emit("unhandledRejection",Te,Ee):ue("unhandledrejection",Ee,Te)}),ge.rejection=l||ce(ge)?2:1,Ae.error))throw Ae.value})},ce=function(ge){return ge.rejection!==1&&!ge.parent},_e=function(ge){u(N,c,function(){var Ae=ge.facade;l?X.emit("rejectionHandled",Ae):ue("rejectionhandled",Ae,ge.value)})},xe=function(ge,Ae,Ee){return function(Te){ge(Ae,Te,Ee)}},ie=function(ge,Ae,Ee){ge.done||(ge.done=!0,Ee&&(ge=Ee),ge.value=Ae,ge.state=2,te(ge,!0))},se=function(ge,Ae,Ee){if(!ge.done){ge.done=!0,Ee&&(ge=Ee);try{if(ge.facade===Ae)throw new Z("Promise can't be resolved itself");var Te=M(Ae);Te?H(function(){var Se={done:!1};try{u(Te,Ae,xe(se,Se,ge),xe(ie,Se,ge))}catch(Fe){ie(Se,Fe,ge)}}):(ge.value=Ae,ge.state=1,te(ge,!1))}catch(Se){ie({done:!1},Se,ge)}}};if(L&&(R=(S=function(ge){x(this,R),p(ge),u(i,this);var Ae=_(this);try{ge(xe(se,Ae),xe(ie,Ae))}catch(Ee){ie(Ae,Ee)}}).prototype,(i=function(ge){y(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new V,rejection:!1,state:0,value:void 0})}).prototype=d(R,"then",function(ge,Ae){var Ee=_(this),Te=D(I(this,S));return Ee.parent=!0,Te.ok=!g(ge)||ge,Te.fail=g(Ae)&&Ae,Te.domain=l?X.domain:void 0,Ee.state===0?Ee.reactions.add(Te):H(function(){$(Te,Ee)}),Te.promise}),r=function(){var ge=new i,Ae=_(ge);this.promise=ge,this.resolve=xe(se,Ae),this.reject=xe(ie,Ae)},E.f=D=function(ge){return ge===S||ge===void 0?new r(ge):Y(ge)},!a&&g(W)&&C!==Object.prototype)){o=C.then,w||d(C,"then",function(ge,Ae){var Ee=this;return new S(function(Te,Se){u(o,Ee,Te,Se)}).then(ge,Ae)},{unsafe:!0});try{delete C.constructor}catch{}f&&f(C,R)}s({global:!0,constructor:!0,wrap:!0,forced:L},{Promise:S}),h(S,"Promise",!1,!0),m("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(n,e,t){"use strict";var i=n("../internals/export"),r=n("../internals/is-pure"),o=n("../internals/promise-native-constructor"),s=n("../internals/fails"),a=n("../internals/get-built-in"),l=n("../internals/is-callable"),c=n("../internals/species-constructor"),u=n("../internals/promise-resolve"),d=n("../internals/define-built-in"),f=o&&o.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!o&&s(function(){f.finally.call({then:function(){}},function(){})})},{finally:function(m){var p=c(this,a("Promise")),g=l(m);return this.then(g?function(v){return u(p,m()).then(function(){return v})}:m,g?function(v){return u(p,m()).then(function(){throw v})}:m)}}),!r&&l(o)){var h=a("Promise").prototype.finally;f.finally!==h&&d(f,"finally",h,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(n,e,t){"use strict";n("../modules/es.promise.constructor"),n("../modules/es.promise.all"),n("../modules/es.promise.catch"),n("../modules/es.promise.race"),n("../modules/es.promise.reject"),n("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(n,e,t){"use strict";var i=n("../internals/export"),r=n("../internals/function-call"),o=n("../internals/a-callable"),s=n("../internals/new-promise-capability"),a=n("../internals/perform"),l=n("../internals/iterate");i({target:"Promise",stat:!0,forced:n("../internals/promise-statics-incorrect-iteration")},{race:function(c){var u=this,d=s.f(u),f=d.reject,h=a(function(){var m=o(u.resolve);l(c,function(p){r(m,u,p).then(d.resolve,f)})});return h.error&&f(h.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(n,e,t){"use strict";var i=n("../internals/export"),r=n("../internals/function-call"),o=n("../internals/new-promise-capability");i({target:"Promise",stat:!0,forced:n("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(s){var a=o.f(this);return r(a.reject,void 0,s),a.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(n,e,t){"use strict";var i=n("../internals/export"),r=n("../internals/get-built-in"),o=n("../internals/is-pure"),s=n("../internals/promise-native-constructor"),a=n("../internals/promise-constructor-detection").CONSTRUCTOR,l=n("../internals/promise-resolve"),c=r("Promise"),u=o&&!a;i({target:"Promise",stat:!0,forced:o||a},{resolve:function(d){return l(u&&this===c?s:this,d)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(n,e,t){"use strict";var i=n("../internals/export"),r=n("../internals/function-uncurry-this"),o=n("../internals/to-absolute-index"),s=RangeError,a=String.fromCharCode,l=String.fromCodePoint,c=r([].join);i({target:"String",stat:!0,arity:1,forced:!!l&&l.length!==1},{fromCodePoint:function(u){for(var d,f=[],h=arguments.length,m=0;h>m;){if(d=+arguments[m++],o(d,1114111)!==d)throw new s(d+" is not a valid code point");f[m]=d<65536?a(d):a(55296+((d-=65536)>>10),d%1024+56320)}return c(f,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(n,e,t){"use strict";var i=n("../internals/export"),r=n("../internals/function-uncurry-this"),o=n("../internals/not-a-regexp"),s=n("../internals/require-object-coercible"),a=n("../internals/to-string"),l=n("../internals/correct-is-regexp-logic"),c=r("".indexOf);i({target:"String",proto:!0,forced:!l("includes")},{includes:function(u){return!!~c(a(s(this)),a(o(u)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(n,e,t){"use strict";n("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(n,e,t){"use strict";var i=n("../internals/export"),r=n("../internals/global"),o=n("../internals/function-call"),s=n("../internals/function-uncurry-this"),a=n("../internals/is-pure"),l=n("../internals/descriptors"),c=n("../internals/symbol-constructor-detection"),u=n("../internals/fails"),d=n("../internals/has-own-property"),f=n("../internals/object-is-prototype-of"),h=n("../internals/an-object"),m=n("../internals/to-indexed-object"),p=n("../internals/to-property-key"),g=n("../internals/to-string"),v=n("../internals/create-property-descriptor"),x=n("../internals/object-create"),I=n("../internals/object-keys"),N=n("../internals/object-get-own-property-names"),H=n("../internals/object-get-own-property-names-external"),F=n("../internals/object-get-own-property-symbols"),B=n("../internals/object-get-own-property-descriptor"),V=n("../internals/object-define-property"),G=n("../internals/object-define-properties"),W=n("../internals/object-property-is-enumerable"),k=n("../internals/define-built-in"),E=n("../internals/define-built-in-accessor"),L=n("../internals/shared"),b=n("../internals/shared-key"),w=n("../internals/hidden-keys"),_=n("../internals/uid"),y=n("../internals/well-known-symbol"),C=n("../internals/well-known-symbol-wrapped"),S=n("../internals/well-known-symbol-define"),R=n("../internals/symbol-define-to-primitive"),Z=n("../internals/set-to-string-tag"),j=n("../internals/internal-state"),X=n("../internals/array-iteration").forEach,D=b("hidden"),Y=j.set,P=j.getterFor("Symbol"),M=Object.prototype,$=r.Symbol,te=$&&$.prototype,ue=r.RangeError,re=r.TypeError,ce=r.QObject,_e=B.f,xe=V.f,ie=H.f,se=W.f,ge=s([].push),Ae=L("symbols"),Ee=L("op-symbols"),Te=L("wks"),Se=!ce||!ce.prototype||!ce.prototype.findChild,Fe=function(st,vt,at){var mn=_e(M,vt);mn&&delete M[vt],xe(st,vt,at),mn&&st!==M&&xe(M,vt,mn)},He=l&&u(function(){return x(xe({},"a",{get:function(){return xe(this,"a",{value:7}).a}})).a!==7})?Fe:xe,Ze=function(st,vt){var at=Ae[st]=x(te);return Y(at,{type:"Symbol",tag:st,description:vt}),l||(at.description=vt),at},ut=function(st,vt,at){st===M&&ut(Ee,vt,at),h(st);var mn=p(vt);return h(at),d(Ae,mn)?(at.enumerable?(d(st,D)&&st[D][mn]&&(st[D][mn]=!1),at=x(at,{enumerable:v(0,!1)})):(d(st,D)||xe(st,D,v(1,{})),st[D][mn]=!0),He(st,mn,at)):xe(st,mn,at)},tt=function(st,vt){h(st);var at=m(vt),mn=I(at).concat(lt(at));return X(mn,function(Dt){l&&!o(pt,at,Dt)||ut(st,Dt,at[Dt])}),st},pt=function(st){var vt=p(st),at=o(se,this,vt);return!(this===M&&d(Ae,vt)&&!d(Ee,vt))&&(!(at||!d(this,vt)||!d(Ae,vt)||d(this,D)&&this[D][vt])||at)},Zt=function(st,vt){var at=m(st),mn=p(vt);if(at!==M||!d(Ae,mn)||d(Ee,mn)){var Dt=_e(at,mn);return!Dt||!d(Ae,mn)||d(at,D)&&at[D][mn]||(Dt.enumerable=!0),Dt}},bt=function(st){var vt=ie(m(st)),at=[];return X(vt,function(mn){d(Ae,mn)||d(w,mn)||ge(at,mn)}),at},lt=function(st){var vt=st===M,at=ie(vt?Ee:m(st)),mn=[];return X(at,function(Dt){!d(Ae,Dt)||vt&&!d(M,Dt)||ge(mn,Ae[Dt])}),mn};c||(k(te=($=function(){if(f(te,this))throw new re("Symbol is not a constructor");var st=arguments.length&&arguments[0]!==void 0?g(arguments[0]):void 0,vt=_(st),at=function(mn){this===M&&o(at,Ee,mn),d(this,D)&&d(this[D],vt)&&(this[D][vt]=!1);var Dt=v(1,mn);try{He(this,vt,Dt)}catch(Vt){if(!(Vt instanceof ue))throw Vt;Fe(this,vt,Dt)}};return l&&Se&&He(M,vt,{configurable:!0,set:at}),Ze(vt,st)}).prototype,"toString",function(){return P(this).tag}),k($,"withoutSetter",function(st){return Ze(_(st),st)}),W.f=pt,V.f=ut,G.f=tt,B.f=Zt,N.f=H.f=bt,F.f=lt,C.f=function(st){return Ze(y(st),st)},l&&(E(te,"description",{configurable:!0,get:function(){return P(this).description}}),a||k(M,"propertyIsEnumerable",pt,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:$}),X(I(Te),function(st){S(st)}),i({target:"Symbol",stat:!0,forced:!c},{useSetter:function(){Se=!0},useSimple:function(){Se=!1}}),i({target:"Object",stat:!0,forced:!c,sham:!l},{create:function(st,vt){return vt===void 0?x(st):tt(x(st),vt)},defineProperty:ut,defineProperties:tt,getOwnPropertyDescriptor:Zt}),i({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:bt}),R(),Z($,"Symbol"),w[D]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(n,e,t){"use strict";var i=n("../internals/export"),r=n("../internals/get-built-in"),o=n("../internals/has-own-property"),s=n("../internals/to-string"),a=n("../internals/shared"),l=n("../internals/symbol-registry-detection"),c=a("string-to-symbol-registry"),u=a("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!l},{for:function(d){var f=s(d);if(o(c,f))return c[f];var h=r("Symbol")(f);return c[f]=h,u[h]=f,h}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(n,e,t){"use strict";n("../modules/es.symbol.constructor"),n("../modules/es.symbol.for"),n("../modules/es.symbol.key-for"),n("../modules/es.json.stringify"),n("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(n,e,t){"use strict";var i=n("../internals/export"),r=n("../internals/has-own-property"),o=n("../internals/is-symbol"),s=n("../internals/try-to-string"),a=n("../internals/shared"),l=n("../internals/symbol-registry-detection"),c=a("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!l},{keyFor:function(u){if(!o(u))throw new TypeError(s(u)+" is not a symbol");if(r(c,u))return c[u]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(n,e,t){"use strict";function i(r){return Object.prototype.toString.call(r)}t.isArray=function(r){return Array.isArray?Array.isArray(r):i(r)==="[object Array]"},t.isBoolean=function(r){return typeof r=="boolean"},t.isNull=function(r){return r===null},t.isNullOrUndefined=function(r){return r==null},t.isNumber=function(r){return typeof r=="number"},t.isString=function(r){return typeof r=="string"},t.isSymbol=function(r){return typeof r=="symbol"},t.isUndefined=function(r){return r===void 0},t.isRegExp=function(r){return i(r)==="[object RegExp]"},t.isObject=function(r){return typeof r=="object"&&r!==null},t.isDate=function(r){return i(r)==="[object Date]"},t.isError=function(r){return i(r)==="[object Error]"||r instanceof Error},t.isFunction=function(r){return typeof r=="function"},t.isPrimitive=function(r){return r===null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="symbol"||r===void 0},t.isBuffer=n("buffer").Buffer.isBuffer},{buffer:220}],384:[function(n,e,t){(function(i){(function(){"use strict";var r=n("elliptic"),o=n("bn.js");e.exports=function(c){return new a(c)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(c){this.curveType=s[c],this.curveType||(this.curveType={name:c}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}function l(c,u,d){Array.isArray(c)||(c=c.toArray());var f=new i(c);if(d&&f.length<d){var h=new i(d-f.length);h.fill(0),f=i.concat([h,f])}return u?f.toString(u):f}s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1,a.prototype.generateKeys=function(c,u){return this.keys=this.curve.genKeyPair(),this.getPublicKey(c,u)},a.prototype.computeSecret=function(c,u,d){return u=u||"utf8",i.isBuffer(c)||(c=new i(c,u)),l(this.curve.keyFromPublic(c).getPublic().mul(this.keys.getPrivate()).getX(),d,this.curveType.byteLength)},a.prototype.getPublicKey=function(c,u){var d=this.keys.getPublic(u==="compressed",!0);return u==="hybrid"&&(d[d.length-1]%2?d[0]=7:d[0]=6),l(d,c)},a.prototype.getPrivateKey=function(c){return l(this.keys.getPrivate(),c)},a.prototype.setPublicKey=function(c,u){return u=u||"utf8",i.isBuffer(c)||(c=new i(c,u)),this.keys._importPublic(c),this},a.prototype.setPrivateKey=function(c,u){u=u||"utf8",i.isBuffer(c)||(c=new i(c,u));var d=new o(c);return d=d.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(d),this}}).call(this)}).call(this,n("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(n,e,t){arguments[4][184][0].apply(t,arguments)},{buffer:188,dup:184}],386:[function(n,e,t){"use strict";var i=n("inherits"),r=n("md5.js"),o=n("ripemd160"),s=n("sha.js"),a=n("cipher-base");function l(c){a.call(this,"digest"),this._hash=c}i(l,a),l.prototype._update=function(c){this._hash.update(c)},l.prototype._final=function(){return this._hash.digest()},e.exports=function(c){return(c=c.toLowerCase())==="md5"?new r:c==="rmd160"||c==="ripemd160"?new o:new l(s(c))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(n,e,t){"use strict";var i=n("md5.js");e.exports=function(r){return new i().update(r).digest()}},{"md5.js":450}],388:[function(n,e,t){"use strict";var i=n("inherits"),r=n("./legacy"),o=n("cipher-base"),s=n("safe-buffer").Buffer,a=n("create-hash/md5"),l=n("ripemd160"),c=n("sha.js"),u=s.alloc(128);function d(f,h){o.call(this,"digest"),typeof h=="string"&&(h=s.from(h));var m=f==="sha512"||f==="sha384"?128:64;this._alg=f,this._key=h,h.length>m?h=(f==="rmd160"?new l:c(f)).update(h).digest():h.length<m&&(h=s.concat([h,u],m));for(var p=this._ipad=s.allocUnsafe(m),g=this._opad=s.allocUnsafe(m),v=0;v<m;v++)p[v]=54^h[v],g[v]=92^h[v];this._hash=f==="rmd160"?new l:c(f),this._hash.update(p)}i(d,o),d.prototype._update=function(f){this._hash.update(f)},d.prototype._final=function(){var f=this._hash.digest();return(this._alg==="rmd160"?new l:c(this._alg)).update(this._opad).update(f).digest()},e.exports=function(f,h){return(f=f.toLowerCase())==="rmd160"||f==="ripemd160"?new d("rmd160",h):f==="md5"?new r(a,h):new d(f,h)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(n,e,t){"use strict";var i=n("inherits"),r=n("safe-buffer").Buffer,o=n("cipher-base"),s=r.alloc(128);function a(l,c){o.call(this,"digest"),typeof c=="string"&&(c=r.from(c)),this._alg=l,this._key=c,c.length>64?c=l(c):c.length<64&&(c=r.concat([c,s],64));for(var u=this._ipad=r.allocUnsafe(64),d=this._opad=r.allocUnsafe(64),f=0;f<64;f++)u[f]=54^c[f],d[f]=92^c[f];this._hash=[u]}i(a,o),a.prototype._update=function(l){this._hash.push(l)},a.prototype._final=function(){var l=this._alg(r.concat(this._hash));return this._alg(r.concat([this._opad,l]))},e.exports=a},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(n,e,t){"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=n("randombytes"),t.createHash=t.Hash=n("create-hash"),t.createHmac=t.Hmac=n("create-hmac");var i=n("browserify-sign/algos"),r=Object.keys(i),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(r);t.getHashes=function(){return o};var s=n("pbkdf2");t.pbkdf2=s.pbkdf2,t.pbkdf2Sync=s.pbkdf2Sync;var a=n("browserify-cipher");t.Cipher=a.Cipher,t.createCipher=a.createCipher,t.Cipheriv=a.Cipheriv,t.createCipheriv=a.createCipheriv,t.Decipher=a.Decipher,t.createDecipher=a.createDecipher,t.Decipheriv=a.Decipheriv,t.createDecipheriv=a.createDecipheriv,t.getCiphers=a.getCiphers,t.listCiphers=a.listCiphers;var l=n("diffie-hellman");t.DiffieHellmanGroup=l.DiffieHellmanGroup,t.createDiffieHellmanGroup=l.createDiffieHellmanGroup,t.getDiffieHellman=l.getDiffieHellman,t.createDiffieHellman=l.createDiffieHellman,t.DiffieHellman=l.DiffieHellman;var c=n("browserify-sign");t.createSign=c.createSign,t.Sign=c.Sign,t.createVerify=c.createVerify,t.Verify=c.Verify,t.createECDH=n("create-ecdh");var u=n("public-encrypt");t.publicEncrypt=u.publicEncrypt,t.privateEncrypt=u.privateEncrypt,t.publicDecrypt=u.publicDecrypt,t.privateDecrypt=u.privateDecrypt;var d=n("randomfill");t.randomFill=d.randomFill,t.randomFillSync=d.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(n,e,t){"use strict";(function(i,r){typeof t=="object"&&e!==void 0?e.exports=r():(i=typeof globalThis<"u"?globalThis:i||self).dayjs=r()})(void 0,function(){var i=6e4,r=36e5,o="millisecond",s="second",a="minute",l="hour",c="day",u="week",d="month",f="quarter",h="year",m="date",p="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(b){var w=["th","st","nd","rd"],_=b%100;return"["+b+(w[(_-20)%10]||w[_]||w[0])+"]"}},I=function(b,w,_){var y=String(b);return!y||y.length>=w?b:""+Array(w+1-y.length).join(_)+b},N={s:I,z:function(b){var w=-b.utcOffset(),_=Math.abs(w),y=Math.floor(_/60),C=_%60;return(w<=0?"+":"-")+I(y,2,"0")+":"+I(C,2,"0")},m:function b(w,_){if(w.date()<_.date())return-b(_,w);var y=12*(_.year()-w.year())+(_.month()-w.month()),C=w.clone().add(y,d),S=_-C<0,R=w.clone().add(y+(S?-1:1),d);return+(-(y+(_-C)/(S?C-R:R-C))||0)},a:function(b){return b<0?Math.ceil(b)||0:Math.floor(b)},p:function(b){return{M:d,y:h,w:u,d:c,D:m,h:l,m:a,s,ms:o,Q:f}[b]||String(b||"").toLowerCase().replace(/s$/,"")},u:function(b){return b===void 0}},H="en",F={};F[H]=x;var B="$isDayjsObject",V=function(b){return b instanceof E||!(!b||!b[B])},G=function b(w,_,y){var C;if(!w)return H;if(typeof w=="string"){var S=w.toLowerCase();F[S]&&(C=S),_&&(F[S]=_,C=S);var R=w.split("-");if(!C&&R.length>1)return b(R[0])}else{var Z=w.name;F[Z]=w,C=Z}return!y&&C&&(H=C),C||!y&&H},W=function(b,w){if(V(b))return b.clone();var _=typeof w=="object"?w:{};return _.date=b,_.args=arguments,new E(_)},k=N;k.l=G,k.i=V,k.w=function(b,w){return W(b,{locale:w.$L,utc:w.$u,x:w.$x,$offset:w.$offset})};var E=function(){function b(_){this.$L=G(_.locale,null,!0),this.parse(_),this.$x=this.$x||_.x||{},this[B]=!0}var w=b.prototype;return w.parse=function(_){this.$d=function(y){var C=y.date,S=y.utc;if(C===null)return new Date(NaN);if(k.u(C))return new Date;if(C instanceof Date)return new Date(C);if(typeof C=="string"&&!/Z$/i.test(C)){var R=C.match(g);if(R){var Z=R[2]-1||0,j=(R[7]||"0").substring(0,3);return S?new Date(Date.UTC(R[1],Z,R[3]||1,R[4]||0,R[5]||0,R[6]||0,j)):new Date(R[1],Z,R[3]||1,R[4]||0,R[5]||0,R[6]||0,j)}}return new Date(C)}(_),this.init()},w.init=function(){var _=this.$d;this.$y=_.getFullYear(),this.$M=_.getMonth(),this.$D=_.getDate(),this.$W=_.getDay(),this.$H=_.getHours(),this.$m=_.getMinutes(),this.$s=_.getSeconds(),this.$ms=_.getMilliseconds()},w.$utils=function(){return k},w.isValid=function(){return this.$d.toString()!==p},w.isSame=function(_,y){var C=W(_);return this.startOf(y)<=C&&C<=this.endOf(y)},w.isAfter=function(_,y){return W(_)<this.startOf(y)},w.isBefore=function(_,y){return this.endOf(y)<W(_)},w.$g=function(_,y,C){return k.u(_)?this[y]:this.set(C,_)},w.unix=function(){return Math.floor(this.valueOf()/1e3)},w.valueOf=function(){return this.$d.getTime()},w.startOf=function(_,y){var C=this,S=!!k.u(y)||y,R=k.p(_),Z=function(te,ue){var re=k.w(C.$u?Date.UTC(C.$y,ue,te):new Date(C.$y,ue,te),C);return S?re:re.endOf(c)},j=function(te,ue){return k.w(C.toDate()[te].apply(C.toDate("s"),(S?[0,0,0,0]:[23,59,59,999]).slice(ue)),C)},X=this.$W,D=this.$M,Y=this.$D,P="set"+(this.$u?"UTC":"");switch(R){case h:return S?Z(1,0):Z(31,11);case d:return S?Z(1,D):Z(0,D+1);case u:var M=this.$locale().weekStart||0,$=(X<M?X+7:X)-M;return Z(S?Y-$:Y+(6-$),D);case c:case m:return j(P+"Hours",0);case l:return j(P+"Minutes",1);case a:return j(P+"Seconds",2);case s:return j(P+"Milliseconds",3);default:return this.clone()}},w.endOf=function(_){return this.startOf(_,!1)},w.$set=function(_,y){var C,S=k.p(_),R="set"+(this.$u?"UTC":""),Z=(C={},C[c]=R+"Date",C[m]=R+"Date",C[d]=R+"Month",C[h]=R+"FullYear",C[l]=R+"Hours",C[a]=R+"Minutes",C[s]=R+"Seconds",C[o]=R+"Milliseconds",C)[S],j=S===c?this.$D+(y-this.$W):y;if(S===d||S===h){var X=this.clone().set(m,1);X.$d[Z](j),X.init(),this.$d=X.set(m,Math.min(this.$D,X.daysInMonth())).$d}else Z&&this.$d[Z](j);return this.init(),this},w.set=function(_,y){return this.clone().$set(_,y)},w.get=function(_){return this[k.p(_)]()},w.add=function(_,y){var C,S=this;_=Number(_);var R=k.p(y),Z=function(D){var Y=W(S);return k.w(Y.date(Y.date()+Math.round(D*_)),S)};if(R===d)return this.set(d,this.$M+_);if(R===h)return this.set(h,this.$y+_);if(R===c)return Z(1);if(R===u)return Z(7);var j=(C={},C[a]=i,C[l]=r,C[s]=1e3,C)[R]||1,X=this.$d.getTime()+_*j;return k.w(X,this)},w.subtract=function(_,y){return this.add(-1*_,y)},w.format=function(_){var y=this,C=this.$locale();if(!this.isValid())return C.invalidDate||p;var S=_||"YYYY-MM-DDTHH:mm:ssZ",R=k.z(this),Z=this.$H,j=this.$m,X=this.$M,D=C.weekdays,Y=C.months,P=C.meridiem,M=function(ue,re,ce,_e){return ue&&(ue[re]||ue(y,S))||ce[re].slice(0,_e)},$=function(ue){return k.s(Z%12||12,ue,"0")},te=P||function(ue,re,ce){var _e=ue<12?"AM":"PM";return ce?_e.toLowerCase():_e};return S.replace(v,function(ue,re){return re||function(ce){switch(ce){case"YY":return String(y.$y).slice(-2);case"YYYY":return k.s(y.$y,4,"0");case"M":return X+1;case"MM":return k.s(X+1,2,"0");case"MMM":return M(C.monthsShort,X,Y,3);case"MMMM":return M(Y,X);case"D":return y.$D;case"DD":return k.s(y.$D,2,"0");case"d":return String(y.$W);case"dd":return M(C.weekdaysMin,y.$W,D,2);case"ddd":return M(C.weekdaysShort,y.$W,D,3);case"dddd":return D[y.$W];case"H":return String(Z);case"HH":return k.s(Z,2,"0");case"h":return $(1);case"hh":return $(2);case"a":return te(Z,j,!0);case"A":return te(Z,j,!1);case"m":return String(j);case"mm":return k.s(j,2,"0");case"s":return String(y.$s);case"ss":return k.s(y.$s,2,"0");case"SSS":return k.s(y.$ms,3,"0");case"Z":return R}return null}(ue)||R.replace(":","")})},w.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},w.diff=function(_,y,C){var S,R=this,Z=k.p(y),j=W(_),X=(j.utcOffset()-this.utcOffset())*i,D=this-j,Y=function(){return k.m(R,j)};switch(Z){case h:S=Y()/12;break;case d:S=Y();break;case f:S=Y()/3;break;case u:S=(D-X)/6048e5;break;case c:S=(D-X)/864e5;break;case l:S=D/r;break;case a:S=D/i;break;case s:S=D/1e3;break;default:S=D}return C?S:k.a(S)},w.daysInMonth=function(){return this.endOf(d).$D},w.$locale=function(){return F[this.$L]},w.locale=function(_,y){if(!_)return this.$L;var C=this.clone(),S=G(_,y,!0);return S&&(C.$L=S),C},w.clone=function(){return k.w(this.$d,this)},w.toDate=function(){return new Date(this.valueOf())},w.toJSON=function(){return this.isValid()?this.toISOString():null},w.toISOString=function(){return this.$d.toISOString()},w.toString=function(){return this.$d.toUTCString()},b}(),L=E.prototype;return W.prototype=L,[["$ms",o],["$s",s],["$m",a],["$H",l],["$W",c],["$M",d],["$y",h],["$D",m]].forEach(function(b){L[b[1]]=function(w){return this.$g(w,b[0],b[1])}}),W.extend=function(b,w){return b.$i||(b(w,E,W),b.$i=!0),W},W.locale=G,W.isDayjs=V,W.unix=function(b){return W(1e3*b)},W.en=F[H],W.Ls=F,W.p={},W})},{}],392:[function(n,e,t){"use strict";(function(i,r){typeof t=="object"&&e!==void 0?e.exports=r():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_customParseFormat=r()})(void 0,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d\d/,s=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,l={},c=function(g){return(g=+g)+(g>68?1900:2e3)},u=function(g){return function(v){this[g]=+v}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(g){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var x=v.match(/([+-]|\d\d)/g),I=60*x[1]+(+x[2]||0);return I===0?0:x[0]==="+"?-I:I}(g)}],f=function(g){var v=l[g];return v&&(v.indexOf?v:v.s.concat(v.f))},h=function(g,v){var x,I=l.meridiem;if(I){for(var N=1;N<=24;N+=1)if(g.indexOf(I(N,0,v))>-1){x=N>12;break}}else x=g===(v?"pm":"PM");return x},m={A:[a,function(g){this.afternoon=h(g,!1)}],a:[a,function(g){this.afternoon=h(g,!0)}],S:[/\d/,function(g){this.milliseconds=100*+g}],SS:[o,function(g){this.milliseconds=10*+g}],SSS:[/\d{3}/,function(g){this.milliseconds=+g}],s:[s,u("seconds")],ss:[s,u("seconds")],m:[s,u("minutes")],mm:[s,u("minutes")],H:[s,u("hours")],h:[s,u("hours")],HH:[s,u("hours")],hh:[s,u("hours")],D:[s,u("day")],DD:[o,u("day")],Do:[a,function(g){var v=l.ordinal,x=g.match(/\d+/);if(this.day=x[0],v)for(var I=1;I<=31;I+=1)v(I).replace(/\[|\]/g,"")===g&&(this.day=I)}],M:[s,u("month")],MM:[o,u("month")],MMM:[a,function(g){var v=f("months"),x=(f("monthsShort")||v.map(function(I){return I.slice(0,3)})).indexOf(g)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[a,function(g){var v=f("months").indexOf(g)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,u("year")],YY:[o,function(g){this.year=c(g)}],YYYY:[/\d{4}/,u("year")],Z:d,ZZ:d};function p(g){var v,x;v=g,x=l&&l.formats;for(var I=(g=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(W,k,E){var L=E&&E.toUpperCase();return k||x[E]||i[E]||x[L].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(b,w,_){return w||_.slice(1)})})).match(r),N=I.length,H=0;H<N;H+=1){var F=I[H],B=m[F],V=B&&B[0],G=B&&B[1];I[H]=G?{regex:V,parser:G}:F.replace(/^\[|\]$/g,"")}return function(W){for(var k={},E=0,L=0;E<N;E+=1){var b=I[E];if(typeof b=="string")L+=b.length;else{var w=b.regex,_=b.parser,y=W.slice(L),C=w.exec(y)[0];_.call(k,C),W=W.replace(C,"")}}return function(S){var R=S.afternoon;if(R!==void 0){var Z=S.hours;R?Z<12&&(S.hours+=12):Z===12&&(S.hours=0),delete S.afternoon}}(k),k}}return function(g,v,x){x.p.customParseFormat=!0,g&&g.parseTwoDigitYear&&(c=g.parseTwoDigitYear);var I=v.prototype,N=I.parse;I.parse=function(H){var F=H.date,B=H.utc,V=H.args;this.$u=B;var G=V[1];if(typeof G=="string"){var W=V[2]===!0,k=V[3]===!0,E=W||k,L=V[2];k&&(L=V[2]),l=this.$locale(),!W&&L&&(l=x.Ls[L]),this.$d=function(y,C,S){try{if(["x","X"].indexOf(C)>-1)return new Date((C==="X"?1e3:1)*y);var R=p(C)(y),Z=R.year,j=R.month,X=R.day,D=R.hours,Y=R.minutes,P=R.seconds,M=R.milliseconds,$=R.zone,te=new Date,ue=X||(Z||j?1:te.getDate()),re=Z||te.getFullYear(),ce=0;Z&&!j||(ce=j>0?j-1:te.getMonth());var _e=D||0,xe=Y||0,ie=P||0,se=M||0;return $?new Date(Date.UTC(re,ce,ue,_e,xe,ie,se+60*$.offset*1e3)):S?new Date(Date.UTC(re,ce,ue,_e,xe,ie,se)):new Date(re,ce,ue,_e,xe,ie,se)}catch{return new Date("")}}(F,G,B),this.init(),L&&L!==!0&&(this.$L=this.locale(L).$L),E&&F!=this.format(G)&&(this.$d=new Date("")),l={}}else if(G instanceof Array)for(var b=G.length,w=1;w<=b;w+=1){V[1]=G[w-1];var _=x.apply(this,V);if(_.isValid()){this.$d=_.$d,this.$L=_.$L,this.init();break}w===b&&(this.$d=new Date(""))}else N.call(this,H)}}})},{}],393:[function(n,e,t){"use strict";(function(i,r){typeof t=="object"&&e!==void 0?e.exports=r():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_utc=r()})(void 0,function(){var i="minute",r=/[+-]\d\d(?::?\d\d)?/g,o=/([+-]|\d\d)/g;return function(s,a,l){var c=a.prototype;l.utc=function(g){var v={date:g,utc:!0,args:arguments};return new a(v)},c.utc=function(g){var v=l(this.toDate(),{locale:this.$L,utc:!0});return g?v.add(this.utcOffset(),i):v},c.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var u=c.parse;c.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),u.call(this,g)};var d=c.init;c.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else d.call(this)};var f=c.utcOffset;c.utcOffset=function(g,v){var x=this.$utils().u;if(x(g))return this.$u?0:x(this.$offset)?f.call(this):this.$offset;if(typeof g=="string"&&(g=function(F){F===void 0&&(F="");var B=F.match(r);if(!B)return null;var V=(""+B[0]).match(o)||["-",0,0],G=V[0],W=60*+V[1]+ +V[2];return W===0?0:G==="+"?W:-W}(g))===null)return this;var I=Math.abs(g)<=16?60*g:g,N=this;if(v)return N.$offset=I,N.$u=g===0,N;if(g!==0){var H=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(N=this.local().add(I+H,i)).$offset=I,N.$x.$localOffset=H}else N=this.utc();return N};var h=c.format;c.format=function(g){var v=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,v)},c.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var m=c.toDate;c.toDate=function(g){return g==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var p=c.diff;c.diff=function(g,v,x){if(g&&this.$u===g.$u)return p.call(this,g,v,x);var I=this.local(),N=l(g).local();return p.call(I,N,v,x)}}})},{}],394:[function(n,e,t){"use strict";t.utils=n("./des/utils"),t.Cipher=n("./des/cipher"),t.DES=n("./des/des"),t.CBC=n("./des/cbc"),t.EDE=n("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(n,e,t){"use strict";var i=n("minimalistic-assert"),r=n("inherits"),o={};function s(a){i.equal(a.length,8,"Invalid IV length"),this.iv=new Array(8);for(var l=0;l<this.iv.length;l++)this.iv[l]=a[l]}t.instantiate=function(a){function l(f){a.call(this,f),this._cbcInit()}r(l,a);for(var c=Object.keys(o),u=0;u<c.length;u++){var d=c[u];l.prototype[d]=o[d]}return l.create=function(f){return new l(f)},l},o._cbcInit=function(){var a=new s(this.options.iv);this._cbcState=a},o._update=function(a,l,c,u){var d=this._cbcState,f=this.constructor.super_.prototype,h=d.iv;if(this.type==="encrypt"){for(var m=0;m<this.blockSize;m++)h[m]^=a[l+m];for(f._update.call(this,h,0,c,u),m=0;m<this.blockSize;m++)h[m]=c[u+m]}else{for(f._update.call(this,a,l,c,u),m=0;m<this.blockSize;m++)c[u+m]^=h[m];for(m=0;m<this.blockSize;m++)h[m]=a[l+m]}}},{inherits:440,"minimalistic-assert":453}],396:[function(n,e,t){"use strict";var i=n("minimalistic-assert");function r(o){this.options=o,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=o.padding!==!1}e.exports=r,r.prototype._init=function(){},r.prototype.update=function(o){return o.length===0?[]:this.type==="decrypt"?this._updateDecrypt(o):this._updateEncrypt(o)},r.prototype._buffer=function(o,s){for(var a=Math.min(this.buffer.length-this.bufferOff,o.length-s),l=0;l<a;l++)this.buffer[this.bufferOff+l]=o[s+l];return this.bufferOff+=a,a},r.prototype._flushBuffer=function(o,s){return this._update(this.buffer,0,o,s),this.bufferOff=0,this.blockSize},r.prototype._updateEncrypt=function(o){var s=0,a=0,l=(this.bufferOff+o.length)/this.blockSize|0,c=new Array(l*this.blockSize);this.bufferOff!==0&&(s+=this._buffer(o,s),this.bufferOff===this.buffer.length&&(a+=this._flushBuffer(c,a)));for(var u=o.length-(o.length-s)%this.blockSize;s<u;s+=this.blockSize)this._update(o,s,c,a),a+=this.blockSize;for(;s<o.length;s++,this.bufferOff++)this.buffer[this.bufferOff]=o[s];return c},r.prototype._updateDecrypt=function(o){for(var s=0,a=0,l=Math.ceil((this.bufferOff+o.length)/this.blockSize)-1,c=new Array(l*this.blockSize);l>0;l--)s+=this._buffer(o,s),a+=this._flushBuffer(c,a);return s+=this._buffer(o,s),c},r.prototype.final=function(o){var s,a;return o&&(s=this.update(o)),a=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),s?s.concat(a):a},r.prototype._pad=function(o,s){if(s===0)return!1;for(;s<o.length;)o[s++]=0;return!0},r.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var o=new Array(this.blockSize);return this._update(this.buffer,0,o,0),o},r.prototype._unpad=function(o){return o},r.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var o=new Array(this.blockSize);return this._flushBuffer(o,0),this._unpad(o)}},{"minimalistic-assert":453}],397:[function(n,e,t){"use strict";var i=n("minimalistic-assert"),r=n("inherits"),o=n("./utils"),s=n("./cipher");function a(){this.tmp=new Array(2),this.keys=null}function l(u){s.call(this,u);var d=new a;this._desState=d,this.deriveKeys(d,u.key)}r(l,s),e.exports=l,l.create=function(u){return new l(u)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];l.prototype.deriveKeys=function(u,d){u.keys=new Array(32),i.equal(d.length,this.blockSize,"Invalid key length");var f=o.readUInt32BE(d,0),h=o.readUInt32BE(d,4);o.pc1(f,h,u.tmp,0),f=u.tmp[0],h=u.tmp[1];for(var m=0;m<u.keys.length;m+=2){var p=c[m>>>1];f=o.r28shl(f,p),h=o.r28shl(h,p),o.pc2(f,h,u.keys,m)}},l.prototype._update=function(u,d,f,h){var m=this._desState,p=o.readUInt32BE(u,d),g=o.readUInt32BE(u,d+4);o.ip(p,g,m.tmp,0),p=m.tmp[0],g=m.tmp[1],this.type==="encrypt"?this._encrypt(m,p,g,m.tmp,0):this._decrypt(m,p,g,m.tmp,0),p=m.tmp[0],g=m.tmp[1],o.writeUInt32BE(f,p,h),o.writeUInt32BE(f,g,h+4)},l.prototype._pad=function(u,d){if(this.padding===!1)return!1;for(var f=u.length-d,h=d;h<u.length;h++)u[h]=f;return!0},l.prototype._unpad=function(u){if(this.padding===!1)return u;for(var d=u[u.length-1],f=u.length-d;f<u.length;f++)i.equal(u[f],d);return u.slice(0,u.length-d)},l.prototype._encrypt=function(u,d,f,h,m){for(var p=d,g=f,v=0;v<u.keys.length;v+=2){var x=u.keys[v],I=u.keys[v+1];o.expand(g,u.tmp,0),x^=u.tmp[0],I^=u.tmp[1];var N=o.substitute(x,I),H=g;g=(p^o.permute(N))>>>0,p=H}o.rip(g,p,h,m)},l.prototype._decrypt=function(u,d,f,h,m){for(var p=f,g=d,v=u.keys.length-2;v>=0;v-=2){var x=u.keys[v],I=u.keys[v+1];o.expand(p,u.tmp,0),x^=u.tmp[0],I^=u.tmp[1];var N=o.substitute(x,I),H=p;p=(g^o.permute(N))>>>0,g=H}o.rip(p,g,h,m)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(n,e,t){"use strict";var i=n("minimalistic-assert"),r=n("inherits"),o=n("./cipher"),s=n("./des");function a(c,u){i.equal(u.length,24,"Invalid key length");var d=u.slice(0,8),f=u.slice(8,16),h=u.slice(16,24);this.ciphers=c==="encrypt"?[s.create({type:"encrypt",key:d}),s.create({type:"decrypt",key:f}),s.create({type:"encrypt",key:h})]:[s.create({type:"decrypt",key:h}),s.create({type:"encrypt",key:f}),s.create({type:"decrypt",key:d})]}function l(c){o.call(this,c);var u=new a(this.type,this.options.key);this._edeState=u}r(l,o),e.exports=l,l.create=function(c){return new l(c)},l.prototype._update=function(c,u,d,f){var h=this._edeState;h.ciphers[0]._update(c,u,d,f),h.ciphers[1]._update(d,f,d,f),h.ciphers[2]._update(d,f,d,f)},l.prototype._pad=s.prototype._pad,l.prototype._unpad=s.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(n,e,t){"use strict";t.readUInt32BE=function(s,a){return(s[0+a]<<24|s[1+a]<<16|s[2+a]<<8|s[3+a])>>>0},t.writeUInt32BE=function(s,a,l){s[0+l]=a>>>24,s[1+l]=a>>>16&255,s[2+l]=a>>>8&255,s[3+l]=255&a},t.ip=function(s,a,l,c){for(var u=0,d=0,f=6;f>=0;f-=2){for(var h=0;h<=24;h+=8)u<<=1,u|=a>>>h+f&1;for(h=0;h<=24;h+=8)u<<=1,u|=s>>>h+f&1}for(f=6;f>=0;f-=2){for(h=1;h<=25;h+=8)d<<=1,d|=a>>>h+f&1;for(h=1;h<=25;h+=8)d<<=1,d|=s>>>h+f&1}l[c+0]=u>>>0,l[c+1]=d>>>0},t.rip=function(s,a,l,c){for(var u=0,d=0,f=0;f<4;f++)for(var h=24;h>=0;h-=8)u<<=1,u|=a>>>h+f&1,u<<=1,u|=s>>>h+f&1;for(f=4;f<8;f++)for(h=24;h>=0;h-=8)d<<=1,d|=a>>>h+f&1,d<<=1,d|=s>>>h+f&1;l[c+0]=u>>>0,l[c+1]=d>>>0},t.pc1=function(s,a,l,c){for(var u=0,d=0,f=7;f>=5;f--){for(var h=0;h<=24;h+=8)u<<=1,u|=a>>h+f&1;for(h=0;h<=24;h+=8)u<<=1,u|=s>>h+f&1}for(h=0;h<=24;h+=8)u<<=1,u|=a>>h+f&1;for(f=1;f<=3;f++){for(h=0;h<=24;h+=8)d<<=1,d|=a>>h+f&1;for(h=0;h<=24;h+=8)d<<=1,d|=s>>h+f&1}for(h=0;h<=24;h+=8)d<<=1,d|=s>>h+f&1;l[c+0]=u>>>0,l[c+1]=d>>>0},t.r28shl=function(s,a){return s<<a&268435455|s>>>28-a};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(s,a,l,c){for(var u=0,d=0,f=i.length>>>1,h=0;h<f;h++)u<<=1,u|=s>>>i[h]&1;for(h=f;h<i.length;h++)d<<=1,d|=a>>>i[h]&1;l[c+0]=u>>>0,l[c+1]=d>>>0},t.expand=function(s,a,l){var c=0,u=0;c=(1&s)<<5|s>>>27;for(var d=23;d>=15;d-=4)c<<=6,c|=s>>>d&63;for(d=11;d>=3;d-=4)u|=s>>>d&63,u<<=6;u|=(31&s)<<1|s>>>31,a[l+0]=c>>>0,a[l+1]=u>>>0};var r=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(s,a){for(var l=0,c=0;c<4;c++)l<<=4,l|=r[64*c+(s>>>18-6*c&63)];for(c=0;c<4;c++)l<<=4,l|=r[256+64*c+(a>>>18-6*c&63)];return l>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(s){for(var a=0,l=0;l<o.length;l++)a<<=1,a|=s>>>o[l]&1;return a>>>0},t.padSplit=function(s,a,l){for(var c=s.toString(2);c.length<a;)c="0"+c;for(var u=[],d=0;d<a;d+=l)u.push(c.slice(d,d+l));return u.join(" ")}},{}],400:[function(n,e,t){(function(i){(function(){"use strict";var r=n("./lib/generatePrime"),o=n("./lib/primes.json"),s=n("./lib/dh"),a={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(l){var c=new i(o[l].prime,"hex"),u=new i(o[l].gen,"hex");return new s(c,u)},t.createDiffieHellman=t.DiffieHellman=function l(c,u,d,f){return i.isBuffer(u)||a[u]===void 0?l(c,"binary",u,d):(u=u||"binary",f=f||"binary",d=d||new i([2]),i.isBuffer(d)||(d=new i(d,f)),typeof c=="number"?new s(r(c,d),d,!0):(i.isBuffer(c)||(c=new i(c,u)),new s(c,d,!0)))}}).call(this)}).call(this,n("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(n,e,t){(function(i){(function(){"use strict";var r=n("bn.js"),o=new(n("miller-rabin")),s=new r(24),a=new r(11),l=new r(10),c=new r(3),u=new r(7),d=n("./generatePrime"),f=n("randombytes");function h(x,I){return I=I||"utf8",i.isBuffer(x)||(x=new i(x,I)),this._pub=new r(x),this}function m(x,I){return I=I||"utf8",i.isBuffer(x)||(x=new i(x,I)),this._priv=new r(x),this}e.exports=g;var p={};function g(x,I,N){this.setGenerator(I),this.__prime=new r(x),this._prime=r.mont(this.__prime),this._primeLen=x.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,N?(this.setPublicKey=h,this.setPrivateKey=m):this._primeCode=8}function v(x,I){var N=new i(x.toArray());return I?N.toString(I):N}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(x,I){var N=I.toString("hex"),H=[N,x.toString(16)].join("_");if(H in p)return p[H];var F,B=0;if(x.isEven()||!d.simpleSieve||!d.fermatTest(x)||!o.test(x))return B+=1,B+=N==="02"||N==="05"?8:4,p[H]=B,B;switch(o.test(x.shrn(1))||(B+=2),N){case"02":x.mod(s).cmp(a)&&(B+=8);break;case"05":(F=x.mod(l)).cmp(c)&&F.cmp(u)&&(B+=8);break;default:B+=4}return p[H]=B,B}(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new r(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(x){var I=(x=(x=new r(x)).toRed(this._prime)).redPow(this._priv).fromRed(),N=new i(I.toArray()),H=this.getPrime();if(N.length<H.length){var F=new i(H.length-N.length);F.fill(0),N=i.concat([F,N])}return N},g.prototype.getPublicKey=function(x){return v(this._pub,x)},g.prototype.getPrivateKey=function(x){return v(this._priv,x)},g.prototype.getPrime=function(x){return v(this.__prime,x)},g.prototype.getGenerator=function(x){return v(this._gen,x)},g.prototype.setGenerator=function(x,I){return I=I||"utf8",i.isBuffer(x)||(x=new i(x,I)),this.__gen=x,this._gen=new r(x),this}}).call(this)}).call(this,n("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(n,e,t){"use strict";var i=n("randombytes");e.exports=x,x.simpleSieve=g,x.fermatTest=v;var r=n("bn.js"),o=new r(24),s=new(n("miller-rabin")),a=new r(1),l=new r(2),c=new r(5),u=(new r(16),new r(8),new r(10)),d=new r(3),f=(new r(7),new r(11)),h=new r(4),m=(new r(12),null);function p(){if(m!==null)return m;var I=[];I[0]=2;for(var N=1,H=3;H<1048576;H+=2){for(var F=Math.ceil(Math.sqrt(H)),B=0;B<N&&I[B]<=F&&H%I[B]!=0;B++);N!==B&&I[B]<=F||(I[N++]=H)}return m=I,I}function g(I){for(var N=p(),H=0;H<N.length;H++)if(I.modn(N[H])===0)return I.cmpn(N[H])===0;return!0}function v(I){var N=r.mont(I);return l.toRed(N).redPow(I.subn(1)).fromRed().cmpn(1)===0}function x(I,N){if(I<16)return new r(N===2||N===5?[140,123]:[140,39]);var H,F;for(N=new r(N);;){for(H=new r(i(Math.ceil(I/8)));H.bitLength()>I;)H.ishrn(1);if(H.isEven()&&H.iadd(a),H.testn(1)||H.iadd(l),N.cmp(l)){if(!N.cmp(c))for(;H.mod(u).cmp(d);)H.iadd(h)}else for(;H.mod(o).cmp(f);)H.iadd(h);if(g(F=H.shrn(1))&&g(H)&&v(F)&&v(H)&&s.test(F)&&s.test(H))return H}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(n,e,t){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(n,e,t){arguments[4][184][0].apply(t,arguments)},{buffer:188,dup:184}],405:[function(n,e,t){"use strict";var i=t;i.version=n("../package.json").version,i.utils=n("./elliptic/utils"),i.rand=n("brorand"),i.curve=n("./elliptic/curve"),i.curves=n("./elliptic/curves"),i.ec=n("./elliptic/ec"),i.eddsa=n("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(n,e,t){"use strict";var i=n("bn.js"),r=n("../utils"),o=r.getNAF,s=r.getJSF,a=r.assert;function l(u,d){this.type=u,this.p=new i(d.p,16),this.red=d.prime?i.red(d.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=d.n&&new i(d.n,16),this.g=d.g&&this.pointFromJSON(d.g,d.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var f=this.n&&this.p.div(this.n);!f||f.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(u,d){this.curve=u,this.type=d,this.precomputed=null}e.exports=l,l.prototype.point=function(){throw new Error("Not implemented")},l.prototype.validate=function(){throw new Error("Not implemented")},l.prototype._fixedNafMul=function(u,d){a(u.precomputed);var f=u._getDoubles(),h=o(d,1,this._bitLength),m=(1<<f.step+1)-(f.step%2==0?2:1);m/=3;var p,g,v=[];for(p=0;p<h.length;p+=f.step){g=0;for(var x=p+f.step-1;x>=p;x--)g=(g<<1)+h[x];v.push(g)}for(var I=this.jpoint(null,null,null),N=this.jpoint(null,null,null),H=m;H>0;H--){for(p=0;p<v.length;p++)(g=v[p])===H?N=N.mixedAdd(f.points[p]):g===-H&&(N=N.mixedAdd(f.points[p].neg()));I=I.add(N)}return I.toP()},l.prototype._wnafMul=function(u,d){var f=4,h=u._getNAFPoints(f);f=h.wnd;for(var m=h.points,p=o(d,f,this._bitLength),g=this.jpoint(null,null,null),v=p.length-1;v>=0;v--){for(var x=0;v>=0&&p[v]===0;v--)x++;if(v>=0&&x++,g=g.dblp(x),v<0)break;var I=p[v];a(I!==0),g=u.type==="affine"?I>0?g.mixedAdd(m[I-1>>1]):g.mixedAdd(m[-I-1>>1].neg()):I>0?g.add(m[I-1>>1]):g.add(m[-I-1>>1].neg())}return u.type==="affine"?g.toP():g},l.prototype._wnafMulAdd=function(u,d,f,h,m){var p,g,v,x=this._wnafT1,I=this._wnafT2,N=this._wnafT3,H=0;for(p=0;p<h;p++){var F=(v=d[p])._getNAFPoints(u);x[p]=F.wnd,I[p]=F.points}for(p=h-1;p>=1;p-=2){var B=p-1,V=p;if(x[B]===1&&x[V]===1){var G=[d[B],null,null,d[V]];d[B].y.cmp(d[V].y)===0?(G[1]=d[B].add(d[V]),G[2]=d[B].toJ().mixedAdd(d[V].neg())):d[B].y.cmp(d[V].y.redNeg())===0?(G[1]=d[B].toJ().mixedAdd(d[V]),G[2]=d[B].add(d[V].neg())):(G[1]=d[B].toJ().mixedAdd(d[V]),G[2]=d[B].toJ().mixedAdd(d[V].neg()));var W=[-3,-1,-5,-7,0,7,5,1,3],k=s(f[B],f[V]);for(H=Math.max(k[0].length,H),N[B]=new Array(H),N[V]=new Array(H),g=0;g<H;g++){var E=0|k[0][g],L=0|k[1][g];N[B][g]=W[3*(E+1)+(L+1)],N[V][g]=0,I[B]=G}}else N[B]=o(f[B],x[B],this._bitLength),N[V]=o(f[V],x[V],this._bitLength),H=Math.max(N[B].length,H),H=Math.max(N[V].length,H)}var b=this.jpoint(null,null,null),w=this._wnafT4;for(p=H;p>=0;p--){for(var _=0;p>=0;){var y=!0;for(g=0;g<h;g++)w[g]=0|N[g][p],w[g]!==0&&(y=!1);if(!y)break;_++,p--}if(p>=0&&_++,b=b.dblp(_),p<0)break;for(g=0;g<h;g++){var C=w[g];C!==0&&(C>0?v=I[g][C-1>>1]:C<0&&(v=I[g][-C-1>>1].neg()),b=v.type==="affine"?b.mixedAdd(v):b.add(v))}}for(p=0;p<h;p++)I[p]=null;return m?b:b.toP()},l.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},l.prototype.decodePoint=function(u,d){u=r.toArray(u,d);var f=this.p.byteLength();if((u[0]===4||u[0]===6||u[0]===7)&&u.length-1==2*f)return u[0]===6?a(u[u.length-1]%2==0):u[0]===7&&a(u[u.length-1]%2==1),this.point(u.slice(1,1+f),u.slice(1+f,1+2*f));if((u[0]===2||u[0]===3)&&u.length-1===f)return this.pointFromX(u.slice(1,1+f),u[0]===3);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(u){return this.encode(u,!0)},c.prototype._encode=function(u){var d=this.curve.p.byteLength(),f=this.getX().toArray("be",d);return u?[this.getY().isEven()?2:3].concat(f):[4].concat(f,this.getY().toArray("be",d))},c.prototype.encode=function(u,d){return r.encode(this._encode(d),u)},c.prototype.precompute=function(u){if(this.precomputed)return this;var d={doubles:null,naf:null,beta:null};return d.naf=this._getNAFPoints(8),d.doubles=this._getDoubles(4,u),d.beta=this._getBeta(),this.precomputed=d,this},c.prototype._hasDoubles=function(u){if(!this.precomputed)return!1;var d=this.precomputed.doubles;return!!d&&d.points.length>=Math.ceil((u.bitLength()+1)/d.step)},c.prototype._getDoubles=function(u,d){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var f=[this],h=this,m=0;m<d;m+=u){for(var p=0;p<u;p++)h=h.dbl();f.push(h)}return{step:u,points:f}},c.prototype._getNAFPoints=function(u){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var d=[this],f=(1<<u)-1,h=f===1?null:this.dbl(),m=1;m<f;m++)d[m]=d[m-1].add(h);return{wnd:u,points:d}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(u){for(var d=this,f=0;f<u;f++)d=d.dbl();return d}},{"../utils":419,"bn.js":420}],407:[function(n,e,t){"use strict";var i=n("../utils"),r=n("bn.js"),o=n("inherits"),s=n("./base"),a=i.assert;function l(u){this.twisted=(0|u.a)!=1,this.mOneA=this.twisted&&(0|u.a)==-1,this.extended=this.mOneA,s.call(this,"edwards",u),this.a=new r(u.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new r(u.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new r(u.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|u.c)==1}function c(u,d,f,h,m){s.BasePoint.call(this,u,"projective"),d===null&&f===null&&h===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new r(d,16),this.y=new r(f,16),this.z=h?new r(h,16):this.curve.one,this.t=m&&new r(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(l,s),e.exports=l,l.prototype._mulA=function(u){return this.mOneA?u.redNeg():this.a.redMul(u)},l.prototype._mulC=function(u){return this.oneC?u:this.c.redMul(u)},l.prototype.jpoint=function(u,d,f,h){return this.point(u,d,f,h)},l.prototype.pointFromX=function(u,d){(u=new r(u,16)).red||(u=u.toRed(this.red));var f=u.redSqr(),h=this.c2.redSub(this.a.redMul(f)),m=this.one.redSub(this.c2.redMul(this.d).redMul(f)),p=h.redMul(m.redInvm()),g=p.redSqrt();if(g.redSqr().redSub(p).cmp(this.zero)!==0)throw new Error("invalid point");var v=g.fromRed().isOdd();return(d&&!v||!d&&v)&&(g=g.redNeg()),this.point(u,g)},l.prototype.pointFromY=function(u,d){(u=new r(u,16)).red||(u=u.toRed(this.red));var f=u.redSqr(),h=f.redSub(this.c2),m=f.redMul(this.d).redMul(this.c2).redSub(this.a),p=h.redMul(m.redInvm());if(p.cmp(this.zero)===0){if(d)throw new Error("invalid point");return this.point(this.zero,u)}var g=p.redSqrt();if(g.redSqr().redSub(p).cmp(this.zero)!==0)throw new Error("invalid point");return g.fromRed().isOdd()!==d&&(g=g.redNeg()),this.point(g,u)},l.prototype.validate=function(u){if(u.isInfinity())return!0;u.normalize();var d=u.x.redSqr(),f=u.y.redSqr(),h=d.redMul(this.a).redAdd(f),m=this.c2.redMul(this.one.redAdd(this.d.redMul(d).redMul(f)));return h.cmp(m)===0},o(c,s.BasePoint),l.prototype.pointFromJSON=function(u){return c.fromJSON(this,u)},l.prototype.point=function(u,d,f,h){return new c(this,u,d,f,h)},c.fromJSON=function(u,d){return new c(u,d[0],d[1],d[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},c.prototype._extDbl=function(){var u=this.x.redSqr(),d=this.y.redSqr(),f=this.z.redSqr();f=f.redIAdd(f);var h=this.curve._mulA(u),m=this.x.redAdd(this.y).redSqr().redISub(u).redISub(d),p=h.redAdd(d),g=p.redSub(f),v=h.redSub(d),x=m.redMul(g),I=p.redMul(v),N=m.redMul(v),H=g.redMul(p);return this.curve.point(x,I,H,N)},c.prototype._projDbl=function(){var u,d,f,h,m,p,g=this.x.redAdd(this.y).redSqr(),v=this.x.redSqr(),x=this.y.redSqr();if(this.curve.twisted){var I=(h=this.curve._mulA(v)).redAdd(x);this.zOne?(u=g.redSub(v).redSub(x).redMul(I.redSub(this.curve.two)),d=I.redMul(h.redSub(x)),f=I.redSqr().redSub(I).redSub(I)):(m=this.z.redSqr(),p=I.redSub(m).redISub(m),u=g.redSub(v).redISub(x).redMul(p),d=I.redMul(h.redSub(x)),f=I.redMul(p))}else h=v.redAdd(x),m=this.curve._mulC(this.z).redSqr(),p=h.redSub(m).redSub(m),u=this.curve._mulC(g.redISub(h)).redMul(p),d=this.curve._mulC(h).redMul(v.redISub(x)),f=h.redMul(p);return this.curve.point(u,d,f)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(u){var d=this.y.redSub(this.x).redMul(u.y.redSub(u.x)),f=this.y.redAdd(this.x).redMul(u.y.redAdd(u.x)),h=this.t.redMul(this.curve.dd).redMul(u.t),m=this.z.redMul(u.z.redAdd(u.z)),p=f.redSub(d),g=m.redSub(h),v=m.redAdd(h),x=f.redAdd(d),I=p.redMul(g),N=v.redMul(x),H=p.redMul(x),F=g.redMul(v);return this.curve.point(I,N,F,H)},c.prototype._projAdd=function(u){var d,f,h=this.z.redMul(u.z),m=h.redSqr(),p=this.x.redMul(u.x),g=this.y.redMul(u.y),v=this.curve.d.redMul(p).redMul(g),x=m.redSub(v),I=m.redAdd(v),N=this.x.redAdd(this.y).redMul(u.x.redAdd(u.y)).redISub(p).redISub(g),H=h.redMul(x).redMul(N);return this.curve.twisted?(d=h.redMul(I).redMul(g.redSub(this.curve._mulA(p))),f=x.redMul(I)):(d=h.redMul(I).redMul(g.redSub(p)),f=this.curve._mulC(x).redMul(I)),this.curve.point(H,d,f)},c.prototype.add=function(u){return this.isInfinity()?u:u.isInfinity()?this:this.curve.extended?this._extAdd(u):this._projAdd(u)},c.prototype.mul=function(u){return this._hasDoubles(u)?this.curve._fixedNafMul(this,u):this.curve._wnafMul(this,u)},c.prototype.mulAdd=function(u,d,f){return this.curve._wnafMulAdd(1,[this,d],[u,f],2,!1)},c.prototype.jmulAdd=function(u,d,f){return this.curve._wnafMulAdd(1,[this,d],[u,f],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var u=this.z.redInvm();return this.x=this.x.redMul(u),this.y=this.y.redMul(u),this.t&&(this.t=this.t.redMul(u)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(u){return this===u||this.getX().cmp(u.getX())===0&&this.getY().cmp(u.getY())===0},c.prototype.eqXToP=function(u){var d=u.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(d)===0)return!0;for(var f=u.clone(),h=this.curve.redN.redMul(this.z);;){if(f.iadd(this.curve.n),f.cmp(this.curve.p)>=0)return!1;if(d.redIAdd(h),this.x.cmp(d)===0)return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(n,e,t){"use strict";var i=t;i.base=n("./base"),i.short=n("./short"),i.mont=n("./mont"),i.edwards=n("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(n,e,t){"use strict";var i=n("bn.js"),r=n("inherits"),o=n("./base"),s=n("../utils");function a(c){o.call(this,"mont",c),this.a=new i(c.a,16).toRed(this.red),this.b=new i(c.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function l(c,u,d){o.BasePoint.call(this,c,"projective"),u===null&&d===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(u,16),this.z=new i(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}r(a,o),e.exports=a,a.prototype.validate=function(c){var u=c.normalize().x,d=u.redSqr(),f=d.redMul(u).redAdd(d.redMul(this.a)).redAdd(u);return f.redSqrt().redSqr().cmp(f)===0},r(l,o.BasePoint),a.prototype.decodePoint=function(c,u){return this.point(s.toArray(c,u),1)},a.prototype.point=function(c,u){return new l(this,c,u)},a.prototype.pointFromJSON=function(c){return l.fromJSON(this,c)},l.prototype.precompute=function(){},l.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},l.fromJSON=function(c,u){return new l(c,u[0],u[1]||c.one)},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.z.cmpn(0)===0},l.prototype.dbl=function(){var c=this.x.redAdd(this.z).redSqr(),u=this.x.redSub(this.z).redSqr(),d=c.redSub(u),f=c.redMul(u),h=d.redMul(u.redAdd(this.curve.a24.redMul(d)));return this.curve.point(f,h)},l.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.diffAdd=function(c,u){var d=this.x.redAdd(this.z),f=this.x.redSub(this.z),h=c.x.redAdd(c.z),m=c.x.redSub(c.z).redMul(d),p=h.redMul(f),g=u.z.redMul(m.redAdd(p).redSqr()),v=u.x.redMul(m.redISub(p).redSqr());return this.curve.point(g,v)},l.prototype.mul=function(c){for(var u=c.clone(),d=this,f=this.curve.point(null,null),h=[];u.cmpn(0)!==0;u.iushrn(1))h.push(u.andln(1));for(var m=h.length-1;m>=0;m--)h[m]===0?(d=d.diffAdd(f,this),f=f.dbl()):(f=d.diffAdd(f,this),d=d.dbl());return f},l.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.eq=function(c){return this.getX().cmp(c.getX())===0},l.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(n,e,t){"use strict";var i=n("../utils"),r=n("bn.js"),o=n("inherits"),s=n("./base"),a=i.assert;function l(d){s.call(this,"short",d),this.a=new r(d.a,16).toRed(this.red),this.b=new r(d.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(d),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(d,f,h,m){s.BasePoint.call(this,d,"affine"),f===null&&h===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new r(f,16),this.y=new r(h,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(d,f,h,m){s.BasePoint.call(this,d,"jacobian"),f===null&&h===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new r(0)):(this.x=new r(f,16),this.y=new r(h,16),this.z=new r(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(l,s),e.exports=l,l.prototype._getEndomorphism=function(d){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var f,h;if(d.beta)f=new r(d.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);f=(f=m[0].cmp(m[1])<0?m[0]:m[1]).toRed(this.red)}if(d.lambda)h=new r(d.lambda,16);else{var p=this._getEndoRoots(this.n);this.g.mul(p[0]).x.cmp(this.g.x.redMul(f))===0?h=p[0]:(h=p[1],a(this.g.mul(h).x.cmp(this.g.x.redMul(f))===0))}return{beta:f,lambda:h,basis:d.basis?d.basis.map(function(g){return{a:new r(g.a,16),b:new r(g.b,16)}}):this._getEndoBasis(h)}}},l.prototype._getEndoRoots=function(d){var f=d===this.p?this.red:r.mont(d),h=new r(2).toRed(f).redInvm(),m=h.redNeg(),p=new r(3).toRed(f).redNeg().redSqrt().redMul(h);return[m.redAdd(p).fromRed(),m.redSub(p).fromRed()]},l.prototype._getEndoBasis=function(d){for(var f,h,m,p,g,v,x,I,N,H=this.n.ushrn(Math.floor(this.n.bitLength()/2)),F=d,B=this.n.clone(),V=new r(1),G=new r(0),W=new r(0),k=new r(1),E=0;F.cmpn(0)!==0;){var L=B.div(F);I=B.sub(L.mul(F)),N=W.sub(L.mul(V));var b=k.sub(L.mul(G));if(!m&&I.cmp(H)<0)f=x.neg(),h=V,m=I.neg(),p=N;else if(m&&++E==2)break;x=I,B=F,F=I,W=V,V=N,k=G,G=b}g=I.neg(),v=N;var w=m.sqr().add(p.sqr());return g.sqr().add(v.sqr()).cmp(w)>=0&&(g=f,v=h),m.negative&&(m=m.neg(),p=p.neg()),g.negative&&(g=g.neg(),v=v.neg()),[{a:m,b:p},{a:g,b:v}]},l.prototype._endoSplit=function(d){var f=this.endo.basis,h=f[0],m=f[1],p=m.b.mul(d).divRound(this.n),g=h.b.neg().mul(d).divRound(this.n),v=p.mul(h.a),x=g.mul(m.a),I=p.mul(h.b),N=g.mul(m.b);return{k1:d.sub(v).sub(x),k2:I.add(N).neg()}},l.prototype.pointFromX=function(d,f){(d=new r(d,16)).red||(d=d.toRed(this.red));var h=d.redSqr().redMul(d).redIAdd(d.redMul(this.a)).redIAdd(this.b),m=h.redSqrt();if(m.redSqr().redSub(h).cmp(this.zero)!==0)throw new Error("invalid point");var p=m.fromRed().isOdd();return(f&&!p||!f&&p)&&(m=m.redNeg()),this.point(d,m)},l.prototype.validate=function(d){if(d.inf)return!0;var f=d.x,h=d.y,m=this.a.redMul(f),p=f.redSqr().redMul(f).redIAdd(m).redIAdd(this.b);return h.redSqr().redISub(p).cmpn(0)===0},l.prototype._endoWnafMulAdd=function(d,f,h){for(var m=this._endoWnafT1,p=this._endoWnafT2,g=0;g<d.length;g++){var v=this._endoSplit(f[g]),x=d[g],I=x._getBeta();v.k1.negative&&(v.k1.ineg(),x=x.neg(!0)),v.k2.negative&&(v.k2.ineg(),I=I.neg(!0)),m[2*g]=x,m[2*g+1]=I,p[2*g]=v.k1,p[2*g+1]=v.k2}for(var N=this._wnafMulAdd(1,m,p,2*g,h),H=0;H<2*g;H++)m[H]=null,p[H]=null;return N},o(c,s.BasePoint),l.prototype.point=function(d,f,h){return new c(this,d,f,h)},l.prototype.pointFromJSON=function(d,f){return c.fromJSON(this,d,f)},c.prototype._getBeta=function(){if(this.curve.endo){var d=this.precomputed;if(d&&d.beta)return d.beta;var f=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(d){var h=this.curve,m=function(p){return h.point(p.x.redMul(h.endo.beta),p.y)};d.beta=f,f.precomputed={beta:null,naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(m)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(m)}}}return f}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(d,f,h){typeof f=="string"&&(f=JSON.parse(f));var m=d.point(f[0],f[1],h);if(!f[2])return m;function p(v){return d.point(v[0],v[1],h)}var g=f[2];return m.precomputed={beta:null,doubles:g.doubles&&{step:g.doubles.step,points:[m].concat(g.doubles.points.map(p))},naf:g.naf&&{wnd:g.naf.wnd,points:[m].concat(g.naf.points.map(p))}},m},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(d){if(this.inf)return d;if(d.inf)return this;if(this.eq(d))return this.dbl();if(this.neg().eq(d))return this.curve.point(null,null);if(this.x.cmp(d.x)===0)return this.curve.point(null,null);var f=this.y.redSub(d.y);f.cmpn(0)!==0&&(f=f.redMul(this.x.redSub(d.x).redInvm()));var h=f.redSqr().redISub(this.x).redISub(d.x),m=f.redMul(this.x.redSub(h)).redISub(this.y);return this.curve.point(h,m)},c.prototype.dbl=function(){if(this.inf)return this;var d=this.y.redAdd(this.y);if(d.cmpn(0)===0)return this.curve.point(null,null);var f=this.curve.a,h=this.x.redSqr(),m=d.redInvm(),p=h.redAdd(h).redIAdd(h).redIAdd(f).redMul(m),g=p.redSqr().redISub(this.x.redAdd(this.x)),v=p.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,v)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(d){return d=new r(d,16),this.isInfinity()?this:this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve.endo?this.curve._endoWnafMulAdd([this],[d]):this.curve._wnafMul(this,d)},c.prototype.mulAdd=function(d,f,h){var m=[this,f],p=[d,h];return this.curve.endo?this.curve._endoWnafMulAdd(m,p):this.curve._wnafMulAdd(1,m,p,2)},c.prototype.jmulAdd=function(d,f,h){var m=[this,f],p=[d,h];return this.curve.endo?this.curve._endoWnafMulAdd(m,p,!0):this.curve._wnafMulAdd(1,m,p,2,!0)},c.prototype.eq=function(d){return this===d||this.inf===d.inf&&(this.inf||this.x.cmp(d.x)===0&&this.y.cmp(d.y)===0)},c.prototype.neg=function(d){if(this.inf)return this;var f=this.curve.point(this.x,this.y.redNeg());if(d&&this.precomputed){var h=this.precomputed,m=function(p){return p.neg()};f.precomputed={naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(m)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(m)}}}return f},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(u,s.BasePoint),l.prototype.jpoint=function(d,f,h){return new u(this,d,f,h)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var d=this.z.redInvm(),f=d.redSqr(),h=this.x.redMul(f),m=this.y.redMul(f).redMul(d);return this.curve.point(h,m)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(d){if(this.isInfinity())return d;if(d.isInfinity())return this;var f=d.z.redSqr(),h=this.z.redSqr(),m=this.x.redMul(f),p=d.x.redMul(h),g=this.y.redMul(f.redMul(d.z)),v=d.y.redMul(h.redMul(this.z)),x=m.redSub(p),I=g.redSub(v);if(x.cmpn(0)===0)return I.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var N=x.redSqr(),H=N.redMul(x),F=m.redMul(N),B=I.redSqr().redIAdd(H).redISub(F).redISub(F),V=I.redMul(F.redISub(B)).redISub(g.redMul(H)),G=this.z.redMul(d.z).redMul(x);return this.curve.jpoint(B,V,G)},u.prototype.mixedAdd=function(d){if(this.isInfinity())return d.toJ();if(d.isInfinity())return this;var f=this.z.redSqr(),h=this.x,m=d.x.redMul(f),p=this.y,g=d.y.redMul(f).redMul(this.z),v=h.redSub(m),x=p.redSub(g);if(v.cmpn(0)===0)return x.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var I=v.redSqr(),N=I.redMul(v),H=h.redMul(I),F=x.redSqr().redIAdd(N).redISub(H).redISub(H),B=x.redMul(H.redISub(F)).redISub(p.redMul(N)),V=this.z.redMul(v);return this.curve.jpoint(F,B,V)},u.prototype.dblp=function(d){if(d===0)return this;if(this.isInfinity())return this;if(!d)return this.dbl();var f;if(this.curve.zeroA||this.curve.threeA){var h=this;for(f=0;f<d;f++)h=h.dbl();return h}var m=this.curve.a,p=this.curve.tinv,g=this.x,v=this.y,x=this.z,I=x.redSqr().redSqr(),N=v.redAdd(v);for(f=0;f<d;f++){var H=g.redSqr(),F=N.redSqr(),B=F.redSqr(),V=H.redAdd(H).redIAdd(H).redIAdd(m.redMul(I)),G=g.redMul(F),W=V.redSqr().redISub(G.redAdd(G)),k=G.redISub(W),E=V.redMul(k);E=E.redIAdd(E).redISub(B);var L=N.redMul(x);f+1<d&&(I=I.redMul(B)),g=W,x=L,N=E}return this.curve.jpoint(g,N.redMul(p),x)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var d,f,h;if(this.zOne){var m=this.x.redSqr(),p=this.y.redSqr(),g=p.redSqr(),v=this.x.redAdd(p).redSqr().redISub(m).redISub(g);v=v.redIAdd(v);var x=m.redAdd(m).redIAdd(m),I=x.redSqr().redISub(v).redISub(v),N=g.redIAdd(g);N=(N=N.redIAdd(N)).redIAdd(N),d=I,f=x.redMul(v.redISub(I)).redISub(N),h=this.y.redAdd(this.y)}else{var H=this.x.redSqr(),F=this.y.redSqr(),B=F.redSqr(),V=this.x.redAdd(F).redSqr().redISub(H).redISub(B);V=V.redIAdd(V);var G=H.redAdd(H).redIAdd(H),W=G.redSqr(),k=B.redIAdd(B);k=(k=k.redIAdd(k)).redIAdd(k),d=W.redISub(V).redISub(V),f=G.redMul(V.redISub(d)).redISub(k),h=(h=this.y.redMul(this.z)).redIAdd(h)}return this.curve.jpoint(d,f,h)},u.prototype._threeDbl=function(){var d,f,h;if(this.zOne){var m=this.x.redSqr(),p=this.y.redSqr(),g=p.redSqr(),v=this.x.redAdd(p).redSqr().redISub(m).redISub(g);v=v.redIAdd(v);var x=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),I=x.redSqr().redISub(v).redISub(v);d=I;var N=g.redIAdd(g);N=(N=N.redIAdd(N)).redIAdd(N),f=x.redMul(v.redISub(I)).redISub(N),h=this.y.redAdd(this.y)}else{var H=this.z.redSqr(),F=this.y.redSqr(),B=this.x.redMul(F),V=this.x.redSub(H).redMul(this.x.redAdd(H));V=V.redAdd(V).redIAdd(V);var G=B.redIAdd(B),W=(G=G.redIAdd(G)).redAdd(G);d=V.redSqr().redISub(W),h=this.y.redAdd(this.z).redSqr().redISub(F).redISub(H);var k=F.redSqr();k=(k=(k=k.redIAdd(k)).redIAdd(k)).redIAdd(k),f=V.redMul(G.redISub(d)).redISub(k)}return this.curve.jpoint(d,f,h)},u.prototype._dbl=function(){var d=this.curve.a,f=this.x,h=this.y,m=this.z,p=m.redSqr().redSqr(),g=f.redSqr(),v=h.redSqr(),x=g.redAdd(g).redIAdd(g).redIAdd(d.redMul(p)),I=f.redAdd(f),N=(I=I.redIAdd(I)).redMul(v),H=x.redSqr().redISub(N.redAdd(N)),F=N.redISub(H),B=v.redSqr();B=(B=(B=B.redIAdd(B)).redIAdd(B)).redIAdd(B);var V=x.redMul(F).redISub(B),G=h.redAdd(h).redMul(m);return this.curve.jpoint(H,V,G)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var d=this.x.redSqr(),f=this.y.redSqr(),h=this.z.redSqr(),m=f.redSqr(),p=d.redAdd(d).redIAdd(d),g=p.redSqr(),v=this.x.redAdd(f).redSqr().redISub(d).redISub(m),x=(v=(v=(v=v.redIAdd(v)).redAdd(v).redIAdd(v)).redISub(g)).redSqr(),I=m.redIAdd(m);I=(I=(I=I.redIAdd(I)).redIAdd(I)).redIAdd(I);var N=p.redIAdd(v).redSqr().redISub(g).redISub(x).redISub(I),H=f.redMul(N);H=(H=H.redIAdd(H)).redIAdd(H);var F=this.x.redMul(x).redISub(H);F=(F=F.redIAdd(F)).redIAdd(F);var B=this.y.redMul(N.redMul(I.redISub(N)).redISub(v.redMul(x)));B=(B=(B=B.redIAdd(B)).redIAdd(B)).redIAdd(B);var V=this.z.redAdd(v).redSqr().redISub(h).redISub(x);return this.curve.jpoint(F,B,V)},u.prototype.mul=function(d,f){return d=new r(d,f),this.curve._wnafMul(this,d)},u.prototype.eq=function(d){if(d.type==="affine")return this.eq(d.toJ());if(this===d)return!0;var f=this.z.redSqr(),h=d.z.redSqr();if(this.x.redMul(h).redISub(d.x.redMul(f)).cmpn(0)!==0)return!1;var m=f.redMul(this.z),p=h.redMul(d.z);return this.y.redMul(p).redISub(d.y.redMul(m)).cmpn(0)===0},u.prototype.eqXToP=function(d){var f=this.z.redSqr(),h=d.toRed(this.curve.red).redMul(f);if(this.x.cmp(h)===0)return!0;for(var m=d.clone(),p=this.curve.redN.redMul(f);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(p),this.x.cmp(h)===0)return!0}},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(n,e,t){"use strict";var i,r=t,o=n("hash.js"),s=n("./curve"),a=n("./utils").assert;function l(u){u.type==="short"?this.curve=new s.short(u):u.type==="edwards"?this.curve=new s.edwards(u):this.curve=new s.mont(u),this.g=this.curve.g,this.n=this.curve.n,this.hash=u.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(u,d){Object.defineProperty(r,u,{configurable:!0,enumerable:!0,get:function(){var f=new l(d);return Object.defineProperty(r,u,{configurable:!0,enumerable:!0,value:f}),f}})}r.PresetCurve=l,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=n("./precomputed/secp256k1")}catch{i=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(n,e,t){"use strict";var i=n("bn.js"),r=n("hmac-drbg"),o=n("../utils"),s=n("../curves"),a=n("brorand"),l=o.assert,c=n("./key"),u=n("./signature");function d(f){if(!(this instanceof d))return new d(f);typeof f=="string"&&(l(Object.prototype.hasOwnProperty.call(s,f),"Unknown curve "+f),f=s[f]),f instanceof s.PresetCurve&&(f={curve:f}),this.curve=f.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=f.curve.g,this.g.precompute(f.curve.n.bitLength()+1),this.hash=f.hash||f.curve.hash}e.exports=d,d.prototype.keyPair=function(f){return new c(this,f)},d.prototype.keyFromPrivate=function(f,h){return c.fromPrivate(this,f,h)},d.prototype.keyFromPublic=function(f,h){return c.fromPublic(this,f,h)},d.prototype.genKeyPair=function(f){f||(f={});for(var h=new r({hash:this.hash,pers:f.pers,persEnc:f.persEnc||"utf8",entropy:f.entropy||a(this.hash.hmacStrength),entropyEnc:f.entropy&&f.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),p=this.n.sub(new i(2));;){var g=new i(h.generate(m));if(!(g.cmp(p)>0))return g.iaddn(1),this.keyFromPrivate(g)}},d.prototype._truncateToN=function(f,h){var m=8*f.byteLength()-this.n.bitLength();return m>0&&(f=f.ushrn(m)),!h&&f.cmp(this.n)>=0?f.sub(this.n):f},d.prototype.sign=function(f,h,m,p){typeof m=="object"&&(p=m,m=null),p||(p={}),h=this.keyFromPrivate(h,m),f=this._truncateToN(new i(f,16));for(var g=this.n.byteLength(),v=h.getPrivate().toArray("be",g),x=f.toArray("be",g),I=new r({hash:this.hash,entropy:v,nonce:x,pers:p.pers,persEnc:p.persEnc||"utf8"}),N=this.n.sub(new i(1)),H=0;;H++){var F=p.k?p.k(H):new i(I.generate(this.n.byteLength()));if(!((F=this._truncateToN(F,!0)).cmpn(1)<=0||F.cmp(N)>=0)){var B=this.g.mul(F);if(!B.isInfinity()){var V=B.getX(),G=V.umod(this.n);if(G.cmpn(0)!==0){var W=F.invm(this.n).mul(G.mul(h.getPrivate()).iadd(f));if((W=W.umod(this.n)).cmpn(0)!==0){var k=(B.getY().isOdd()?1:0)|(V.cmp(G)!==0?2:0);return p.canonical&&W.cmp(this.nh)>0&&(W=this.n.sub(W),k^=1),new u({r:G,s:W,recoveryParam:k})}}}}}},d.prototype.verify=function(f,h,m,p){f=this._truncateToN(new i(f,16)),m=this.keyFromPublic(m,p);var g=(h=new u(h,"hex")).r,v=h.s;if(g.cmpn(1)<0||g.cmp(this.n)>=0||v.cmpn(1)<0||v.cmp(this.n)>=0)return!1;var x,I=v.invm(this.n),N=I.mul(f).umod(this.n),H=I.mul(g).umod(this.n);return this.curve._maxwellTrick?!(x=this.g.jmulAdd(N,m.getPublic(),H)).isInfinity()&&x.eqXToP(g):!(x=this.g.mulAdd(N,m.getPublic(),H)).isInfinity()&&x.getX().umod(this.n).cmp(g)===0},d.prototype.recoverPubKey=function(f,h,m,p){l((3&m)===m,"The recovery param is more than two bits"),h=new u(h,p);var g=this.n,v=new i(f),x=h.r,I=h.s,N=1&m,H=m>>1;if(x.cmp(this.curve.p.umod(this.curve.n))>=0&&H)throw new Error("Unable to find sencond key candinate");x=H?this.curve.pointFromX(x.add(this.curve.n),N):this.curve.pointFromX(x,N);var F=h.r.invm(g),B=g.sub(v).mul(F).umod(g),V=I.mul(F).umod(g);return this.g.mulAdd(B,x,V)},d.prototype.getKeyRecoveryParam=function(f,h,m,p){if((h=new u(h,p)).recoveryParam!==null)return h.recoveryParam;for(var g=0;g<4;g++){var v;try{v=this.recoverPubKey(f,h,g)}catch{continue}if(v.eq(m))return g}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(n,e,t){"use strict";var i=n("bn.js"),r=n("../utils").assert;function o(s,a){this.ec=s,this.priv=null,this.pub=null,a.priv&&this._importPrivate(a.priv,a.privEnc),a.pub&&this._importPublic(a.pub,a.pubEnc)}e.exports=o,o.fromPublic=function(s,a,l){return a instanceof o?a:new o(s,{pub:a,pubEnc:l})},o.fromPrivate=function(s,a,l){return a instanceof o?a:new o(s,{priv:a,privEnc:l})},o.prototype.validate=function(){var s=this.getPublic();return s.isInfinity()?{result:!1,reason:"Invalid public key"}:s.validate()?s.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(s,a){return typeof s=="string"&&(a=s,s=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),a?this.pub.encode(a,s):this.pub},o.prototype.getPrivate=function(s){return s==="hex"?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(s,a){this.priv=new i(s,a||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(s,a){if(s.x||s.y)return this.ec.curve.type==="mont"?r(s.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||r(s.x&&s.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(s.x,s.y));this.pub=this.ec.curve.decodePoint(s,a)},o.prototype.derive=function(s){return s.validate()||r(s.validate(),"public point not validated"),s.mul(this.priv).getX()},o.prototype.sign=function(s,a,l){return this.ec.sign(s,this,a,l)},o.prototype.verify=function(s,a){return this.ec.verify(s,a,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(n,e,t){"use strict";var i=n("bn.js"),r=n("../utils"),o=r.assert;function s(d,f){if(d instanceof s)return d;this._importDER(d,f)||(o(d.r&&d.s,"Signature without r or s"),this.r=new i(d.r,16),this.s=new i(d.s,16),d.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=d.recoveryParam)}function a(){this.place=0}function l(d,f){var h=d[f.place++];if(!(128&h))return h;var m=15&h;if(m===0||m>4)return!1;for(var p=0,g=0,v=f.place;g<m;g++,v++)p<<=8,p|=d[v],p>>>=0;return!(p<=127)&&(f.place=v,p)}function c(d){for(var f=0,h=d.length-1;!d[f]&&!(128&d[f+1])&&f<h;)f++;return f===0?d:d.slice(f)}function u(d,f){if(f<128)d.push(f);else{var h=1+(Math.log(f)/Math.LN2>>>3);for(d.push(128|h);--h;)d.push(f>>>(h<<3)&255);d.push(f)}}e.exports=s,s.prototype._importDER=function(d,f){d=r.toArray(d,f);var h=new a;if(d[h.place++]!==48)return!1;var m=l(d,h);if(m===!1||m+h.place!==d.length||d[h.place++]!==2)return!1;var p=l(d,h);if(p===!1)return!1;var g=d.slice(h.place,p+h.place);if(h.place+=p,d[h.place++]!==2)return!1;var v=l(d,h);if(v===!1||d.length!==v+h.place)return!1;var x=d.slice(h.place,v+h.place);if(g[0]===0){if(!(128&g[1]))return!1;g=g.slice(1)}if(x[0]===0){if(!(128&x[1]))return!1;x=x.slice(1)}return this.r=new i(g),this.s=new i(x),this.recoveryParam=null,!0},s.prototype.toDER=function(d){var f=this.r.toArray(),h=this.s.toArray();for(128&f[0]&&(f=[0].concat(f)),128&h[0]&&(h=[0].concat(h)),f=c(f),h=c(h);!(h[0]||128&h[1]);)h=h.slice(1);var m=[2];u(m,f.length),(m=m.concat(f)).push(2),u(m,h.length);var p=m.concat(h),g=[48];return u(g,p.length),g=g.concat(p),r.encode(g,d)}},{"../utils":419,"bn.js":420}],415:[function(n,e,t){"use strict";var i=n("hash.js"),r=n("../curves"),o=n("../utils"),s=o.assert,a=o.parseBytes,l=n("./key"),c=n("./signature");function u(d){if(s(d==="ed25519","only tested with ed25519 so far"),!(this instanceof u))return new u(d);d=r[d].curve,this.curve=d,this.g=d.g,this.g.precompute(d.n.bitLength()+1),this.pointClass=d.point().constructor,this.encodingLength=Math.ceil(d.n.bitLength()/8),this.hash=i.sha512}e.exports=u,u.prototype.sign=function(d,f){d=a(d);var h=this.keyFromSecret(f),m=this.hashInt(h.messagePrefix(),d),p=this.g.mul(m),g=this.encodePoint(p),v=this.hashInt(g,h.pubBytes(),d).mul(h.priv()),x=m.add(v).umod(this.curve.n);return this.makeSignature({R:p,S:x,Rencoded:g})},u.prototype.verify=function(d,f,h){d=a(d),f=this.makeSignature(f);var m=this.keyFromPublic(h),p=this.hashInt(f.Rencoded(),m.pubBytes(),d),g=this.g.mul(f.S());return f.R().add(m.pub().mul(p)).eq(g)},u.prototype.hashInt=function(){for(var d=this.hash(),f=0;f<arguments.length;f++)d.update(arguments[f]);return o.intFromLE(d.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(d){return l.fromPublic(this,d)},u.prototype.keyFromSecret=function(d){return l.fromSecret(this,d)},u.prototype.makeSignature=function(d){return d instanceof c?d:new c(this,d)},u.prototype.encodePoint=function(d){var f=d.getY().toArray("le",this.encodingLength);return f[this.encodingLength-1]|=d.getX().isOdd()?128:0,f},u.prototype.decodePoint=function(d){var f=(d=o.parseBytes(d)).length-1,h=d.slice(0,f).concat(-129&d[f]),m=(128&d[f])!=0,p=o.intFromLE(h);return this.curve.pointFromY(p,m)},u.prototype.encodeInt=function(d){return d.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(d){return o.intFromLE(d)},u.prototype.isPoint=function(d){return d instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(n,e,t){"use strict";var i=n("../utils"),r=i.assert,o=i.parseBytes,s=i.cachedProperty;function a(l,c){this.eddsa=l,this._secret=o(c.secret),l.isPoint(c.pub)?this._pub=c.pub:this._pubBytes=o(c.pub)}a.fromPublic=function(l,c){return c instanceof a?c:new a(l,{pub:c})},a.fromSecret=function(l,c){return c instanceof a?c:new a(l,{secret:c})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(a,"privBytes",function(){var l=this.eddsa,c=this.hash(),u=l.encodingLength-1,d=c.slice(0,l.encodingLength);return d[0]&=248,d[u]&=127,d[u]|=64,d}),s(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(l){return r(this._secret,"KeyPair can only verify"),this.eddsa.sign(l,this)},a.prototype.verify=function(l,c){return this.eddsa.verify(l,c,this)},a.prototype.getSecret=function(l){return r(this._secret,"KeyPair is public only"),i.encode(this.secret(),l)},a.prototype.getPublic=function(l){return i.encode(this.pubBytes(),l)},e.exports=a},{"../utils":419}],417:[function(n,e,t){"use strict";var i=n("bn.js"),r=n("../utils"),o=r.assert,s=r.cachedProperty,a=r.parseBytes;function l(c,u){this.eddsa=c,typeof u!="object"&&(u=a(u)),Array.isArray(u)&&(u={R:u.slice(0,c.encodingLength),S:u.slice(c.encodingLength)}),o(u.R&&u.S,"Signature without R or S"),c.isPoint(u.R)&&(this._R=u.R),u.S instanceof i&&(this._S=u.S),this._Rencoded=Array.isArray(u.R)?u.R:u.Rencoded,this._Sencoded=Array.isArray(u.S)?u.S:u.Sencoded}s(l,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(l,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(l,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(l,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),l.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},l.prototype.toHex=function(){return r.encode(this.toBytes(),"hex").toUpperCase()},e.exports=l},{"../utils":419,"bn.js":420}],418:[function(n,e,t){"use strict";e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(n,e,t){"use strict";var i=t,r=n("bn.js"),o=n("minimalistic-assert"),s=n("minimalistic-crypto-utils");i.assert=o,i.toArray=s.toArray,i.zero2=s.zero2,i.toHex=s.toHex,i.encode=s.encode,i.getNAF=function(a,l,c){var u=new Array(Math.max(a.bitLength(),c)+1);u.fill(0);for(var d=1<<l+1,f=a.clone(),h=0;h<u.length;h++){var m,p=f.andln(d-1);f.isOdd()?(m=p>(d>>1)-1?(d>>1)-p:p,f.isubn(m)):m=0,u[h]=m,f.iushrn(1)}return u},i.getJSF=function(a,l){var c=[[],[]];a=a.clone(),l=l.clone();for(var u,d=0,f=0;a.cmpn(-d)>0||l.cmpn(-f)>0;){var h,m,p=a.andln(3)+d&3,g=l.andln(3)+f&3;p===3&&(p=-1),g===3&&(g=-1),h=1&p?(u=a.andln(7)+d&7)!==3&&u!==5||g!==2?p:-p:0,c[0].push(h),m=1&g?(u=l.andln(7)+f&7)!==3&&u!==5||p!==2?g:-g:0,c[1].push(m),2*d===h+1&&(d=1-d),2*f===m+1&&(f=1-f),a.iushrn(1),l.iushrn(1)}return c},i.cachedProperty=function(a,l,c){var u="_"+l;a.prototype[l]=function(){return this[u]!==void 0?this[u]:this[u]=c.call(this)}},i.parseBytes=function(a){return typeof a=="string"?i.toArray(a,"hex"):a},i.intFromLE=function(a){return new r(a,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(n,e,t){arguments[4][184][0].apply(t,arguments)},{buffer:188,dup:184}],421:[function(n,e,t){e.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(n,e,t){"use strict";var i=Object.create||function(F){var B=function(){};return B.prototype=F,new B},r=Object.keys||function(F){var B=[];for(var V in F)Object.prototype.hasOwnProperty.call(F,V)&&B.push(V);return V},o=Function.prototype.bind||function(F){var B=this;return function(){return B.apply(F,arguments)}};function s(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=i(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0;var a,l=10;try{var c={};Object.defineProperty&&Object.defineProperty(c,"x",{value:0}),a=c.x===0}catch{a=!1}function u(F){return F._maxListeners===void 0?s.defaultMaxListeners:F._maxListeners}function d(F,B,V){if(B)F.call(V);else for(var G=F.length,W=H(F,G),k=0;k<G;++k)W[k].call(V)}function f(F,B,V,G){if(B)F.call(V,G);else for(var W=F.length,k=H(F,W),E=0;E<W;++E)k[E].call(V,G)}function h(F,B,V,G,W){if(B)F.call(V,G,W);else for(var k=F.length,E=H(F,k),L=0;L<k;++L)E[L].call(V,G,W)}function m(F,B,V,G,W,k){if(B)F.call(V,G,W,k);else for(var E=F.length,L=H(F,E),b=0;b<E;++b)L[b].call(V,G,W,k)}function p(F,B,V,G){if(B)F.apply(V,G);else for(var W=F.length,k=H(F,W),E=0;E<W;++E)k[E].apply(V,G)}function g(F,B,V,G){var W,k,E;if(typeof V!="function")throw new TypeError('"listener" argument must be a function');if((k=F._events)?(k.newListener&&(F.emit("newListener",B,V.listener?V.listener:V),k=F._events),E=k[B]):(k=F._events=i(null),F._eventsCount=0),E){if(typeof E=="function"?E=k[B]=G?[V,E]:[E,V]:G?E.unshift(V):E.push(V),!E.warned&&(W=u(F))&&W>0&&E.length>W){E.warned=!0;var L=new Error("Possible EventEmitter memory leak detected. "+E.length+' "'+String(B)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');L.name="MaxListenersExceededWarning",L.emitter=F,L.type=B,L.count=E.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",L.name,L.message)}}else E=k[B]=V,++F._eventsCount;return F}function v(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var F=new Array(arguments.length),B=0;B<F.length;++B)F[B]=arguments[B];this.listener.apply(this.target,F)}}function x(F,B,V){var G={fired:!1,wrapFn:void 0,target:F,type:B,listener:V},W=o.call(v,G);return W.listener=V,G.wrapFn=W,W}function I(F,B,V){var G=F._events;if(!G)return[];var W=G[B];return W?typeof W=="function"?V?[W.listener||W]:[W]:V?function(k){for(var E=new Array(k.length),L=0;L<E.length;++L)E[L]=k[L].listener||k[L];return E}(W):H(W,W.length):[]}function N(F){var B=this._events;if(B){var V=B[F];if(typeof V=="function")return 1;if(V)return V.length}return 0}function H(F,B){for(var V=new Array(B),G=0;G<B;++G)V[G]=F[G];return V}a?Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(F){if(typeof F!="number"||F<0||F!=F)throw new TypeError('"defaultMaxListeners" must be a positive number');l=F}}):s.defaultMaxListeners=l,s.prototype.setMaxListeners=function(F){if(typeof F!="number"||F<0||isNaN(F))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=F,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(F){var B,V,G,W,k,E,L=F==="error";if(E=this._events)L=L&&E.error==null;else if(!L)return!1;if(L){if(arguments.length>1&&(B=arguments[1]),B instanceof Error)throw B;var b=new Error('Unhandled "error" event. ('+B+")");throw b.context=B,b}if(!(V=E[F]))return!1;var w=typeof V=="function";switch(G=arguments.length){case 1:d(V,w,this);break;case 2:f(V,w,this,arguments[1]);break;case 3:h(V,w,this,arguments[1],arguments[2]);break;case 4:m(V,w,this,arguments[1],arguments[2],arguments[3]);break;default:for(W=new Array(G-1),k=1;k<G;k++)W[k-1]=arguments[k];p(V,w,this,W)}return!0},s.prototype.addListener=function(F,B){return g(this,F,B,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(F,B){return g(this,F,B,!0)},s.prototype.once=function(F,B){if(typeof B!="function")throw new TypeError('"listener" argument must be a function');return this.on(F,x(this,F,B)),this},s.prototype.prependOnceListener=function(F,B){if(typeof B!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(F,x(this,F,B)),this},s.prototype.removeListener=function(F,B){var V,G,W,k,E;if(typeof B!="function")throw new TypeError('"listener" argument must be a function');if(!(G=this._events))return this;if(!(V=G[F]))return this;if(V===B||V.listener===B)--this._eventsCount==0?this._events=i(null):(delete G[F],G.removeListener&&this.emit("removeListener",F,V.listener||B));else if(typeof V!="function"){for(W=-1,k=V.length-1;k>=0;k--)if(V[k]===B||V[k].listener===B){E=V[k].listener,W=k;break}if(W<0)return this;W===0?V.shift():function(L,b){for(var w=b,_=w+1,y=L.length;_<y;w+=1,_+=1)L[w]=L[_];L.pop()}(V,W),V.length===1&&(G[F]=V[0]),G.removeListener&&this.emit("removeListener",F,E||B)}return this},s.prototype.removeAllListeners=function(F){var B,V,G;if(!(V=this._events))return this;if(!V.removeListener)return arguments.length===0?(this._events=i(null),this._eventsCount=0):V[F]&&(--this._eventsCount==0?this._events=i(null):delete V[F]),this;if(arguments.length===0){var W,k=r(V);for(G=0;G<k.length;++G)(W=k[G])!=="removeListener"&&this.removeAllListeners(W);return this.removeAllListeners("removeListener"),this._events=i(null),this._eventsCount=0,this}if(typeof(B=V[F])=="function")this.removeListener(F,B);else if(B)for(G=B.length-1;G>=0;G--)this.removeListener(F,B[G]);return this},s.prototype.listeners=function(F){return I(this,F,!0)},s.prototype.rawListeners=function(F){return I(this,F,!1)},s.listenerCount=function(F,B){return typeof F.listenerCount=="function"?F.listenerCount(B):N.call(F,B)},s.prototype.listenerCount=N,s.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(n,e,t){"use strict";var i=n("safe-buffer").Buffer,r=n("md5.js");e.exports=function(o,s,a,l){if(i.isBuffer(o)||(o=i.from(o,"binary")),s&&(i.isBuffer(s)||(s=i.from(s,"binary")),s.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var c=a/8,u=i.alloc(c),d=i.alloc(l||0),f=i.alloc(0);c>0||l>0;){var h=new r;h.update(f),h.update(o),s&&h.update(s),f=h.digest();var m=0;if(c>0){var p=u.length-c;m=Math.min(c,f.length),f.copy(u,p,0,m),c-=m}if(m<f.length&&l>0){var g=d.length-l,v=Math.min(l,f.length-m);f.copy(d,g,m,m+v),l-=v}}return f.fill(0),{key:u,iv:d}}},{"md5.js":450,"safe-buffer":494}],424:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CsvParserStream=t.ParserOptions=t.parseFile=t.parseStream=t.parseString=t.parse=t.FormatterOptions=t.CsvFormatterStream=t.writeToPath=t.writeToString=t.writeToBuffer=t.writeToStream=t.write=t.format=void 0;var i=n("@fast-csv/format");Object.defineProperty(t,"format",{enumerable:!0,get:function(){return i.format}}),Object.defineProperty(t,"write",{enumerable:!0,get:function(){return i.write}}),Object.defineProperty(t,"writeToStream",{enumerable:!0,get:function(){return i.writeToStream}}),Object.defineProperty(t,"writeToBuffer",{enumerable:!0,get:function(){return i.writeToBuffer}}),Object.defineProperty(t,"writeToString",{enumerable:!0,get:function(){return i.writeToString}}),Object.defineProperty(t,"writeToPath",{enumerable:!0,get:function(){return i.writeToPath}}),Object.defineProperty(t,"CsvFormatterStream",{enumerable:!0,get:function(){return i.CsvFormatterStream}}),Object.defineProperty(t,"FormatterOptions",{enumerable:!0,get:function(){return i.FormatterOptions}});var r=n("@fast-csv/parse");Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return r.parse}}),Object.defineProperty(t,"parseString",{enumerable:!0,get:function(){return r.parseString}}),Object.defineProperty(t,"parseStream",{enumerable:!0,get:function(){return r.parseStream}}),Object.defineProperty(t,"parseFile",{enumerable:!0,get:function(){return r.parseFile}}),Object.defineProperty(t,"ParserOptions",{enumerable:!0,get:function(){return r.ParserOptions}}),Object.defineProperty(t,"CsvParserStream",{enumerable:!0,get:function(){return r.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(n,e,t){"use strict";var i=n("safe-buffer").Buffer,r=n("readable-stream").Transform;function o(s){r.call(this),this._block=i.allocUnsafe(s),this._blockSize=s,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n("inherits")(o,r),o.prototype._transform=function(s,a,l){var c=null;try{this.update(s,a)}catch(u){c=u}l(c)},o.prototype._flush=function(s){var a=null;try{this.push(this.digest())}catch(l){a=l}s(a)},o.prototype.update=function(s,a){if(function(h,m){if(!i.isBuffer(h)&&typeof h!="string")throw new TypeError(m+" must be a string or a buffer")}(s,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(s)||(s=i.from(s,a));for(var l=this._block,c=0;this._blockOffset+s.length-c>=this._blockSize;){for(var u=this._blockOffset;u<this._blockSize;)l[u++]=s[c++];this._update(),this._blockOffset=0}for(;c<s.length;)l[this._blockOffset++]=s[c++];for(var d=0,f=8*s.length;f>0;++d)this._length[d]+=f,(f=this._length[d]/4294967296|0)>0&&(this._length[d]-=4294967296*f);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(s){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var a=this._digest();s!==void 0&&(a=a.toString(s)),this._block.fill(0),this._blockOffset=0;for(var l=0;l<4;++l)this._length[l]=0;return a},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(n,e,t){"use strict";var i=t;i.utils=n("./hash/utils"),i.common=n("./hash/common"),i.sha=n("./hash/sha"),i.ripemd=n("./hash/ripemd"),i.hmac=n("./hash/hmac"),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(n,e,t){"use strict";var i=n("./utils"),r=n("minimalistic-assert");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(s,a){if(s=i.toArray(s,a),this.pending?this.pending=this.pending.concat(s):this.pending=s,this.pendingTotal+=s.length,this.pending.length>=this._delta8){var l=(s=this.pending).length%this._delta8;this.pending=s.slice(s.length-l,s.length),this.pending.length===0&&(this.pending=null),s=i.join32(s,0,s.length-l,this.endian);for(var c=0;c<s.length;c+=this._delta32)this._update(s,c,c+this._delta32)}return this},o.prototype.digest=function(s){return this.update(this._pad()),r(this.pending===null),this._digest(s)},o.prototype._pad=function(){var s=this.pendingTotal,a=this._delta8,l=a-(s+this.padLength)%a,c=new Array(l+this.padLength);c[0]=128;for(var u=1;u<l;u++)c[u]=0;if(s<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)c[u++]=0;c[u++]=0,c[u++]=0,c[u++]=0,c[u++]=0,c[u++]=s>>>24&255,c[u++]=s>>>16&255,c[u++]=s>>>8&255,c[u++]=255&s}else for(c[u++]=255&s,c[u++]=s>>>8&255,c[u++]=s>>>16&255,c[u++]=s>>>24&255,c[u++]=0,c[u++]=0,c[u++]=0,c[u++]=0,d=8;d<this.padLength;d++)c[u++]=0;return c}},{"./utils":437,"minimalistic-assert":453}],428:[function(n,e,t){"use strict";var i=n("./utils"),r=n("minimalistic-assert");function o(s,a,l){if(!(this instanceof o))return new o(s,a,l);this.Hash=s,this.blockSize=s.blockSize/8,this.outSize=s.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(a,l))}e.exports=o,o.prototype._init=function(s){s.length>this.blockSize&&(s=new this.Hash().update(s).digest()),r(s.length<=this.blockSize);for(var a=s.length;a<this.blockSize;a++)s.push(0);for(a=0;a<s.length;a++)s[a]^=54;for(this.inner=new this.Hash().update(s),a=0;a<s.length;a++)s[a]^=106;this.outer=new this.Hash().update(s)},o.prototype.update=function(s,a){return this.inner.update(s,a),this},o.prototype.digest=function(s){return this.outer.update(this.inner.digest()),this.outer.digest(s)}},{"./utils":437,"minimalistic-assert":453}],429:[function(n,e,t){"use strict";var i=n("./utils"),r=n("./common"),o=i.rotl32,s=i.sum32,a=i.sum32_3,l=i.sum32_4,c=r.BlockHash;function u(){if(!(this instanceof u))return new u;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(x,I,N,H){return x<=15?I^N^H:x<=31?I&N|~I&H:x<=47?(I|~N)^H:x<=63?I&H|N&~H:I^(N|~H)}function f(x){return x<=15?0:x<=31?1518500249:x<=47?1859775393:x<=63?2400959708:2840853838}function h(x){return x<=15?1352829926:x<=31?1548603684:x<=47?1836072691:x<=63?2053994217:0}i.inherits(u,c),t.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(x,I){for(var N=this.h[0],H=this.h[1],F=this.h[2],B=this.h[3],V=this.h[4],G=N,W=H,k=F,E=B,L=V,b=0;b<80;b++){var w=s(o(l(N,d(b,H,F,B),x[m[b]+I],f(b)),g[b]),V);N=V,V=B,B=o(F,10),F=H,H=w,w=s(o(l(G,d(79-b,W,k,E),x[p[b]+I],h(b)),v[b]),L),G=L,L=E,E=o(k,10),k=W,W=w}w=a(this.h[1],F,E),this.h[1]=a(this.h[2],B,L),this.h[2]=a(this.h[3],V,G),this.h[3]=a(this.h[4],N,W),this.h[4]=a(this.h[0],H,k),this.h[0]=w},u.prototype._digest=function(x){return x==="hex"?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],p=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(n,e,t){"use strict";t.sha1=n("./sha/1"),t.sha224=n("./sha/224"),t.sha256=n("./sha/256"),t.sha384=n("./sha/384"),t.sha512=n("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(n,e,t){"use strict";var i=n("../utils"),r=n("../common"),o=n("./common"),s=i.rotl32,a=i.sum32,l=i.sum32_5,c=o.ft_1,u=r.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(f,u),e.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(h,m){for(var p=this.W,g=0;g<16;g++)p[g]=h[m+g];for(;g<p.length;g++)p[g]=s(p[g-3]^p[g-8]^p[g-14]^p[g-16],1);var v=this.h[0],x=this.h[1],I=this.h[2],N=this.h[3],H=this.h[4];for(g=0;g<p.length;g++){var F=~~(g/20),B=l(s(v,5),c(F,x,I,N),H,p[g],d[F]);H=N,N=I,I=s(x,30),x=v,v=B}this.h[0]=a(this.h[0],v),this.h[1]=a(this.h[1],x),this.h[2]=a(this.h[2],I),this.h[3]=a(this.h[3],N),this.h[4]=a(this.h[4],H)},f.prototype._digest=function(h){return h==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(n,e,t){"use strict";var i=n("../utils"),r=n("./256");function o(){if(!(this instanceof o))return new o;r.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(o,r),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(s){return s==="hex"?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(n,e,t){"use strict";var i=n("../utils"),r=n("../common"),o=n("./common"),s=n("minimalistic-assert"),a=i.sum32,l=i.sum32_4,c=i.sum32_5,u=o.ch32,d=o.maj32,f=o.s0_256,h=o.s1_256,m=o.g0_256,p=o.g1_256,g=r.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function x(){if(!(this instanceof x))return new x;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}i.inherits(x,g),e.exports=x,x.blockSize=512,x.outSize=256,x.hmacStrength=192,x.padLength=64,x.prototype._update=function(I,N){for(var H=this.W,F=0;F<16;F++)H[F]=I[N+F];for(;F<H.length;F++)H[F]=l(p(H[F-2]),H[F-7],m(H[F-15]),H[F-16]);var B=this.h[0],V=this.h[1],G=this.h[2],W=this.h[3],k=this.h[4],E=this.h[5],L=this.h[6],b=this.h[7];for(s(this.k.length===H.length),F=0;F<H.length;F++){var w=c(b,h(k),u(k,E,L),this.k[F],H[F]),_=a(f(B),d(B,V,G));b=L,L=E,E=k,k=a(W,w),W=G,G=V,V=B,B=a(w,_)}this.h[0]=a(this.h[0],B),this.h[1]=a(this.h[1],V),this.h[2]=a(this.h[2],G),this.h[3]=a(this.h[3],W),this.h[4]=a(this.h[4],k),this.h[5]=a(this.h[5],E),this.h[6]=a(this.h[6],L),this.h[7]=a(this.h[7],b)},x.prototype._digest=function(I){return I==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(n,e,t){"use strict";var i=n("../utils"),r=n("./512");function o(){if(!(this instanceof o))return new o;r.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(o,r),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(s){return s==="hex"?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(n,e,t){"use strict";var i=n("../utils"),r=n("../common"),o=n("minimalistic-assert"),s=i.rotr64_hi,a=i.rotr64_lo,l=i.shr64_hi,c=i.shr64_lo,u=i.sum64,d=i.sum64_hi,f=i.sum64_lo,h=i.sum64_4_hi,m=i.sum64_4_lo,p=i.sum64_5_hi,g=i.sum64_5_lo,v=r.BlockHash,x=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function I(){if(!(this instanceof I))return new I;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=x,this.W=new Array(160)}function N(_,y,C,S,R){var Z=_&C^~_&R;return Z<0&&(Z+=4294967296),Z}function H(_,y,C,S,R,Z){var j=y&S^~y&Z;return j<0&&(j+=4294967296),j}function F(_,y,C,S,R){var Z=_&C^_&R^C&R;return Z<0&&(Z+=4294967296),Z}function B(_,y,C,S,R,Z){var j=y&S^y&Z^S&Z;return j<0&&(j+=4294967296),j}function V(_,y){var C=s(_,y,28)^s(y,_,2)^s(y,_,7);return C<0&&(C+=4294967296),C}function G(_,y){var C=a(_,y,28)^a(y,_,2)^a(y,_,7);return C<0&&(C+=4294967296),C}function W(_,y){var C=s(_,y,14)^s(_,y,18)^s(y,_,9);return C<0&&(C+=4294967296),C}function k(_,y){var C=a(_,y,14)^a(_,y,18)^a(y,_,9);return C<0&&(C+=4294967296),C}function E(_,y){var C=s(_,y,1)^s(_,y,8)^l(_,y,7);return C<0&&(C+=4294967296),C}function L(_,y){var C=a(_,y,1)^a(_,y,8)^c(_,y,7);return C<0&&(C+=4294967296),C}function b(_,y){var C=s(_,y,19)^s(y,_,29)^l(_,y,6);return C<0&&(C+=4294967296),C}function w(_,y){var C=a(_,y,19)^a(y,_,29)^c(_,y,6);return C<0&&(C+=4294967296),C}i.inherits(I,v),e.exports=I,I.blockSize=1024,I.outSize=512,I.hmacStrength=192,I.padLength=128,I.prototype._prepareBlock=function(_,y){for(var C=this.W,S=0;S<32;S++)C[S]=_[y+S];for(;S<C.length;S+=2){var R=b(C[S-4],C[S-3]),Z=w(C[S-4],C[S-3]),j=C[S-14],X=C[S-13],D=E(C[S-30],C[S-29]),Y=L(C[S-30],C[S-29]),P=C[S-32],M=C[S-31];C[S]=h(R,Z,j,X,D,Y,P,M),C[S+1]=m(R,Z,j,X,D,Y,P,M)}},I.prototype._update=function(_,y){this._prepareBlock(_,y);var C=this.W,S=this.h[0],R=this.h[1],Z=this.h[2],j=this.h[3],X=this.h[4],D=this.h[5],Y=this.h[6],P=this.h[7],M=this.h[8],$=this.h[9],te=this.h[10],ue=this.h[11],re=this.h[12],ce=this.h[13],_e=this.h[14],xe=this.h[15];o(this.k.length===C.length);for(var ie=0;ie<C.length;ie+=2){var se=_e,ge=xe,Ae=W(M,$),Ee=k(M,$),Te=N(M,$,te,ue,re),Se=H(M,$,te,ue,re,ce),Fe=this.k[ie],He=this.k[ie+1],Ze=C[ie],ut=C[ie+1],tt=p(se,ge,Ae,Ee,Te,Se,Fe,He,Ze,ut),pt=g(se,ge,Ae,Ee,Te,Se,Fe,He,Ze,ut);se=V(S,R),ge=G(S,R),Ae=F(S,R,Z,j,X),Ee=B(S,R,Z,j,X,D);var Zt=d(se,ge,Ae,Ee),bt=f(se,ge,Ae,Ee);_e=re,xe=ce,re=te,ce=ue,te=M,ue=$,M=d(Y,P,tt,pt),$=f(P,P,tt,pt),Y=X,P=D,X=Z,D=j,Z=S,j=R,S=d(tt,pt,Zt,bt),R=f(tt,pt,Zt,bt)}u(this.h,0,S,R),u(this.h,2,Z,j),u(this.h,4,X,D),u(this.h,6,Y,P),u(this.h,8,M,$),u(this.h,10,te,ue),u(this.h,12,re,ce),u(this.h,14,_e,xe)},I.prototype._digest=function(_){return _==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(n,e,t){"use strict";var i=n("../utils").rotr32;function r(a,l,c){return a&l^~a&c}function o(a,l,c){return a&l^a&c^l&c}function s(a,l,c){return a^l^c}t.ft_1=function(a,l,c,u){return a===0?r(l,c,u):a===1||a===3?s(l,c,u):a===2?o(l,c,u):void 0},t.ch32=r,t.maj32=o,t.p32=s,t.s0_256=function(a){return i(a,2)^i(a,13)^i(a,22)},t.s1_256=function(a){return i(a,6)^i(a,11)^i(a,25)},t.g0_256=function(a){return i(a,7)^i(a,18)^a>>>3},t.g1_256=function(a){return i(a,17)^i(a,19)^a>>>10}},{"../utils":437}],437:[function(n,e,t){"use strict";var i=n("minimalistic-assert"),r=n("inherits");function o(c,u){return(64512&c.charCodeAt(u))==55296&&!(u<0||u+1>=c.length)&&(64512&c.charCodeAt(u+1))==56320}function s(c){return(c>>>24|c>>>8&65280|c<<8&16711680|(255&c)<<24)>>>0}function a(c){return c.length===1?"0"+c:c}function l(c){return c.length===7?"0"+c:c.length===6?"00"+c:c.length===5?"000"+c:c.length===4?"0000"+c:c.length===3?"00000"+c:c.length===2?"000000"+c:c.length===1?"0000000"+c:c}t.inherits=r,t.toArray=function(c,u){if(Array.isArray(c))return c.slice();if(!c)return[];var d=[];if(typeof c=="string")if(u){if(u==="hex")for((c=c.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(c="0"+c),h=0;h<c.length;h+=2)d.push(parseInt(c[h]+c[h+1],16))}else for(var f=0,h=0;h<c.length;h++){var m=c.charCodeAt(h);m<128?d[f++]=m:m<2048?(d[f++]=m>>6|192,d[f++]=63&m|128):o(c,h)?(m=65536+((1023&m)<<10)+(1023&c.charCodeAt(++h)),d[f++]=m>>18|240,d[f++]=m>>12&63|128,d[f++]=m>>6&63|128,d[f++]=63&m|128):(d[f++]=m>>12|224,d[f++]=m>>6&63|128,d[f++]=63&m|128)}else for(h=0;h<c.length;h++)d[h]=0|c[h];return d},t.toHex=function(c){for(var u="",d=0;d<c.length;d++)u+=a(c[d].toString(16));return u},t.htonl=s,t.toHex32=function(c,u){for(var d="",f=0;f<c.length;f++){var h=c[f];u==="little"&&(h=s(h)),d+=l(h.toString(16))}return d},t.zero2=a,t.zero8=l,t.join32=function(c,u,d,f){var h=d-u;i(h%4==0);for(var m=new Array(h/4),p=0,g=u;p<m.length;p++,g+=4){var v;v=f==="big"?c[g]<<24|c[g+1]<<16|c[g+2]<<8|c[g+3]:c[g+3]<<24|c[g+2]<<16|c[g+1]<<8|c[g],m[p]=v>>>0}return m},t.split32=function(c,u){for(var d=new Array(4*c.length),f=0,h=0;f<c.length;f++,h+=4){var m=c[f];u==="big"?(d[h]=m>>>24,d[h+1]=m>>>16&255,d[h+2]=m>>>8&255,d[h+3]=255&m):(d[h+3]=m>>>24,d[h+2]=m>>>16&255,d[h+1]=m>>>8&255,d[h]=255&m)}return d},t.rotr32=function(c,u){return c>>>u|c<<32-u},t.rotl32=function(c,u){return c<<u|c>>>32-u},t.sum32=function(c,u){return c+u>>>0},t.sum32_3=function(c,u,d){return c+u+d>>>0},t.sum32_4=function(c,u,d,f){return c+u+d+f>>>0},t.sum32_5=function(c,u,d,f,h){return c+u+d+f+h>>>0},t.sum64=function(c,u,d,f){var h=c[u],m=f+c[u+1]>>>0,p=(m<f?1:0)+d+h;c[u]=p>>>0,c[u+1]=m},t.sum64_hi=function(c,u,d,f){return(u+f>>>0<u?1:0)+c+d>>>0},t.sum64_lo=function(c,u,d,f){return u+f>>>0},t.sum64_4_hi=function(c,u,d,f,h,m,p,g){var v=0,x=u;return v+=(x=x+f>>>0)<u?1:0,v+=(x=x+m>>>0)<m?1:0,c+d+h+p+(v+=(x=x+g>>>0)<g?1:0)>>>0},t.sum64_4_lo=function(c,u,d,f,h,m,p,g){return u+f+m+g>>>0},t.sum64_5_hi=function(c,u,d,f,h,m,p,g,v,x){var I=0,N=u;return I+=(N=N+f>>>0)<u?1:0,I+=(N=N+m>>>0)<m?1:0,I+=(N=N+g>>>0)<g?1:0,c+d+h+p+v+(I+=(N=N+x>>>0)<x?1:0)>>>0},t.sum64_5_lo=function(c,u,d,f,h,m,p,g,v,x){return u+f+m+g+x>>>0},t.rotr64_hi=function(c,u,d){return(u<<32-d|c>>>d)>>>0},t.rotr64_lo=function(c,u,d){return(c<<32-d|u>>>d)>>>0},t.shr64_hi=function(c,u,d){return c>>>d},t.shr64_lo=function(c,u,d){return(c<<32-d|u>>>d)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(n,e,t){"use strict";var i=n("hash.js"),r=n("minimalistic-crypto-utils"),o=n("minimalistic-assert");function s(a){if(!(this instanceof s))return new s(a);this.hash=a.hash,this.predResist=!!a.predResist,this.outLen=this.hash.outSize,this.minEntropy=a.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var l=r.toArray(a.entropy,a.entropyEnc||"hex"),c=r.toArray(a.nonce,a.nonceEnc||"hex"),u=r.toArray(a.pers,a.persEnc||"hex");o(l.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(l,c,u)}e.exports=s,s.prototype._init=function(a,l,c){var u=a.concat(l).concat(c);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var d=0;d<this.V.length;d++)this.K[d]=0,this.V[d]=1;this._update(u),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},s.prototype._update=function(a){var l=this._hmac().update(this.V).update([0]);a&&(l=l.update(a)),this.K=l.digest(),this.V=this._hmac().update(this.V).digest(),a&&(this.K=this._hmac().update(this.V).update([1]).update(a).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(a,l,c,u){typeof l!="string"&&(u=c,c=l,l=null),a=r.toArray(a,l),c=r.toArray(c,u),o(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(a.concat(c||[])),this._reseed=1},s.prototype.generate=function(a,l,c,u){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof l!="string"&&(u=c,c=l,l=null),c&&(c=r.toArray(c,u||"hex"),this._update(c));for(var d=[];d.length<a;)this.V=this._hmac().update(this.V).digest(),d=d.concat(this.V);var f=d.slice(0,a);return this._update(c),this._reseed++,r.encode(f,l)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(n,e,t){"use strict";t.read=function(i,r,o,s,a){var l,c,u=8*a-s-1,d=(1<<u)-1,f=d>>1,h=-7,m=o?a-1:0,p=o?-1:1,g=i[r+m];for(m+=p,l=g&(1<<-h)-1,g>>=-h,h+=u;h>0;l=256*l+i[r+m],m+=p,h-=8);for(c=l&(1<<-h)-1,l>>=-h,h+=s;h>0;c=256*c+i[r+m],m+=p,h-=8);if(l===0)l=1-f;else{if(l===d)return c?NaN:1/0*(g?-1:1);c+=Math.pow(2,s),l-=f}return(g?-1:1)*c*Math.pow(2,l-s)},t.write=function(i,r,o,s,a,l){var c,u,d,f=8*l-a-1,h=(1<<f)-1,m=h>>1,p=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=s?0:l-1,v=s?1:-1,x=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(u=isNaN(r)?1:0,c=h):(c=Math.floor(Math.log(r)/Math.LN2),r*(d=Math.pow(2,-c))<1&&(c--,d*=2),(r+=c+m>=1?p/d:p*Math.pow(2,1-m))*d>=2&&(c++,d/=2),c+m>=h?(u=0,c=h):c+m>=1?(u=(r*d-1)*Math.pow(2,a),c+=m):(u=r*Math.pow(2,m-1)*Math.pow(2,a),c=0));a>=8;i[o+g]=255&u,g+=v,u/=256,a-=8);for(c=c<<a|u,f+=a;f>0;i[o+g]=255&c,g+=v,c/=256,f-=8);i[o+g-v]|=128*x}},{}],440:[function(n,e,t){"use strict";typeof Object.create=="function"?e.exports=function(i,r){r&&(i.super_=r,i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(i,r){if(r){i.super_=r;var o=function(){};o.prototype=r.prototype,i.prototype=new o,i.prototype.constructor=i}}},{}],441:[function(n,e,t){(function(i,r,o,s,a,l,c,u){(function(){"use strict";(function(d){typeof t=="object"&&e!==void 0?e.exports=d():(typeof window<"u"?window:r!==void 0?r:typeof self<"u"?self:this).JSZip=d()})(function(){return function d(f,h,m){function p(x,I){if(!h[x]){if(!f[x]){var N=typeof n=="function"&&n;if(!I&&N)return N(x,!0);if(g)return g(x,!0);var H=new Error("Cannot find module '"+x+"'");throw H.code="MODULE_NOT_FOUND",H}var F=h[x]={exports:{}};f[x][0].call(F.exports,function(B){return p(f[x][1][B]||B)},F,F.exports,d,f,h,m)}return h[x].exports}for(var g=typeof n=="function"&&n,v=0;v<m.length;v++)p(m[v]);return p}({1:[function(d,f,h){var m=d("./utils"),p=d("./support"),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";h.encode=function(v){for(var x,I,N,H,F,B,V,G=[],W=0,k=v.length,E=k,L=m.getTypeOf(v)!=="string";W<v.length;)E=k-W,N=L?(x=v[W++],I=W<k?v[W++]:0,W<k?v[W++]:0):(x=v.charCodeAt(W++),I=W<k?v.charCodeAt(W++):0,W<k?v.charCodeAt(W++):0),H=x>>2,F=(3&x)<<4|I>>4,B=1<E?(15&I)<<2|N>>6:64,V=2<E?63&N:64,G.push(g.charAt(H)+g.charAt(F)+g.charAt(B)+g.charAt(V));return G.join("")},h.decode=function(v){var x,I,N,H,F,B,V=0,G=0,W="data:";if(v.substr(0,W.length)===W)throw new Error("Invalid base64 input, it looks like a data url.");var k,E=3*(v=v.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(v.charAt(v.length-1)===g.charAt(64)&&E--,v.charAt(v.length-2)===g.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(k=p.uint8array?new Uint8Array(0|E):new Array(0|E);V<v.length;)x=g.indexOf(v.charAt(V++))<<2|(H=g.indexOf(v.charAt(V++)))>>4,I=(15&H)<<4|(F=g.indexOf(v.charAt(V++)))>>2,N=(3&F)<<6|(B=g.indexOf(v.charAt(V++))),k[G++]=x,F!==64&&(k[G++]=I),B!==64&&(k[G++]=N);return k}},{"./support":30,"./utils":32}],2:[function(d,f,h){var m=d("./external"),p=d("./stream/DataWorker"),g=d("./stream/Crc32Probe"),v=d("./stream/DataLengthProbe");function x(I,N,H,F,B){this.compressedSize=I,this.uncompressedSize=N,this.crc32=H,this.compression=F,this.compressedContent=B}x.prototype={getContentWorker:function(){var I=new p(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new v("data_length")),N=this;return I.on("end",function(){if(this.streamInfo.data_length!==N.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),I},getCompressedWorker:function(){return new p(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},x.createWorkerFrom=function(I,N,H){return I.pipe(new g).pipe(new v("uncompressedSize")).pipe(N.compressWorker(H)).pipe(new v("compressedSize")).withStreamInfo("compression",N)},f.exports=x},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(d,f,h){var m=d("./stream/GenericWorker");h.STORE={magic:"\0\0",compressWorker:function(){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},h.DEFLATE=d("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(d,f,h){var m=d("./utils"),p=function(){for(var g,v=[],x=0;x<256;x++){g=x;for(var I=0;I<8;I++)g=1&g?3988292384^g>>>1:g>>>1;v[x]=g}return v}();f.exports=function(g,v){return g!==void 0&&g.length?m.getTypeOf(g)!=="string"?function(x,I,N,H){var F=p,B=0+N;x^=-1;for(var V=0;V<B;V++)x=x>>>8^F[255&(x^I[V])];return-1^x}(0|v,g,g.length):function(x,I,N,H){var F=p,B=0+N;x^=-1;for(var V=0;V<B;V++)x=x>>>8^F[255&(x^I.charCodeAt(V))];return-1^x}(0|v,g,g.length):0}},{"./utils":32}],5:[function(d,f,h){h.base64=!1,h.binary=!1,h.dir=!1,h.createFolders=!0,h.date=null,h.compression=null,h.compressionOptions=null,h.comment=null,h.unixPermissions=null,h.dosPermissions=null},{}],6:[function(d,f,h){var m;m=typeof Promise<"u"?Promise:d("lie"),f.exports={Promise:m}},{lie:37}],7:[function(d,f,h){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",p=d("pako"),g=d("./utils"),v=d("./stream/GenericWorker"),x=m?"uint8array":"array";function I(N,H){v.call(this,"FlateWorker/"+N),this._pako=null,this._pakoAction=N,this._pakoOptions=H,this.meta={}}h.magic="\b\0",g.inherits(I,v),I.prototype.processChunk=function(N){this.meta=N.meta,this._pako===null&&this._createPako(),this._pako.push(g.transformTo(x,N.data),!1)},I.prototype.flush=function(){v.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},I.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this._pako=null},I.prototype._createPako=function(){this._pako=new p[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var N=this;this._pako.onData=function(H){N.push({data:H,meta:N.meta})}},h.compressWorker=function(N){return new I("Deflate",N)},h.uncompressWorker=function(){return new I("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(d,f,h){function m(F,B){var V,G="";for(V=0;V<B;V++)G+=String.fromCharCode(255&F),F>>>=8;return G}function p(F,B,V,G,W,k){var E,L,b=F.file,w=F.compression,_=k!==x.utf8encode,y=g.transformTo("string",k(b.name)),C=g.transformTo("string",x.utf8encode(b.name)),S=b.comment,R=g.transformTo("string",k(S)),Z=g.transformTo("string",x.utf8encode(S)),j=C.length!==b.name.length,X=Z.length!==S.length,D="",Y="",P="",M=b.dir,$=b.date,te={crc32:0,compressedSize:0,uncompressedSize:0};B&&!V||(te.crc32=F.crc32,te.compressedSize=F.compressedSize,te.uncompressedSize=F.uncompressedSize);var ue=0;B&&(ue|=8),_||!j&&!X||(ue|=2048);var re=0,ce=0;M&&(re|=16),W==="UNIX"?(ce=798,re|=function(xe,ie){var se=xe;return xe||(se=ie?16893:33204),(65535&se)<<16}(b.unixPermissions,M)):(ce=20,re|=function(xe){return 63&(xe||0)}(b.dosPermissions)),E=$.getUTCHours(),E<<=6,E|=$.getUTCMinutes(),E<<=5,E|=$.getUTCSeconds()/2,L=$.getUTCFullYear()-1980,L<<=4,L|=$.getUTCMonth()+1,L<<=5,L|=$.getUTCDate(),j&&(Y=m(1,1)+m(I(y),4)+C,D+="up"+m(Y.length,2)+Y),X&&(P=m(1,1)+m(I(R),4)+Z,D+="uc"+m(P.length,2)+P);var _e="";return _e+=`
\0`,_e+=m(ue,2),_e+=w.magic,_e+=m(E,2),_e+=m(L,2),_e+=m(te.crc32,4),_e+=m(te.compressedSize,4),_e+=m(te.uncompressedSize,4),_e+=m(y.length,2),_e+=m(D.length,2),{fileRecord:N.LOCAL_FILE_HEADER+_e+y+D,dirRecord:N.CENTRAL_FILE_HEADER+m(ce,2)+_e+m(R.length,2)+"\0\0\0\0"+m(re,4)+m(G,4)+y+D+R}}var g=d("../utils"),v=d("../stream/GenericWorker"),x=d("../utf8"),I=d("../crc32"),N=d("../signature");function H(F,B,V,G){v.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=B,this.zipPlatform=V,this.encodeFileName=G,this.streamFiles=F,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}g.inherits(H,v),H.prototype.push=function(F){var B=F.meta.percent||0,V=this.entriesCount,G=this._sources.length;this.accumulate?this.contentBuffer.push(F):(this.bytesWritten+=F.data.length,v.prototype.push.call(this,{data:F.data,meta:{currentFile:this.currentFile,percent:V?(B+100*(V-G-1))/V:100}}))},H.prototype.openedSource=function(F){this.currentSourceOffset=this.bytesWritten,this.currentFile=F.file.name;var B=this.streamFiles&&!F.file.dir;if(B){var V=p(F,B,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:V.fileRecord,meta:{percent:0}})}else this.accumulate=!0},H.prototype.closedSource=function(F){this.accumulate=!1;var B=this.streamFiles&&!F.file.dir,V=p(F,B,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(V.dirRecord),B)this.push({data:function(G){return N.DATA_DESCRIPTOR+m(G.crc32,4)+m(G.compressedSize,4)+m(G.uncompressedSize,4)}(F),meta:{percent:100}});else for(this.push({data:V.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},H.prototype.flush=function(){for(var F=this.bytesWritten,B=0;B<this.dirRecords.length;B++)this.push({data:this.dirRecords[B],meta:{percent:100}});var V=this.bytesWritten-F,G=function(W,k,E,L,b){var w=g.transformTo("string",b(L));return N.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(W,2)+m(W,2)+m(k,4)+m(E,4)+m(w.length,2)+w}(this.dirRecords.length,V,F,this.zipComment,this.encodeFileName);this.push({data:G,meta:{percent:100}})},H.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},H.prototype.registerPrevious=function(F){this._sources.push(F);var B=this;return F.on("data",function(V){B.processChunk(V)}),F.on("end",function(){B.closedSource(B.previous.streamInfo),B._sources.length?B.prepareNextSource():B.end()}),F.on("error",function(V){B.error(V)}),this},H.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},H.prototype.error=function(F){var B=this._sources;if(!v.prototype.error.call(this,F))return!1;for(var V=0;V<B.length;V++)try{B[V].error(F)}catch{}return!0},H.prototype.lock=function(){v.prototype.lock.call(this);for(var F=this._sources,B=0;B<F.length;B++)F[B].lock()},f.exports=H},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(d,f,h){var m=d("../compressions"),p=d("./ZipFileWorker");h.generateWorker=function(g,v,x){var I=new p(v.streamFiles,x,v.platform,v.encodeFileName),N=0;try{g.forEach(function(H,F){N++;var B=function(k,E){var L=k||E,b=m[L];if(!b)throw new Error(L+" is not a valid compression method !");return b}(F.options.compression,v.compression),V=F.options.compressionOptions||v.compressionOptions||{},G=F.dir,W=F.date;F._compressWorker(B,V).withStreamInfo("file",{name:H,dir:G,date:W,comment:F.comment||"",unixPermissions:F.unixPermissions,dosPermissions:F.dosPermissions}).pipe(I)}),I.entriesCount=N}catch(H){I.error(H)}return I}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(d,f,h){function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var p=new m;for(var g in this)typeof this[g]!="function"&&(p[g]=this[g]);return p}}(m.prototype=d("./object")).loadAsync=d("./load"),m.support=d("./support"),m.defaults=d("./defaults"),m.version="3.10.1",m.loadAsync=function(p,g){return new m().loadAsync(p,g)},m.external=d("./external"),f.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(d,f,h){var m=d("./utils"),p=d("./external"),g=d("./utf8"),v=d("./zipEntries"),x=d("./stream/Crc32Probe"),I=d("./nodejsUtils");function N(H){return new p.Promise(function(F,B){var V=H.decompressed.getContentWorker().pipe(new x);V.on("error",function(G){B(G)}).on("end",function(){V.streamInfo.crc32!==H.decompressed.crc32?B(new Error("Corrupted zip : CRC32 mismatch")):F()}).resume()})}f.exports=function(H,F){var B=this;return F=m.extend(F||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:g.utf8decode}),I.isNode&&I.isStream(H)?p.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",H,!0,F.optimizedBinaryString,F.base64).then(function(V){var G=new v(F);return G.load(V),G}).then(function(V){var G=[p.Promise.resolve(V)],W=V.files;if(F.checkCRC32)for(var k=0;k<W.length;k++)G.push(N(W[k]));return p.Promise.all(G)}).then(function(V){for(var G=V.shift(),W=G.files,k=0;k<W.length;k++){var E=W[k],L=E.fileNameStr,b=m.resolve(E.fileNameStr);B.file(b,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:F.createFolders}),E.dir||(B.file(b).unsafeOriginalName=L)}return G.zipComment.length&&(B.comment=G.zipComment),B})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(d,f,h){var m=d("../utils"),p=d("../stream/GenericWorker");function g(v,x){p.call(this,"Nodejs stream input adapter for "+v),this._upstreamEnded=!1,this._bindStream(x)}m.inherits(g,p),g.prototype._bindStream=function(v){var x=this;(this._stream=v).pause(),v.on("data",function(I){x.push({data:I,meta:{percent:0}})}).on("error",function(I){x.isPaused?this.generatedError=I:x.error(I)}).on("end",function(){x.isPaused?x._upstreamEnded=!0:x.end()})},g.prototype.pause=function(){return!!p.prototype.pause.call(this)&&(this._stream.pause(),!0)},g.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},f.exports=g},{"../stream/GenericWorker":28,"../utils":32}],13:[function(d,f,h){var m=d("readable-stream").Readable;function p(g,v,x){m.call(this,v),this._helper=g;var I=this;g.on("data",function(N,H){I.push(N)||I._helper.pause(),x&&x(H)}).on("error",function(N){I.emit("error",N)}).on("end",function(){I.push(null)})}d("../utils").inherits(p,m),p.prototype._read=function(){this._helper.resume()},f.exports=p},{"../utils":32,"readable-stream":16}],14:[function(d,f,h){f.exports={isNode:o!==void 0,newBufferFrom:function(m,p){if(o.from&&o.from!==Uint8Array.from)return o.from(m,p);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new o(m,p)},allocBuffer:function(m){if(o.alloc)return o.alloc(m);var p=new o(m);return p.fill(0),p},isBuffer:function(m){return o.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(d,f,h){function m(b,w,_){var y,C=g.getTypeOf(w),S=g.extend(_||{},I);S.date=S.date||new Date,S.compression!==null&&(S.compression=S.compression.toUpperCase()),typeof S.unixPermissions=="string"&&(S.unixPermissions=parseInt(S.unixPermissions,8)),S.unixPermissions&&16384&S.unixPermissions&&(S.dir=!0),S.dosPermissions&&16&S.dosPermissions&&(S.dir=!0),S.dir&&(b=W(b)),S.createFolders&&(y=G(b))&&k.call(this,y,!0);var R=C==="string"&&S.binary===!1&&S.base64===!1;_&&_.binary!==void 0||(S.binary=!R),(w instanceof N&&w.uncompressedSize===0||S.dir||!w||w.length===0)&&(S.base64=!1,S.binary=!0,w="",S.compression="STORE",C="string");var Z;Z=w instanceof N||w instanceof v?w:B.isNode&&B.isStream(w)?new V(b,w):g.prepareContent(b,w,S.binary,S.optimizedBinaryString,S.base64);var j=new H(b,Z,S);this.files[b]=j}var p=d("./utf8"),g=d("./utils"),v=d("./stream/GenericWorker"),x=d("./stream/StreamHelper"),I=d("./defaults"),N=d("./compressedObject"),H=d("./zipObject"),F=d("./generate"),B=d("./nodejsUtils"),V=d("./nodejs/NodejsStreamInputAdapter"),G=function(b){b.slice(-1)==="/"&&(b=b.substring(0,b.length-1));var w=b.lastIndexOf("/");return 0<w?b.substring(0,w):""},W=function(b){return b.slice(-1)!=="/"&&(b+="/"),b},k=function(b,w){return w=w!==void 0?w:I.createFolders,b=W(b),this.files[b]||m.call(this,b,null,{dir:!0,createFolders:w}),this.files[b]};function E(b){return Object.prototype.toString.call(b)==="[object RegExp]"}var L={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(b){var w,_,y;for(w in this.files)y=this.files[w],(_=w.slice(this.root.length,w.length))&&w.slice(0,this.root.length)===this.root&&b(_,y)},filter:function(b){var w=[];return this.forEach(function(_,y){b(_,y)&&w.push(y)}),w},file:function(b,w,_){if(arguments.length!==1)return b=this.root+b,m.call(this,b,w,_),this;if(E(b)){var y=b;return this.filter(function(S,R){return!R.dir&&y.test(S)})}var C=this.files[this.root+b];return C&&!C.dir?C:null},folder:function(b){if(!b)return this;if(E(b))return this.filter(function(C,S){return S.dir&&b.test(C)});var w=this.root+b,_=k.call(this,w),y=this.clone();return y.root=_.name,y},remove:function(b){b=this.root+b;var w=this.files[b];if(w||(b.slice(-1)!=="/"&&(b+="/"),w=this.files[b]),w&&!w.dir)delete this.files[b];else for(var _=this.filter(function(C,S){return S.name.slice(0,b.length)===b}),y=0;y<_.length;y++)delete this.files[_[y].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(b){var w,_={};try{if((_=g.extend(b||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:p.utf8encode})).type=_.type.toLowerCase(),_.compression=_.compression.toUpperCase(),_.type==="binarystring"&&(_.type="string"),!_.type)throw new Error("No output type specified.");g.checkSupport(_.type),_.platform!=="darwin"&&_.platform!=="freebsd"&&_.platform!=="linux"&&_.platform!=="sunos"||(_.platform="UNIX"),_.platform==="win32"&&(_.platform="DOS");var y=_.comment||this.comment||"";w=F.generateWorker(this,_,y)}catch(C){(w=new v("error")).error(C)}return new x(w,_.type||"string",_.mimeType)},generateAsync:function(b,w){return this.generateInternalStream(b).accumulate(w)},generateNodeStream:function(b,w){return(b=b||{}).type||(b.type="nodebuffer"),this.generateInternalStream(b).toNodejsStream(w)}};f.exports=L},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(d,f,h){f.exports=d("stream")},{stream:void 0}],17:[function(d,f,h){var m=d("./DataReader");function p(g){m.call(this,g);for(var v=0;v<this.data.length;v++)g[v]=255&g[v]}d("../utils").inherits(p,m),p.prototype.byteAt=function(g){return this.data[this.zero+g]},p.prototype.lastIndexOfSignature=function(g){for(var v=g.charCodeAt(0),x=g.charCodeAt(1),I=g.charCodeAt(2),N=g.charCodeAt(3),H=this.length-4;0<=H;--H)if(this.data[H]===v&&this.data[H+1]===x&&this.data[H+2]===I&&this.data[H+3]===N)return H-this.zero;return-1},p.prototype.readAndCheckSignature=function(g){var v=g.charCodeAt(0),x=g.charCodeAt(1),I=g.charCodeAt(2),N=g.charCodeAt(3),H=this.readData(4);return v===H[0]&&x===H[1]&&I===H[2]&&N===H[3]},p.prototype.readData=function(g){if(this.checkOffset(g),g===0)return[];var v=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,v},f.exports=p},{"../utils":32,"./DataReader":18}],18:[function(d,f,h){var m=d("../utils");function p(g){this.data=g,this.length=g.length,this.index=0,this.zero=0}p.prototype={checkOffset:function(g){this.checkIndex(this.index+g)},checkIndex:function(g){if(this.length<this.zero+g||g<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+g+"). Corrupted zip ?")},setIndex:function(g){this.checkIndex(g),this.index=g},skip:function(g){this.setIndex(this.index+g)},byteAt:function(){},readInt:function(g){var v,x=0;for(this.checkOffset(g),v=this.index+g-1;v>=this.index;v--)x=(x<<8)+this.byteAt(v);return this.index+=g,x},readString:function(g){return m.transformTo("string",this.readData(g))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var g=this.readInt(4);return new Date(Date.UTC(1980+(g>>25&127),(g>>21&15)-1,g>>16&31,g>>11&31,g>>5&63,(31&g)<<1))}},f.exports=p},{"../utils":32}],19:[function(d,f,h){var m=d("./Uint8ArrayReader");function p(g){m.call(this,g)}d("../utils").inherits(p,m),p.prototype.readData=function(g){this.checkOffset(g);var v=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,v},f.exports=p},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(d,f,h){var m=d("./DataReader");function p(g){m.call(this,g)}d("../utils").inherits(p,m),p.prototype.byteAt=function(g){return this.data.charCodeAt(this.zero+g)},p.prototype.lastIndexOfSignature=function(g){return this.data.lastIndexOf(g)-this.zero},p.prototype.readAndCheckSignature=function(g){return g===this.readData(4)},p.prototype.readData=function(g){this.checkOffset(g);var v=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,v},f.exports=p},{"../utils":32,"./DataReader":18}],21:[function(d,f,h){var m=d("./ArrayReader");function p(g){m.call(this,g)}d("../utils").inherits(p,m),p.prototype.readData=function(g){if(this.checkOffset(g),g===0)return new Uint8Array(0);var v=this.data.subarray(this.zero+this.index,this.zero+this.index+g);return this.index+=g,v},f.exports=p},{"../utils":32,"./ArrayReader":17}],22:[function(d,f,h){var m=d("../utils"),p=d("../support"),g=d("./ArrayReader"),v=d("./StringReader"),x=d("./NodeBufferReader"),I=d("./Uint8ArrayReader");f.exports=function(N){var H=m.getTypeOf(N);return m.checkSupport(H),H!=="string"||p.uint8array?H==="nodebuffer"?new x(N):p.uint8array?new I(m.transformTo("uint8array",N)):new g(m.transformTo("array",N)):new v(N)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(d,f,h){h.LOCAL_FILE_HEADER="PK",h.CENTRAL_FILE_HEADER="PK",h.CENTRAL_DIRECTORY_END="PK",h.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",h.ZIP64_CENTRAL_DIRECTORY_END="PK",h.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(d,f,h){var m=d("./GenericWorker"),p=d("../utils");function g(v){m.call(this,"ConvertWorker to "+v),this.destType=v}p.inherits(g,m),g.prototype.processChunk=function(v){this.push({data:p.transformTo(this.destType,v.data),meta:v.meta})},f.exports=g},{"../utils":32,"./GenericWorker":28}],25:[function(d,f,h){var m=d("./GenericWorker"),p=d("../crc32");function g(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}d("../utils").inherits(g,m),g.prototype.processChunk=function(v){this.streamInfo.crc32=p(v.data,this.streamInfo.crc32||0),this.push(v)},f.exports=g},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(d,f,h){var m=d("../utils"),p=d("./GenericWorker");function g(v){p.call(this,"DataLengthProbe for "+v),this.propName=v,this.withStreamInfo(v,0)}m.inherits(g,p),g.prototype.processChunk=function(v){if(v){var x=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=x+v.data.length}p.prototype.processChunk.call(this,v)},f.exports=g},{"../utils":32,"./GenericWorker":28}],27:[function(d,f,h){var m=d("../utils"),p=d("./GenericWorker");function g(v){p.call(this,"DataWorker");var x=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,v.then(function(I){x.dataIsReady=!0,x.data=I,x.max=I&&I.length||0,x.type=m.getTypeOf(I),x.isPaused||x._tickAndRepeat()},function(I){x.error(I)})}m.inherits(g,p),g.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this.data=null},g.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},g.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},g.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var v=null,x=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":v=this.data.substring(this.index,x);break;case"uint8array":v=this.data.subarray(this.index,x);break;case"array":case"nodebuffer":v=this.data.slice(this.index,x)}return this.index=x,this.push({data:v,meta:{percent:this.max?this.index/this.max*100:0}})},f.exports=g},{"../utils":32,"./GenericWorker":28}],28:[function(d,f,h){function m(p){this.name=p||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}m.prototype={push:function(p){this.emit("data",p)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(p){this.emit("error",p)}return!0},error:function(p){return!this.isFinished&&(this.isPaused?this.generatedError=p:(this.isFinished=!0,this.emit("error",p),this.previous&&this.previous.error(p),this.cleanUp()),!0)},on:function(p,g){return this._listeners[p].push(g),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(p,g){if(this._listeners[p])for(var v=0;v<this._listeners[p].length;v++)this._listeners[p][v].call(this,g)},pipe:function(p){return p.registerPrevious(this)},registerPrevious:function(p){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=p.streamInfo,this.mergeStreamInfo(),this.previous=p;var g=this;return p.on("data",function(v){g.processChunk(v)}),p.on("end",function(){g.end()}),p.on("error",function(v){g.error(v)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var p=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),p=!0),this.previous&&this.previous.resume(),!p},flush:function(){},processChunk:function(p){this.push(p)},withStreamInfo:function(p,g){return this.extraStreamInfo[p]=g,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var p in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,p)&&(this.streamInfo[p]=this.extraStreamInfo[p])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var p="Worker "+this.name;return this.previous?this.previous+" -> "+p:p}},f.exports=m},{}],29:[function(d,f,h){var m=d("../utils"),p=d("./ConvertWorker"),g=d("./GenericWorker"),v=d("../base64"),x=d("../support"),I=d("../external"),N=null;if(x.nodestream)try{N=d("../nodejs/NodejsStreamOutputAdapter")}catch{}function H(F,B,V){var G=B;switch(B){case"blob":case"arraybuffer":G="uint8array";break;case"base64":G="string"}try{this._internalType=G,this._outputType=B,this._mimeType=V,m.checkSupport(G),this._worker=F.pipe(new p(G)),F.lock()}catch(W){this._worker=new g("error"),this._worker.error(W)}}H.prototype={accumulate:function(F){return function(B,V){return new I.Promise(function(G,W){var k=[],E=B._internalType,L=B._outputType,b=B._mimeType;B.on("data",function(w,_){k.push(w),V&&V(_)}).on("error",function(w){k=[],W(w)}).on("end",function(){try{var w=function(_,y,C){switch(_){case"blob":return m.newBlob(m.transformTo("arraybuffer",y),C);case"base64":return v.encode(y);default:return m.transformTo(_,y)}}(L,function(_,y){var C,S=0,R=null,Z=0;for(C=0;C<y.length;C++)Z+=y[C].length;switch(_){case"string":return y.join("");case"array":return Array.prototype.concat.apply([],y);case"uint8array":for(R=new Uint8Array(Z),C=0;C<y.length;C++)R.set(y[C],S),S+=y[C].length;return R;case"nodebuffer":return o.concat(y);default:throw new Error("concat : unsupported type '"+_+"'")}}(E,k),b);G(w)}catch(_){W(_)}k=[]}).resume()})}(this,F)},on:function(F,B){var V=this;return F==="data"?this._worker.on(F,function(G){B.call(V,G.data,G.meta)}):this._worker.on(F,function(){m.delay(B,arguments,V)}),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(F){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new N(this,{objectMode:this._outputType!=="nodebuffer"},F)}},f.exports=H},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(d,f,h){if(h.base64=!0,h.array=!0,h.string=!0,h.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",h.nodebuffer=o!==void 0,h.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")h.blob=!1;else{var m=new ArrayBuffer(0);try{h.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var p=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);p.append(m),h.blob=p.getBlob("application/zip").size===0}catch{h.blob=!1}}}try{h.nodestream=!!d("readable-stream").Readable}catch{h.nodestream=!1}},{"readable-stream":16}],31:[function(d,f,h){for(var m=d("./utils"),p=d("./support"),g=d("./nodejsUtils"),v=d("./stream/GenericWorker"),x=new Array(256),I=0;I<256;I++)x[I]=252<=I?6:248<=I?5:240<=I?4:224<=I?3:192<=I?2:1;function N(){v.call(this,"utf-8 decode"),this.leftOver=null}function H(){v.call(this,"utf-8 encode")}x[254]=x[254]=1,h.utf8encode=function(F){return p.nodebuffer?g.newBufferFrom(F,"utf-8"):function(B){var V,G,W,k,E,L=B.length,b=0;for(k=0;k<L;k++)(64512&(G=B.charCodeAt(k)))==55296&&k+1<L&&(64512&(W=B.charCodeAt(k+1)))==56320&&(G=65536+(G-55296<<10)+(W-56320),k++),b+=G<128?1:G<2048?2:G<65536?3:4;for(V=p.uint8array?new Uint8Array(b):new Array(b),k=E=0;E<b;k++)(64512&(G=B.charCodeAt(k)))==55296&&k+1<L&&(64512&(W=B.charCodeAt(k+1)))==56320&&(G=65536+(G-55296<<10)+(W-56320),k++),G<128?V[E++]=G:(G<2048?V[E++]=192|G>>>6:(G<65536?V[E++]=224|G>>>12:(V[E++]=240|G>>>18,V[E++]=128|G>>>12&63),V[E++]=128|G>>>6&63),V[E++]=128|63&G);return V}(F)},h.utf8decode=function(F){return p.nodebuffer?m.transformTo("nodebuffer",F).toString("utf-8"):function(B){var V,G,W,k,E=B.length,L=new Array(2*E);for(V=G=0;V<E;)if((W=B[V++])<128)L[G++]=W;else if(4<(k=x[W]))L[G++]=65533,V+=k-1;else{for(W&=k===2?31:k===3?15:7;1<k&&V<E;)W=W<<6|63&B[V++],k--;1<k?L[G++]=65533:W<65536?L[G++]=W:(W-=65536,L[G++]=55296|W>>10&1023,L[G++]=56320|1023&W)}return L.length!==G&&(L.subarray?L=L.subarray(0,G):L.length=G),m.applyFromCharCode(L)}(F=m.transformTo(p.uint8array?"uint8array":"array",F))},m.inherits(N,v),N.prototype.processChunk=function(F){var B=m.transformTo(p.uint8array?"uint8array":"array",F.data);if(this.leftOver&&this.leftOver.length){if(p.uint8array){var V=B;(B=new Uint8Array(V.length+this.leftOver.length)).set(this.leftOver,0),B.set(V,this.leftOver.length)}else B=this.leftOver.concat(B);this.leftOver=null}var G=function(k,E){var L;for((E=E||k.length)>k.length&&(E=k.length),L=E-1;0<=L&&(192&k[L])==128;)L--;return L<0||L===0?E:L+x[k[L]]>E?L:E}(B),W=B;G!==B.length&&(p.uint8array?(W=B.subarray(0,G),this.leftOver=B.subarray(G,B.length)):(W=B.slice(0,G),this.leftOver=B.slice(G,B.length))),this.push({data:h.utf8decode(W),meta:F.meta})},N.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:h.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},h.Utf8DecodeWorker=N,m.inherits(H,v),H.prototype.processChunk=function(F){this.push({data:h.utf8encode(F.data),meta:F.meta})},h.Utf8EncodeWorker=H},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(d,f,h){var m=d("./support"),p=d("./base64"),g=d("./nodejsUtils"),v=d("./external");function x(V){return V}function I(V,G){for(var W=0;W<V.length;++W)G[W]=255&V.charCodeAt(W);return G}d("setimmediate"),h.newBlob=function(V,G){h.checkSupport("blob");try{return new Blob([V],{type:G})}catch{try{var W=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return W.append(V),W.getBlob(G)}catch{throw new Error("Bug : can't construct the Blob.")}}};var N={stringifyByChunk:function(V,G,W){var k=[],E=0,L=V.length;if(L<=W)return String.fromCharCode.apply(null,V);for(;E<L;)G==="array"||G==="nodebuffer"?k.push(String.fromCharCode.apply(null,V.slice(E,Math.min(E+W,L)))):k.push(String.fromCharCode.apply(null,V.subarray(E,Math.min(E+W,L)))),E+=W;return k.join("")},stringifyByChar:function(V){for(var G="",W=0;W<V.length;W++)G+=String.fromCharCode(V[W]);return G},applyCanBeUsed:{uint8array:function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,g.allocBuffer(1)).length===1}catch{return!1}}()}};function H(V){var G=65536,W=h.getTypeOf(V),k=!0;if(W==="uint8array"?k=N.applyCanBeUsed.uint8array:W==="nodebuffer"&&(k=N.applyCanBeUsed.nodebuffer),k)for(;1<G;)try{return N.stringifyByChunk(V,W,G)}catch{G=Math.floor(G/2)}return N.stringifyByChar(V)}function F(V,G){for(var W=0;W<V.length;W++)G[W]=V[W];return G}h.applyFromCharCode=H;var B={};B.string={string:x,array:function(V){return I(V,new Array(V.length))},arraybuffer:function(V){return B.string.uint8array(V).buffer},uint8array:function(V){return I(V,new Uint8Array(V.length))},nodebuffer:function(V){return I(V,g.allocBuffer(V.length))}},B.array={string:H,array:x,arraybuffer:function(V){return new Uint8Array(V).buffer},uint8array:function(V){return new Uint8Array(V)},nodebuffer:function(V){return g.newBufferFrom(V)}},B.arraybuffer={string:function(V){return H(new Uint8Array(V))},array:function(V){return F(new Uint8Array(V),new Array(V.byteLength))},arraybuffer:x,uint8array:function(V){return new Uint8Array(V)},nodebuffer:function(V){return g.newBufferFrom(new Uint8Array(V))}},B.uint8array={string:H,array:function(V){return F(V,new Array(V.length))},arraybuffer:function(V){return V.buffer},uint8array:x,nodebuffer:function(V){return g.newBufferFrom(V)}},B.nodebuffer={string:H,array:function(V){return F(V,new Array(V.length))},arraybuffer:function(V){return B.nodebuffer.uint8array(V).buffer},uint8array:function(V){return F(V,new Uint8Array(V.length))},nodebuffer:x},h.transformTo=function(V,G){if(G=G||"",!V)return G;h.checkSupport(V);var W=h.getTypeOf(G);return B[W][V](G)},h.resolve=function(V){for(var G=V.split("/"),W=[],k=0;k<G.length;k++){var E=G[k];E==="."||E===""&&k!==0&&k!==G.length-1||(E===".."?W.pop():W.push(E))}return W.join("/")},h.getTypeOf=function(V){return typeof V=="string"?"string":Object.prototype.toString.call(V)==="[object Array]"?"array":m.nodebuffer&&g.isBuffer(V)?"nodebuffer":m.uint8array&&V instanceof Uint8Array?"uint8array":m.arraybuffer&&V instanceof ArrayBuffer?"arraybuffer":void 0},h.checkSupport=function(V){if(!m[V.toLowerCase()])throw new Error(V+" is not supported by this platform")},h.MAX_VALUE_16BITS=65535,h.MAX_VALUE_32BITS=-1,h.pretty=function(V){var G,W,k="";for(W=0;W<(V||"").length;W++)k+="\\x"+((G=V.charCodeAt(W))<16?"0":"")+G.toString(16).toUpperCase();return k},h.delay=function(V,G,W){u(function(){V.apply(W||null,G||[])})},h.inherits=function(V,G){function W(){}W.prototype=G.prototype,V.prototype=new W},h.extend=function(){var V,G,W={};for(V=0;V<arguments.length;V++)for(G in arguments[V])Object.prototype.hasOwnProperty.call(arguments[V],G)&&W[G]===void 0&&(W[G]=arguments[V][G]);return W},h.prepareContent=function(V,G,W,k,E){return v.Promise.resolve(G).then(function(L){return m.blob&&(L instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(L))!==-1)&&typeof FileReader<"u"?new v.Promise(function(b,w){var _=new FileReader;_.onload=function(y){b(y.target.result)},_.onerror=function(y){w(y.target.error)},_.readAsArrayBuffer(L)}):L}).then(function(L){var b=h.getTypeOf(L);return b?(b==="arraybuffer"?L=h.transformTo("uint8array",L):b==="string"&&(E?L=p.decode(L):W&&k!==!0&&(L=function(w){return I(w,m.uint8array?new Uint8Array(w.length):new Array(w.length))}(L))),L):v.Promise.reject(new Error("Can't read the data of '"+V+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(d,f,h){var m=d("./reader/readerFor"),p=d("./utils"),g=d("./signature"),v=d("./zipEntry"),x=d("./support");function I(N){this.files=[],this.loadOptions=N}I.prototype={checkSignature:function(N){if(!this.reader.readAndCheckSignature(N)){this.reader.index-=4;var H=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+p.pretty(H)+", expected "+p.pretty(N)+")")}},isSignature:function(N,H){var F=this.reader.index;this.reader.setIndex(N);var B=this.reader.readString(4)===H;return this.reader.setIndex(F),B},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var N=this.reader.readData(this.zipCommentLength),H=x.uint8array?"uint8array":"array",F=p.transformTo(H,N);this.zipComment=this.loadOptions.decodeFileName(F)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var N,H,F,B=this.zip64EndOfCentralSize-44;0<B;)N=this.reader.readInt(2),H=this.reader.readInt(4),F=this.reader.readData(H),this.zip64ExtensibleData[N]={id:N,length:H,value:F}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var N,H;for(N=0;N<this.files.length;N++)H=this.files[N],this.reader.setIndex(H.localHeaderOffset),this.checkSignature(g.LOCAL_FILE_HEADER),H.readLocalPart(this.reader),H.handleUTF8(),H.processAttributes()},readCentralDir:function(){var N;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(g.CENTRAL_FILE_HEADER);)(N=new v({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(N);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var N=this.reader.lastIndexOfSignature(g.CENTRAL_DIRECTORY_END);if(N<0)throw this.isSignature(0,g.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(N);var H=N;if(this.checkSignature(g.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===p.MAX_VALUE_16BITS||this.diskWithCentralDirStart===p.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===p.MAX_VALUE_16BITS||this.centralDirRecords===p.MAX_VALUE_16BITS||this.centralDirSize===p.MAX_VALUE_32BITS||this.centralDirOffset===p.MAX_VALUE_32BITS){if(this.zip64=!0,(N=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(N),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,g.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var F=this.centralDirOffset+this.centralDirSize;this.zip64&&(F+=20,F+=12+this.zip64EndOfCentralSize);var B=H-F;if(0<B)this.isSignature(H,g.CENTRAL_FILE_HEADER)||(this.reader.zero=B);else if(B<0)throw new Error("Corrupted zip: missing "+Math.abs(B)+" bytes.")},prepareReader:function(N){this.reader=m(N)},load:function(N){this.prepareReader(N),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},f.exports=I},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(d,f,h){var m=d("./reader/readerFor"),p=d("./utils"),g=d("./compressedObject"),v=d("./crc32"),x=d("./utf8"),I=d("./compressions"),N=d("./support");function H(F,B){this.options=F,this.loadOptions=B}H.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(F){var B,V;if(F.skip(22),this.fileNameLength=F.readInt(2),V=F.readInt(2),this.fileName=F.readData(this.fileNameLength),F.skip(V),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((B=function(G){for(var W in I)if(Object.prototype.hasOwnProperty.call(I,W)&&I[W].magic===G)return I[W];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+p.pretty(this.compressionMethod)+" unknown (inner file : "+p.transformTo("string",this.fileName)+")");this.decompressed=new g(this.compressedSize,this.uncompressedSize,this.crc32,B,F.readData(this.compressedSize))},readCentralPart:function(F){this.versionMadeBy=F.readInt(2),F.skip(2),this.bitFlag=F.readInt(2),this.compressionMethod=F.readString(2),this.date=F.readDate(),this.crc32=F.readInt(4),this.compressedSize=F.readInt(4),this.uncompressedSize=F.readInt(4);var B=F.readInt(2);if(this.extraFieldsLength=F.readInt(2),this.fileCommentLength=F.readInt(2),this.diskNumberStart=F.readInt(2),this.internalFileAttributes=F.readInt(2),this.externalFileAttributes=F.readInt(4),this.localHeaderOffset=F.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");F.skip(B),this.readExtraFields(F),this.parseZIP64ExtraField(F),this.fileComment=F.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var F=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),F==0&&(this.dosPermissions=63&this.externalFileAttributes),F==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var F=m(this.extraFields[1].value);this.uncompressedSize===p.MAX_VALUE_32BITS&&(this.uncompressedSize=F.readInt(8)),this.compressedSize===p.MAX_VALUE_32BITS&&(this.compressedSize=F.readInt(8)),this.localHeaderOffset===p.MAX_VALUE_32BITS&&(this.localHeaderOffset=F.readInt(8)),this.diskNumberStart===p.MAX_VALUE_32BITS&&(this.diskNumberStart=F.readInt(4))}},readExtraFields:function(F){var B,V,G,W=F.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});F.index+4<W;)B=F.readInt(2),V=F.readInt(2),G=F.readData(V),this.extraFields[B]={id:B,length:V,value:G};F.setIndex(W)},handleUTF8:function(){var F=N.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=x.utf8decode(this.fileName),this.fileCommentStr=x.utf8decode(this.fileComment);else{var B=this.findExtraFieldUnicodePath();if(B!==null)this.fileNameStr=B;else{var V=p.transformTo(F,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(V)}var G=this.findExtraFieldUnicodeComment();if(G!==null)this.fileCommentStr=G;else{var W=p.transformTo(F,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(W)}}},findExtraFieldUnicodePath:function(){var F=this.extraFields[28789];if(F){var B=m(F.value);return B.readInt(1)!==1||v(this.fileName)!==B.readInt(4)?null:x.utf8decode(B.readData(F.length-5))}return null},findExtraFieldUnicodeComment:function(){var F=this.extraFields[25461];if(F){var B=m(F.value);return B.readInt(1)!==1||v(this.fileComment)!==B.readInt(4)?null:x.utf8decode(B.readData(F.length-5))}return null}},f.exports=H},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(d,f,h){function m(B,V,G){this.name=B,this.dir=G.dir,this.date=G.date,this.comment=G.comment,this.unixPermissions=G.unixPermissions,this.dosPermissions=G.dosPermissions,this._data=V,this._dataBinary=G.binary,this.options={compression:G.compression,compressionOptions:G.compressionOptions}}var p=d("./stream/StreamHelper"),g=d("./stream/DataWorker"),v=d("./utf8"),x=d("./compressedObject"),I=d("./stream/GenericWorker");m.prototype={internalStream:function(B){var V=null,G="string";try{if(!B)throw new Error("No output type specified.");var W=(G=B.toLowerCase())==="string"||G==="text";G!=="binarystring"&&G!=="text"||(G="string"),V=this._decompressWorker();var k=!this._dataBinary;k&&!W&&(V=V.pipe(new v.Utf8EncodeWorker)),!k&&W&&(V=V.pipe(new v.Utf8DecodeWorker))}catch(E){(V=new I("error")).error(E)}return new p(V,G,"")},async:function(B,V){return this.internalStream(B).accumulate(V)},nodeStream:function(B,V){return this.internalStream(B||"nodebuffer").toNodejsStream(V)},_compressWorker:function(B,V){if(this._data instanceof x&&this._data.compression.magic===B.magic)return this._data.getCompressedWorker();var G=this._decompressWorker();return this._dataBinary||(G=G.pipe(new v.Utf8EncodeWorker)),x.createWorkerFrom(G,B,V)},_decompressWorker:function(){return this._data instanceof x?this._data.getContentWorker():this._data instanceof I?this._data:new g(this._data)}};for(var N=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],H=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},F=0;F<N.length;F++)m.prototype[N[F]]=H;f.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(d,f,h){(function(m){var p,g,v=m.MutationObserver||m.WebKitMutationObserver;if(v){var x=0,I=new v(B),N=m.document.createTextNode("");I.observe(N,{characterData:!0}),p=function(){N.data=x=++x%2}}else if(m.setImmediate||m.MessageChannel===void 0)p="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var V=m.document.createElement("script");V.onreadystatechange=function(){B(),V.onreadystatechange=null,V.parentNode.removeChild(V),V=null},m.document.documentElement.appendChild(V)}:function(){setTimeout(B,0)};else{var H=new m.MessageChannel;H.port1.onmessage=B,p=function(){H.port2.postMessage(0)}}var F=[];function B(){var V,G;g=!0;for(var W=F.length;W;){for(G=F,F=[],V=-1;++V<W;)G[V]();W=F.length}g=!1}f.exports=function(V){F.push(V)!==1||g||p()}}).call(this,r!==void 0?r:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(d,f,h){var m=d("immediate");function p(){}var g={},v=["REJECTED"],x=["FULFILLED"],I=["PENDING"];function N(W){if(typeof W!="function")throw new TypeError("resolver must be a function");this.state=I,this.queue=[],this.outcome=void 0,W!==p&&V(this,W)}function H(W,k,E){this.promise=W,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function F(W,k,E){m(function(){var L;try{L=k(E)}catch(b){return g.reject(W,b)}L===W?g.reject(W,new TypeError("Cannot resolve promise with itself")):g.resolve(W,L)})}function B(W){var k=W&&W.then;if(W&&(typeof W=="object"||typeof W=="function")&&typeof k=="function")return function(){k.apply(W,arguments)}}function V(W,k){var E=!1;function L(_){E||(E=!0,g.reject(W,_))}function b(_){E||(E=!0,g.resolve(W,_))}var w=G(function(){k(b,L)});w.status==="error"&&L(w.value)}function G(W,k){var E={};try{E.value=W(k),E.status="success"}catch(L){E.status="error",E.value=L}return E}(f.exports=N).prototype.finally=function(W){if(typeof W!="function")return this;var k=this.constructor;return this.then(function(E){return k.resolve(W()).then(function(){return E})},function(E){return k.resolve(W()).then(function(){throw E})})},N.prototype.catch=function(W){return this.then(null,W)},N.prototype.then=function(W,k){if(typeof W!="function"&&this.state===x||typeof k!="function"&&this.state===v)return this;var E=new this.constructor(p);return this.state!==I?F(E,this.state===x?W:k,this.outcome):this.queue.push(new H(E,W,k)),E},H.prototype.callFulfilled=function(W){g.resolve(this.promise,W)},H.prototype.otherCallFulfilled=function(W){F(this.promise,this.onFulfilled,W)},H.prototype.callRejected=function(W){g.reject(this.promise,W)},H.prototype.otherCallRejected=function(W){F(this.promise,this.onRejected,W)},g.resolve=function(W,k){var E=G(B,k);if(E.status==="error")return g.reject(W,E.value);var L=E.value;if(L)V(W,L);else{W.state=x,W.outcome=k;for(var b=-1,w=W.queue.length;++b<w;)W.queue[b].callFulfilled(k)}return W},g.reject=function(W,k){W.state=v,W.outcome=k;for(var E=-1,L=W.queue.length;++E<L;)W.queue[E].callRejected(k);return W},N.resolve=function(W){return W instanceof this?W:g.resolve(new this(p),W)},N.reject=function(W){var k=new this(p);return g.reject(k,W)},N.all=function(W){var k=this;if(Object.prototype.toString.call(W)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=W.length,L=!1;if(!E)return this.resolve([]);for(var b=new Array(E),w=0,_=-1,y=new this(p);++_<E;)C(W[_],_);return y;function C(S,R){k.resolve(S).then(function(Z){b[R]=Z,++w!==E||L||(L=!0,g.resolve(y,b))},function(Z){L||(L=!0,g.reject(y,Z))})}},N.race=function(W){if(Object.prototype.toString.call(W)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=W.length,E=!1;if(!k)return this.resolve([]);for(var L,b=-1,w=new this(p);++b<k;)L=W[b],this.resolve(L).then(function(_){E||(E=!0,g.resolve(w,_))},function(_){E||(E=!0,g.reject(w,_))});return w}},{immediate:36}],38:[function(d,f,h){var m={};(0,d("./lib/utils/common").assign)(m,d("./lib/deflate"),d("./lib/inflate"),d("./lib/zlib/constants")),f.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(d,f,h){var m=d("./zlib/deflate"),p=d("./utils/common"),g=d("./utils/strings"),v=d("./zlib/messages"),x=d("./zlib/zstream"),I=Object.prototype.toString;function N(F){if(!(this instanceof N))return new N(F);this.options=p.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},F||{});var B=this.options;B.raw&&0<B.windowBits?B.windowBits=-B.windowBits:B.gzip&&0<B.windowBits&&B.windowBits<16&&(B.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new x,this.strm.avail_out=0;var V=m.deflateInit2(this.strm,B.level,B.method,B.windowBits,B.memLevel,B.strategy);if(V!==0)throw new Error(v[V]);if(B.header&&m.deflateSetHeader(this.strm,B.header),B.dictionary){var G;if(G=typeof B.dictionary=="string"?g.string2buf(B.dictionary):I.call(B.dictionary)==="[object ArrayBuffer]"?new Uint8Array(B.dictionary):B.dictionary,(V=m.deflateSetDictionary(this.strm,G))!==0)throw new Error(v[V]);this._dict_set=!0}}function H(F,B){var V=new N(B);if(V.push(F,!0),V.err)throw V.msg||v[V.err];return V.result}N.prototype.push=function(F,B){var V,G,W=this.strm,k=this.options.chunkSize;if(this.ended)return!1;G=B===~~B?B:B===!0?4:0,typeof F=="string"?W.input=g.string2buf(F):I.call(F)==="[object ArrayBuffer]"?W.input=new Uint8Array(F):W.input=F,W.next_in=0,W.avail_in=W.input.length;do{if(W.avail_out===0&&(W.output=new p.Buf8(k),W.next_out=0,W.avail_out=k),(V=m.deflate(W,G))!==1&&V!==0)return this.onEnd(V),!(this.ended=!0);W.avail_out!==0&&(W.avail_in!==0||G!==4&&G!==2)||(this.options.to==="string"?this.onData(g.buf2binstring(p.shrinkBuf(W.output,W.next_out))):this.onData(p.shrinkBuf(W.output,W.next_out)))}while((0<W.avail_in||W.avail_out===0)&&V!==1);return G===4?(V=m.deflateEnd(this.strm),this.onEnd(V),this.ended=!0,V===0):G!==2||(this.onEnd(0),!(W.avail_out=0))},N.prototype.onData=function(F){this.chunks.push(F)},N.prototype.onEnd=function(F){F===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=p.flattenChunks(this.chunks)),this.chunks=[],this.err=F,this.msg=this.strm.msg},h.Deflate=N,h.deflate=H,h.deflateRaw=function(F,B){return(B=B||{}).raw=!0,H(F,B)},h.gzip=function(F,B){return(B=B||{}).gzip=!0,H(F,B)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(d,f,h){var m=d("./zlib/inflate"),p=d("./utils/common"),g=d("./utils/strings"),v=d("./zlib/constants"),x=d("./zlib/messages"),I=d("./zlib/zstream"),N=d("./zlib/gzheader"),H=Object.prototype.toString;function F(V){if(!(this instanceof F))return new F(V);this.options=p.assign({chunkSize:16384,windowBits:0,to:""},V||{});var G=this.options;G.raw&&0<=G.windowBits&&G.windowBits<16&&(G.windowBits=-G.windowBits,G.windowBits===0&&(G.windowBits=-15)),!(0<=G.windowBits&&G.windowBits<16)||V&&V.windowBits||(G.windowBits+=32),15<G.windowBits&&G.windowBits<48&&!(15&G.windowBits)&&(G.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new I,this.strm.avail_out=0;var W=m.inflateInit2(this.strm,G.windowBits);if(W!==v.Z_OK)throw new Error(x[W]);this.header=new N,m.inflateGetHeader(this.strm,this.header)}function B(V,G){var W=new F(G);if(W.push(V,!0),W.err)throw W.msg||x[W.err];return W.result}F.prototype.push=function(V,G){var W,k,E,L,b,w,_=this.strm,y=this.options.chunkSize,C=this.options.dictionary,S=!1;if(this.ended)return!1;k=G===~~G?G:G===!0?v.Z_FINISH:v.Z_NO_FLUSH,typeof V=="string"?_.input=g.binstring2buf(V):H.call(V)==="[object ArrayBuffer]"?_.input=new Uint8Array(V):_.input=V,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new p.Buf8(y),_.next_out=0,_.avail_out=y),(W=m.inflate(_,v.Z_NO_FLUSH))===v.Z_NEED_DICT&&C&&(w=typeof C=="string"?g.string2buf(C):H.call(C)==="[object ArrayBuffer]"?new Uint8Array(C):C,W=m.inflateSetDictionary(this.strm,w)),W===v.Z_BUF_ERROR&&S===!0&&(W=v.Z_OK,S=!1),W!==v.Z_STREAM_END&&W!==v.Z_OK)return this.onEnd(W),!(this.ended=!0);_.next_out&&(_.avail_out!==0&&W!==v.Z_STREAM_END&&(_.avail_in!==0||k!==v.Z_FINISH&&k!==v.Z_SYNC_FLUSH)||(this.options.to==="string"?(E=g.utf8border(_.output,_.next_out),L=_.next_out-E,b=g.buf2string(_.output,E),_.next_out=L,_.avail_out=y-L,L&&p.arraySet(_.output,_.output,E,L,0),this.onData(b)):this.onData(p.shrinkBuf(_.output,_.next_out)))),_.avail_in===0&&_.avail_out===0&&(S=!0)}while((0<_.avail_in||_.avail_out===0)&&W!==v.Z_STREAM_END);return W===v.Z_STREAM_END&&(k=v.Z_FINISH),k===v.Z_FINISH?(W=m.inflateEnd(this.strm),this.onEnd(W),this.ended=!0,W===v.Z_OK):k!==v.Z_SYNC_FLUSH||(this.onEnd(v.Z_OK),!(_.avail_out=0))},F.prototype.onData=function(V){this.chunks.push(V)},F.prototype.onEnd=function(V){V===v.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=p.flattenChunks(this.chunks)),this.chunks=[],this.err=V,this.msg=this.strm.msg},h.Inflate=F,h.inflate=B,h.inflateRaw=function(V,G){return(G=G||{}).raw=!0,B(V,G)},h.ungzip=B},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(d,f,h){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";h.assign=function(v){for(var x=Array.prototype.slice.call(arguments,1);x.length;){var I=x.shift();if(I){if(typeof I!="object")throw new TypeError(I+"must be non-object");for(var N in I)I.hasOwnProperty(N)&&(v[N]=I[N])}}return v},h.shrinkBuf=function(v,x){return v.length===x?v:v.subarray?v.subarray(0,x):(v.length=x,v)};var p={arraySet:function(v,x,I,N,H){if(x.subarray&&v.subarray)v.set(x.subarray(I,I+N),H);else for(var F=0;F<N;F++)v[H+F]=x[I+F]},flattenChunks:function(v){var x,I,N,H,F,B;for(x=N=0,I=v.length;x<I;x++)N+=v[x].length;for(B=new Uint8Array(N),x=H=0,I=v.length;x<I;x++)F=v[x],B.set(F,H),H+=F.length;return B}},g={arraySet:function(v,x,I,N,H){for(var F=0;F<N;F++)v[H+F]=x[I+F]},flattenChunks:function(v){return[].concat.apply([],v)}};h.setTyped=function(v){v?(h.Buf8=Uint8Array,h.Buf16=Uint16Array,h.Buf32=Int32Array,h.assign(h,p)):(h.Buf8=Array,h.Buf16=Array,h.Buf32=Array,h.assign(h,g))},h.setTyped(m)},{}],42:[function(d,f,h){var m=d("./common"),p=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{p=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var v=new m.Buf8(256),x=0;x<256;x++)v[x]=252<=x?6:248<=x?5:240<=x?4:224<=x?3:192<=x?2:1;function I(N,H){if(H<65537&&(N.subarray&&g||!N.subarray&&p))return String.fromCharCode.apply(null,m.shrinkBuf(N,H));for(var F="",B=0;B<H;B++)F+=String.fromCharCode(N[B]);return F}v[254]=v[254]=1,h.string2buf=function(N){var H,F,B,V,G,W=N.length,k=0;for(V=0;V<W;V++)(64512&(F=N.charCodeAt(V)))==55296&&V+1<W&&(64512&(B=N.charCodeAt(V+1)))==56320&&(F=65536+(F-55296<<10)+(B-56320),V++),k+=F<128?1:F<2048?2:F<65536?3:4;for(H=new m.Buf8(k),V=G=0;G<k;V++)(64512&(F=N.charCodeAt(V)))==55296&&V+1<W&&(64512&(B=N.charCodeAt(V+1)))==56320&&(F=65536+(F-55296<<10)+(B-56320),V++),F<128?H[G++]=F:(F<2048?H[G++]=192|F>>>6:(F<65536?H[G++]=224|F>>>12:(H[G++]=240|F>>>18,H[G++]=128|F>>>12&63),H[G++]=128|F>>>6&63),H[G++]=128|63&F);return H},h.buf2binstring=function(N){return I(N,N.length)},h.binstring2buf=function(N){for(var H=new m.Buf8(N.length),F=0,B=H.length;F<B;F++)H[F]=N.charCodeAt(F);return H},h.buf2string=function(N,H){var F,B,V,G,W=H||N.length,k=new Array(2*W);for(F=B=0;F<W;)if((V=N[F++])<128)k[B++]=V;else if(4<(G=v[V]))k[B++]=65533,F+=G-1;else{for(V&=G===2?31:G===3?15:7;1<G&&F<W;)V=V<<6|63&N[F++],G--;1<G?k[B++]=65533:V<65536?k[B++]=V:(V-=65536,k[B++]=55296|V>>10&1023,k[B++]=56320|1023&V)}return I(k,B)},h.utf8border=function(N,H){var F;for((H=H||N.length)>N.length&&(H=N.length),F=H-1;0<=F&&(192&N[F])==128;)F--;return F<0||F===0?H:F+v[N[F]]>H?F:H}},{"./common":41}],43:[function(d,f,h){f.exports=function(m,p,g,v){for(var x=65535&m|0,I=m>>>16&65535|0,N=0;g!==0;){for(g-=N=2e3<g?2e3:g;I=I+(x=x+p[v++]|0)|0,--N;);x%=65521,I%=65521}return x|I<<16|0}},{}],44:[function(d,f,h){f.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(d,f,h){var m=function(){for(var p,g=[],v=0;v<256;v++){p=v;for(var x=0;x<8;x++)p=1&p?3988292384^p>>>1:p>>>1;g[v]=p}return g}();f.exports=function(p,g,v,x){var I=m,N=x+v;p^=-1;for(var H=x;H<N;H++)p=p>>>8^I[255&(p^g[H])];return-1^p}},{}],46:[function(d,f,h){var m,p=d("../utils/common"),g=d("./trees"),v=d("./adler32"),x=d("./crc32"),I=d("./messages"),N=-2,H=258,F=262,B=113;function V(D,Y){return D.msg=I[Y],Y}function G(D){return(D<<1)-(4<D?9:0)}function W(D){for(var Y=D.length;0<=--Y;)D[Y]=0}function k(D){var Y=D.state,P=Y.pending;P>D.avail_out&&(P=D.avail_out),P!==0&&(p.arraySet(D.output,Y.pending_buf,Y.pending_out,P,D.next_out),D.next_out+=P,Y.pending_out+=P,D.total_out+=P,D.avail_out-=P,Y.pending-=P,Y.pending===0&&(Y.pending_out=0))}function E(D,Y){g._tr_flush_block(D,0<=D.block_start?D.block_start:-1,D.strstart-D.block_start,Y),D.block_start=D.strstart,k(D.strm)}function L(D,Y){D.pending_buf[D.pending++]=Y}function b(D,Y){D.pending_buf[D.pending++]=Y>>>8&255,D.pending_buf[D.pending++]=255&Y}function w(D,Y){var P,M,$=D.max_chain_length,te=D.strstart,ue=D.prev_length,re=D.nice_match,ce=D.strstart>D.w_size-F?D.strstart-(D.w_size-F):0,_e=D.window,xe=D.w_mask,ie=D.prev,se=D.strstart+H,ge=_e[te+ue-1],Ae=_e[te+ue];D.prev_length>=D.good_match&&($>>=2),re>D.lookahead&&(re=D.lookahead);do if(_e[(P=Y)+ue]===Ae&&_e[P+ue-1]===ge&&_e[P]===_e[te]&&_e[++P]===_e[te+1]){te+=2,P++;do;while(_e[++te]===_e[++P]&&_e[++te]===_e[++P]&&_e[++te]===_e[++P]&&_e[++te]===_e[++P]&&_e[++te]===_e[++P]&&_e[++te]===_e[++P]&&_e[++te]===_e[++P]&&_e[++te]===_e[++P]&&te<se);if(M=H-(se-te),te=se-H,ue<M){if(D.match_start=Y,re<=(ue=M))break;ge=_e[te+ue-1],Ae=_e[te+ue]}}while((Y=ie[Y&xe])>ce&&--$!=0);return ue<=D.lookahead?ue:D.lookahead}function _(D){var Y,P,M,$,te,ue,re,ce,_e,xe,ie=D.w_size;do{if($=D.window_size-D.lookahead-D.strstart,D.strstart>=ie+(ie-F)){for(p.arraySet(D.window,D.window,ie,ie,0),D.match_start-=ie,D.strstart-=ie,D.block_start-=ie,Y=P=D.hash_size;M=D.head[--Y],D.head[Y]=ie<=M?M-ie:0,--P;);for(Y=P=ie;M=D.prev[--Y],D.prev[Y]=ie<=M?M-ie:0,--P;);$+=ie}if(D.strm.avail_in===0)break;if(ue=D.strm,re=D.window,ce=D.strstart+D.lookahead,xe=void 0,(_e=$)<(xe=ue.avail_in)&&(xe=_e),P=xe===0?0:(ue.avail_in-=xe,p.arraySet(re,ue.input,ue.next_in,xe,ce),ue.state.wrap===1?ue.adler=v(ue.adler,re,xe,ce):ue.state.wrap===2&&(ue.adler=x(ue.adler,re,xe,ce)),ue.next_in+=xe,ue.total_in+=xe,xe),D.lookahead+=P,D.lookahead+D.insert>=3)for(te=D.strstart-D.insert,D.ins_h=D.window[te],D.ins_h=(D.ins_h<<D.hash_shift^D.window[te+1])&D.hash_mask;D.insert&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[te+3-1])&D.hash_mask,D.prev[te&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=te,te++,D.insert--,!(D.lookahead+D.insert<3)););}while(D.lookahead<F&&D.strm.avail_in!==0)}function y(D,Y){for(var P,M;;){if(D.lookahead<F){if(_(D),D.lookahead<F&&Y===0)return 1;if(D.lookahead===0)break}if(P=0,D.lookahead>=3&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+3-1])&D.hash_mask,P=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),P!==0&&D.strstart-P<=D.w_size-F&&(D.match_length=w(D,P)),D.match_length>=3)if(M=g._tr_tally(D,D.strstart-D.match_start,D.match_length-3),D.lookahead-=D.match_length,D.match_length<=D.max_lazy_match&&D.lookahead>=3){for(D.match_length--;D.strstart++,D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+3-1])&D.hash_mask,P=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart,--D.match_length!=0;);D.strstart++}else D.strstart+=D.match_length,D.match_length=0,D.ins_h=D.window[D.strstart],D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+1])&D.hash_mask;else M=g._tr_tally(D,0,D.window[D.strstart]),D.lookahead--,D.strstart++;if(M&&(E(D,!1),D.strm.avail_out===0))return 1}return D.insert=D.strstart<2?D.strstart:2,Y===4?(E(D,!0),D.strm.avail_out===0?3:4):D.last_lit&&(E(D,!1),D.strm.avail_out===0)?1:2}function C(D,Y){for(var P,M,$;;){if(D.lookahead<F){if(_(D),D.lookahead<F&&Y===0)return 1;if(D.lookahead===0)break}if(P=0,D.lookahead>=3&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+3-1])&D.hash_mask,P=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),D.prev_length=D.match_length,D.prev_match=D.match_start,D.match_length=2,P!==0&&D.prev_length<D.max_lazy_match&&D.strstart-P<=D.w_size-F&&(D.match_length=w(D,P),D.match_length<=5&&(D.strategy===1||D.match_length===3&&4096<D.strstart-D.match_start)&&(D.match_length=2)),D.prev_length>=3&&D.match_length<=D.prev_length){for($=D.strstart+D.lookahead-3,M=g._tr_tally(D,D.strstart-1-D.prev_match,D.prev_length-3),D.lookahead-=D.prev_length-1,D.prev_length-=2;++D.strstart<=$&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+3-1])&D.hash_mask,P=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),--D.prev_length!=0;);if(D.match_available=0,D.match_length=2,D.strstart++,M&&(E(D,!1),D.strm.avail_out===0))return 1}else if(D.match_available){if((M=g._tr_tally(D,0,D.window[D.strstart-1]))&&E(D,!1),D.strstart++,D.lookahead--,D.strm.avail_out===0)return 1}else D.match_available=1,D.strstart++,D.lookahead--}return D.match_available&&(M=g._tr_tally(D,0,D.window[D.strstart-1]),D.match_available=0),D.insert=D.strstart<2?D.strstart:2,Y===4?(E(D,!0),D.strm.avail_out===0?3:4):D.last_lit&&(E(D,!1),D.strm.avail_out===0)?1:2}function S(D,Y,P,M,$){this.good_length=D,this.max_lazy=Y,this.nice_length=P,this.max_chain=M,this.func=$}function R(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new p.Buf16(1146),this.dyn_dtree=new p.Buf16(122),this.bl_tree=new p.Buf16(78),W(this.dyn_ltree),W(this.dyn_dtree),W(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new p.Buf16(16),this.heap=new p.Buf16(573),W(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new p.Buf16(573),W(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Z(D){var Y;return D&&D.state?(D.total_in=D.total_out=0,D.data_type=2,(Y=D.state).pending=0,Y.pending_out=0,Y.wrap<0&&(Y.wrap=-Y.wrap),Y.status=Y.wrap?42:B,D.adler=Y.wrap===2?0:1,Y.last_flush=0,g._tr_init(Y),0):V(D,N)}function j(D){var Y=Z(D);return Y===0&&function(P){P.window_size=2*P.w_size,W(P.head),P.max_lazy_match=m[P.level].max_lazy,P.good_match=m[P.level].good_length,P.nice_match=m[P.level].nice_length,P.max_chain_length=m[P.level].max_chain,P.strstart=0,P.block_start=0,P.lookahead=0,P.insert=0,P.match_length=P.prev_length=2,P.match_available=0,P.ins_h=0}(D.state),Y}function X(D,Y,P,M,$,te){if(!D)return N;var ue=1;if(Y===-1&&(Y=6),M<0?(ue=0,M=-M):15<M&&(ue=2,M-=16),$<1||9<$||P!==8||M<8||15<M||Y<0||9<Y||te<0||4<te)return V(D,N);M===8&&(M=9);var re=new R;return(D.state=re).strm=D,re.wrap=ue,re.gzhead=null,re.w_bits=M,re.w_size=1<<re.w_bits,re.w_mask=re.w_size-1,re.hash_bits=$+7,re.hash_size=1<<re.hash_bits,re.hash_mask=re.hash_size-1,re.hash_shift=~~((re.hash_bits+3-1)/3),re.window=new p.Buf8(2*re.w_size),re.head=new p.Buf16(re.hash_size),re.prev=new p.Buf16(re.w_size),re.lit_bufsize=1<<$+6,re.pending_buf_size=4*re.lit_bufsize,re.pending_buf=new p.Buf8(re.pending_buf_size),re.d_buf=1*re.lit_bufsize,re.l_buf=3*re.lit_bufsize,re.level=Y,re.strategy=te,re.method=P,j(D)}m=[new S(0,0,0,0,function(D,Y){var P=65535;for(P>D.pending_buf_size-5&&(P=D.pending_buf_size-5);;){if(D.lookahead<=1){if(_(D),D.lookahead===0&&Y===0)return 1;if(D.lookahead===0)break}D.strstart+=D.lookahead,D.lookahead=0;var M=D.block_start+P;if((D.strstart===0||D.strstart>=M)&&(D.lookahead=D.strstart-M,D.strstart=M,E(D,!1),D.strm.avail_out===0)||D.strstart-D.block_start>=D.w_size-F&&(E(D,!1),D.strm.avail_out===0))return 1}return D.insert=0,Y===4?(E(D,!0),D.strm.avail_out===0?3:4):(D.strstart>D.block_start&&(E(D,!1),D.strm.avail_out),1)}),new S(4,4,8,4,y),new S(4,5,16,8,y),new S(4,6,32,32,y),new S(4,4,16,16,C),new S(8,16,32,32,C),new S(8,16,128,128,C),new S(8,32,128,256,C),new S(32,128,258,1024,C),new S(32,258,258,4096,C)],h.deflateInit=function(D,Y){return X(D,Y,8,15,8,0)},h.deflateInit2=X,h.deflateReset=j,h.deflateResetKeep=Z,h.deflateSetHeader=function(D,Y){return D&&D.state?D.state.wrap!==2?N:(D.state.gzhead=Y,0):N},h.deflate=function(D,Y){var P,M,$,te;if(!D||!D.state||5<Y||Y<0)return D?V(D,N):N;if(M=D.state,!D.output||!D.input&&D.avail_in!==0||M.status===666&&Y!==4)return V(D,D.avail_out===0?-5:N);if(M.strm=D,P=M.last_flush,M.last_flush=Y,M.status===42)if(M.wrap===2)D.adler=0,L(M,31),L(M,139),L(M,8),M.gzhead?(L(M,(M.gzhead.text?1:0)+(M.gzhead.hcrc?2:0)+(M.gzhead.extra?4:0)+(M.gzhead.name?8:0)+(M.gzhead.comment?16:0)),L(M,255&M.gzhead.time),L(M,M.gzhead.time>>8&255),L(M,M.gzhead.time>>16&255),L(M,M.gzhead.time>>24&255),L(M,M.level===9?2:2<=M.strategy||M.level<2?4:0),L(M,255&M.gzhead.os),M.gzhead.extra&&M.gzhead.extra.length&&(L(M,255&M.gzhead.extra.length),L(M,M.gzhead.extra.length>>8&255)),M.gzhead.hcrc&&(D.adler=x(D.adler,M.pending_buf,M.pending,0)),M.gzindex=0,M.status=69):(L(M,0),L(M,0),L(M,0),L(M,0),L(M,0),L(M,M.level===9?2:2<=M.strategy||M.level<2?4:0),L(M,3),M.status=B);else{var ue=8+(M.w_bits-8<<4)<<8;ue|=(2<=M.strategy||M.level<2?0:M.level<6?1:M.level===6?2:3)<<6,M.strstart!==0&&(ue|=32),ue+=31-ue%31,M.status=B,b(M,ue),M.strstart!==0&&(b(M,D.adler>>>16),b(M,65535&D.adler)),D.adler=1}if(M.status===69)if(M.gzhead.extra){for($=M.pending;M.gzindex<(65535&M.gzhead.extra.length)&&(M.pending!==M.pending_buf_size||(M.gzhead.hcrc&&M.pending>$&&(D.adler=x(D.adler,M.pending_buf,M.pending-$,$)),k(D),$=M.pending,M.pending!==M.pending_buf_size));)L(M,255&M.gzhead.extra[M.gzindex]),M.gzindex++;M.gzhead.hcrc&&M.pending>$&&(D.adler=x(D.adler,M.pending_buf,M.pending-$,$)),M.gzindex===M.gzhead.extra.length&&(M.gzindex=0,M.status=73)}else M.status=73;if(M.status===73)if(M.gzhead.name){$=M.pending;do{if(M.pending===M.pending_buf_size&&(M.gzhead.hcrc&&M.pending>$&&(D.adler=x(D.adler,M.pending_buf,M.pending-$,$)),k(D),$=M.pending,M.pending===M.pending_buf_size)){te=1;break}te=M.gzindex<M.gzhead.name.length?255&M.gzhead.name.charCodeAt(M.gzindex++):0,L(M,te)}while(te!==0);M.gzhead.hcrc&&M.pending>$&&(D.adler=x(D.adler,M.pending_buf,M.pending-$,$)),te===0&&(M.gzindex=0,M.status=91)}else M.status=91;if(M.status===91)if(M.gzhead.comment){$=M.pending;do{if(M.pending===M.pending_buf_size&&(M.gzhead.hcrc&&M.pending>$&&(D.adler=x(D.adler,M.pending_buf,M.pending-$,$)),k(D),$=M.pending,M.pending===M.pending_buf_size)){te=1;break}te=M.gzindex<M.gzhead.comment.length?255&M.gzhead.comment.charCodeAt(M.gzindex++):0,L(M,te)}while(te!==0);M.gzhead.hcrc&&M.pending>$&&(D.adler=x(D.adler,M.pending_buf,M.pending-$,$)),te===0&&(M.status=103)}else M.status=103;if(M.status===103&&(M.gzhead.hcrc?(M.pending+2>M.pending_buf_size&&k(D),M.pending+2<=M.pending_buf_size&&(L(M,255&D.adler),L(M,D.adler>>8&255),D.adler=0,M.status=B)):M.status=B),M.pending!==0){if(k(D),D.avail_out===0)return M.last_flush=-1,0}else if(D.avail_in===0&&G(Y)<=G(P)&&Y!==4)return V(D,-5);if(M.status===666&&D.avail_in!==0)return V(D,-5);if(D.avail_in!==0||M.lookahead!==0||Y!==0&&M.status!==666){var re=M.strategy===2?function(ce,_e){for(var xe;;){if(ce.lookahead===0&&(_(ce),ce.lookahead===0)){if(_e===0)return 1;break}if(ce.match_length=0,xe=g._tr_tally(ce,0,ce.window[ce.strstart]),ce.lookahead--,ce.strstart++,xe&&(E(ce,!1),ce.strm.avail_out===0))return 1}return ce.insert=0,_e===4?(E(ce,!0),ce.strm.avail_out===0?3:4):ce.last_lit&&(E(ce,!1),ce.strm.avail_out===0)?1:2}(M,Y):M.strategy===3?function(ce,_e){for(var xe,ie,se,ge,Ae=ce.window;;){if(ce.lookahead<=H){if(_(ce),ce.lookahead<=H&&_e===0)return 1;if(ce.lookahead===0)break}if(ce.match_length=0,ce.lookahead>=3&&0<ce.strstart&&(ie=Ae[se=ce.strstart-1])===Ae[++se]&&ie===Ae[++se]&&ie===Ae[++se]){ge=ce.strstart+H;do;while(ie===Ae[++se]&&ie===Ae[++se]&&ie===Ae[++se]&&ie===Ae[++se]&&ie===Ae[++se]&&ie===Ae[++se]&&ie===Ae[++se]&&ie===Ae[++se]&&se<ge);ce.match_length=H-(ge-se),ce.match_length>ce.lookahead&&(ce.match_length=ce.lookahead)}if(ce.match_length>=3?(xe=g._tr_tally(ce,1,ce.match_length-3),ce.lookahead-=ce.match_length,ce.strstart+=ce.match_length,ce.match_length=0):(xe=g._tr_tally(ce,0,ce.window[ce.strstart]),ce.lookahead--,ce.strstart++),xe&&(E(ce,!1),ce.strm.avail_out===0))return 1}return ce.insert=0,_e===4?(E(ce,!0),ce.strm.avail_out===0?3:4):ce.last_lit&&(E(ce,!1),ce.strm.avail_out===0)?1:2}(M,Y):m[M.level].func(M,Y);if(re!==3&&re!==4||(M.status=666),re===1||re===3)return D.avail_out===0&&(M.last_flush=-1),0;if(re===2&&(Y===1?g._tr_align(M):Y!==5&&(g._tr_stored_block(M,0,0,!1),Y===3&&(W(M.head),M.lookahead===0&&(M.strstart=0,M.block_start=0,M.insert=0))),k(D),D.avail_out===0))return M.last_flush=-1,0}return Y!==4?0:M.wrap<=0?1:(M.wrap===2?(L(M,255&D.adler),L(M,D.adler>>8&255),L(M,D.adler>>16&255),L(M,D.adler>>24&255),L(M,255&D.total_in),L(M,D.total_in>>8&255),L(M,D.total_in>>16&255),L(M,D.total_in>>24&255)):(b(M,D.adler>>>16),b(M,65535&D.adler)),k(D),0<M.wrap&&(M.wrap=-M.wrap),M.pending!==0?0:1)},h.deflateEnd=function(D){var Y;return D&&D.state?(Y=D.state.status)!==42&&Y!==69&&Y!==73&&Y!==91&&Y!==103&&Y!==B&&Y!==666?V(D,N):(D.state=null,Y===B?V(D,-3):0):N},h.deflateSetDictionary=function(D,Y){var P,M,$,te,ue,re,ce,_e,xe=Y.length;if(!D||!D.state||(te=(P=D.state).wrap)===2||te===1&&P.status!==42||P.lookahead)return N;for(te===1&&(D.adler=v(D.adler,Y,xe,0)),P.wrap=0,xe>=P.w_size&&(te===0&&(W(P.head),P.strstart=0,P.block_start=0,P.insert=0),_e=new p.Buf8(P.w_size),p.arraySet(_e,Y,xe-P.w_size,P.w_size,0),Y=_e,xe=P.w_size),ue=D.avail_in,re=D.next_in,ce=D.input,D.avail_in=xe,D.next_in=0,D.input=Y,_(P);P.lookahead>=3;){for(M=P.strstart,$=P.lookahead-2;P.ins_h=(P.ins_h<<P.hash_shift^P.window[M+3-1])&P.hash_mask,P.prev[M&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=M,M++,--$;);P.strstart=M,P.lookahead=2,_(P)}return P.strstart+=P.lookahead,P.block_start=P.strstart,P.insert=P.lookahead,P.lookahead=0,P.match_length=P.prev_length=2,P.match_available=0,D.next_in=re,D.input=ce,D.avail_in=ue,P.wrap=te,0},h.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(d,f,h){f.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(d,f,h){f.exports=function(m,p){var g,v,x,I,N,H,F,B,V,G,W,k,E,L,b,w,_,y,C,S,R,Z,j,X,D;g=m.state,v=m.next_in,X=m.input,x=v+(m.avail_in-5),I=m.next_out,D=m.output,N=I-(p-m.avail_out),H=I+(m.avail_out-257),F=g.dmax,B=g.wsize,V=g.whave,G=g.wnext,W=g.window,k=g.hold,E=g.bits,L=g.lencode,b=g.distcode,w=(1<<g.lenbits)-1,_=(1<<g.distbits)-1;e:do{E<15&&(k+=X[v++]<<E,E+=8,k+=X[v++]<<E,E+=8),y=L[k&w];t:for(;;){if(k>>>=C=y>>>24,E-=C,(C=y>>>16&255)==0)D[I++]=65535&y;else{if(!(16&C)){if(!(64&C)){y=L[(65535&y)+(k&(1<<C)-1)];continue t}if(32&C){g.mode=12;break e}m.msg="invalid literal/length code",g.mode=30;break e}S=65535&y,(C&=15)&&(E<C&&(k+=X[v++]<<E,E+=8),S+=k&(1<<C)-1,k>>>=C,E-=C),E<15&&(k+=X[v++]<<E,E+=8,k+=X[v++]<<E,E+=8),y=b[k&_];n:for(;;){if(k>>>=C=y>>>24,E-=C,!(16&(C=y>>>16&255))){if(!(64&C)){y=b[(65535&y)+(k&(1<<C)-1)];continue n}m.msg="invalid distance code",g.mode=30;break e}if(R=65535&y,E<(C&=15)&&(k+=X[v++]<<E,(E+=8)<C&&(k+=X[v++]<<E,E+=8)),F<(R+=k&(1<<C)-1)){m.msg="invalid distance too far back",g.mode=30;break e}if(k>>>=C,E-=C,(C=I-N)<R){if(V<(C=R-C)&&g.sane){m.msg="invalid distance too far back",g.mode=30;break e}if(j=W,(Z=0)===G){if(Z+=B-C,C<S){for(S-=C;D[I++]=W[Z++],--C;);Z=I-R,j=D}}else if(G<C){if(Z+=B+G-C,(C-=G)<S){for(S-=C;D[I++]=W[Z++],--C;);if(Z=0,G<S){for(S-=C=G;D[I++]=W[Z++],--C;);Z=I-R,j=D}}}else if(Z+=G-C,C<S){for(S-=C;D[I++]=W[Z++],--C;);Z=I-R,j=D}for(;2<S;)D[I++]=j[Z++],D[I++]=j[Z++],D[I++]=j[Z++],S-=3;S&&(D[I++]=j[Z++],1<S&&(D[I++]=j[Z++]))}else{for(Z=I-R;D[I++]=D[Z++],D[I++]=D[Z++],D[I++]=D[Z++],2<(S-=3););S&&(D[I++]=D[Z++],1<S&&(D[I++]=D[Z++]))}break}}break}}while(v<x&&I<H);v-=S=E>>3,k&=(1<<(E-=S<<3))-1,m.next_in=v,m.next_out=I,m.avail_in=v<x?x-v+5:5-(v-x),m.avail_out=I<H?H-I+257:257-(I-H),g.hold=k,g.bits=E}},{}],49:[function(d,f,h){var m=d("../utils/common"),p=d("./adler32"),g=d("./crc32"),v=d("./inffast"),x=d("./inftrees"),I=-2;function N(w){return(w>>>24&255)+(w>>>8&65280)+((65280&w)<<8)+((255&w)<<24)}function H(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function F(w){var _;return w&&w.state?(_=w.state,w.total_in=w.total_out=_.total=0,w.msg="",_.wrap&&(w.adler=1&_.wrap),_.mode=1,_.last=0,_.havedict=0,_.dmax=32768,_.head=null,_.hold=0,_.bits=0,_.lencode=_.lendyn=new m.Buf32(852),_.distcode=_.distdyn=new m.Buf32(592),_.sane=1,_.back=-1,0):I}function B(w){var _;return w&&w.state?((_=w.state).wsize=0,_.whave=0,_.wnext=0,F(w)):I}function V(w,_){var y,C;return w&&w.state?(C=w.state,_<0?(y=0,_=-_):(y=1+(_>>4),_<48&&(_&=15)),_&&(_<8||15<_)?I:(C.window!==null&&C.wbits!==_&&(C.window=null),C.wrap=y,C.wbits=_,B(w))):I}function G(w,_){var y,C;return w?(C=new H,(w.state=C).window=null,(y=V(w,_))!==0&&(w.state=null),y):I}var W,k,E=!0;function L(w){if(E){var _;for(W=new m.Buf32(512),k=new m.Buf32(32),_=0;_<144;)w.lens[_++]=8;for(;_<256;)w.lens[_++]=9;for(;_<280;)w.lens[_++]=7;for(;_<288;)w.lens[_++]=8;for(x(1,w.lens,0,288,W,0,w.work,{bits:9}),_=0;_<32;)w.lens[_++]=5;x(2,w.lens,0,32,k,0,w.work,{bits:5}),E=!1}w.lencode=W,w.lenbits=9,w.distcode=k,w.distbits=5}function b(w,_,y,C){var S,R=w.state;return R.window===null&&(R.wsize=1<<R.wbits,R.wnext=0,R.whave=0,R.window=new m.Buf8(R.wsize)),C>=R.wsize?(m.arraySet(R.window,_,y-R.wsize,R.wsize,0),R.wnext=0,R.whave=R.wsize):(C<(S=R.wsize-R.wnext)&&(S=C),m.arraySet(R.window,_,y-C,S,R.wnext),(C-=S)?(m.arraySet(R.window,_,y-C,C,0),R.wnext=C,R.whave=R.wsize):(R.wnext+=S,R.wnext===R.wsize&&(R.wnext=0),R.whave<R.wsize&&(R.whave+=S))),0}h.inflateReset=B,h.inflateReset2=V,h.inflateResetKeep=F,h.inflateInit=function(w){return G(w,15)},h.inflateInit2=G,h.inflate=function(w,_){var y,C,S,R,Z,j,X,D,Y,P,M,$,te,ue,re,ce,_e,xe,ie,se,ge,Ae,Ee,Te,Se=0,Fe=new m.Buf8(4),He=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!w||!w.state||!w.output||!w.input&&w.avail_in!==0)return I;(y=w.state).mode===12&&(y.mode=13),Z=w.next_out,S=w.output,X=w.avail_out,R=w.next_in,C=w.input,j=w.avail_in,D=y.hold,Y=y.bits,P=j,M=X,Ae=0;e:for(;;)switch(y.mode){case 1:if(y.wrap===0){y.mode=13;break}for(;Y<16;){if(j===0)break e;j--,D+=C[R++]<<Y,Y+=8}if(2&y.wrap&&D===35615){Fe[y.check=0]=255&D,Fe[1]=D>>>8&255,y.check=g(y.check,Fe,2,0),Y=D=0,y.mode=2;break}if(y.flags=0,y.head&&(y.head.done=!1),!(1&y.wrap)||(((255&D)<<8)+(D>>8))%31){w.msg="incorrect header check",y.mode=30;break}if((15&D)!=8){w.msg="unknown compression method",y.mode=30;break}if(Y-=4,ge=8+(15&(D>>>=4)),y.wbits===0)y.wbits=ge;else if(ge>y.wbits){w.msg="invalid window size",y.mode=30;break}y.dmax=1<<ge,w.adler=y.check=1,y.mode=512&D?10:12,Y=D=0;break;case 2:for(;Y<16;){if(j===0)break e;j--,D+=C[R++]<<Y,Y+=8}if(y.flags=D,(255&y.flags)!=8){w.msg="unknown compression method",y.mode=30;break}if(57344&y.flags){w.msg="unknown header flags set",y.mode=30;break}y.head&&(y.head.text=D>>8&1),512&y.flags&&(Fe[0]=255&D,Fe[1]=D>>>8&255,y.check=g(y.check,Fe,2,0)),Y=D=0,y.mode=3;case 3:for(;Y<32;){if(j===0)break e;j--,D+=C[R++]<<Y,Y+=8}y.head&&(y.head.time=D),512&y.flags&&(Fe[0]=255&D,Fe[1]=D>>>8&255,Fe[2]=D>>>16&255,Fe[3]=D>>>24&255,y.check=g(y.check,Fe,4,0)),Y=D=0,y.mode=4;case 4:for(;Y<16;){if(j===0)break e;j--,D+=C[R++]<<Y,Y+=8}y.head&&(y.head.xflags=255&D,y.head.os=D>>8),512&y.flags&&(Fe[0]=255&D,Fe[1]=D>>>8&255,y.check=g(y.check,Fe,2,0)),Y=D=0,y.mode=5;case 5:if(1024&y.flags){for(;Y<16;){if(j===0)break e;j--,D+=C[R++]<<Y,Y+=8}y.length=D,y.head&&(y.head.extra_len=D),512&y.flags&&(Fe[0]=255&D,Fe[1]=D>>>8&255,y.check=g(y.check,Fe,2,0)),Y=D=0}else y.head&&(y.head.extra=null);y.mode=6;case 6:if(1024&y.flags&&(j<($=y.length)&&($=j),$&&(y.head&&(ge=y.head.extra_len-y.length,y.head.extra||(y.head.extra=new Array(y.head.extra_len)),m.arraySet(y.head.extra,C,R,$,ge)),512&y.flags&&(y.check=g(y.check,C,$,R)),j-=$,R+=$,y.length-=$),y.length))break e;y.length=0,y.mode=7;case 7:if(2048&y.flags){if(j===0)break e;for($=0;ge=C[R+$++],y.head&&ge&&y.length<65536&&(y.head.name+=String.fromCharCode(ge)),ge&&$<j;);if(512&y.flags&&(y.check=g(y.check,C,$,R)),j-=$,R+=$,ge)break e}else y.head&&(y.head.name=null);y.length=0,y.mode=8;case 8:if(4096&y.flags){if(j===0)break e;for($=0;ge=C[R+$++],y.head&&ge&&y.length<65536&&(y.head.comment+=String.fromCharCode(ge)),ge&&$<j;);if(512&y.flags&&(y.check=g(y.check,C,$,R)),j-=$,R+=$,ge)break e}else y.head&&(y.head.comment=null);y.mode=9;case 9:if(512&y.flags){for(;Y<16;){if(j===0)break e;j--,D+=C[R++]<<Y,Y+=8}if(D!==(65535&y.check)){w.msg="header crc mismatch",y.mode=30;break}Y=D=0}y.head&&(y.head.hcrc=y.flags>>9&1,y.head.done=!0),w.adler=y.check=0,y.mode=12;break;case 10:for(;Y<32;){if(j===0)break e;j--,D+=C[R++]<<Y,Y+=8}w.adler=y.check=N(D),Y=D=0,y.mode=11;case 11:if(y.havedict===0)return w.next_out=Z,w.avail_out=X,w.next_in=R,w.avail_in=j,y.hold=D,y.bits=Y,2;w.adler=y.check=1,y.mode=12;case 12:if(_===5||_===6)break e;case 13:if(y.last){D>>>=7&Y,Y-=7&Y,y.mode=27;break}for(;Y<3;){if(j===0)break e;j--,D+=C[R++]<<Y,Y+=8}switch(y.last=1&D,Y-=1,3&(D>>>=1)){case 0:y.mode=14;break;case 1:if(L(y),y.mode=20,_!==6)break;D>>>=2,Y-=2;break e;case 2:y.mode=17;break;case 3:w.msg="invalid block type",y.mode=30}D>>>=2,Y-=2;break;case 14:for(D>>>=7&Y,Y-=7&Y;Y<32;){if(j===0)break e;j--,D+=C[R++]<<Y,Y+=8}if((65535&D)!=(D>>>16^65535)){w.msg="invalid stored block lengths",y.mode=30;break}if(y.length=65535&D,Y=D=0,y.mode=15,_===6)break e;case 15:y.mode=16;case 16:if($=y.length){if(j<$&&($=j),X<$&&($=X),$===0)break e;m.arraySet(S,C,R,$,Z),j-=$,R+=$,X-=$,Z+=$,y.length-=$;break}y.mode=12;break;case 17:for(;Y<14;){if(j===0)break e;j--,D+=C[R++]<<Y,Y+=8}if(y.nlen=257+(31&D),D>>>=5,Y-=5,y.ndist=1+(31&D),D>>>=5,Y-=5,y.ncode=4+(15&D),D>>>=4,Y-=4,286<y.nlen||30<y.ndist){w.msg="too many length or distance symbols",y.mode=30;break}y.have=0,y.mode=18;case 18:for(;y.have<y.ncode;){for(;Y<3;){if(j===0)break e;j--,D+=C[R++]<<Y,Y+=8}y.lens[He[y.have++]]=7&D,D>>>=3,Y-=3}for(;y.have<19;)y.lens[He[y.have++]]=0;if(y.lencode=y.lendyn,y.lenbits=7,Ee={bits:y.lenbits},Ae=x(0,y.lens,0,19,y.lencode,0,y.work,Ee),y.lenbits=Ee.bits,Ae){w.msg="invalid code lengths set",y.mode=30;break}y.have=0,y.mode=19;case 19:for(;y.have<y.nlen+y.ndist;){for(;ce=(Se=y.lencode[D&(1<<y.lenbits)-1])>>>16&255,_e=65535&Se,!((re=Se>>>24)<=Y);){if(j===0)break e;j--,D+=C[R++]<<Y,Y+=8}if(_e<16)D>>>=re,Y-=re,y.lens[y.have++]=_e;else{if(_e===16){for(Te=re+2;Y<Te;){if(j===0)break e;j--,D+=C[R++]<<Y,Y+=8}if(D>>>=re,Y-=re,y.have===0){w.msg="invalid bit length repeat",y.mode=30;break}ge=y.lens[y.have-1],$=3+(3&D),D>>>=2,Y-=2}else if(_e===17){for(Te=re+3;Y<Te;){if(j===0)break e;j--,D+=C[R++]<<Y,Y+=8}Y-=re,ge=0,$=3+(7&(D>>>=re)),D>>>=3,Y-=3}else{for(Te=re+7;Y<Te;){if(j===0)break e;j--,D+=C[R++]<<Y,Y+=8}Y-=re,ge=0,$=11+(127&(D>>>=re)),D>>>=7,Y-=7}if(y.have+$>y.nlen+y.ndist){w.msg="invalid bit length repeat",y.mode=30;break}for(;$--;)y.lens[y.have++]=ge}}if(y.mode===30)break;if(y.lens[256]===0){w.msg="invalid code -- missing end-of-block",y.mode=30;break}if(y.lenbits=9,Ee={bits:y.lenbits},Ae=x(1,y.lens,0,y.nlen,y.lencode,0,y.work,Ee),y.lenbits=Ee.bits,Ae){w.msg="invalid literal/lengths set",y.mode=30;break}if(y.distbits=6,y.distcode=y.distdyn,Ee={bits:y.distbits},Ae=x(2,y.lens,y.nlen,y.ndist,y.distcode,0,y.work,Ee),y.distbits=Ee.bits,Ae){w.msg="invalid distances set",y.mode=30;break}if(y.mode=20,_===6)break e;case 20:y.mode=21;case 21:if(6<=j&&258<=X){w.next_out=Z,w.avail_out=X,w.next_in=R,w.avail_in=j,y.hold=D,y.bits=Y,v(w,M),Z=w.next_out,S=w.output,X=w.avail_out,R=w.next_in,C=w.input,j=w.avail_in,D=y.hold,Y=y.bits,y.mode===12&&(y.back=-1);break}for(y.back=0;ce=(Se=y.lencode[D&(1<<y.lenbits)-1])>>>16&255,_e=65535&Se,!((re=Se>>>24)<=Y);){if(j===0)break e;j--,D+=C[R++]<<Y,Y+=8}if(ce&&!(240&ce)){for(xe=re,ie=ce,se=_e;ce=(Se=y.lencode[se+((D&(1<<xe+ie)-1)>>xe)])>>>16&255,_e=65535&Se,!(xe+(re=Se>>>24)<=Y);){if(j===0)break e;j--,D+=C[R++]<<Y,Y+=8}D>>>=xe,Y-=xe,y.back+=xe}if(D>>>=re,Y-=re,y.back+=re,y.length=_e,ce===0){y.mode=26;break}if(32&ce){y.back=-1,y.mode=12;break}if(64&ce){w.msg="invalid literal/length code",y.mode=30;break}y.extra=15&ce,y.mode=22;case 22:if(y.extra){for(Te=y.extra;Y<Te;){if(j===0)break e;j--,D+=C[R++]<<Y,Y+=8}y.length+=D&(1<<y.extra)-1,D>>>=y.extra,Y-=y.extra,y.back+=y.extra}y.was=y.length,y.mode=23;case 23:for(;ce=(Se=y.distcode[D&(1<<y.distbits)-1])>>>16&255,_e=65535&Se,!((re=Se>>>24)<=Y);){if(j===0)break e;j--,D+=C[R++]<<Y,Y+=8}if(!(240&ce)){for(xe=re,ie=ce,se=_e;ce=(Se=y.distcode[se+((D&(1<<xe+ie)-1)>>xe)])>>>16&255,_e=65535&Se,!(xe+(re=Se>>>24)<=Y);){if(j===0)break e;j--,D+=C[R++]<<Y,Y+=8}D>>>=xe,Y-=xe,y.back+=xe}if(D>>>=re,Y-=re,y.back+=re,64&ce){w.msg="invalid distance code",y.mode=30;break}y.offset=_e,y.extra=15&ce,y.mode=24;case 24:if(y.extra){for(Te=y.extra;Y<Te;){if(j===0)break e;j--,D+=C[R++]<<Y,Y+=8}y.offset+=D&(1<<y.extra)-1,D>>>=y.extra,Y-=y.extra,y.back+=y.extra}if(y.offset>y.dmax){w.msg="invalid distance too far back",y.mode=30;break}y.mode=25;case 25:if(X===0)break e;if($=M-X,y.offset>$){if(($=y.offset-$)>y.whave&&y.sane){w.msg="invalid distance too far back",y.mode=30;break}te=$>y.wnext?($-=y.wnext,y.wsize-$):y.wnext-$,$>y.length&&($=y.length),ue=y.window}else ue=S,te=Z-y.offset,$=y.length;for(X<$&&($=X),X-=$,y.length-=$;S[Z++]=ue[te++],--$;);y.length===0&&(y.mode=21);break;case 26:if(X===0)break e;S[Z++]=y.length,X--,y.mode=21;break;case 27:if(y.wrap){for(;Y<32;){if(j===0)break e;j--,D|=C[R++]<<Y,Y+=8}if(M-=X,w.total_out+=M,y.total+=M,M&&(w.adler=y.check=y.flags?g(y.check,S,M,Z-M):p(y.check,S,M,Z-M)),M=X,(y.flags?D:N(D))!==y.check){w.msg="incorrect data check",y.mode=30;break}Y=D=0}y.mode=28;case 28:if(y.wrap&&y.flags){for(;Y<32;){if(j===0)break e;j--,D+=C[R++]<<Y,Y+=8}if(D!==(4294967295&y.total)){w.msg="incorrect length check",y.mode=30;break}Y=D=0}y.mode=29;case 29:Ae=1;break e;case 30:Ae=-3;break e;case 31:return-4;case 32:default:return I}return w.next_out=Z,w.avail_out=X,w.next_in=R,w.avail_in=j,y.hold=D,y.bits=Y,(y.wsize||M!==w.avail_out&&y.mode<30&&(y.mode<27||_!==4))&&b(w,w.output,w.next_out,M-w.avail_out)?(y.mode=31,-4):(P-=w.avail_in,M-=w.avail_out,w.total_in+=P,w.total_out+=M,y.total+=M,y.wrap&&M&&(w.adler=y.check=y.flags?g(y.check,S,M,w.next_out-M):p(y.check,S,M,w.next_out-M)),w.data_type=y.bits+(y.last?64:0)+(y.mode===12?128:0)+(y.mode===20||y.mode===15?256:0),(P==0&&M===0||_===4)&&Ae===0&&(Ae=-5),Ae)},h.inflateEnd=function(w){if(!w||!w.state)return I;var _=w.state;return _.window&&(_.window=null),w.state=null,0},h.inflateGetHeader=function(w,_){var y;return w&&w.state&&2&(y=w.state).wrap?((y.head=_).done=!1,0):I},h.inflateSetDictionary=function(w,_){var y,C=_.length;return w&&w.state?(y=w.state).wrap!==0&&y.mode!==11?I:y.mode===11&&p(1,_,C,0)!==y.check?-3:b(w,_,C,C)?(y.mode=31,-4):(y.havedict=1,0):I},h.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(d,f,h){var m=d("../utils/common"),p=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],v=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],x=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];f.exports=function(I,N,H,F,B,V,G,W){var k,E,L,b,w,_,y,C,S,R=W.bits,Z=0,j=0,X=0,D=0,Y=0,P=0,M=0,$=0,te=0,ue=0,re=null,ce=0,_e=new m.Buf16(16),xe=new m.Buf16(16),ie=null,se=0;for(Z=0;Z<=15;Z++)_e[Z]=0;for(j=0;j<F;j++)_e[N[H+j]]++;for(Y=R,D=15;1<=D&&_e[D]===0;D--);if(D<Y&&(Y=D),D===0)return B[V++]=20971520,B[V++]=20971520,W.bits=1,0;for(X=1;X<D&&_e[X]===0;X++);for(Y<X&&(Y=X),Z=$=1;Z<=15;Z++)if($<<=1,($-=_e[Z])<0)return-1;if(0<$&&(I===0||D!==1))return-1;for(xe[1]=0,Z=1;Z<15;Z++)xe[Z+1]=xe[Z]+_e[Z];for(j=0;j<F;j++)N[H+j]!==0&&(G[xe[N[H+j]]++]=j);if(_=I===0?(re=ie=G,19):I===1?(re=p,ce-=257,ie=g,se-=257,256):(re=v,ie=x,-1),Z=X,w=V,M=j=ue=0,L=-1,b=(te=1<<(P=Y))-1,I===1&&852<te||I===2&&592<te)return 1;for(;;){for(y=Z-M,S=G[j]<_?(C=0,G[j]):G[j]>_?(C=ie[se+G[j]],re[ce+G[j]]):(C=96,0),k=1<<Z-M,X=E=1<<P;B[w+(ue>>M)+(E-=k)]=y<<24|C<<16|S|0,E!==0;);for(k=1<<Z-1;ue&k;)k>>=1;if(k!==0?(ue&=k-1,ue+=k):ue=0,j++,--_e[Z]==0){if(Z===D)break;Z=N[H+G[j]]}if(Y<Z&&(ue&b)!==L){for(M===0&&(M=Y),w+=X,$=1<<(P=Z-M);P+M<D&&!(($-=_e[P+M])<=0);)P++,$<<=1;if(te+=1<<P,I===1&&852<te||I===2&&592<te)return 1;B[L=ue&b]=Y<<24|P<<16|w-V|0}}return ue!==0&&(B[w+ue]=Z-M<<24|64<<16|0),W.bits=Y,0}},{"../utils/common":41}],51:[function(d,f,h){f.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(d,f,h){var m=d("../utils/common");function p(ie){for(var se=ie.length;0<=--se;)ie[se]=0}var g=256,v=286,x=30,I=15,N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],H=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],V=new Array(576);p(V);var G=new Array(60);p(G);var W=new Array(512);p(W);var k=new Array(256);p(k);var E=new Array(29);p(E);var L,b,w,_=new Array(x);function y(ie,se,ge,Ae,Ee){this.static_tree=ie,this.extra_bits=se,this.extra_base=ge,this.elems=Ae,this.max_length=Ee,this.has_stree=ie&&ie.length}function C(ie,se){this.dyn_tree=ie,this.max_code=0,this.stat_desc=se}function S(ie){return ie<256?W[ie]:W[256+(ie>>>7)]}function R(ie,se){ie.pending_buf[ie.pending++]=255&se,ie.pending_buf[ie.pending++]=se>>>8&255}function Z(ie,se,ge){ie.bi_valid>16-ge?(ie.bi_buf|=se<<ie.bi_valid&65535,R(ie,ie.bi_buf),ie.bi_buf=se>>16-ie.bi_valid,ie.bi_valid+=ge-16):(ie.bi_buf|=se<<ie.bi_valid&65535,ie.bi_valid+=ge)}function j(ie,se,ge){Z(ie,ge[2*se],ge[2*se+1])}function X(ie,se){for(var ge=0;ge|=1&ie,ie>>>=1,ge<<=1,0<--se;);return ge>>>1}function D(ie,se,ge){var Ae,Ee,Te=new Array(16),Se=0;for(Ae=1;Ae<=I;Ae++)Te[Ae]=Se=Se+ge[Ae-1]<<1;for(Ee=0;Ee<=se;Ee++){var Fe=ie[2*Ee+1];Fe!==0&&(ie[2*Ee]=X(Te[Fe]++,Fe))}}function Y(ie){var se;for(se=0;se<v;se++)ie.dyn_ltree[2*se]=0;for(se=0;se<x;se++)ie.dyn_dtree[2*se]=0;for(se=0;se<19;se++)ie.bl_tree[2*se]=0;ie.dyn_ltree[512]=1,ie.opt_len=ie.static_len=0,ie.last_lit=ie.matches=0}function P(ie){8<ie.bi_valid?R(ie,ie.bi_buf):0<ie.bi_valid&&(ie.pending_buf[ie.pending++]=ie.bi_buf),ie.bi_buf=0,ie.bi_valid=0}function M(ie,se,ge,Ae){var Ee=2*se,Te=2*ge;return ie[Ee]<ie[Te]||ie[Ee]===ie[Te]&&Ae[se]<=Ae[ge]}function $(ie,se,ge){for(var Ae=ie.heap[ge],Ee=ge<<1;Ee<=ie.heap_len&&(Ee<ie.heap_len&&M(se,ie.heap[Ee+1],ie.heap[Ee],ie.depth)&&Ee++,!M(se,Ae,ie.heap[Ee],ie.depth));)ie.heap[ge]=ie.heap[Ee],ge=Ee,Ee<<=1;ie.heap[ge]=Ae}function te(ie,se,ge){var Ae,Ee,Te,Se,Fe=0;if(ie.last_lit!==0)for(;Ae=ie.pending_buf[ie.d_buf+2*Fe]<<8|ie.pending_buf[ie.d_buf+2*Fe+1],Ee=ie.pending_buf[ie.l_buf+Fe],Fe++,Ae===0?j(ie,Ee,se):(j(ie,(Te=k[Ee])+g+1,se),(Se=N[Te])!==0&&Z(ie,Ee-=E[Te],Se),j(ie,Te=S(--Ae),ge),(Se=H[Te])!==0&&Z(ie,Ae-=_[Te],Se)),Fe<ie.last_lit;);j(ie,256,se)}function ue(ie,se){var ge,Ae,Ee,Te=se.dyn_tree,Se=se.stat_desc.static_tree,Fe=se.stat_desc.has_stree,He=se.stat_desc.elems,Ze=-1;for(ie.heap_len=0,ie.heap_max=573,ge=0;ge<He;ge++)Te[2*ge]!==0?(ie.heap[++ie.heap_len]=Ze=ge,ie.depth[ge]=0):Te[2*ge+1]=0;for(;ie.heap_len<2;)Te[2*(Ee=ie.heap[++ie.heap_len]=Ze<2?++Ze:0)]=1,ie.depth[Ee]=0,ie.opt_len--,Fe&&(ie.static_len-=Se[2*Ee+1]);for(se.max_code=Ze,ge=ie.heap_len>>1;1<=ge;ge--)$(ie,Te,ge);for(Ee=He;ge=ie.heap[1],ie.heap[1]=ie.heap[ie.heap_len--],$(ie,Te,1),Ae=ie.heap[1],ie.heap[--ie.heap_max]=ge,ie.heap[--ie.heap_max]=Ae,Te[2*Ee]=Te[2*ge]+Te[2*Ae],ie.depth[Ee]=(ie.depth[ge]>=ie.depth[Ae]?ie.depth[ge]:ie.depth[Ae])+1,Te[2*ge+1]=Te[2*Ae+1]=Ee,ie.heap[1]=Ee++,$(ie,Te,1),2<=ie.heap_len;);ie.heap[--ie.heap_max]=ie.heap[1],function(ut,tt){var pt,Zt,bt,lt,st,vt,at=tt.dyn_tree,mn=tt.max_code,Dt=tt.stat_desc.static_tree,Vt=tt.stat_desc.has_stree,jr=tt.stat_desc.extra_bits,Rt=tt.stat_desc.extra_base,rn=tt.stat_desc.max_length,Wn=0;for(lt=0;lt<=I;lt++)ut.bl_count[lt]=0;for(at[2*ut.heap[ut.heap_max]+1]=0,pt=ut.heap_max+1;pt<573;pt++)rn<(lt=at[2*at[2*(Zt=ut.heap[pt])+1]+1]+1)&&(lt=rn,Wn++),at[2*Zt+1]=lt,mn<Zt||(ut.bl_count[lt]++,st=0,Rt<=Zt&&(st=jr[Zt-Rt]),vt=at[2*Zt],ut.opt_len+=vt*(lt+st),Vt&&(ut.static_len+=vt*(Dt[2*Zt+1]+st)));if(Wn!==0){do{for(lt=rn-1;ut.bl_count[lt]===0;)lt--;ut.bl_count[lt]--,ut.bl_count[lt+1]+=2,ut.bl_count[rn]--,Wn-=2}while(0<Wn);for(lt=rn;lt!==0;lt--)for(Zt=ut.bl_count[lt];Zt!==0;)mn<(bt=ut.heap[--pt])||(at[2*bt+1]!==lt&&(ut.opt_len+=(lt-at[2*bt+1])*at[2*bt],at[2*bt+1]=lt),Zt--)}}(ie,se),D(Te,Ze,ie.bl_count)}function re(ie,se,ge){var Ae,Ee,Te=-1,Se=se[1],Fe=0,He=7,Ze=4;for(Se===0&&(He=138,Ze=3),se[2*(ge+1)+1]=65535,Ae=0;Ae<=ge;Ae++)Ee=Se,Se=se[2*(Ae+1)+1],++Fe<He&&Ee===Se||(Fe<Ze?ie.bl_tree[2*Ee]+=Fe:Ee!==0?(Ee!==Te&&ie.bl_tree[2*Ee]++,ie.bl_tree[32]++):Fe<=10?ie.bl_tree[34]++:ie.bl_tree[36]++,Te=Ee,Ze=(Fe=0)===Se?(He=138,3):Ee===Se?(He=6,3):(He=7,4))}function ce(ie,se,ge){var Ae,Ee,Te=-1,Se=se[1],Fe=0,He=7,Ze=4;for(Se===0&&(He=138,Ze=3),Ae=0;Ae<=ge;Ae++)if(Ee=Se,Se=se[2*(Ae+1)+1],!(++Fe<He&&Ee===Se)){if(Fe<Ze)for(;j(ie,Ee,ie.bl_tree),--Fe!=0;);else Ee!==0?(Ee!==Te&&(j(ie,Ee,ie.bl_tree),Fe--),j(ie,16,ie.bl_tree),Z(ie,Fe-3,2)):Fe<=10?(j(ie,17,ie.bl_tree),Z(ie,Fe-3,3)):(j(ie,18,ie.bl_tree),Z(ie,Fe-11,7));Te=Ee,Ze=(Fe=0)===Se?(He=138,3):Ee===Se?(He=6,3):(He=7,4)}}p(_);var _e=!1;function xe(ie,se,ge,Ae){Z(ie,0+(Ae?1:0),3),function(Ee,Te,Se,Fe){P(Ee),R(Ee,Se),R(Ee,~Se),m.arraySet(Ee.pending_buf,Ee.window,Te,Se,Ee.pending),Ee.pending+=Se}(ie,se,ge)}h._tr_init=function(ie){_e||(function(){var se,ge,Ae,Ee,Te,Se=new Array(16);for(Ee=Ae=0;Ee<28;Ee++)for(E[Ee]=Ae,se=0;se<1<<N[Ee];se++)k[Ae++]=Ee;for(k[Ae-1]=Ee,Ee=Te=0;Ee<16;Ee++)for(_[Ee]=Te,se=0;se<1<<H[Ee];se++)W[Te++]=Ee;for(Te>>=7;Ee<x;Ee++)for(_[Ee]=Te<<7,se=0;se<1<<H[Ee]-7;se++)W[256+Te++]=Ee;for(ge=0;ge<=I;ge++)Se[ge]=0;for(se=0;se<=143;)V[2*se+1]=8,se++,Se[8]++;for(;se<=255;)V[2*se+1]=9,se++,Se[9]++;for(;se<=279;)V[2*se+1]=7,se++,Se[7]++;for(;se<=287;)V[2*se+1]=8,se++,Se[8]++;for(D(V,287,Se),se=0;se<x;se++)G[2*se+1]=5,G[2*se]=X(se,5);L=new y(V,N,257,v,I),b=new y(G,H,0,x,I),w=new y(new Array(0),F,0,19,7)}(),_e=!0),ie.l_desc=new C(ie.dyn_ltree,L),ie.d_desc=new C(ie.dyn_dtree,b),ie.bl_desc=new C(ie.bl_tree,w),ie.bi_buf=0,ie.bi_valid=0,Y(ie)},h._tr_stored_block=xe,h._tr_flush_block=function(ie,se,ge,Ae){var Ee,Te,Se=0;0<ie.level?(ie.strm.data_type===2&&(ie.strm.data_type=function(Fe){var He,Ze=4093624447;for(He=0;He<=31;He++,Ze>>>=1)if(1&Ze&&Fe.dyn_ltree[2*He]!==0)return 0;if(Fe.dyn_ltree[18]!==0||Fe.dyn_ltree[20]!==0||Fe.dyn_ltree[26]!==0)return 1;for(He=32;He<g;He++)if(Fe.dyn_ltree[2*He]!==0)return 1;return 0}(ie)),ue(ie,ie.l_desc),ue(ie,ie.d_desc),Se=function(Fe){var He;for(re(Fe,Fe.dyn_ltree,Fe.l_desc.max_code),re(Fe,Fe.dyn_dtree,Fe.d_desc.max_code),ue(Fe,Fe.bl_desc),He=18;3<=He&&Fe.bl_tree[2*B[He]+1]===0;He--);return Fe.opt_len+=3*(He+1)+5+5+4,He}(ie),Ee=ie.opt_len+3+7>>>3,(Te=ie.static_len+3+7>>>3)<=Ee&&(Ee=Te)):Ee=Te=ge+5,ge+4<=Ee&&se!==-1?xe(ie,se,ge,Ae):ie.strategy===4||Te===Ee?(Z(ie,2+(Ae?1:0),3),te(ie,V,G)):(Z(ie,4+(Ae?1:0),3),function(Fe,He,Ze,ut){var tt;for(Z(Fe,He-257,5),Z(Fe,Ze-1,5),Z(Fe,ut-4,4),tt=0;tt<ut;tt++)Z(Fe,Fe.bl_tree[2*B[tt]+1],3);ce(Fe,Fe.dyn_ltree,He-1),ce(Fe,Fe.dyn_dtree,Ze-1)}(ie,ie.l_desc.max_code+1,ie.d_desc.max_code+1,Se+1),te(ie,ie.dyn_ltree,ie.dyn_dtree)),Y(ie),Ae&&P(ie)},h._tr_tally=function(ie,se,ge){return ie.pending_buf[ie.d_buf+2*ie.last_lit]=se>>>8&255,ie.pending_buf[ie.d_buf+2*ie.last_lit+1]=255&se,ie.pending_buf[ie.l_buf+ie.last_lit]=255&ge,ie.last_lit++,se===0?ie.dyn_ltree[2*ge]++:(ie.matches++,se--,ie.dyn_ltree[2*(k[ge]+g+1)]++,ie.dyn_dtree[2*S(se)]++),ie.last_lit===ie.lit_bufsize-1},h._tr_align=function(ie){Z(ie,2,3),j(ie,256,V),function(se){se.bi_valid===16?(R(se,se.bi_buf),se.bi_buf=0,se.bi_valid=0):8<=se.bi_valid&&(se.pending_buf[se.pending++]=255&se.bi_buf,se.bi_buf>>=8,se.bi_valid-=8)}(ie)}},{"../utils/common":41}],53:[function(d,f,h){f.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(d,f,h){(function(m){(function(p,g){if(!p.setImmediate){var v,x,I,N,H=1,F={},B=!1,V=p.document,G=Object.getPrototypeOf&&Object.getPrototypeOf(p);G=G&&G.setTimeout?G:p,v={}.toString.call(p.process)==="[object process]"?function(L){i.nextTick(function(){k(L)})}:function(){if(p.postMessage&&!p.importScripts){var L=!0,b=p.onmessage;return p.onmessage=function(){L=!1},p.postMessage("","*"),p.onmessage=b,L}}()?(N="setImmediate$"+Math.random()+"$",p.addEventListener?p.addEventListener("message",E,!1):p.attachEvent("onmessage",E),function(L){p.postMessage(N+L,"*")}):p.MessageChannel?((I=new MessageChannel).port1.onmessage=function(L){k(L.data)},function(L){I.port2.postMessage(L)}):V&&"onreadystatechange"in V.createElement("script")?(x=V.documentElement,function(L){var b=V.createElement("script");b.onreadystatechange=function(){k(L),b.onreadystatechange=null,x.removeChild(b),b=null},x.appendChild(b)}):function(L){setTimeout(k,0,L)},G.setImmediate=function(L){typeof L!="function"&&(L=new Function(""+L));for(var b=new Array(arguments.length-1),w=0;w<b.length;w++)b[w]=arguments[w+1];var _={callback:L,args:b};return F[H]=_,v(H),H++},G.clearImmediate=W}function W(L){delete F[L]}function k(L){if(B)setTimeout(k,0,L);else{var b=F[L];if(b){B=!0;try{(function(w){var _=w.callback,y=w.args;switch(y.length){case 0:_();break;case 1:_(y[0]);break;case 2:_(y[0],y[1]);break;case 3:_(y[0],y[1],y[2]);break;default:_.apply(void 0,y)}})(b)}finally{W(L),B=!1}}}}function E(L){L.source===p&&typeof L.data=="string"&&L.data.indexOf(N)===0&&k(+L.data.slice(N.length))}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,r!==void 0?r:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,n("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],n("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(n,e,t){(function(i){(function(){"use strict";var r=/[\\^$.*+?()[\]{}|]/g,o=RegExp(r.source),s=typeof i=="object"&&i&&i.Object===Object&&i,a=typeof self=="object"&&self&&self.Object===Object&&self,l=s||a||Function("return this")(),c=Object.prototype.toString,u=l.Symbol,d=u?u.prototype:void 0,f=d?d.toString:void 0;function h(m){if(typeof m=="string")return m;if(function(g){return typeof g=="symbol"||function(v){return!!v&&typeof v=="object"}(g)&&c.call(g)=="[object Symbol]"}(m))return f?f.call(m):"";var p=m+"";return p=="0"&&1/m==-1/0?"-0":p}e.exports=function(m){var p;return(m=(p=m)==null?"":h(p))&&o.test(m)?m.replace(r,"\\$&"):m}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(n,e,t){(function(i){(function(){"use strict";var r="[object Arguments]",o="[object Map]",s="[object Object]",a="[object Set]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,u=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p[r]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p[o]=p["[object Number]"]=p[s]=p["[object RegExp]"]=p[a]=p["[object String]"]=p["[object WeakMap]"]=!1;var g=typeof i=="object"&&i&&i.Object===Object&&i,v=typeof self=="object"&&self&&self.Object===Object&&self,x=g||v||Function("return this")(),I=typeof t=="object"&&t&&!t.nodeType&&t,N=I&&typeof e=="object"&&e&&!e.nodeType&&e,H=N&&N.exports===I&&g.process,F=function(){try{return H&&H.binding("util")}catch{}}(),B=F&&F.isTypedArray;function V(ye,We,dt,it){for(var Pt=-1,Qt=ye?ye.length:0;++Pt<Qt;){var Yt=ye[Pt];We(it,Yt,dt(Yt),ye)}return it}function G(ye,We){for(var dt=-1,it=ye?ye.length:0;++dt<it;)if(We(ye[dt],dt,ye))return!0;return!1}function W(ye){var We=!1;if(ye!=null&&typeof ye.toString!="function")try{We=!!(ye+"")}catch{}return We}function k(ye){var We=-1,dt=Array(ye.size);return ye.forEach(function(it,Pt){dt[++We]=[Pt,it]}),dt}function E(ye){var We=-1,dt=Array(ye.size);return ye.forEach(function(it){dt[++We]=it}),dt}var L,b,w,_=Array.prototype,y=Function.prototype,C=Object.prototype,S=x["__core-js_shared__"],R=(L=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+L:"",Z=y.toString,j=C.hasOwnProperty,X=C.toString,D=RegExp("^"+Z.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=x.Symbol,P=x.Uint8Array,M=C.propertyIsEnumerable,$=_.splice,te=(b=Object.keys,w=Object,function(ye){return b(w(ye))}),ue=Ft(x,"DataView"),re=Ft(x,"Map"),ce=Ft(x,"Promise"),_e=Ft(x,"Set"),xe=Ft(x,"WeakMap"),ie=Ft(Object,"create"),se=Ye(ue),ge=Ye(re),Ae=Ye(ce),Ee=Ye(_e),Te=Ye(xe),Se=Y?Y.prototype:void 0,Fe=Se?Se.valueOf:void 0,He=Se?Se.toString:void 0;function Ze(ye){var We=-1,dt=ye?ye.length:0;for(this.clear();++We<dt;){var it=ye[We];this.set(it[0],it[1])}}function ut(ye){var We=-1,dt=ye?ye.length:0;for(this.clear();++We<dt;){var it=ye[We];this.set(it[0],it[1])}}function tt(ye){var We=-1,dt=ye?ye.length:0;for(this.clear();++We<dt;){var it=ye[We];this.set(it[0],it[1])}}function pt(ye){var We=-1,dt=ye?ye.length:0;for(this.__data__=new tt;++We<dt;)this.add(ye[We])}function Zt(ye){this.__data__=new ut(ye)}function bt(ye,We){var dt=Bt(ye)||Jt(ye)?function(Yt,Jn){for(var xn=-1,yn=Array(Yt);++xn<Yt;)yn[xn]=Jn(xn);return yn}(ye.length,String):[],it=dt.length,Pt=!!it;for(var Qt in ye)!We&&!j.call(ye,Qt)||Pt&&(Qt=="length"||on(Qt,it))||dt.push(Qt);return dt}function lt(ye,We){for(var dt=ye.length;dt--;)if(li(ye[dt][0],We))return dt;return-1}function st(ye,We,dt,it){return mn(ye,function(Pt,Qt,Yt){We(it,Pt,dt(Pt),Yt)}),it}Ze.prototype.clear=function(){this.__data__=ie?ie(null):{}},Ze.prototype.delete=function(ye){return this.has(ye)&&delete this.__data__[ye]},Ze.prototype.get=function(ye){var We=this.__data__;if(ie){var dt=We[ye];return dt==="__lodash_hash_undefined__"?void 0:dt}return j.call(We,ye)?We[ye]:void 0},Ze.prototype.has=function(ye){var We=this.__data__;return ie?We[ye]!==void 0:j.call(We,ye)},Ze.prototype.set=function(ye,We){return this.__data__[ye]=ie&&We===void 0?"__lodash_hash_undefined__":We,this},ut.prototype.clear=function(){this.__data__=[]},ut.prototype.delete=function(ye){var We=this.__data__,dt=lt(We,ye);return!(dt<0)&&(dt==We.length-1?We.pop():$.call(We,dt,1),!0)},ut.prototype.get=function(ye){var We=this.__data__,dt=lt(We,ye);return dt<0?void 0:We[dt][1]},ut.prototype.has=function(ye){return lt(this.__data__,ye)>-1},ut.prototype.set=function(ye,We){var dt=this.__data__,it=lt(dt,ye);return it<0?dt.push([ye,We]):dt[it][1]=We,this},tt.prototype.clear=function(){this.__data__={hash:new Ze,map:new(re||ut),string:new Ze}},tt.prototype.delete=function(ye){return It(this,ye).delete(ye)},tt.prototype.get=function(ye){return It(this,ye).get(ye)},tt.prototype.has=function(ye){return It(this,ye).has(ye)},tt.prototype.set=function(ye,We){return It(this,ye).set(ye,We),this},pt.prototype.add=pt.prototype.push=function(ye){return this.__data__.set(ye,"__lodash_hash_undefined__"),this},pt.prototype.has=function(ye){return this.__data__.has(ye)},Zt.prototype.clear=function(){this.__data__=new ut},Zt.prototype.delete=function(ye){return this.__data__.delete(ye)},Zt.prototype.get=function(ye){return this.__data__.get(ye)},Zt.prototype.has=function(ye){return this.__data__.has(ye)},Zt.prototype.set=function(ye,We){var dt=this.__data__;if(dt instanceof ut){var it=dt.__data__;if(!re||it.length<199)return it.push([ye,We]),this;dt=this.__data__=new tt(it)}return dt.set(ye,We),this};var vt,at,mn=(vt=function(ye,We){return ye&&Dt(ye,We,Ln)},function(ye,We){if(ye==null)return ye;if(!Kn(ye))return vt(ye,We);for(var dt=ye.length,it=at?dt:-1,Pt=Object(ye);(at?it--:++it<dt)&&We(Pt[it],it,Pt)!==!1;);return ye}),Dt=function(ye){return function(We,dt,it){for(var Pt=-1,Qt=Object(We),Yt=it(We),Jn=Yt.length;Jn--;){var xn=Yt[ye?Jn:++Pt];if(dt(Qt[xn],xn,Qt)===!1)break}return We}}();function Vt(ye,We){for(var dt=0,it=(We=ln(We,ye)?[We]:pn(We)).length;ye!=null&&dt<it;)ye=ye[$e(We[dt++])];return dt&&dt==it?ye:void 0}function jr(ye,We){return ye!=null&&We in Object(ye)}function Rt(ye,We,dt,it,Pt){return ye===We||(ye==null||We==null||!Xn(ye)&&!Ei(We)?ye!=ye&&We!=We:function(Qt,Yt,Jn,xn,yn,Cn){var tr=Bt(Qt),$n=Bt(Yt),yi="[object Array]",Ii="[object Array]";tr||(yi=(yi=ur(Qt))==r?s:yi),$n||(Ii=(Ii=ur(Yt))==r?s:Ii);var Yr=yi==s&&!W(Qt),ho=Ii==s&&!W(Yt),zo=yi==Ii;if(zo&&!Yr)return Cn||(Cn=new Zt),tr||yr(Qt)?wi(Qt,Yt,Jn,xn,yn,Cn):function(di,Mi,Ya,na,Ll,To,as){switch(Ya){case"[object DataView]":if(di.byteLength!=Mi.byteLength||di.byteOffset!=Mi.byteOffset)return!1;di=di.buffer,Mi=Mi.buffer;case"[object ArrayBuffer]":return!(di.byteLength!=Mi.byteLength||!na(new P(di),new P(Mi)));case"[object Boolean]":case"[object Date]":case"[object Number]":return li(+di,+Mi);case"[object Error]":return di.name==Mi.name&&di.message==Mi.message;case"[object RegExp]":case"[object String]":return di==Mi+"";case o:var ia=k;case a:var Fl=2&To;if(ia||(ia=E),di.size!=Mi.size&&!Fl)return!1;var vc=as.get(di);if(vc)return vc==Mi;To|=1,as.set(di,Mi);var Xr=wi(ia(di),ia(Mi),na,Ll,To,as);return as.delete(di),Xr;case"[object Symbol]":if(Fe)return Fe.call(di)==Fe.call(Mi)}return!1}(Qt,Yt,yi,Jn,xn,yn,Cn);if(!(2&yn)){var Mr=Yr&&j.call(Qt,"__wrapped__"),_s=ho&&j.call(Yt,"__wrapped__");if(Mr||_s){var fo=Mr?Qt.value():Qt,Ao=_s?Yt.value():Yt;return Cn||(Cn=new Zt),Jn(fo,Ao,xn,yn,Cn)}}return zo?(Cn||(Cn=new Zt),function(di,Mi,Ya,na,Ll,To){var as=2&Ll,ia=Ln(di),Fl=ia.length,vc=Ln(Mi).length;if(Fl!=vc&&!as)return!1;for(var Xr=Fl;Xr--;){var ls=ia[Xr];if(!(as?ls in Mi:j.call(Mi,ls)))return!1}var Xa=To.get(di);if(Xa&&To.get(Mi))return Xa==Mi;var Ja=!0;To.set(di,Mi),To.set(Mi,di);for(var io=as;++Xr<Fl;){ls=ia[Xr];var wc=di[ls],Bl=Mi[ls];if(na)var On=as?na(Bl,wc,ls,Mi,di,To):na(wc,Bl,ls,di,Mi,To);if(!(On===void 0?wc===Bl||Ya(wc,Bl,na,Ll,To):On)){Ja=!1;break}io||(io=ls=="constructor")}if(Ja&&!io){var yc=di.constructor,_c=Mi.constructor;yc==_c||!("constructor"in di)||!("constructor"in Mi)||typeof yc=="function"&&yc instanceof yc&&typeof _c=="function"&&_c instanceof _c||(Ja=!1)}return To.delete(di),To.delete(Mi),Ja}(Qt,Yt,Jn,xn,yn,Cn)):!1}(ye,We,Rt,dt,it,Pt))}function rn(ye){return!(!Xn(ye)||function(We){return!!R&&R in We}(ye))&&(Dn(ye)||W(ye)?D:h).test(Ye(ye))}function Wn(ye){return typeof ye=="function"?ye:ye==null?Ur:typeof ye=="object"?Bt(ye)?function(it,Pt){return ln(it)&&zr(Pt)?St($e(it),Pt):function(Qt){var Yt=function(Jn,xn,yn){var Cn=Jn==null?void 0:Vt(Jn,xn);return Cn===void 0?yn:Cn}(Qt,it);return Yt===void 0&&Yt===Pt?function(Jn,xn){return Jn!=null&&function(yn,Cn,tr){Cn=ln(Cn,yn)?[Cn]:pn(Cn);for(var $n,yi=-1,Ii=Cn.length;++yi<Ii;){var Yr=$e(Cn[yi]);if(!($n=yn!=null&&tr(yn,Yr)))break;yn=yn[Yr]}return $n||!!(Ii=yn?yn.length:0)&&kn(Ii)&&on(Yr,Ii)&&(Bt(yn)||Jt(yn))}(Jn,xn,jr)}(Qt,it):Rt(Pt,Yt,void 0,3)}}(ye[0],ye[1]):function(it){var Pt=function(Qt){for(var Yt=Ln(Qt),Jn=Yt.length;Jn--;){var xn=Yt[Jn],yn=Qt[xn];Yt[Jn]=[xn,yn,zr(yn)]}return Yt}(it);return Pt.length==1&&Pt[0][2]?St(Pt[0][0],Pt[0][1]):function(Qt){return Qt===it||function(Yt,Jn,xn,yn){var Cn=xn.length,tr=Cn,$n=!yn;if(Yt==null)return!tr;for(Yt=Object(Yt);Cn--;){var yi=xn[Cn];if($n&&yi[2]?yi[1]!==Yt[yi[0]]:!(yi[0]in Yt))return!1}for(;++Cn<tr;){var Ii=(yi=xn[Cn])[0],Yr=Yt[Ii],ho=yi[1];if($n&&yi[2]){if(Yr===void 0&&!(Ii in Yt))return!1}else{var zo=new Zt;if(yn)var Mr=yn(Yr,ho,Ii,Yt,Jn,zo);if(!(Mr===void 0?Rt(ho,Yr,yn,3,zo):Mr))return!1}}return!0}(Qt,it,Pt)}}(ye):ln(We=ye)?(dt=$e(We),function(it){return it?.[dt]}):function(it){return function(Pt){return Vt(Pt,it)}}(We);var We,dt}function fn(ye){if(dt=(We=ye)&&We.constructor,it=typeof dt=="function"&&dt.prototype||C,We!==it)return te(ye);var We,dt,it,Pt=[];for(var Qt in Object(ye))j.call(ye,Qt)&&Qt!="constructor"&&Pt.push(Qt);return Pt}function pn(ye){return Bt(ye)?ye:Ie(ye)}function wi(ye,We,dt,it,Pt,Qt){var Yt=2&Pt,Jn=ye.length,xn=We.length;if(Jn!=xn&&!(Yt&&xn>Jn))return!1;var yn=Qt.get(ye);if(yn&&Qt.get(We))return yn==We;var Cn=-1,tr=!0,$n=1&Pt?new pt:void 0;for(Qt.set(ye,We),Qt.set(We,ye);++Cn<Jn;){var yi=ye[Cn],Ii=We[Cn];if(it)var Yr=Yt?it(Ii,yi,Cn,We,ye,Qt):it(yi,Ii,Cn,ye,We,Qt);if(Yr!==void 0){if(Yr)continue;tr=!1;break}if($n){if(!G(We,function(ho,zo){if(!$n.has(zo)&&(yi===ho||dt(yi,ho,it,Pt,Qt)))return $n.add(zo)})){tr=!1;break}}else if(yi!==Ii&&!dt(yi,Ii,it,Pt,Qt)){tr=!1;break}}return Qt.delete(ye),Qt.delete(We),tr}function It(ye,We){var dt,it,Pt=ye.__data__;return((it=typeof(dt=We))=="string"||it=="number"||it=="symbol"||it=="boolean"?dt!=="__proto__":dt===null)?Pt[typeof We=="string"?"string":"hash"]:Pt.map}function Ft(ye,We){var dt=function(it,Pt){return it?.[Pt]}(ye,We);return rn(dt)?dt:void 0}var ur=function(ye){return X.call(ye)};function on(ye,We){return!!(We=We??9007199254740991)&&(typeof ye=="number"||m.test(ye))&&ye>-1&&ye%1==0&&ye<We}function ln(ye,We){if(Bt(ye))return!1;var dt=typeof ye;return!(dt!="number"&&dt!="symbol"&&dt!="boolean"&&ye!=null&&!er(ye))||c.test(ye)||!l.test(ye)||We!=null&&ye in Object(We)}function zr(ye){return ye==ye&&!Xn(ye)}function St(ye,We){return function(dt){return dt!=null&&dt[ye]===We&&(We!==void 0||ye in Object(dt))}}(ue&&ur(new ue(new ArrayBuffer(1)))!="[object DataView]"||re&&ur(new re)!=o||ce&&ur(ce.resolve())!="[object Promise]"||_e&&ur(new _e)!=a||xe&&ur(new xe)!="[object WeakMap]")&&(ur=function(ye){var We=X.call(ye),dt=We==s?ye.constructor:void 0,it=dt?Ye(dt):void 0;if(it)switch(it){case se:return"[object DataView]";case ge:return o;case Ae:return"[object Promise]";case Ee:return a;case Te:return"[object WeakMap]"}return We});var Ie=Et(function(ye){var We;ye=(We=ye)==null?"":function(it){if(typeof it=="string")return it;if(er(it))return He?He.call(it):"";var Pt=it+"";return Pt=="0"&&1/it==-1/0?"-0":Pt}(We);var dt=[];return u.test(ye)&&dt.push(""),ye.replace(d,function(it,Pt,Qt,Yt){dt.push(Qt?Yt.replace(f,"$1"):Pt||it)}),dt});function $e(ye){if(typeof ye=="string"||er(ye))return ye;var We=ye+"";return We=="0"&&1/ye==-1/0?"-0":We}function Ye(ye){if(ye!=null){try{return Z.call(ye)}catch{}try{return ye+""}catch{}}return""}var ct,vn,Mt=(ct=function(ye,We,dt){j.call(ye,dt)?ye[dt].push(We):ye[dt]=[We]},function(ye,We){var dt=Bt(ye)?V:st,it=vn?vn():{};return dt(ye,ct,Wn(We),it)});function Et(ye,We){if(typeof ye!="function"||We&&typeof We!="function")throw new TypeError("Expected a function");var dt=function(){var it=arguments,Pt=We?We.apply(this,it):it[0],Qt=dt.cache;if(Qt.has(Pt))return Qt.get(Pt);var Yt=ye.apply(this,it);return dt.cache=Qt.set(Pt,Yt),Yt};return dt.cache=new(Et.Cache||tt),dt}function li(ye,We){return ye===We||ye!=ye&&We!=We}function Jt(ye){return function(We){return Ei(We)&&Kn(We)}(ye)&&j.call(ye,"callee")&&(!M.call(ye,"callee")||X.call(ye)==r)}Et.Cache=tt;var Bt=Array.isArray;function Kn(ye){return ye!=null&&kn(ye.length)&&!Dn(ye)}function Dn(ye){var We=Xn(ye)?X.call(ye):"";return We=="[object Function]"||We=="[object GeneratorFunction]"}function kn(ye){return typeof ye=="number"&&ye>-1&&ye%1==0&&ye<=9007199254740991}function Xn(ye){var We=typeof ye;return!!ye&&(We=="object"||We=="function")}function Ei(ye){return!!ye&&typeof ye=="object"}function er(ye){return typeof ye=="symbol"||Ei(ye)&&X.call(ye)=="[object Symbol]"}var yr=B?function(ye){return function(We){return ye(We)}}(B):function(ye){return Ei(ye)&&kn(ye.length)&&!!p[X.call(ye)]};function Ln(ye){return Kn(ye)?bt(ye):fn(ye)}function Ur(ye){return ye}e.exports=Mt}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(n,e,t){"use strict";var i=Object.prototype.toString;e.exports=function(r){return r===!0||r===!1||function(o){return!!o&&typeof o=="object"}(r)&&i.call(r)=="[object Boolean]"}},{}],445:[function(n,e,t){(function(i){(function(){"use strict";var r="[object Arguments]",o="[object Map]",s="[object Object]",a="[object Set]",l=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u[r]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u[o]=u["[object Number]"]=u[s]=u["[object RegExp]"]=u[a]=u["[object String]"]=u["[object WeakMap]"]=!1;var d=typeof i=="object"&&i&&i.Object===Object&&i,f=typeof self=="object"&&self&&self.Object===Object&&self,h=d||f||Function("return this")(),m=typeof t=="object"&&t&&!t.nodeType&&t,p=m&&typeof e=="object"&&e&&!e.nodeType&&e,g=p&&p.exports===m,v=g&&d.process,x=function(){try{return v&&v.binding&&v.binding("util")}catch{}}(),I=x&&x.isTypedArray;function N(Ie,$e){for(var Ye=-1,ct=Ie==null?0:Ie.length;++Ye<ct;)if($e(Ie[Ye],Ye,Ie))return!0;return!1}function H(Ie){var $e=-1,Ye=Array(Ie.size);return Ie.forEach(function(ct,vn){Ye[++$e]=[vn,ct]}),Ye}function F(Ie){var $e=-1,Ye=Array(Ie.size);return Ie.forEach(function(ct){Ye[++$e]=ct}),Ye}var B,V,G,W=Array.prototype,k=Function.prototype,E=Object.prototype,L=h["__core-js_shared__"],b=k.toString,w=E.hasOwnProperty,_=(B=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+B:"",y=E.toString,C=RegExp("^"+b.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=g?h.Buffer:void 0,R=h.Symbol,Z=h.Uint8Array,j=E.propertyIsEnumerable,X=W.splice,D=R?R.toStringTag:void 0,Y=Object.getOwnPropertySymbols,P=S?S.isBuffer:void 0,M=(V=Object.keys,G=Object,function(Ie){return V(G(Ie))}),$=Vt(h,"DataView"),te=Vt(h,"Map"),ue=Vt(h,"Promise"),re=Vt(h,"Set"),ce=Vt(h,"WeakMap"),_e=Vt(Object,"create"),xe=Wn($),ie=Wn(te),se=Wn(ue),ge=Wn(re),Ae=Wn(ce),Ee=R?R.prototype:void 0,Te=Ee?Ee.valueOf:void 0;function Se(Ie){var $e=-1,Ye=Ie==null?0:Ie.length;for(this.clear();++$e<Ye;){var ct=Ie[$e];this.set(ct[0],ct[1])}}function Fe(Ie){var $e=-1,Ye=Ie==null?0:Ie.length;for(this.clear();++$e<Ye;){var ct=Ie[$e];this.set(ct[0],ct[1])}}function He(Ie){var $e=-1,Ye=Ie==null?0:Ie.length;for(this.clear();++$e<Ye;){var ct=Ie[$e];this.set(ct[0],ct[1])}}function Ze(Ie){var $e=-1,Ye=Ie==null?0:Ie.length;for(this.__data__=new He;++$e<Ye;)this.add(Ie[$e])}function ut(Ie){var $e=this.__data__=new Fe(Ie);this.size=$e.size}function tt(Ie,$e){var Ye=wi(Ie),ct=!Ye&&pn(Ie),vn=!Ye&&!ct&&It(Ie),Mt=!Ye&&!ct&&!vn&&zr(Ie),Et=Ye||ct||vn||Mt,li=Et?function(Kn,Dn){for(var kn=-1,Xn=Array(Kn);++kn<Kn;)Xn[kn]=Dn(kn);return Xn}(Ie.length,String):[],Jt=li.length;for(var Bt in Ie)!$e&&!w.call(Ie,Bt)||Et&&(Bt=="length"||vn&&(Bt=="offset"||Bt=="parent")||Mt&&(Bt=="buffer"||Bt=="byteLength"||Bt=="byteOffset")||rn(Bt,Jt))||li.push(Bt);return li}function pt(Ie,$e){for(var Ye=Ie.length;Ye--;)if(fn(Ie[Ye][0],$e))return Ye;return-1}function Zt(Ie){return Ie==null?Ie===void 0?"[object Undefined]":"[object Null]":D&&D in Object(Ie)?function($e){var Ye=w.call($e,D),ct=$e[D];try{$e[D]=void 0;var vn=!0}catch{}var Mt=y.call($e);return vn&&(Ye?$e[D]=ct:delete $e[D]),Mt}(Ie):function($e){return y.call($e)}(Ie)}function bt(Ie){return ln(Ie)&&Zt(Ie)==r}function lt(Ie,$e,Ye,ct,vn){return Ie===$e||(Ie==null||$e==null||!ln(Ie)&&!ln($e)?Ie!=Ie&&$e!=$e:function(Mt,Et,li,Jt,Bt,Kn){var Dn=wi(Mt),kn=wi(Et),Xn=Dn?"[object Array]":Rt(Mt),Ei=kn?"[object Array]":Rt(Et),er=(Xn=Xn==r?s:Xn)==s,yr=(Ei=Ei==r?s:Ei)==s,Ln=Xn==Ei;if(Ln&&It(Mt)){if(!It(Et))return!1;Dn=!0,er=!1}if(Ln&&!er)return Kn||(Kn=new ut),Dn||zr(Mt)?at(Mt,Et,li,Jt,Bt,Kn):function(it,Pt,Qt,Yt,Jn,xn,yn){switch(Qt){case"[object DataView]":if(it.byteLength!=Pt.byteLength||it.byteOffset!=Pt.byteOffset)return!1;it=it.buffer,Pt=Pt.buffer;case"[object ArrayBuffer]":return!(it.byteLength!=Pt.byteLength||!xn(new Z(it),new Z(Pt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return fn(+it,+Pt);case"[object Error]":return it.name==Pt.name&&it.message==Pt.message;case"[object RegExp]":case"[object String]":return it==Pt+"";case o:var Cn=H;case a:var tr=1&Yt;if(Cn||(Cn=F),it.size!=Pt.size&&!tr)return!1;var $n=yn.get(it);if($n)return $n==Pt;Yt|=2,yn.set(it,Pt);var yi=at(Cn(it),Cn(Pt),Yt,Jn,xn,yn);return yn.delete(it),yi;case"[object Symbol]":if(Te)return Te.call(it)==Te.call(Pt)}return!1}(Mt,Et,Xn,li,Jt,Bt,Kn);if(!(1&li)){var Ur=er&&w.call(Mt,"__wrapped__"),ye=yr&&w.call(Et,"__wrapped__");if(Ur||ye){var We=Ur?Mt.value():Mt,dt=ye?Et.value():Et;return Kn||(Kn=new ut),Bt(We,dt,li,Jt,Kn)}}return Ln?(Kn||(Kn=new ut),function(it,Pt,Qt,Yt,Jn,xn){var yn=1&Qt,Cn=mn(it),tr=Cn.length,$n=mn(Pt).length;if(tr!=$n&&!yn)return!1;for(var yi=tr;yi--;){var Ii=Cn[yi];if(!(yn?Ii in Pt:w.call(Pt,Ii)))return!1}var Yr=xn.get(it);if(Yr&&xn.get(Pt))return Yr==Pt;var ho=!0;xn.set(it,Pt),xn.set(Pt,it);for(var zo=yn;++yi<tr;){Ii=Cn[yi];var Mr=it[Ii],_s=Pt[Ii];if(Yt)var fo=yn?Yt(_s,Mr,Ii,Pt,it,xn):Yt(Mr,_s,Ii,it,Pt,xn);if(!(fo===void 0?Mr===_s||Jn(Mr,_s,Qt,Yt,xn):fo)){ho=!1;break}zo||(zo=Ii=="constructor")}if(ho&&!zo){var Ao=it.constructor,di=Pt.constructor;Ao==di||!("constructor"in it)||!("constructor"in Pt)||typeof Ao=="function"&&Ao instanceof Ao&&typeof di=="function"&&di instanceof di||(ho=!1)}return xn.delete(it),xn.delete(Pt),ho}(Mt,Et,li,Jt,Bt,Kn)):!1}(Ie,$e,Ye,ct,lt,vn))}function st(Ie){return!(!on(Ie)||function($e){return!!_&&_ in $e}(Ie))&&(Ft(Ie)?C:l).test(Wn(Ie))}function vt(Ie){if(Ye=($e=Ie)&&$e.constructor,ct=typeof Ye=="function"&&Ye.prototype||E,$e!==ct)return M(Ie);var $e,Ye,ct,vn=[];for(var Mt in Object(Ie))w.call(Ie,Mt)&&Mt!="constructor"&&vn.push(Mt);return vn}function at(Ie,$e,Ye,ct,vn,Mt){var Et=1&Ye,li=Ie.length,Jt=$e.length;if(li!=Jt&&!(Et&&Jt>li))return!1;var Bt=Mt.get(Ie);if(Bt&&Mt.get($e))return Bt==$e;var Kn=-1,Dn=!0,kn=2&Ye?new Ze:void 0;for(Mt.set(Ie,$e),Mt.set($e,Ie);++Kn<li;){var Xn=Ie[Kn],Ei=$e[Kn];if(ct)var er=Et?ct(Ei,Xn,Kn,$e,Ie,Mt):ct(Xn,Ei,Kn,Ie,$e,Mt);if(er!==void 0){if(er)continue;Dn=!1;break}if(kn){if(!N($e,function(yr,Ln){if(Ur=Ln,!kn.has(Ur)&&(Xn===yr||vn(Xn,yr,Ye,ct,Mt)))return kn.push(Ln);var Ur})){Dn=!1;break}}else if(Xn!==Ei&&!vn(Xn,Ei,Ye,ct,Mt)){Dn=!1;break}}return Mt.delete(Ie),Mt.delete($e),Dn}function mn(Ie){return function($e,Ye,ct){var vn=Ye($e);return wi($e)?vn:function(Mt,Et){for(var li=-1,Jt=Et.length,Bt=Mt.length;++li<Jt;)Mt[Bt+li]=Et[li];return Mt}(vn,ct($e))}(Ie,St,jr)}function Dt(Ie,$e){var Ye,ct,vn=Ie.__data__;return((ct=typeof(Ye=$e))=="string"||ct=="number"||ct=="symbol"||ct=="boolean"?Ye!=="__proto__":Ye===null)?vn[typeof $e=="string"?"string":"hash"]:vn.map}function Vt(Ie,$e){var Ye=function(ct,vn){return ct?.[vn]}(Ie,$e);return st(Ye)?Ye:void 0}Se.prototype.clear=function(){this.__data__=_e?_e(null):{},this.size=0},Se.prototype.delete=function(Ie){var $e=this.has(Ie)&&delete this.__data__[Ie];return this.size-=$e?1:0,$e},Se.prototype.get=function(Ie){var $e=this.__data__;if(_e){var Ye=$e[Ie];return Ye==="__lodash_hash_undefined__"?void 0:Ye}return w.call($e,Ie)?$e[Ie]:void 0},Se.prototype.has=function(Ie){var $e=this.__data__;return _e?$e[Ie]!==void 0:w.call($e,Ie)},Se.prototype.set=function(Ie,$e){var Ye=this.__data__;return this.size+=this.has(Ie)?0:1,Ye[Ie]=_e&&$e===void 0?"__lodash_hash_undefined__":$e,this},Fe.prototype.clear=function(){this.__data__=[],this.size=0},Fe.prototype.delete=function(Ie){var $e=this.__data__,Ye=pt($e,Ie);return!(Ye<0)&&(Ye==$e.length-1?$e.pop():X.call($e,Ye,1),--this.size,!0)},Fe.prototype.get=function(Ie){var $e=this.__data__,Ye=pt($e,Ie);return Ye<0?void 0:$e[Ye][1]},Fe.prototype.has=function(Ie){return pt(this.__data__,Ie)>-1},Fe.prototype.set=function(Ie,$e){var Ye=this.__data__,ct=pt(Ye,Ie);return ct<0?(++this.size,Ye.push([Ie,$e])):Ye[ct][1]=$e,this},He.prototype.clear=function(){this.size=0,this.__data__={hash:new Se,map:new(te||Fe),string:new Se}},He.prototype.delete=function(Ie){var $e=Dt(this,Ie).delete(Ie);return this.size-=$e?1:0,$e},He.prototype.get=function(Ie){return Dt(this,Ie).get(Ie)},He.prototype.has=function(Ie){return Dt(this,Ie).has(Ie)},He.prototype.set=function(Ie,$e){var Ye=Dt(this,Ie),ct=Ye.size;return Ye.set(Ie,$e),this.size+=Ye.size==ct?0:1,this},Ze.prototype.add=Ze.prototype.push=function(Ie){return this.__data__.set(Ie,"__lodash_hash_undefined__"),this},Ze.prototype.has=function(Ie){return this.__data__.has(Ie)},ut.prototype.clear=function(){this.__data__=new Fe,this.size=0},ut.prototype.delete=function(Ie){var $e=this.__data__,Ye=$e.delete(Ie);return this.size=$e.size,Ye},ut.prototype.get=function(Ie){return this.__data__.get(Ie)},ut.prototype.has=function(Ie){return this.__data__.has(Ie)},ut.prototype.set=function(Ie,$e){var Ye=this.__data__;if(Ye instanceof Fe){var ct=Ye.__data__;if(!te||ct.length<199)return ct.push([Ie,$e]),this.size=++Ye.size,this;Ye=this.__data__=new He(ct)}return Ye.set(Ie,$e),this.size=Ye.size,this};var jr=Y?function(Ie){return Ie==null?[]:(Ie=Object(Ie),function($e,Ye){for(var ct=-1,vn=$e==null?0:$e.length,Mt=0,Et=[];++ct<vn;){var li=$e[ct];Ye(li,ct,$e)&&(Et[Mt++]=li)}return Et}(Y(Ie),function($e){return j.call(Ie,$e)}))}:function(){return[]},Rt=Zt;function rn(Ie,$e){return!!($e=$e??9007199254740991)&&(typeof Ie=="number"||c.test(Ie))&&Ie>-1&&Ie%1==0&&Ie<$e}function Wn(Ie){if(Ie!=null){try{return b.call(Ie)}catch{}try{return Ie+""}catch{}}return""}function fn(Ie,$e){return Ie===$e||Ie!=Ie&&$e!=$e}($&&Rt(new $(new ArrayBuffer(1)))!="[object DataView]"||te&&Rt(new te)!=o||ue&&Rt(ue.resolve())!="[object Promise]"||re&&Rt(new re)!=a||ce&&Rt(new ce)!="[object WeakMap]")&&(Rt=function(Ie){var $e=Zt(Ie),Ye=$e==s?Ie.constructor:void 0,ct=Ye?Wn(Ye):"";if(ct)switch(ct){case xe:return"[object DataView]";case ie:return o;case se:return"[object Promise]";case ge:return a;case Ae:return"[object WeakMap]"}return $e});var pn=bt(function(){return arguments}())?bt:function(Ie){return ln(Ie)&&w.call(Ie,"callee")&&!j.call(Ie,"callee")},wi=Array.isArray,It=P||function(){return!1};function Ft(Ie){if(!on(Ie))return!1;var $e=Zt(Ie);return $e=="[object Function]"||$e=="[object GeneratorFunction]"||$e=="[object AsyncFunction]"||$e=="[object Proxy]"}function ur(Ie){return typeof Ie=="number"&&Ie>-1&&Ie%1==0&&Ie<=9007199254740991}function on(Ie){var $e=typeof Ie;return Ie!=null&&($e=="object"||$e=="function")}function ln(Ie){return Ie!=null&&typeof Ie=="object"}var zr=I?function(Ie){return function($e){return Ie($e)}}(I):function(Ie){return ln(Ie)&&ur(Ie.length)&&!!u[Zt(Ie)]};function St(Ie){return($e=Ie)!=null&&ur($e.length)&&!Ft($e)?tt(Ie):vt(Ie);var $e}e.exports=function(Ie,$e){return lt(Ie,$e)}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(n,e,t){(function(i){(function(){"use strict";var r=typeof i=="object"&&i&&i.Object===Object&&i,o=typeof self=="object"&&self&&self.Object===Object&&self,s=r||o||Function("return this")(),a=Object.prototype,l=a.hasOwnProperty,c=a.toString,u=s.Symbol,d=u?u.toStringTag:void 0;function f(h){return h==null?h===void 0?"[object Undefined]":"[object Null]":d&&d in Object(h)?function(m){var p=l.call(m,d),g=m[d];try{m[d]=void 0;var v=!0}catch{}var x=c.call(m);return v&&(p?m[d]=g:delete m[d]),x}(h):function(m){return c.call(m)}(h)}e.exports=function(h){if(!function(p){var g=typeof p;return p!=null&&(g=="object"||g=="function")}(h))return!1;var m=f(h);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(n,e,t){"use strict";e.exports=function(i){return i==null}},{}],448:[function(n,e,t){"use strict";e.exports=function(i){return i===void 0}},{}],449:[function(n,e,t){(function(i){(function(){"use strict";var r=/^\[object .+?Constructor\]$/,o=typeof i=="object"&&i&&i.Object===Object&&i,s=typeof self=="object"&&self&&self.Object===Object&&self,a=o||s||Function("return this")();function l(Z,j){return!!(Z&&Z.length)&&function(X,D,Y){if(D!=D)return function($,te,ue,re){for(var ce=$.length,_e=ue+(re?1:-1);re?_e--:++_e<ce;)if(te($[_e],_e,$))return _e;return-1}(X,u,Y);for(var P=Y-1,M=X.length;++P<M;)if(X[P]===D)return P;return-1}(Z,j,0)>-1}function c(Z,j,X){for(var D=-1,Y=Z?Z.length:0;++D<Y;)if(X(j,Z[D]))return!0;return!1}function u(Z){return Z!=Z}function d(Z,j){return Z.has(j)}function f(Z){var j=-1,X=Array(Z.size);return Z.forEach(function(D){X[++j]=D}),X}var h,m=Array.prototype,p=Function.prototype,g=Object.prototype,v=a["__core-js_shared__"],x=(h=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"",I=p.toString,N=g.hasOwnProperty,H=g.toString,F=RegExp("^"+I.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=m.splice,V=S(a,"Map"),G=S(a,"Set"),W=S(Object,"create");function k(Z){var j=-1,X=Z?Z.length:0;for(this.clear();++j<X;){var D=Z[j];this.set(D[0],D[1])}}function E(Z){var j=-1,X=Z?Z.length:0;for(this.clear();++j<X;){var D=Z[j];this.set(D[0],D[1])}}function L(Z){var j=-1,X=Z?Z.length:0;for(this.clear();++j<X;){var D=Z[j];this.set(D[0],D[1])}}function b(Z){var j=-1,X=Z?Z.length:0;for(this.__data__=new L;++j<X;)this.add(Z[j])}function w(Z,j){for(var X,D,Y=Z.length;Y--;)if((X=Z[Y][0])===(D=j)||X!=X&&D!=D)return Y;return-1}function _(Z){return!(!R(Z)||(j=Z,x&&x in j))&&(function(X){var D=R(X)?H.call(X):"";return D=="[object Function]"||D=="[object GeneratorFunction]"}(Z)||function(X){var D=!1;if(X!=null&&typeof X.toString!="function")try{D=!!(X+"")}catch{}return D}(Z)?F:r).test(function(X){if(X!=null){try{return I.call(X)}catch{}try{return X+""}catch{}}return""}(Z));var j}k.prototype.clear=function(){this.__data__=W?W(null):{}},k.prototype.delete=function(Z){return this.has(Z)&&delete this.__data__[Z]},k.prototype.get=function(Z){var j=this.__data__;if(W){var X=j[Z];return X==="__lodash_hash_undefined__"?void 0:X}return N.call(j,Z)?j[Z]:void 0},k.prototype.has=function(Z){var j=this.__data__;return W?j[Z]!==void 0:N.call(j,Z)},k.prototype.set=function(Z,j){return this.__data__[Z]=W&&j===void 0?"__lodash_hash_undefined__":j,this},E.prototype.clear=function(){this.__data__=[]},E.prototype.delete=function(Z){var j=this.__data__,X=w(j,Z);return!(X<0)&&(X==j.length-1?j.pop():B.call(j,X,1),!0)},E.prototype.get=function(Z){var j=this.__data__,X=w(j,Z);return X<0?void 0:j[X][1]},E.prototype.has=function(Z){return w(this.__data__,Z)>-1},E.prototype.set=function(Z,j){var X=this.__data__,D=w(X,Z);return D<0?X.push([Z,j]):X[D][1]=j,this},L.prototype.clear=function(){this.__data__={hash:new k,map:new(V||E),string:new k}},L.prototype.delete=function(Z){return C(this,Z).delete(Z)},L.prototype.get=function(Z){return C(this,Z).get(Z)},L.prototype.has=function(Z){return C(this,Z).has(Z)},L.prototype.set=function(Z,j){return C(this,Z).set(Z,j),this},b.prototype.add=b.prototype.push=function(Z){return this.__data__.set(Z,"__lodash_hash_undefined__"),this},b.prototype.has=function(Z){return this.__data__.has(Z)};var y=G&&1/f(new G([,-0]))[1]==1/0?function(Z){return new G(Z)}:function(){};function C(Z,j){var X,D,Y=Z.__data__;return((D=typeof(X=j))=="string"||D=="number"||D=="symbol"||D=="boolean"?X!=="__proto__":X===null)?Y[typeof j=="string"?"string":"hash"]:Y.map}function S(Z,j){var X=function(D,Y){return D?.[Y]}(Z,j);return _(X)?X:void 0}function R(Z){var j=typeof Z;return!!Z&&(j=="object"||j=="function")}e.exports=function(Z){return Z&&Z.length?function(j,X,D){var Y=-1,P=l,M=j.length,$=!0,te=[],ue=te;if(D)$=!1,P=c;else if(M>=200){var re=X?null:y(j);if(re)return f(re);$=!1,P=d,ue=new b}else ue=X?[]:te;e:for(;++Y<M;){var ce=j[Y],_e=X?X(ce):ce;if(ce=D||ce!==0?ce:0,$&&_e==_e){for(var xe=ue.length;xe--;)if(ue[xe]===_e)continue e;X&&ue.push(_e),te.push(ce)}else P(ue,_e,D)||(ue!==te&&ue.push(_e),te.push(ce))}return te}(Z):[]}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(n,e,t){"use strict";var i=n("inherits"),r=n("hash-base"),o=n("safe-buffer").Buffer,s=new Array(16);function a(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function l(h,m){return h<<m|h>>>32-m}function c(h,m,p,g,v,x,I){return l(h+(m&p|~m&g)+v+x|0,I)+m|0}function u(h,m,p,g,v,x,I){return l(h+(m&g|p&~g)+v+x|0,I)+m|0}function d(h,m,p,g,v,x,I){return l(h+(m^p^g)+v+x|0,I)+m|0}function f(h,m,p,g,v,x,I){return l(h+(p^(m|~g))+v+x|0,I)+m|0}i(a,r),a.prototype._update=function(){for(var h=s,m=0;m<16;++m)h[m]=this._block.readInt32LE(4*m);var p=this._a,g=this._b,v=this._c,x=this._d;p=c(p,g,v,x,h[0],3614090360,7),x=c(x,p,g,v,h[1],3905402710,12),v=c(v,x,p,g,h[2],606105819,17),g=c(g,v,x,p,h[3],3250441966,22),p=c(p,g,v,x,h[4],4118548399,7),x=c(x,p,g,v,h[5],1200080426,12),v=c(v,x,p,g,h[6],2821735955,17),g=c(g,v,x,p,h[7],4249261313,22),p=c(p,g,v,x,h[8],1770035416,7),x=c(x,p,g,v,h[9],2336552879,12),v=c(v,x,p,g,h[10],4294925233,17),g=c(g,v,x,p,h[11],2304563134,22),p=c(p,g,v,x,h[12],1804603682,7),x=c(x,p,g,v,h[13],4254626195,12),v=c(v,x,p,g,h[14],2792965006,17),p=u(p,g=c(g,v,x,p,h[15],1236535329,22),v,x,h[1],4129170786,5),x=u(x,p,g,v,h[6],3225465664,9),v=u(v,x,p,g,h[11],643717713,14),g=u(g,v,x,p,h[0],3921069994,20),p=u(p,g,v,x,h[5],3593408605,5),x=u(x,p,g,v,h[10],38016083,9),v=u(v,x,p,g,h[15],3634488961,14),g=u(g,v,x,p,h[4],3889429448,20),p=u(p,g,v,x,h[9],568446438,5),x=u(x,p,g,v,h[14],3275163606,9),v=u(v,x,p,g,h[3],4107603335,14),g=u(g,v,x,p,h[8],1163531501,20),p=u(p,g,v,x,h[13],2850285829,5),x=u(x,p,g,v,h[2],4243563512,9),v=u(v,x,p,g,h[7],1735328473,14),p=d(p,g=u(g,v,x,p,h[12],2368359562,20),v,x,h[5],4294588738,4),x=d(x,p,g,v,h[8],2272392833,11),v=d(v,x,p,g,h[11],1839030562,16),g=d(g,v,x,p,h[14],4259657740,23),p=d(p,g,v,x,h[1],2763975236,4),x=d(x,p,g,v,h[4],1272893353,11),v=d(v,x,p,g,h[7],4139469664,16),g=d(g,v,x,p,h[10],3200236656,23),p=d(p,g,v,x,h[13],681279174,4),x=d(x,p,g,v,h[0],3936430074,11),v=d(v,x,p,g,h[3],3572445317,16),g=d(g,v,x,p,h[6],76029189,23),p=d(p,g,v,x,h[9],3654602809,4),x=d(x,p,g,v,h[12],3873151461,11),v=d(v,x,p,g,h[15],530742520,16),p=f(p,g=d(g,v,x,p,h[2],3299628645,23),v,x,h[0],4096336452,6),x=f(x,p,g,v,h[7],1126891415,10),v=f(v,x,p,g,h[14],2878612391,15),g=f(g,v,x,p,h[5],4237533241,21),p=f(p,g,v,x,h[12],1700485571,6),x=f(x,p,g,v,h[3],2399980690,10),v=f(v,x,p,g,h[10],4293915773,15),g=f(g,v,x,p,h[1],2240044497,21),p=f(p,g,v,x,h[8],1873313359,6),x=f(x,p,g,v,h[15],4264355552,10),v=f(v,x,p,g,h[6],2734768916,15),g=f(g,v,x,p,h[13],1309151649,21),p=f(p,g,v,x,h[4],4149444226,6),x=f(x,p,g,v,h[11],3174756917,10),v=f(v,x,p,g,h[2],718787259,15),g=f(g,v,x,p,h[9],3951481745,21),this._a=this._a+p|0,this._b=this._b+g|0,this._c=this._c+v|0,this._d=this._d+x|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var h=o.allocUnsafe(16);return h.writeInt32LE(this._a,0),h.writeInt32LE(this._b,4),h.writeInt32LE(this._c,8),h.writeInt32LE(this._d,12),h},e.exports=a},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(n,e,t){"use strict";var i=n("bn.js"),r=n("brorand");function o(s){this.rand=s||new r.Rand}e.exports=o,o.create=function(s){return new o(s)},o.prototype._randbelow=function(s){var a=s.bitLength(),l=Math.ceil(a/8);do var c=new i(this.rand.generate(l));while(c.cmp(s)>=0);return c},o.prototype._randrange=function(s,a){var l=a.sub(s);return s.add(this._randbelow(l))},o.prototype.test=function(s,a,l){var c=s.bitLength(),u=i.mont(s),d=new i(1).toRed(u);a||(a=Math.max(1,c/48|0));for(var f=s.subn(1),h=0;!f.testn(h);h++);for(var m=s.shrn(h),p=f.toRed(u);a>0;a--){var g=this._randrange(new i(2),f);l&&l(g);var v=g.toRed(u).redPow(m);if(v.cmp(d)!==0&&v.cmp(p)!==0){for(var x=1;x<h;x++){if((v=v.redSqr()).cmp(d)===0)return!1;if(v.cmp(p)===0)break}if(x===h)return!1}}return!0},o.prototype.getDivisor=function(s,a){var l=s.bitLength(),c=i.mont(s),u=new i(1).toRed(c);a||(a=Math.max(1,l/48|0));for(var d=s.subn(1),f=0;!d.testn(f);f++);for(var h=s.shrn(f),m=d.toRed(c);a>0;a--){var p=this._randrange(new i(2),d),g=s.gcd(p);if(g.cmpn(1)!==0)return g;var v=p.toRed(c).redPow(h);if(v.cmp(u)!==0&&v.cmp(m)!==0){for(var x=1;x<f;x++){if((v=v.redSqr()).cmp(u)===0)return v.fromRed().subn(1).gcd(s);if(v.cmp(m)===0)break}if(x===f)return(v=v.redSqr()).fromRed().subn(1).gcd(s)}}return!1}},{"bn.js":452,brorand:187}],452:[function(n,e,t){arguments[4][184][0].apply(t,arguments)},{buffer:188,dup:184}],453:[function(n,e,t){"use strict";function i(r,o){if(!r)throw new Error(o||"Assertion failed")}e.exports=i,i.equal=function(r,o,s){if(r!=o)throw new Error(s||"Assertion failed: "+r+" != "+o)}},{}],454:[function(n,e,t){"use strict";var i=t;function r(s){return s.length===1?"0"+s:s}function o(s){for(var a="",l=0;l<s.length;l++)a+=r(s[l].toString(16));return a}i.toArray=function(s,a){if(Array.isArray(s))return s.slice();if(!s)return[];var l=[];if(typeof s!="string"){for(var c=0;c<s.length;c++)l[c]=0|s[c];return l}if(a==="hex")for((s=s.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(s="0"+s),c=0;c<s.length;c+=2)l.push(parseInt(s[c]+s[c+1],16));else for(c=0;c<s.length;c++){var u=s.charCodeAt(c),d=u>>8,f=255&u;d?l.push(d,f):l.push(f)}return l},i.zero2=r,i.toHex=o,i.encode=function(s,a){return a==="hex"?o(s):s}},{}],455:[function(n,e,t){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(n,e,t){"use strict";var i=n("asn1.js");t.certificate=n("./certificate");var r=i.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});t.RSAPrivateKey=r;var o=i.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});t.RSAPublicKey=o;var s=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())});t.PublicKey=s;var a=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),l=i.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())});t.PrivateKey=l;var c=i.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});t.EncryptedPrivateKey=c;var u=i.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});t.DSAPrivateKey=u,t.DSAparam=i.define("DSAparam",function(){this.int()});var d=i.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(f),this.key("publicKey").optional().explicit(1).bitstr())});t.ECPrivateKey=d;var f=i.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});t.signature=i.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(n,e,t){"use strict";var i=n("asn1.js"),r=i.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=i.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),s=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),a=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}),l=i.define("RelativeDistinguishedName",function(){this.setof(o)}),c=i.define("RDNSequence",function(){this.seqof(l)}),u=i.define("Name",function(){this.choice({rdnSequence:this.use(c)})}),d=i.define("Validity",function(){this.seq().obj(this.key("notBefore").use(r),this.key("notAfter").use(r))}),f=i.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),h=i.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(u),this.key("validity").use(d),this.key("subject").use(u),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())}),m=i.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(h),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())});e.exports=m},{"asn1.js":170}],458:[function(n,e,t){"use strict";var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,r=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,s=n("evp_bytestokey"),a=n("browserify-aes"),l=n("safe-buffer").Buffer;e.exports=function(c,u){var d,f=c.toString(),h=f.match(i);if(h){var m="aes"+h[1],p=l.from(h[2],"hex"),g=l.from(h[3].replace(/[\r\n]/g,""),"base64"),v=s(u,p.slice(0,8),parseInt(h[1],10)).key,x=[],I=a.createDecipheriv(m,v,p);x.push(I.update(g)),x.push(I.final()),d=l.concat(x)}else{var N=f.match(o);d=l.from(N[2].replace(/[\r\n]/g,""),"base64")}return{tag:f.match(r)[1],data:d}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(n,e,t){"use strict";var i=n("./asn1"),r=n("./aesid.json"),o=n("./fixProc"),s=n("browserify-aes"),a=n("pbkdf2"),l=n("safe-buffer").Buffer;function c(u){var d;typeof u!="object"||l.isBuffer(u)||(d=u.passphrase,u=u.key),typeof u=="string"&&(u=l.from(u));var f,h,m=o(u,d),p=m.tag,g=m.data;switch(p){case"CERTIFICATE":h=i.certificate.decode(g,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(h||(h=i.PublicKey.decode(g,"der")),f=h.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(h.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return h.subjectPrivateKey=h.subjectPublicKey,{type:"ec",data:h};case"1.2.840.10040.4.1":return h.algorithm.params.pub_key=i.DSAparam.decode(h.subjectPublicKey.data,"der"),{type:"dsa",data:h.algorithm.params};default:throw new Error("unknown key id "+f)}case"ENCRYPTED PRIVATE KEY":g=function(v,x){var I=v.algorithm.decrypt.kde.kdeparams.salt,N=parseInt(v.algorithm.decrypt.kde.kdeparams.iters.toString(),10),H=r[v.algorithm.decrypt.cipher.algo.join(".")],F=v.algorithm.decrypt.cipher.iv,B=v.subjectPrivateKey,V=parseInt(H.split("-")[1],10)/8,G=a.pbkdf2Sync(x,I,N,V,"sha1"),W=s.createDecipheriv(H,G,F),k=[];return k.push(W.update(B)),k.push(W.final()),l.concat(k)}(g=i.EncryptedPrivateKey.decode(g,"der"),d);case"PRIVATE KEY":switch(f=(h=i.PrivateKey.decode(g,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(h.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:h.algorithm.curve,privateKey:i.ECPrivateKey.decode(h.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return h.algorithm.params.priv_key=i.DSAparam.decode(h.subjectPrivateKey,"der"),{type:"dsa",params:h.algorithm.params};default:throw new Error("unknown key id "+f)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(g,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(g,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(g,"der")};case"EC PRIVATE KEY":return{curve:(g=i.ECPrivateKey.decode(g,"der")).parameters.value,privateKey:g.privateKey};default:throw new Error("unknown key type "+p)}}e.exports=c,c.signature=i.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(n,e,t){"use strict";t.pbkdf2=n("./lib/async"),t.pbkdf2Sync=n("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(n,e,t){(function(i){(function(){"use strict";var r,o,s=n("safe-buffer").Buffer,a=n("./precondition"),l=n("./default-encoding"),c=n("./sync"),u=n("./to-buffer"),d=i.crypto&&i.crypto.subtle,f={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},h=[];function m(){return o||(o=i.process&&i.process.nextTick?i.process.nextTick:i.queueMicrotask?i.queueMicrotask:i.setImmediate?i.setImmediate:i.setTimeout)}function p(g,v,x,I,N){return d.importKey("raw",g,{name:"PBKDF2"},!1,["deriveBits"]).then(function(H){return d.deriveBits({name:"PBKDF2",salt:v,iterations:x,hash:{name:N}},H,I<<3)}).then(function(H){return s.from(H)})}e.exports=function(g,v,x,I,N,H){typeof N=="function"&&(H=N,N=void 0);var F=f[(N=N||"sha1").toLowerCase()];if(F&&typeof i.Promise=="function"){if(a(x,I),g=u(g,l,"Password"),v=u(v,l,"Salt"),typeof H!="function")throw new Error("No callback provided to pbkdf2");(function(B,V){B.then(function(G){m()(function(){V(null,G)})},function(G){m()(function(){V(G)})})})(function(B){if(i.process&&!i.process.browser||!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(h[B]!==void 0)return h[B];var V=p(r=r||s.alloc(8),r,10,128,B).then(function(){return!0}).catch(function(){return!1});return h[B]=V,V}(F).then(function(B){return B?p(g,v,x,I,F):c(g,v,x,I,N)}),H)}else m()(function(){var B;try{B=c(g,v,x,I,N)}catch(V){return H(V)}H(null,B)})}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(n,e,t){(function(i,r){(function(){"use strict";var o;r.process&&r.process.browser?o="utf-8":r.process&&r.process.version?o=parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":o="utf-8",e.exports=o}).call(this)}).call(this,n("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(n,e,t){"use strict";var i=Math.pow(2,30)-1;e.exports=function(r,o){if(typeof r!="number")throw new TypeError("Iterations not a number");if(r<0)throw new TypeError("Bad iterations");if(typeof o!="number")throw new TypeError("Key length not a number");if(o<0||o>i||o!=o)throw new TypeError("Bad key length")}},{}],464:[function(n,e,t){"use strict";var i=n("create-hash/md5"),r=n("ripemd160"),o=n("sha.js"),s=n("safe-buffer").Buffer,a=n("./precondition"),l=n("./default-encoding"),c=n("./to-buffer"),u=s.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function f(h,m,p){var g=function(F){function B(V){return o(F).update(V).digest()}return F==="rmd160"||F==="ripemd160"?function(V){return new r().update(V).digest()}:F==="md5"?i:B}(h),v=h==="sha512"||h==="sha384"?128:64;m.length>v?m=g(m):m.length<v&&(m=s.concat([m,u],v));for(var x=s.allocUnsafe(v+d[h]),I=s.allocUnsafe(v+d[h]),N=0;N<v;N++)x[N]=54^m[N],I[N]=92^m[N];var H=s.allocUnsafe(v+p+4);x.copy(H,0,0,v),this.ipad1=H,this.ipad2=x,this.opad=I,this.alg=h,this.blocksize=v,this.hash=g,this.size=d[h]}f.prototype.run=function(h,m){return h.copy(m,this.blocksize),this.hash(m).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(h,m,p,g,v){a(p,g);var x=new f(v=v||"sha1",h=c(h,l,"Password"),(m=c(m,l,"Salt")).length),I=s.allocUnsafe(g),N=s.allocUnsafe(m.length+4);m.copy(N,0,0,m.length);for(var H=0,F=d[v],B=Math.ceil(g/F),V=1;V<=B;V++){N.writeUInt32BE(V,m.length);for(var G=x.run(N,x.ipad1),W=G,k=1;k<p;k++){W=x.run(W,x.ipad2);for(var E=0;E<F;E++)G[E]^=W[E]}G.copy(I,H),H+=F}return I}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(n,e,t){"use strict";var i=n("safe-buffer").Buffer;e.exports=function(r,o,s){if(i.isBuffer(r))return r;if(typeof r=="string")return i.from(r,o);if(ArrayBuffer.isView(r))return i.from(r.buffer);throw new TypeError(s+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(n,e,t){(function(i){(function(){"use strict";i===void 0||!i.version||i.version.indexOf("v0.")===0||i.version.indexOf("v1.")===0&&i.version.indexOf("v1.8.")!==0?e.exports={nextTick:function(r,o,s,a){if(typeof r!="function")throw new TypeError('"callback" argument must be a function');var l,c,u=arguments.length;switch(u){case 0:case 1:return i.nextTick(r);case 2:return i.nextTick(function(){r.call(null,o)});case 3:return i.nextTick(function(){r.call(null,o,s)});case 4:return i.nextTick(function(){r.call(null,o,s,a)});default:for(l=new Array(u-1),c=0;c<l.length;)l[c++]=arguments[c];return i.nextTick(function(){r.apply(null,l)})}}}:e.exports=i}).call(this)}).call(this,n("_process"))},{_process:467}],467:[function(n,e,t){"use strict";var i,r,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(v){if(i===setTimeout)return setTimeout(v,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(v,0);try{return i(v,0)}catch{try{return i.call(null,v,0)}catch{return i.call(this,v,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:s}catch{i=s}try{r=typeof clearTimeout=="function"?clearTimeout:a}catch{r=a}})();var c,u=[],d=!1,f=-1;function h(){d&&c&&(d=!1,c.length?u=c.concat(u):f=-1,u.length&&m())}function m(){if(!d){var v=l(h);d=!0;for(var x=u.length;x;){for(c=u,u=[];++f<x;)c&&c[f].run();f=-1,x=u.length}c=null,d=!1,function(I){if(r===clearTimeout)return clearTimeout(I);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(I);try{r(I)}catch{try{return r.call(null,I)}catch{return r.call(this,I)}}}(v)}}function p(v,x){this.fun=v,this.array=x}function g(){}o.nextTick=function(v){var x=new Array(arguments.length-1);if(arguments.length>1)for(var I=1;I<arguments.length;I++)x[I-1]=arguments[I];u.push(new p(v,x)),u.length!==1||d||l(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(v){return[]},o.binding=function(v){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(v){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],468:[function(n,e,t){"use strict";t.publicEncrypt=n("./publicEncrypt"),t.privateDecrypt=n("./privateDecrypt"),t.privateEncrypt=function(i,r){return t.publicEncrypt(i,r,!0)},t.publicDecrypt=function(i,r){return t.privateDecrypt(i,r,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(n,e,t){"use strict";var i=n("create-hash"),r=n("safe-buffer").Buffer;function o(s){var a=r.allocUnsafe(4);return a.writeUInt32BE(s,0),a}e.exports=function(s,a){for(var l,c=r.alloc(0),u=0;c.length<a;)l=o(u++),c=r.concat([c,i("sha1").update(s).update(l).digest()]);return c.slice(0,a)}},{"create-hash":386,"safe-buffer":494}],470:[function(n,e,t){arguments[4][184][0].apply(t,arguments)},{buffer:188,dup:184}],471:[function(n,e,t){"use strict";var i=n("parse-asn1"),r=n("./mgf"),o=n("./xor"),s=n("bn.js"),a=n("browserify-rsa"),l=n("create-hash"),c=n("./withPublic"),u=n("safe-buffer").Buffer;e.exports=function(d,f,h){var m;m=d.padding?d.padding:h?1:4;var p,g=i(d),v=g.modulus.byteLength();if(f.length>v||new s(f).cmp(g.modulus)>=0)throw new Error("decryption error");p=h?c(new s(f),g):a(f,g);var x=u.alloc(v-p.length);if(p=u.concat([x,p],v),m===4)return function(I,N){var H=I.modulus.byteLength(),F=l("sha1").update(u.alloc(0)).digest(),B=F.length;if(N[0]!==0)throw new Error("decryption error");var V=N.slice(1,B+1),G=N.slice(B+1),W=o(V,r(G,B)),k=o(G,r(W,H-B-1));if(function(L,b){L=u.from(L),b=u.from(b);var w=0,_=L.length;L.length!==b.length&&(w++,_=Math.min(L.length,b.length));for(var y=-1;++y<_;)w+=L[y]^b[y];return w}(F,k.slice(0,B)))throw new Error("decryption error");for(var E=B;k[E]===0;)E++;if(k[E++]!==1)throw new Error("decryption error");return k.slice(E)}(g,p);if(m===1)return function(I,N,H){for(var F=N.slice(0,2),B=2,V=0;N[B++]!==0;)if(B>=N.length){V++;break}var G=N.slice(2,B-1);if((F.toString("hex")!=="0002"&&!H||F.toString("hex")!=="0001"&&H)&&V++,G.length<8&&V++,V)throw new Error("decryption error");return N.slice(B)}(0,p,h);if(m===3)return p;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(n,e,t){"use strict";var i=n("parse-asn1"),r=n("randombytes"),o=n("create-hash"),s=n("./mgf"),a=n("./xor"),l=n("bn.js"),c=n("./withPublic"),u=n("browserify-rsa"),d=n("safe-buffer").Buffer;e.exports=function(f,h,m){var p;p=f.padding?f.padding:m?1:4;var g,v=i(f);if(p===4)g=function(x,I){var N=x.modulus.byteLength(),H=I.length,F=o("sha1").update(d.alloc(0)).digest(),B=F.length,V=2*B;if(H>N-V-2)throw new Error("message too long");var G=d.alloc(N-H-V-2),W=N-B-1,k=r(B),E=a(d.concat([F,G,d.alloc(1,1),I],W),s(k,W)),L=a(k,s(E,B));return new l(d.concat([d.alloc(1),L,E],N))}(v,h);else if(p===1)g=function(x,I,N){var H,F=I.length,B=x.modulus.byteLength();if(F>B-11)throw new Error("message too long");return H=N?d.alloc(B-F-3,255):function(V){for(var G,W=d.allocUnsafe(V),k=0,E=r(2*V),L=0;k<V;)L===E.length&&(E=r(2*V),L=0),(G=E[L++])&&(W[k++]=G);return W}(B-F-3),new l(d.concat([d.from([0,N?1:2]),H,d.alloc(1),I],B))}(v,h,m);else{if(p!==3)throw new Error("unknown padding");if((g=new l(h)).cmp(v.modulus)>=0)throw new Error("data too long for modulus")}return m?u(g,v):c(g,v)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(n,e,t){"use strict";var i=n("bn.js"),r=n("safe-buffer").Buffer;e.exports=function(o,s){return r.from(o.toRed(i.mont(s.modulus)).redPow(new i(s.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(n,e,t){"use strict";e.exports=function(i,r){for(var o=i.length,s=-1;++s<o;)i[s]^=r[s];return i}},{}],475:[function(n,e,t){(function(i,r){(function(){"use strict";var o=n("safe-buffer").Buffer,s=r.crypto||r.msCrypto;s&&s.getRandomValues?e.exports=function(a,l){if(a>4294967295)throw new RangeError("requested too many random bytes");var c=o.allocUnsafe(a);if(a>0)if(a>65536)for(var u=0;u<a;u+=65536)s.getRandomValues(c.slice(u,u+65536));else s.getRandomValues(c);return typeof l=="function"?i.nextTick(function(){l(null,c)}):c}:e.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,n("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(n,e,t){(function(i,r){(function(){"use strict";function o(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var s=n("safe-buffer"),a=n("randombytes"),l=s.Buffer,c=s.kMaxLength,u=r.crypto||r.msCrypto,d=Math.pow(2,32)-1;function f(p,g){if(typeof p!="number"||p!=p)throw new TypeError("offset must be a number");if(p>d||p<0)throw new TypeError("offset must be a uint32");if(p>c||p>g)throw new RangeError("offset out of range")}function h(p,g,v){if(typeof p!="number"||p!=p)throw new TypeError("size must be a number");if(p>d||p<0)throw new TypeError("size must be a uint32");if(p+g>v||p>c)throw new RangeError("buffer too small")}function m(p,g,v,x){if(i.browser){var I=p.buffer,N=new Uint8Array(I,g,v);return u.getRandomValues(N),x?void i.nextTick(function(){x(null,p)}):p}if(!x)return a(v).copy(p,g),p;a(v,function(H,F){if(H)return x(H);F.copy(p,g),x(null,p)})}u&&u.getRandomValues||!i.browser?(t.randomFill=function(p,g,v,x){if(!(l.isBuffer(p)||p instanceof r.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof g=="function")x=g,g=0,v=p.length;else if(typeof v=="function")x=v,v=p.length-g;else if(typeof x!="function")throw new TypeError('"cb" argument must be a function');return f(g,p.length),h(v,g,p.length),m(p,g,v,x)},t.randomFillSync=function(p,g,v){if(g===void 0&&(g=0),!(l.isBuffer(p)||p instanceof r.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return f(g,p.length),v===void 0&&(v=p.length-g),h(v,g,p.length),m(p,g,v)}):(t.randomFill=o,t.randomFillSync=o)}).call(this)}).call(this,n("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(n,e,t){"use strict";var i={};function r(s,a,l){l||(l=Error);var c=function(u){var d,f;function h(m,p,g){return u.call(this,function(v,x,I){return typeof a=="string"?a:a(v,x,I)}(m,p,g))||this}return f=u,(d=h).prototype=Object.create(f.prototype),d.prototype.constructor=d,d.__proto__=f,h}(l);c.prototype.name=l.name,c.prototype.code=s,i[s]=c}function o(s,a){if(Array.isArray(s)){var l=s.length;return s=s.map(function(c){return String(c)}),l>2?"one of ".concat(a," ").concat(s.slice(0,l-1).join(", "),", or ")+s[l-1]:l===2?"one of ".concat(a," ").concat(s[0]," or ").concat(s[1]):"of ".concat(a," ").concat(s[0])}return"of ".concat(a," ").concat(String(s))}r("ERR_INVALID_OPT_VALUE",function(s,a){return'The value "'+a+'" is invalid for option "'+s+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(s,a,l){var c,u,d,f;if(typeof a=="string"&&(u="not ",a.substr(!d||d<0?0:+d,u.length)===u)?(c="must not be",a=a.replace(/^not /,"")):c="must be",function(m,p,g){return(g===void 0||g>m.length)&&(g=m.length),m.substring(g-p.length,g)===p}(s," argument"))f="The ".concat(s," ").concat(c," ").concat(o(a,"type"));else{var h=function(m,p,g){return typeof g!="number"&&(g=0),!(g+p.length>m.length)&&m.indexOf(p,g)!==-1}(s,".")?"property":"argument";f='The "'.concat(s,'" ').concat(h," ").concat(c," ").concat(o(a,"type"))}return f+=". Received type ".concat(typeof l)},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=i},{}],478:[function(n,e,t){(function(i){(function(){"use strict";var r=Object.keys||function(h){var m=[];for(var p in h)m.push(p);return m};e.exports=u;var o=n("./_stream_readable"),s=n("./_stream_writable");n("inherits")(u,o);for(var a=r(s.prototype),l=0;l<a.length;l++){var c=a[l];u.prototype[c]||(u.prototype[c]=s.prototype[c])}function u(h){if(!(this instanceof u))return new u(h);o.call(this,h),s.call(this,h),this.allowHalfOpen=!0,h&&(h.readable===!1&&(this.readable=!1),h.writable===!1&&(this.writable=!1),h.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||i.nextTick(f,this)}function f(h){h.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=h,this._writableState.destroyed=h)}})}).call(this)}).call(this,n("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(n,e,t){"use strict";e.exports=r;var i=n("./_stream_transform");function r(o){if(!(this instanceof r))return new r(o);i.call(this,o)}n("inherits")(r,i),r.prototype._transform=function(o,s,a){a(null,o)}},{"./_stream_transform":481,inherits:440}],480:[function(n,e,t){(function(i,r){(function(){"use strict";var o;e.exports=W,W.ReadableState=G,n("events").EventEmitter;var s=function(P,M){return P.listeners(M).length},a=n("./internal/streams/stream"),l=n("buffer").Buffer,c=(r!==void 0?r:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},u,d=n("util");u=d&&d.debuglog?d.debuglog("stream"):function(){};var f,h,m,p=n("./internal/streams/buffer_list"),g=n("./internal/streams/destroy"),v=n("./internal/streams/state").getHighWaterMark,x=n("../errors").codes,I=x.ERR_INVALID_ARG_TYPE,N=x.ERR_STREAM_PUSH_AFTER_EOF,H=x.ERR_METHOD_NOT_IMPLEMENTED,F=x.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n("inherits")(W,a);var B=g.errorOrDestroy,V=["error","close","destroy","pause","resume"];function G(P,M,$){o=o||n("./_stream_duplex"),P=P||{},typeof $!="boolean"&&($=M instanceof o),this.objectMode=!!P.objectMode,$&&(this.objectMode=this.objectMode||!!P.readableObjectMode),this.highWaterMark=v(this,P,"readableHighWaterMark",$),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=P.emitClose!==!1,this.autoDestroy=!!P.autoDestroy,this.destroyed=!1,this.defaultEncoding=P.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,P.encoding&&(f||(f=n("string_decoder/").StringDecoder),this.decoder=new f(P.encoding),this.encoding=P.encoding)}function W(P){if(o=o||n("./_stream_duplex"),!(this instanceof W))return new W(P);var M=this instanceof o;this._readableState=new G(P,this,M),this.readable=!0,P&&(typeof P.read=="function"&&(this._read=P.read),typeof P.destroy=="function"&&(this._destroy=P.destroy)),a.call(this)}function k(P,M,$,te,ue){u("readableAddChunk",M);var re,ce=P._readableState;if(M===null)ce.reading=!1,function(_e,xe){if(u("onEofChunk"),!xe.ended){if(xe.decoder){var ie=xe.decoder.end();ie&&ie.length&&(xe.buffer.push(ie),xe.length+=xe.objectMode?1:ie.length)}xe.ended=!0,xe.sync?b(_e):(xe.needReadable=!1,xe.emittedReadable||(xe.emittedReadable=!0,w(_e)))}}(P,ce);else if(ue||(re=function(_e,xe){var ie;se=xe,l.isBuffer(se)||se instanceof c||typeof xe=="string"||xe===void 0||_e.objectMode||(ie=new I("chunk",["string","Buffer","Uint8Array"],xe));var se;return ie}(ce,M)),re)B(P,re);else if(ce.objectMode||M&&M.length>0)if(typeof M=="string"||ce.objectMode||Object.getPrototypeOf(M)===l.prototype||(M=function(_e){return l.from(_e)}(M)),te)ce.endEmitted?B(P,new F):E(P,ce,M,!0);else if(ce.ended)B(P,new N);else{if(ce.destroyed)return!1;ce.reading=!1,ce.decoder&&!$?(M=ce.decoder.write(M),ce.objectMode||M.length!==0?E(P,ce,M,!1):_(P,ce)):E(P,ce,M,!1)}else te||(ce.reading=!1,_(P,ce));return!ce.ended&&(ce.length<ce.highWaterMark||ce.length===0)}function E(P,M,$,te){M.flowing&&M.length===0&&!M.sync?(M.awaitDrain=0,P.emit("data",$)):(M.length+=M.objectMode?1:$.length,te?M.buffer.unshift($):M.buffer.push($),M.needReadable&&b(P)),_(P,M)}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(P){this._readableState&&(this._readableState.destroyed=P)}}),W.prototype.destroy=g.destroy,W.prototype._undestroy=g.undestroy,W.prototype._destroy=function(P,M){M(P)},W.prototype.push=function(P,M){var $,te=this._readableState;return te.objectMode?$=!0:typeof P=="string"&&((M=M||te.defaultEncoding)!==te.encoding&&(P=l.from(P,M),M=""),$=!0),k(this,P,M,!1,$)},W.prototype.unshift=function(P){return k(this,P,null,!0,!1)},W.prototype.isPaused=function(){return this._readableState.flowing===!1},W.prototype.setEncoding=function(P){f||(f=n("string_decoder/").StringDecoder);var M=new f(P);this._readableState.decoder=M,this._readableState.encoding=this._readableState.decoder.encoding;for(var $=this._readableState.buffer.head,te="";$!==null;)te+=M.write($.data),$=$.next;return this._readableState.buffer.clear(),te!==""&&this._readableState.buffer.push(te),this._readableState.length=te.length,this};function L(P,M){return P<=0||M.length===0&&M.ended?0:M.objectMode?1:P!=P?M.flowing&&M.length?M.buffer.head.data.length:M.length:(P>M.highWaterMark&&(M.highWaterMark=function($){return $>=1073741824?$=1073741824:($--,$|=$>>>1,$|=$>>>2,$|=$>>>4,$|=$>>>8,$|=$>>>16,$++),$}(P)),P<=M.length?P:M.ended?M.length:(M.needReadable=!0,0))}function b(P){var M=P._readableState;u("emitReadable",M.needReadable,M.emittedReadable),M.needReadable=!1,M.emittedReadable||(u("emitReadable",M.flowing),M.emittedReadable=!0,i.nextTick(w,P))}function w(P){var M=P._readableState;u("emitReadable_",M.destroyed,M.length,M.ended),M.destroyed||!M.length&&!M.ended||(P.emit("readable"),M.emittedReadable=!1),M.needReadable=!M.flowing&&!M.ended&&M.length<=M.highWaterMark,Z(P)}function _(P,M){M.readingMore||(M.readingMore=!0,i.nextTick(y,P,M))}function y(P,M){for(;!M.reading&&!M.ended&&(M.length<M.highWaterMark||M.flowing&&M.length===0);){var $=M.length;if(u("maybeReadMore read 0"),P.read(0),$===M.length)break}M.readingMore=!1}function C(P){var M=P._readableState;M.readableListening=P.listenerCount("readable")>0,M.resumeScheduled&&!M.paused?M.flowing=!0:P.listenerCount("data")>0&&P.resume()}function S(P){u("readable nexttick read 0"),P.read(0)}function R(P,M){u("resume",M.reading),M.reading||P.read(0),M.resumeScheduled=!1,P.emit("resume"),Z(P),M.flowing&&!M.reading&&P.read(0)}function Z(P){var M=P._readableState;for(u("flow",M.flowing);M.flowing&&P.read()!==null;);}function j(P,M){return M.length===0?null:(M.objectMode?$=M.buffer.shift():!P||P>=M.length?($=M.decoder?M.buffer.join(""):M.buffer.length===1?M.buffer.first():M.buffer.concat(M.length),M.buffer.clear()):$=M.buffer.consume(P,M.decoder),$);var $}function X(P){var M=P._readableState;u("endReadable",M.endEmitted),M.endEmitted||(M.ended=!0,i.nextTick(D,M,P))}function D(P,M){if(u("endReadableNT",P.endEmitted,P.length),!P.endEmitted&&P.length===0&&(P.endEmitted=!0,M.readable=!1,M.emit("end"),P.autoDestroy)){var $=M._writableState;(!$||$.autoDestroy&&$.finished)&&M.destroy()}}function Y(P,M){for(var $=0,te=P.length;$<te;$++)if(P[$]===M)return $;return-1}W.prototype.read=function(P){u("read",P),P=parseInt(P,10);var M=this._readableState,$=P;if(P!==0&&(M.emittedReadable=!1),P===0&&M.needReadable&&((M.highWaterMark!==0?M.length>=M.highWaterMark:M.length>0)||M.ended))return u("read: emitReadable",M.length,M.ended),M.length===0&&M.ended?X(this):b(this),null;if((P=L(P,M))===0&&M.ended)return M.length===0&&X(this),null;var te,ue=M.needReadable;return u("need readable",ue),(M.length===0||M.length-P<M.highWaterMark)&&u("length less than watermark",ue=!0),M.ended||M.reading?u("reading or ended",ue=!1):ue&&(u("do read"),M.reading=!0,M.sync=!0,M.length===0&&(M.needReadable=!0),this._read(M.highWaterMark),M.sync=!1,M.reading||(P=L($,M))),(te=P>0?j(P,M):null)===null?(M.needReadable=M.length<=M.highWaterMark,P=0):(M.length-=P,M.awaitDrain=0),M.length===0&&(M.ended||(M.needReadable=!0),$!==P&&M.ended&&X(this)),te!==null&&this.emit("data",te),te},W.prototype._read=function(P){B(this,new H("_read()"))},W.prototype.pipe=function(P,M){var $=this,te=this._readableState;switch(te.pipesCount){case 0:te.pipes=P;break;case 1:te.pipes=[te.pipes,P];break;default:te.pipes.push(P)}te.pipesCount+=1,u("pipe count=%d opts=%j",te.pipesCount,M);var ue=(!M||M.end!==!1)&&P!==i.stdout&&P!==i.stderr?ce:Ee;function re(Te,Se){u("onunpipe"),Te===$&&Se&&Se.hasUnpiped===!1&&(Se.hasUnpiped=!0,u("cleanup"),P.removeListener("close",ge),P.removeListener("finish",Ae),P.removeListener("drain",_e),P.removeListener("error",se),P.removeListener("unpipe",re),$.removeListener("end",ce),$.removeListener("end",Ee),$.removeListener("data",ie),xe=!0,!te.awaitDrain||P._writableState&&!P._writableState.needDrain||_e())}function ce(){u("onend"),P.end()}te.endEmitted?i.nextTick(ue):$.once("end",ue),P.on("unpipe",re);var _e=function(Te){return function(){var Se=Te._readableState;u("pipeOnDrain",Se.awaitDrain),Se.awaitDrain&&Se.awaitDrain--,Se.awaitDrain===0&&s(Te,"data")&&(Se.flowing=!0,Z(Te))}}($);P.on("drain",_e);var xe=!1;function ie(Te){u("ondata");var Se=P.write(Te);u("dest.write",Se),Se===!1&&((te.pipesCount===1&&te.pipes===P||te.pipesCount>1&&Y(te.pipes,P)!==-1)&&!xe&&(u("false write response, pause",te.awaitDrain),te.awaitDrain++),$.pause())}function se(Te){u("onerror",Te),Ee(),P.removeListener("error",se),s(P,"error")===0&&B(P,Te)}function ge(){P.removeListener("finish",Ae),Ee()}function Ae(){u("onfinish"),P.removeListener("close",ge),Ee()}function Ee(){u("unpipe"),$.unpipe(P)}return $.on("data",ie),function(Te,Se,Fe){if(typeof Te.prependListener=="function")return Te.prependListener(Se,Fe);Te._events&&Te._events[Se]?Array.isArray(Te._events[Se])?Te._events[Se].unshift(Fe):Te._events[Se]=[Fe,Te._events[Se]]:Te.on(Se,Fe)}(P,"error",se),P.once("close",ge),P.once("finish",Ae),P.emit("pipe",$),te.flowing||(u("pipe resume"),$.resume()),P},W.prototype.unpipe=function(P){var M=this._readableState,$={hasUnpiped:!1};if(M.pipesCount===0)return this;if(M.pipesCount===1)return P&&P!==M.pipes||(P||(P=M.pipes),M.pipes=null,M.pipesCount=0,M.flowing=!1,P&&P.emit("unpipe",this,$)),this;if(!P){var te=M.pipes,ue=M.pipesCount;M.pipes=null,M.pipesCount=0,M.flowing=!1;for(var re=0;re<ue;re++)te[re].emit("unpipe",this,{hasUnpiped:!1});return this}var ce=Y(M.pipes,P);return ce===-1||(M.pipes.splice(ce,1),M.pipesCount-=1,M.pipesCount===1&&(M.pipes=M.pipes[0]),P.emit("unpipe",this,$)),this},W.prototype.on=function(P,M){var $=a.prototype.on.call(this,P,M),te=this._readableState;return P==="data"?(te.readableListening=this.listenerCount("readable")>0,te.flowing!==!1&&this.resume()):P==="readable"&&(te.endEmitted||te.readableListening||(te.readableListening=te.needReadable=!0,te.flowing=!1,te.emittedReadable=!1,u("on readable",te.length,te.reading),te.length?b(this):te.reading||i.nextTick(S,this))),$},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(P,M){var $=a.prototype.removeListener.call(this,P,M);return P==="readable"&&i.nextTick(C,this),$},W.prototype.removeAllListeners=function(P){var M=a.prototype.removeAllListeners.apply(this,arguments);return P!=="readable"&&P!==void 0||i.nextTick(C,this),M},W.prototype.resume=function(){var P=this._readableState;return P.flowing||(u("resume"),P.flowing=!P.readableListening,function(M,$){$.resumeScheduled||($.resumeScheduled=!0,i.nextTick(R,M,$))}(this,P)),P.paused=!1,this},W.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},W.prototype.wrap=function(P){var M=this,$=this._readableState,te=!1;for(var ue in P.on("end",function(){if(u("wrapped end"),$.decoder&&!$.ended){var ce=$.decoder.end();ce&&ce.length&&M.push(ce)}M.push(null)}),P.on("data",function(ce){u("wrapped data"),$.decoder&&(ce=$.decoder.write(ce)),$.objectMode&&ce==null||($.objectMode||ce&&ce.length)&&(M.push(ce)||(te=!0,P.pause()))}),P)this[ue]===void 0&&typeof P[ue]=="function"&&(this[ue]=function(ce){return function(){return P[ce].apply(P,arguments)}}(ue));for(var re=0;re<V.length;re++)P.on(V[re],this.emit.bind(this,V[re]));return this._read=function(ce){u("wrapped _read",ce),te&&(te=!1,P.resume())},this},typeof Symbol=="function"&&(W.prototype[Symbol.asyncIterator]=function(){return h===void 0&&(h=n("./internal/streams/async_iterator")),h(this)}),Object.defineProperty(W.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(W.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(W.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(P){this._readableState&&(this._readableState.flowing=P)}}),W._fromList=j,Object.defineProperty(W.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(W.from=function(P,M){return m===void 0&&(m=n("./internal/streams/from")),m(W,P,M)})}).call(this)}).call(this,n("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(n,e,t){"use strict";e.exports=u;var i=n("../errors").codes,r=i.ERR_METHOD_NOT_IMPLEMENTED,o=i.ERR_MULTIPLE_CALLBACK,s=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=i.ERR_TRANSFORM_WITH_LENGTH_0,l=n("./_stream_duplex");function c(h,m){var p=this._transformState;p.transforming=!1;var g=p.writecb;if(g===null)return this.emit("error",new o);p.writechunk=null,p.writecb=null,m!=null&&this.push(m),g(h);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function u(h){if(!(this instanceof u))return new u(h);l.call(this,h),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.on("prefinish",d)}function d(){var h=this;typeof this._flush!="function"||this._readableState.destroyed?f(this,null,null):this._flush(function(m,p){f(h,m,p)})}function f(h,m,p){if(m)return h.emit("error",m);if(p!=null&&h.push(p),h._writableState.length)throw new a;if(h._transformState.transforming)throw new s;return h.push(null)}n("inherits")(u,l),u.prototype.push=function(h,m){return this._transformState.needTransform=!1,l.prototype.push.call(this,h,m)},u.prototype._transform=function(h,m,p){p(new r("_transform()"))},u.prototype._write=function(h,m,p){var g=this._transformState;if(g.writecb=p,g.writechunk=h,g.writeencoding=m,!g.transforming){var v=this._readableState;(g.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},u.prototype._read=function(h){var m=this._transformState;m.writechunk===null||m.transforming?m.needTransform=!0:(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform))},u.prototype._destroy=function(h,m){l.prototype._destroy.call(this,h,function(p){m(p)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(n,e,t){(function(i,r){(function(){"use strict";function o(y){var C=this;this.next=null,this.entry=null,this.finish=function(){(function(S,R,Z){var j=S.entry;for(S.entry=null;j;){var X=j.callback;R.pendingcb--,X(Z),j=j.next}R.corkedRequestsFree.next=S})(C,y)}}var s;e.exports=W,W.WritableState=G;var a={deprecate:n("util-deprecate")},l=n("./internal/streams/stream"),c=n("buffer").Buffer,u=(r!==void 0?r:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,f=n("./internal/streams/destroy"),h=n("./internal/streams/state").getHighWaterMark,m=n("../errors").codes,p=m.ERR_INVALID_ARG_TYPE,g=m.ERR_METHOD_NOT_IMPLEMENTED,v=m.ERR_MULTIPLE_CALLBACK,x=m.ERR_STREAM_CANNOT_PIPE,I=m.ERR_STREAM_DESTROYED,N=m.ERR_STREAM_NULL_VALUES,H=m.ERR_STREAM_WRITE_AFTER_END,F=m.ERR_UNKNOWN_ENCODING,B=f.errorOrDestroy;function V(){}function G(y,C,S){s=s||n("./_stream_duplex"),y=y||{},typeof S!="boolean"&&(S=C instanceof s),this.objectMode=!!y.objectMode,S&&(this.objectMode=this.objectMode||!!y.writableObjectMode),this.highWaterMark=h(this,y,"writableHighWaterMark",S),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var R=y.decodeStrings===!1;this.decodeStrings=!R,this.defaultEncoding=y.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Z){(function(j,X){var D=j._writableState,Y=D.sync,P=D.writecb;if(typeof P!="function")throw new v;if(function($){$.writing=!1,$.writecb=null,$.length-=$.writelen,$.writelen=0}(D),X)(function($,te,ue,re,ce){--te.pendingcb,ue?(i.nextTick(ce,re),i.nextTick(_,$,te),$._writableState.errorEmitted=!0,B($,re)):(ce(re),$._writableState.errorEmitted=!0,B($,re),_($,te))})(j,D,Y,X,P);else{var M=b(D)||j.destroyed;M||D.corked||D.bufferProcessing||!D.bufferedRequest||L(j,D),Y?i.nextTick(E,j,D,M,P):E(j,D,M,P)}})(C,Z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=y.emitClose!==!1,this.autoDestroy=!!y.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function W(y){var C=this instanceof(s=s||n("./_stream_duplex"));if(!C&&!d.call(W,this))return new W(y);this._writableState=new G(y,this,C),this.writable=!0,y&&(typeof y.write=="function"&&(this._write=y.write),typeof y.writev=="function"&&(this._writev=y.writev),typeof y.destroy=="function"&&(this._destroy=y.destroy),typeof y.final=="function"&&(this._final=y.final)),l.call(this)}function k(y,C,S,R,Z,j,X){C.writelen=R,C.writecb=X,C.writing=!0,C.sync=!0,C.destroyed?C.onwrite(new I("write")):S?y._writev(Z,C.onwrite):y._write(Z,j,C.onwrite),C.sync=!1}function E(y,C,S,R){S||function(Z,j){j.length===0&&j.needDrain&&(j.needDrain=!1,Z.emit("drain"))}(y,C),C.pendingcb--,R(),_(y,C)}function L(y,C){C.bufferProcessing=!0;var S=C.bufferedRequest;if(y._writev&&S&&S.next){var R=C.bufferedRequestCount,Z=new Array(R),j=C.corkedRequestsFree;j.entry=S;for(var X=0,D=!0;S;)Z[X]=S,S.isBuf||(D=!1),S=S.next,X+=1;Z.allBuffers=D,k(y,C,!0,C.length,Z,"",j.finish),C.pendingcb++,C.lastBufferedRequest=null,j.next?(C.corkedRequestsFree=j.next,j.next=null):C.corkedRequestsFree=new o(C),C.bufferedRequestCount=0}else{for(;S;){var Y=S.chunk,P=S.encoding,M=S.callback;if(k(y,C,!1,C.objectMode?1:Y.length,Y,P,M),S=S.next,C.bufferedRequestCount--,C.writing)break}S===null&&(C.lastBufferedRequest=null)}C.bufferedRequest=S,C.bufferProcessing=!1}function b(y){return y.ending&&y.length===0&&y.bufferedRequest===null&&!y.finished&&!y.writing}function w(y,C){y._final(function(S){C.pendingcb--,S&&B(y,S),C.prefinished=!0,y.emit("prefinish"),_(y,C)})}function _(y,C){var S=b(C);if(S&&(function(Z,j){j.prefinished||j.finalCalled||(typeof Z._final!="function"||j.destroyed?(j.prefinished=!0,Z.emit("prefinish")):(j.pendingcb++,j.finalCalled=!0,i.nextTick(w,Z,j)))}(y,C),C.pendingcb===0&&(C.finished=!0,y.emit("finish"),C.autoDestroy))){var R=y._readableState;(!R||R.autoDestroy&&R.endEmitted)&&y.destroy()}return S}n("inherits")(W,l),G.prototype.getBuffer=function(){for(var y=this.bufferedRequest,C=[];y;)C.push(y),y=y.next;return C},function(){try{Object.defineProperty(G.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(W,Symbol.hasInstance,{value:function(y){return!!d.call(this,y)||this===W&&y&&y._writableState instanceof G}})):d=function(y){return y instanceof this},W.prototype.pipe=function(){B(this,new x)},W.prototype.write=function(y,C,S){var R,Z=this._writableState,j=!1,X=!Z.objectMode&&(R=y,c.isBuffer(R)||R instanceof u);return X&&!c.isBuffer(y)&&(y=function(D){return c.from(D)}(y)),typeof C=="function"&&(S=C,C=null),X?C="buffer":C||(C=Z.defaultEncoding),typeof S!="function"&&(S=V),Z.ending?function(D,Y){var P=new H;B(D,P),i.nextTick(Y,P)}(this,S):(X||function(D,Y,P,M){var $;return P===null?$=new N:typeof P=="string"||Y.objectMode||($=new p("chunk",["string","Buffer"],P)),!$||(B(D,$),i.nextTick(M,$),!1)}(this,Z,y,S))&&(Z.pendingcb++,j=function(D,Y,P,M,$,te){if(!P){var ue=function(xe,ie,se){return xe.objectMode||xe.decodeStrings===!1||typeof ie!="string"||(ie=c.from(ie,se)),ie}(Y,M,$);M!==ue&&(P=!0,$="buffer",M=ue)}var re=Y.objectMode?1:M.length;Y.length+=re;var ce=Y.length<Y.highWaterMark;if(ce||(Y.needDrain=!0),Y.writing||Y.corked){var _e=Y.lastBufferedRequest;Y.lastBufferedRequest={chunk:M,encoding:$,isBuf:P,callback:te,next:null},_e?_e.next=Y.lastBufferedRequest:Y.bufferedRequest=Y.lastBufferedRequest,Y.bufferedRequestCount+=1}else k(D,Y,!1,re,M,$,te);return ce}(this,Z,X,y,C,S)),j},W.prototype.cork=function(){this._writableState.corked++},W.prototype.uncork=function(){var y=this._writableState;y.corked&&(y.corked--,y.writing||y.corked||y.bufferProcessing||!y.bufferedRequest||L(this,y))},W.prototype.setDefaultEncoding=function(y){if(typeof y=="string"&&(y=y.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((y+"").toLowerCase())>-1))throw new F(y);return this._writableState.defaultEncoding=y,this},Object.defineProperty(W.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),W.prototype._write=function(y,C,S){S(new g("_write()"))},W.prototype._writev=null,W.prototype.end=function(y,C,S){var R=this._writableState;return typeof y=="function"?(S=y,y=null,C=null):typeof C=="function"&&(S=C,C=null),y!=null&&this.write(y,C),R.corked&&(R.corked=1,this.uncork()),R.ending||function(Z,j,X){j.ending=!0,_(Z,j),X&&(j.finished?i.nextTick(X):Z.once("finish",X)),j.ended=!0,Z.writable=!1}(this,R,S),this},Object.defineProperty(W.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(y){this._writableState&&(this._writableState.destroyed=y)}}),W.prototype.destroy=f.destroy,W.prototype._undestroy=f.undestroy,W.prototype._destroy=function(y,C){C(y)}}).call(this)}).call(this,n("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(n,e,t){(function(i){(function(){"use strict";var r;function o(I,N,H){return(N=function(F){var B=function(V,G){if(typeof V!="object"||V===null)return V;var W=V[Symbol.toPrimitive];if(W!==void 0){var k=W.call(V,G||"default");if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(G==="string"?String:Number)(V)}(F,"string");return typeof B=="symbol"?B:String(B)}(N))in I?Object.defineProperty(I,N,{value:H,enumerable:!0,configurable:!0,writable:!0}):I[N]=H,I}var s=n("./end-of-stream"),a=Symbol("lastResolve"),l=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),d=Symbol("lastPromise"),f=Symbol("handlePromise"),h=Symbol("stream");function m(I,N){return{value:I,done:N}}function p(I){var N=I[a];if(N!==null){var H=I[h].read();H!==null&&(I[d]=null,I[a]=null,I[l]=null,N(m(H,!1)))}}function g(I){i.nextTick(p,I)}var v=Object.getPrototypeOf(function(){}),x=Object.setPrototypeOf((o(r={get stream(){return this[h]},next:function(){var I=this,N=this[c];if(N!==null)return Promise.reject(N);if(this[u])return Promise.resolve(m(void 0,!0));if(this[h].destroyed)return new Promise(function(V,G){i.nextTick(function(){I[c]?G(I[c]):V(m(void 0,!0))})});var H,F=this[d];if(F)H=new Promise(function(V,G){return function(W,k){V.then(function(){G[u]?W(m(void 0,!0)):G[f](W,k)},k)}}(F,this));else{var B=this[h].read();if(B!==null)return Promise.resolve(m(B,!1));H=new Promise(this[f])}return this[d]=H,H}},Symbol.asyncIterator,function(){return this}),o(r,"return",function(){var I=this;return new Promise(function(N,H){I[h].destroy(null,function(F){F?H(F):N(m(void 0,!0))})})}),r),v);e.exports=function(I){var N,H=Object.create(x,(o(N={},h,{value:I,writable:!0}),o(N,a,{value:null,writable:!0}),o(N,l,{value:null,writable:!0}),o(N,c,{value:null,writable:!0}),o(N,u,{value:I._readableState.endEmitted,writable:!0}),o(N,f,{value:function(F,B){var V=H[h].read();V?(H[d]=null,H[a]=null,H[l]=null,F(m(V,!1))):(H[a]=F,H[l]=B)},writable:!0}),N));return H[d]=null,s(I,function(F){if(F&&F.code!=="ERR_STREAM_PREMATURE_CLOSE"){var B=H[l];return B!==null&&(H[d]=null,H[a]=null,H[l]=null,B(F)),void(H[c]=F)}var V=H[a];V!==null&&(H[d]=null,H[a]=null,H[l]=null,V(m(void 0,!0))),H[u]=!0}),I.on("readable",g.bind(null,H)),H}}).call(this)}).call(this,n("_process"))},{"./end-of-stream":486,_process:467}],484:[function(n,e,t){"use strict";function i(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(p){return Object.getOwnPropertyDescriptor(d,p).enumerable})),h.push.apply(h,m)}return h}function r(d){for(var f=1;f<arguments.length;f++){var h=arguments[f]!=null?arguments[f]:{};f%2?i(Object(h),!0).forEach(function(m){o(d,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):i(Object(h)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(h,m))})}return d}function o(d,f,h){return(f=a(f))in d?Object.defineProperty(d,f,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[f]=h,d}function s(d,f){for(var h=0;h<f.length;h++){var m=f[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,a(m.key),m)}}function a(d){var f=function(h,m){if(typeof h!="object"||h===null)return h;var p=h[Symbol.toPrimitive];if(p!==void 0){var g=p.call(h,m||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(h)}(d,"string");return typeof f=="symbol"?f:String(f)}var l=n("buffer").Buffer,c=n("util").inspect,u=c&&c.custom||"inspect";e.exports=function(){function d(){(function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")})(this,d),this.head=null,this.tail=null,this.length=0}var f,h,m;return f=d,(h=[{key:"push",value:function(p){var g={data:p,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(p){var g={data:p,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var g=this.head,v=""+g.data;g=g.next;)v+=p+g.data;return v}},{key:"concat",value:function(p){if(this.length===0)return l.alloc(0);for(var g,v,x,I=l.allocUnsafe(p>>>0),N=this.head,H=0;N;)g=N.data,v=I,x=H,l.prototype.copy.call(g,v,x),H+=N.data.length,N=N.next;return I}},{key:"consume",value:function(p,g){var v;return p<this.head.data.length?(v=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):v=p===this.head.data.length?this.shift():g?this._getString(p):this._getBuffer(p),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var g=this.head,v=1,x=g.data;for(p-=x.length;g=g.next;){var I=g.data,N=p>I.length?I.length:p;if(N===I.length?x+=I:x+=I.slice(0,p),(p-=N)==0){N===I.length?(++v,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=I.slice(N));break}++v}return this.length-=v,x}},{key:"_getBuffer",value:function(p){var g=l.allocUnsafe(p),v=this.head,x=1;for(v.data.copy(g),p-=v.data.length;v=v.next;){var I=v.data,N=p>I.length?I.length:p;if(I.copy(g,g.length-p,0,N),(p-=N)==0){N===I.length?(++x,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=I.slice(N));break}++x}return this.length-=x,g}},{key:u,value:function(p,g){return c(this,r(r({},g),{},{depth:0,customInspect:!1}))}}])&&s(f.prototype,h),m&&s(f,m),Object.defineProperty(f,"prototype",{writable:!1}),d}()},{buffer:220,util:188}],485:[function(n,e,t){(function(i){(function(){"use strict";function r(a,l){s(a,l),o(a)}function o(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function s(a,l){a.emit("error",l)}e.exports={destroy:function(a,l){var c=this,u=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return u||d?(l?l(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(s,this,a)):i.nextTick(s,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(f){!l&&f?c._writableState?c._writableState.errorEmitted?i.nextTick(o,c):(c._writableState.errorEmitted=!0,i.nextTick(r,c,f)):i.nextTick(r,c,f):l?(i.nextTick(o,c),l(f)):i.nextTick(o,c)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(a,l){var c=a._readableState,u=a._writableState;c&&c.autoDestroy||u&&u.autoDestroy?a.destroy(l):a.emit("error",l)}}}).call(this)}).call(this,n("_process"))},{_process:467}],486:[function(n,e,t){"use strict";var i=n("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function r(){}e.exports=function o(s,a,l){if(typeof a=="function")return o(s,null,a);a||(a={}),l=function(I){var N=!1;return function(){if(!N){N=!0;for(var H=arguments.length,F=new Array(H),B=0;B<H;B++)F[B]=arguments[B];I.apply(this,F)}}}(l||r);var c=a.readable||a.readable!==!1&&s.readable,u=a.writable||a.writable!==!1&&s.writable,d=function(){s.writable||h()},f=s._writableState&&s._writableState.finished,h=function(){u=!1,f=!0,c||l.call(s)},m=s._readableState&&s._readableState.endEmitted,p=function(){c=!1,m=!0,u||l.call(s)},g=function(I){l.call(s,I)},v=function(){var I;return c&&!m?(s._readableState&&s._readableState.ended||(I=new i),l.call(s,I)):u&&!f?(s._writableState&&s._writableState.ended||(I=new i),l.call(s,I)):void 0},x=function(){s.req.on("finish",h)};return function(I){return I.setHeader&&typeof I.abort=="function"}(s)?(s.on("complete",h),s.on("abort",v),s.req?x():s.on("request",x)):u&&!s._writableState&&(s.on("end",d),s.on("close",d)),s.on("end",p),s.on("finish",h),a.error!==!1&&s.on("error",g),s.on("close",v),function(){s.removeListener("complete",h),s.removeListener("abort",v),s.removeListener("request",x),s.req&&s.req.removeListener("finish",h),s.removeListener("end",d),s.removeListener("close",d),s.removeListener("finish",h),s.removeListener("end",p),s.removeListener("error",g),s.removeListener("close",v)}}},{"../../../errors":477}],487:[function(n,e,t){"use strict";e.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(n,e,t){"use strict";var i,r=n("../../../errors").codes,o=r.ERR_MISSING_ARGS,s=r.ERR_STREAM_DESTROYED;function a(f){if(f)throw f}function l(f,h,m,p){p=function(x){var I=!1;return function(){I||(I=!0,x.apply(void 0,arguments))}}(p);var g=!1;f.on("close",function(){g=!0}),i===void 0&&(i=n("./end-of-stream")),i(f,{readable:h,writable:m},function(x){if(x)return p(x);g=!0,p()});var v=!1;return function(x){if(!g&&!v)return v=!0,function(I){return I.setHeader&&typeof I.abort=="function"}(f)?f.abort():typeof f.destroy=="function"?f.destroy():void p(x||new s("pipe"))}}function c(f){f()}function u(f,h){return f.pipe(h)}function d(f){return f.length?typeof f[f.length-1]!="function"?a:f.pop():a}e.exports=function(){for(var f=arguments.length,h=new Array(f),m=0;m<f;m++)h[m]=arguments[m];var p,g=d(h);if(Array.isArray(h[0])&&(h=h[0]),h.length<2)throw new o("streams");var v=h.map(function(x,I){var N=I<h.length-1;return l(x,N,I>0,function(H){p||(p=H),H&&v.forEach(c),N||(v.forEach(c),g(p))})});return h.reduce(u)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(n,e,t){"use strict";var i=n("../../../errors").codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(r,o,s,a){var l=function(c,u,d){return c.highWaterMark!=null?c.highWaterMark:u?c[d]:null}(o,a,s);if(l!=null){if(!isFinite(l)||Math.floor(l)!==l||l<0)throw new i(a?s:"highWaterMark",l);return Math.floor(l)}return r.objectMode?16:16384}}},{"../../../errors":477}],490:[function(n,e,t){"use strict";e.exports=n("events").EventEmitter},{events:422}],491:[function(n,e,t){"use strict";(t=e.exports=n("./lib/_stream_readable.js")).Stream=t,t.Readable=t,t.Writable=n("./lib/_stream_writable.js"),t.Duplex=n("./lib/_stream_duplex.js"),t.Transform=n("./lib/_stream_transform.js"),t.PassThrough=n("./lib/_stream_passthrough.js"),t.finished=n("./lib/internal/streams/end-of-stream.js"),t.pipeline=n("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(n,e,t){"use strict";var i=function(r){var o=Object.prototype,s=o.hasOwnProperty,a=Object.defineProperty||function(_,y,C){_[y]=C.value},l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",u=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function f(_,y,C){return Object.defineProperty(_,y,{value:C,enumerable:!0,configurable:!0,writable:!0}),_[y]}try{f({},"")}catch{f=function(y,C,S){return y[C]=S}}function h(_,y,C,S){var R=y&&y.prototype instanceof g?y:g,Z=Object.create(R.prototype),j=new L(S||[]);return a(Z,"_invoke",{value:G(_,C,j)}),Z}function m(_,y,C){try{return{type:"normal",arg:_.call(y,C)}}catch(S){return{type:"throw",arg:S}}}r.wrap=h;var p={};function g(){}function v(){}function x(){}var I={};f(I,c,function(){return this});var N=Object.getPrototypeOf,H=N&&N(N(b([])));H&&H!==o&&s.call(H,c)&&(I=H);var F=x.prototype=g.prototype=Object.create(I);function B(_){["next","throw","return"].forEach(function(y){f(_,y,function(C){return this._invoke(y,C)})})}function V(_,y){var C;a(this,"_invoke",{value:function(S,R){function Z(){return new y(function(j,X){(function D(Y,P,M,$){var te=m(_[Y],_,P);if(te.type!=="throw"){var ue=te.arg,re=ue.value;return re&&typeof re=="object"&&s.call(re,"__await")?y.resolve(re.__await).then(function(ce){D("next",ce,M,$)},function(ce){D("throw",ce,M,$)}):y.resolve(re).then(function(ce){ue.value=ce,M(ue)},function(ce){return D("throw",ce,M,$)})}$(te.arg)})(S,R,j,X)})}return C=C?C.then(Z,Z):Z()}})}function G(_,y,C){var S="suspendedStart";return function(R,Z){if(S==="executing")throw new Error("Generator is already running");if(S==="completed"){if(R==="throw")throw Z;return w()}for(C.method=R,C.arg=Z;;){var j=C.delegate;if(j){var X=W(j,C);if(X){if(X===p)continue;return X}}if(C.method==="next")C.sent=C._sent=C.arg;else if(C.method==="throw"){if(S==="suspendedStart")throw S="completed",C.arg;C.dispatchException(C.arg)}else C.method==="return"&&C.abrupt("return",C.arg);S="executing";var D=m(_,y,C);if(D.type==="normal"){if(S=C.done?"completed":"suspendedYield",D.arg===p)continue;return{value:D.arg,done:C.done}}D.type==="throw"&&(S="completed",C.method="throw",C.arg=D.arg)}}}function W(_,y){var C=y.method,S=_.iterator[C];if(S===void 0)return y.delegate=null,C==="throw"&&_.iterator.return&&(y.method="return",y.arg=void 0,W(_,y),y.method==="throw")||C!=="return"&&(y.method="throw",y.arg=new TypeError("The iterator does not provide a '"+C+"' method")),p;var R=m(S,_.iterator,y.arg);if(R.type==="throw")return y.method="throw",y.arg=R.arg,y.delegate=null,p;var Z=R.arg;return Z?Z.done?(y[_.resultName]=Z.value,y.next=_.nextLoc,y.method!=="return"&&(y.method="next",y.arg=void 0),y.delegate=null,p):Z:(y.method="throw",y.arg=new TypeError("iterator result is not an object"),y.delegate=null,p)}function k(_){var y={tryLoc:_[0]};1 in _&&(y.catchLoc=_[1]),2 in _&&(y.finallyLoc=_[2],y.afterLoc=_[3]),this.tryEntries.push(y)}function E(_){var y=_.completion||{};y.type="normal",delete y.arg,_.completion=y}function L(_){this.tryEntries=[{tryLoc:"root"}],_.forEach(k,this),this.reset(!0)}function b(_){if(_){var y=_[c];if(y)return y.call(_);if(typeof _.next=="function")return _;if(!isNaN(_.length)){var C=-1,S=function R(){for(;++C<_.length;)if(s.call(_,C))return R.value=_[C],R.done=!1,R;return R.value=void 0,R.done=!0,R};return S.next=S}}return{next:w}}function w(){return{value:void 0,done:!0}}return v.prototype=x,a(F,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:v,configurable:!0}),v.displayName=f(x,d,"GeneratorFunction"),r.isGeneratorFunction=function(_){var y=typeof _=="function"&&_.constructor;return!!y&&(y===v||(y.displayName||y.name)==="GeneratorFunction")},r.mark=function(_){return Object.setPrototypeOf?Object.setPrototypeOf(_,x):(_.__proto__=x,f(_,d,"GeneratorFunction")),_.prototype=Object.create(F),_},r.awrap=function(_){return{__await:_}},B(V.prototype),f(V.prototype,u,function(){return this}),r.AsyncIterator=V,r.async=function(_,y,C,S,R){R===void 0&&(R=Promise);var Z=new V(h(_,y,C,S),R);return r.isGeneratorFunction(y)?Z:Z.next().then(function(j){return j.done?j.value:Z.next()})},B(F),f(F,d,"Generator"),f(F,c,function(){return this}),f(F,"toString",function(){return"[object Generator]"}),r.keys=function(_){var y=Object(_),C=[];for(var S in y)C.push(S);return C.reverse(),function R(){for(;C.length;){var Z=C.pop();if(Z in y)return R.value=Z,R.done=!1,R}return R.done=!0,R}},r.values=b,L.prototype={constructor:L,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!_)for(var y in this)y.charAt(0)==="t"&&s.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var y=this;function C(D,Y){return Z.type="throw",Z.arg=_,y.next=D,Y&&(y.method="next",y.arg=void 0),!!Y}for(var S=this.tryEntries.length-1;S>=0;--S){var R=this.tryEntries[S],Z=R.completion;if(R.tryLoc==="root")return C("end");if(R.tryLoc<=this.prev){var j=s.call(R,"catchLoc"),X=s.call(R,"finallyLoc");if(j&&X){if(this.prev<R.catchLoc)return C(R.catchLoc,!0);if(this.prev<R.finallyLoc)return C(R.finallyLoc)}else if(j){if(this.prev<R.catchLoc)return C(R.catchLoc,!0)}else{if(!X)throw new Error("try statement without catch or finally");if(this.prev<R.finallyLoc)return C(R.finallyLoc)}}}},abrupt:function(_,y){for(var C=this.tryEntries.length-1;C>=0;--C){var S=this.tryEntries[C];if(S.tryLoc<=this.prev&&s.call(S,"finallyLoc")&&this.prev<S.finallyLoc){var R=S;break}}R&&(_==="break"||_==="continue")&&R.tryLoc<=y&&y<=R.finallyLoc&&(R=null);var Z=R?R.completion:{};return Z.type=_,Z.arg=y,R?(this.method="next",this.next=R.finallyLoc,p):this.complete(Z)},complete:function(_,y){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&y&&(this.next=y),p},finish:function(_){for(var y=this.tryEntries.length-1;y>=0;--y){var C=this.tryEntries[y];if(C.finallyLoc===_)return this.complete(C.completion,C.afterLoc),E(C),p}},catch:function(_){for(var y=this.tryEntries.length-1;y>=0;--y){var C=this.tryEntries[y];if(C.tryLoc===_){var S=C.completion;if(S.type==="throw"){var R=S.arg;E(C)}return R}}throw new Error("illegal catch attempt")},delegateYield:function(_,y,C){return this.delegate={iterator:b(_),resultName:y,nextLoc:C},this.method==="next"&&(this.arg=void 0),p}},r}(typeof e=="object"?e.exports:{});try{regeneratorRuntime=i}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},{}],493:[function(n,e,t){"use strict";var i=n("buffer").Buffer,r=n("inherits"),o=n("hash-base"),s=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],u=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function h(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function m(N,H){return N<<H|N>>>32-H}function p(N,H,F,B,V,G,W,k){return m(N+(H^F^B)+G+W|0,k)+V|0}function g(N,H,F,B,V,G,W,k){return m(N+(H&F|~H&B)+G+W|0,k)+V|0}function v(N,H,F,B,V,G,W,k){return m(N+((H|~F)^B)+G+W|0,k)+V|0}function x(N,H,F,B,V,G,W,k){return m(N+(H&B|F&~B)+G+W|0,k)+V|0}function I(N,H,F,B,V,G,W,k){return m(N+(H^(F|~B))+G+W|0,k)+V|0}r(h,o),h.prototype._update=function(){for(var N=s,H=0;H<16;++H)N[H]=this._block.readInt32LE(4*H);for(var F=0|this._a,B=0|this._b,V=0|this._c,G=0|this._d,W=0|this._e,k=0|this._a,E=0|this._b,L=0|this._c,b=0|this._d,w=0|this._e,_=0;_<80;_+=1){var y,C;_<16?(y=p(F,B,V,G,W,N[a[_]],d[0],c[_]),C=I(k,E,L,b,w,N[l[_]],f[0],u[_])):_<32?(y=g(F,B,V,G,W,N[a[_]],d[1],c[_]),C=x(k,E,L,b,w,N[l[_]],f[1],u[_])):_<48?(y=v(F,B,V,G,W,N[a[_]],d[2],c[_]),C=v(k,E,L,b,w,N[l[_]],f[2],u[_])):_<64?(y=x(F,B,V,G,W,N[a[_]],d[3],c[_]),C=g(k,E,L,b,w,N[l[_]],f[3],u[_])):(y=I(F,B,V,G,W,N[a[_]],d[4],c[_]),C=p(k,E,L,b,w,N[l[_]],f[4],u[_])),F=W,W=G,G=m(V,10),V=B,B=y,k=w,w=b,b=m(L,10),L=E,E=C}var S=this._b+V+b|0;this._b=this._c+G+w|0,this._c=this._d+W+k|0,this._d=this._e+F+E|0,this._e=this._a+B+L|0,this._a=S},h.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var N=i.alloc?i.alloc(20):new i(20);return N.writeInt32LE(this._a,0),N.writeInt32LE(this._b,4),N.writeInt32LE(this._c,8),N.writeInt32LE(this._d,12),N.writeInt32LE(this._e,16),N},e.exports=h},{buffer:220,"hash-base":425,inherits:440}],494:[function(n,e,t){"use strict";var i=n("buffer"),r=i.Buffer;function o(a,l){for(var c in a)l[c]=a[c]}function s(a,l,c){return r(a,l,c)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=i:(o(i,t),t.Buffer=s),s.prototype=Object.create(r.prototype),o(r,s),s.from=function(a,l,c){if(typeof a=="number")throw new TypeError("Argument must not be a number");return r(a,l,c)},s.alloc=function(a,l,c){if(typeof a!="number")throw new TypeError("Argument must be a number");var u=r(a);return l!==void 0?typeof c=="string"?u.fill(l,c):u.fill(l):u.fill(0),u},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(a)}},{buffer:220}],495:[function(n,e,t){(function(i){(function(){"use strict";var r,o=n("buffer"),s=o.Buffer,a={};for(r in o)o.hasOwnProperty(r)&&r!=="SlowBuffer"&&r!=="Buffer"&&(a[r]=o[r]);var l=a.Buffer={};for(r in s)s.hasOwnProperty(r)&&r!=="allocUnsafe"&&r!=="allocUnsafeSlow"&&(l[r]=s[r]);if(a.Buffer.prototype=s.prototype,l.from&&l.from!==Uint8Array.from||(l.from=function(c,u,d){if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof c);if(c&&c.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);return s(c,u,d)}),l.alloc||(l.alloc=function(c,u,d){if(typeof c!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof c);if(c<0||c>=2*(1<<30))throw new RangeError('The value "'+c+'" is invalid for option "size"');var f=s(c);return u&&u.length!==0?typeof d=="string"?f.fill(u,d):f.fill(u):f.fill(0),f}),!a.kStringMaxLength)try{a.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch{}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),e.exports=a}).call(this)}).call(this,n("_process"))},{_process:467,buffer:220}],496:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=n("xmlchars/xml/1.0/ed5"),r=n("xmlchars/xml/1.1/ed2"),o=n("xmlchars/xmlns/1.0/ed3");var s=i.isS,a=i.isChar,l=i.isNameStartChar,c=i.isNameChar,u=i.S_LIST,d=i.NAME_RE,f=r.isChar,h=o.isNCNameStartChar,m=o.isNCNameChar,p=o.NC_NAME_RE;let g="http://www.w3.org/XML/1998/namespace",v="http://www.w3.org/2000/xmlns/",x={__proto__:null,xml:g,xmlns:v},I={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},N=b=>b===34||b===39,H=[34,39],F=[...H,91,62],B=[...H,60,93],V=[61,63,...u],G=[...u,62,38,60];function W(b,w,_){switch(w){case"xml":_!==g&&b.fail(`xml prefix must be bound to ${g}.`);break;case"xmlns":_!==v&&b.fail(`xmlns prefix must be bound to ${v}.`)}switch(_){case v:b.fail(w===""?`the default namespace may not be set to ${_}.`:`may not assign a prefix (even "xmlns") to the URI ${v}.`);break;case g:switch(w){case"xml":break;case"":b.fail(`the default namespace may not be set to ${_}.`);break;default:b.fail("may not assign the xml namespace to another prefix.")}}}let k=b=>p.test(b),E=b=>d.test(b);t.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];let L={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};t.SaxesParser=class{constructor(b){this.opt=b??{},this.fragmentOpt=!!this.opt.fragment;let w=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,w){this.nameStartCheck=h,this.nameCheck=m,this.isName=k,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},x);let _=this.opt.additionalNamespaces;_!=null&&(function(y,C){for(let S of Object.keys(C))W(y,S,C[S])}(this,_),Object.assign(this.ns,_))}else this.nameStartCheck=l,this.nameCheck=c,this.isName=E,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var b;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];let{fragmentOpt:w}=this;this.state=w?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=w,this.xmlDeclPossible=!w,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:_}=this.opt;if(_===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");_="1.0"}this.setXMLVersion(_),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(I),(b=this.readyHandler)===null||b===void 0||b.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(b,w){this[L[b]]=w}off(b){this[L[b]]=void 0}makeError(b){var w;let _=(w=this.fileName)!==null&&w!==void 0?w:"";return this.trackPosition&&(_.length>0&&(_+=":"),_+=`${this.line}:${this.column}`),_.length>0&&(_+=": "),new Error(_+b)}fail(b){let w=this.makeError(b),_=this.errorHandler;if(_===void 0)throw w;return _(w),this}write(b){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let w=!1;b===null?(w=!0,b=""):typeof b=="object"&&(b=b.toString()),this.carriedFromPrevious!==void 0&&(b=`${this.carriedFromPrevious}${b}`,this.carriedFromPrevious=void 0);let _=b.length,y=b.charCodeAt(_-1);!w&&(y===13||y>=55296&&y<=56319)&&(this.carriedFromPrevious=b[_-1],_--,b=b.slice(0,_));let{stateTable:C}=this;for(this.chunk=b,this.i=0;this.i<_;)C[this.state].call(this);return this.chunkPosition+=_,w?this.end():this}close(){return this.write(null)}getCode10(){let{chunk:b,i:w}=this;if(this.prevI=w,this.i=w+1,w>=b.length)return-1;let _=b.charCodeAt(w);if(this.column++,_<55296){if(_>=32||_===9)return _;switch(_){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return b.charCodeAt(w+1)===10&&(this.i=w+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),_}}if(_>56319)return _>=57344&&_<=65533||this.fail("disallowed character."),_;let y=65536+1024*(_-55296)+(b.charCodeAt(w+1)-56320);return this.i=w+2,y>1114111&&this.fail("disallowed character."),y}getCode11(){let{chunk:b,i:w}=this;if(this.prevI=w,this.i=w+1,w>=b.length)return-1;let _=b.charCodeAt(w);if(this.column++,_<55296){if(_>31&&_<127||_>159&&_!==8232||_===9)return _;switch(_){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{let C=b.charCodeAt(w+1);C!==10&&C!==133||(this.i=w+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),_}}if(_>56319)return _>=57344&&_<=65533||this.fail("disallowed character."),_;let y=65536+1024*(_-55296)+(b.charCodeAt(w+1)-56320);return this.i=w+2,y>1114111&&this.fail("disallowed character."),y}getCodeNorm(){let b=this.getCode();return b===-2?10:b}unget(){this.i=this.prevI,this.column--}captureTo(b){let{i:w}=this,{chunk:_}=this;for(;;){let y=this.getCode(),C=y===-2,S=C?10:y;if(S===-1||b.includes(S))return this.text+=_.slice(w,this.prevI),S;C&&(this.text+=_.slice(w,this.prevI)+`
`,w=this.i)}}captureToChar(b){let{i:w}=this,{chunk:_}=this;for(;;){let y=this.getCode();switch(y){case-2:this.text+=_.slice(w,this.prevI)+`
`,w=this.i,y=10;break;case-1:return this.text+=_.slice(w),!1}if(y===b)return this.text+=_.slice(w,this.prevI),!0}}captureNameChars(){let{chunk:b,i:w}=this;for(;;){let _=this.getCode();if(_===-1)return this.name+=b.slice(w),-1;if(!c(_))return this.name+=b.slice(w,this.prevI),_===-2?10:_}}skipSpaces(){for(;;){let b=this.getCodeNorm();if(b===-1||!s(b))return b}}setXMLVersion(b){this.currentXMLVersion=b,b==="1.0"?(this.isChar=a,this.getCode=this.getCode10):(this.isChar=f,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){let b=this.i,w=this.skipSpaces();switch(this.prevI!==b&&(this.xmlDeclPossible=!1),w){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var b;let w=this.captureTo(F);switch(w){case 62:(b=this.doctypeHandler)===null||b===void 0||b.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(w),w===91?this.state=4:N(w)&&(this.state=3,this.q=w)}}sDoctypeQuote(){let b=this.q;this.captureToChar(b)&&(this.text+=String.fromCodePoint(b),this.q=null,this.state=2)}sDTD(){let b=this.captureTo(B);b!==-1&&(this.text+=String.fromCodePoint(b),b===93?this.state=2:b===60?this.state=6:N(b)&&(this.state=5,this.q=b))}sDTDQuoted(){let b=this.q;this.captureToChar(b)&&(this.text+=String.fromCodePoint(b),this.state=4,this.q=null)}sDTDOpenWaka(){let b=this.getCodeNorm();switch(this.text+=String.fromCodePoint(b),b){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){let b=String.fromCodePoint(this.getCodeNorm()),w=this.openWakaBang+=b;this.text+=b,w!=="-"&&(this.state=w==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){let b=this.getCodeNorm();this.text+=String.fromCodePoint(b),this.state=b===45?10:8}sDTDCommentEnded(){let b=this.getCodeNorm();this.text+=String.fromCodePoint(b),b===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){let b=this.getCodeNorm();this.text+=String.fromCodePoint(b),b===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:b}=this,{chunk:w}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=w.slice(b,this.prevI)+`
`,b=this.i;break;case 59:{let{entityReturnState:_}=this,y=this.entity+w.slice(b,this.prevI),C;this.state=_,y===""?(this.fail("empty entity name."),C="&;"):(C=this.parseEntity(y),this.entity=""),_===13&&this.textHandler===void 0||(this.text+=C);break e}case-1:this.entity+=w.slice(b);break e}}sOpenWaka(){let b=this.getCode();if(l(b))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(b){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var b;let w=this.getCodeNorm();w===45?(this.state=19,(b=this.commentHandler)===null||b===void 0||b.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(w),this.state=17)}sCommentEnded(){let b=this.getCodeNorm();b!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(b),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){let b=this.getCodeNorm();b===93?this.state=22:(this.text+="]"+String.fromCodePoint(b),this.state=20)}sCDataEnding2(){var b;let w=this.getCodeNorm();switch(w){case 62:(b=this.cdataHandler)===null||b===void 0||b.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(w),this.state=20}}sPIFirstChar(){let b=this.getCodeNorm();this.nameStartCheck(b)?(this.piTarget+=String.fromCodePoint(b),this.state=24):b===63||s(b)?(this.fail("processing instruction without a target."),this.state=b===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(b),this.state=24)}sPIRest(){let{chunk:b,i:w}=this;for(;;){let _=this.getCodeNorm();if(_===-1)return void(this.piTarget+=b.slice(w));if(!this.nameCheck(_)){this.piTarget+=b.slice(w,this.prevI);let y=_===63;y||s(_)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=y?33:27):this.state=y?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(_));break}}}sPIBody(){if(this.text.length===0){let b=this.getCodeNorm();b===63?this.state=26:s(b)||(this.text=String.fromCodePoint(b))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var b;let w=this.getCodeNorm();if(w===62){let{piTarget:_}=this;_.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(b=this.piHandler)===null||b===void 0||b.call(this,{target:_,body:this.text}),this.piTarget=this.text="",this.state=13}else w===63?this.text+="?":(this.text+="?"+String.fromCodePoint(w),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){let b=this.skipSpaces();b!==63?b!==-1&&(this.state=28,this.name=String.fromCodePoint(b)):this.state=33}sXMLDeclName(){let b=this.captureTo(V);if(b===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(s(b)||b===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=b===61?30:29}}sXMLDeclEq(){let b=this.getCodeNorm();if(b===63)return this.state=33,void this.fail("XML declaration is incomplete.");s(b)||(b!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){let b=this.getCodeNorm();if(b===63)return this.state=33,void this.fail("XML declaration is incomplete.");s(b)||(N(b)?this.q=b:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){let b=this.captureTo([this.q,63]);if(b===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(b===-1)return;let w=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];let _=w;this.xmlDecl.version=_,/^1\.[0-9]+$/.test(_)?this.opt.forceXMLVersion||this.setXMLVersion(_):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(w)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=w;break;case"standalone":w!=="yes"&&w!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=w}this.name="",this.state=32}sXMLDeclSeparator(){let b=this.getCodeNorm();b!==63?(s(b)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var b;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(b=this.xmldeclHandler)===null||b===void 0||b.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var b;let w=this.captureNameChars();if(w===-1)return;let _=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=_.ns=Object.create(null)),(b=this.openTagStartHandler)===null||b===void 0||b.call(this,_),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),w){case 62:this.openTag();break;case 47:this.state=35;break;default:s(w)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){let b=this.skipSpaces();b!==-1&&(l(b)?(this.unget(),this.state=37):b===62?this.openTag():b===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){let b=this.captureNameChars();b===61?this.state=39:s(b)?this.state=38:b===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):b!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){let b=this.skipSpaces();switch(b){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",b===62?this.openTag():l(b)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){let b=this.getCodeNorm();N(b)?(this.q=b,this.state=40):s(b)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){let{q:b,chunk:w}=this,{i:_}=this;for(;;)switch(this.getCode()){case b:return this.pushAttrib(this.name,this.text+w.slice(_,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=w.slice(_,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=w.slice(_,this.prevI)+" ",_=this.i;break;case 60:return this.text+=w.slice(_,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=w.slice(_))}}sAttribValueClosed(){let b=this.getCodeNorm();s(b)?this.state=36:b===62?this.openTag():b===47?this.state=35:l(b)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){let b=this.captureTo(G);switch(b){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",b===62?this.openTag():this.state=36}}sCloseTag(){let b=this.captureNameChars();b===62?this.closeTag():s(b)?this.state=44:b!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:b,forbiddenState:w}=this,{chunk:_,textHandler:y}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,y!==void 0){let{text:C}=this,S=_.slice(b,this.prevI);C.length!==0?(y(C+S),this.text=""):S.length!==0&&y(S)}w=0;break e;case 38:this.state=14,this.entityReturnState=13,y!==void 0&&(this.text+=_.slice(b,this.prevI)),w=0;break e;case 93:switch(w){case 0:w=1;break;case 1:w=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:w===2&&this.fail('the string "]]>" is disallowed in char data.'),w=0;break;case-2:y!==void 0&&(this.text+=_.slice(b,this.prevI)+`
`),b=this.i,w=0;break;case-1:y!==void 0&&(this.text+=_.slice(b));break e;default:w=0}this.forbiddenState=w}handleTextOutsideRoot(){let{i:b}=this,{chunk:w,textHandler:_}=this,y=!1;e:for(;;){let C=this.getCode();switch(C){case 60:if(this.state=15,_!==void 0){let{text:S}=this,R=w.slice(b,this.prevI);S.length!==0?(_(S+R),this.text=""):R.length!==0&&_(R)}break e;case 38:this.state=14,this.entityReturnState=13,_!==void 0&&(this.text+=w.slice(b,this.prevI)),y=!0;break e;case-2:_!==void 0&&(this.text+=w.slice(b,this.prevI)+`
`),b=this.i;break;case-1:_!==void 0&&(this.text+=w.slice(b));break e;default:s(C)||(y=!0)}}y&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(b,w){var _;let{prefix:y,local:C}=this.qname(b),S={name:b,prefix:y,local:C,value:w};if(this.attribList.push(S),(_=this.attributeHandler)===null||_===void 0||_.call(this,S),y==="xmlns"){let R=w.trim();this.currentXMLVersion==="1.0"&&R===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[C]=R,W(this,C,R)}else if(b==="xmlns"){let R=w.trim();this.topNS[""]=R,W(this,"",R)}}pushAttribPlain(b,w){var _;let y={name:b,value:w};this.attribList.push(y),(_=this.attributeHandler)===null||_===void 0||_.call(this,y)}end(){var b,w;this.sawRoot||this.fail("document must contain a root element.");let{tags:_}=this;for(;_.length>0;){let C=_.pop();this.fail("unclosed tag: "+C.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");let{text:y}=this;return y.length!==0&&((b=this.textHandler)===null||b===void 0||b.call(this,y),this.text=""),this._closed=!0,(w=this.endHandler)===null||w===void 0||w.call(this),this._init(),this}resolve(b){var w,_;let y=this.topNS[b];if(y!==void 0)return y;let{tags:C}=this;for(let S=C.length-1;S>=0;S--)if(y=C[S].ns[b],y!==void 0)return y;return y=this.ns[b],y!==void 0?y:(_=(w=this.opt).resolvePrefix)===null||_===void 0?void 0:_.call(w,b)}qname(b){let w=b.indexOf(":");if(w===-1)return{prefix:"",local:b};let _=b.slice(w+1),y=b.slice(0,w);return(y===""||_===""||_.includes(":"))&&this.fail(`malformed name: ${b}.`),{prefix:y,local:_}}processAttribsNS(){var b;let{attribList:w}=this,_=this.tag;{let{prefix:S,local:R}=this.qname(_.name);_.prefix=S,_.local=R;let Z=_.uri=(b=this.resolve(S))!==null&&b!==void 0?b:"";S!==""&&(S==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),Z===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(S)}.`),_.uri=S))}if(w.length===0)return;let{attributes:y}=_,C=new Set;for(let S of w){let{name:R,prefix:Z,local:j}=S,X,D;Z===""?(X=R==="xmlns"?v:"",D=R):(X=this.resolve(Z),X===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(Z)}.`),X=Z),D=`{${X}}${j}`),C.has(D)&&this.fail(`duplicate attribute: ${D}.`),C.add(D),S.uri=X,y[R]=S}this.attribList=[]}processAttribsPlain(){let{attribList:b}=this,w=this.tag.attributes;for(let{name:_,value:y}of b)w[_]!==void 0&&this.fail(`duplicate attribute: ${_}.`),w[_]=y;this.attribList=[]}openTag(){var b;this.processAttribs();let{tags:w}=this,_=this.tag;_.isSelfClosing=!1,(b=this.openTagHandler)===null||b===void 0||b.call(this,_),w.push(_),this.state=13,this.name=""}openSelfClosingTag(){var b,w,_;this.processAttribs();let{tags:y}=this,C=this.tag;C.isSelfClosing=!0,(b=this.openTagHandler)===null||b===void 0||b.call(this,C),(w=this.closeTagHandler)===null||w===void 0||w.call(this,C),(this.tag=(_=y[y.length-1])!==null&&_!==void 0?_:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){let{tags:b,name:w}=this;if(this.state=13,this.name="",w==="")return this.fail("weird empty close tag."),void(this.text+="</>");let _=this.closeTagHandler,y=b.length;for(;y-- >0;){let C=this.tag=b.pop();if(this.topNS=C.ns,_?.(C),C.name===w)break;this.fail("unexpected close tag.")}y===0?this.closedRoot=!0:y<0&&(this.fail(`unmatched closing tag: ${w}.`),this.text+=`</${w}>`)}parseEntity(b){if(b[0]!=="#"){let _=this.ENTITIES[b];return _!==void 0?_:(this.fail(this.isName(b)?"undefined entity.":"disallowed character in entity name."),`&${b};`)}let w=NaN;return b[1]==="x"&&/^#x[0-9a-f]+$/i.test(b)?w=parseInt(b.slice(2),16):/^#[0-9]+$/.test(b)&&(w=parseInt(b.slice(1),10)),this.isChar(w)?String.fromCodePoint(w):(this.fail("malformed character entity."),`&${b};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(n,e,t){"use strict";var i=n("safe-buffer").Buffer;function r(o,s){this._block=i.alloc(o),this._finalSize=s,this._blockSize=o,this._len=0}r.prototype.update=function(o,s){typeof o=="string"&&(s=s||"utf8",o=i.from(o,s));for(var a=this._block,l=this._blockSize,c=o.length,u=this._len,d=0;d<c;){for(var f=u%l,h=Math.min(c-d,l-f),m=0;m<h;m++)a[f+m]=o[d+m];d+=h,(u+=h)%l==0&&this._update(a)}return this._len+=c,this},r.prototype.digest=function(o){var s=this._len%this._blockSize;this._block[s]=128,this._block.fill(0,s+1),s>=this._finalSize&&(this._update(this._block),this._block.fill(0));var a=8*this._len;if(a<=4294967295)this._block.writeUInt32BE(a,this._blockSize-4);else{var l=(4294967295&a)>>>0,c=(a-l)/4294967296;this._block.writeUInt32BE(c,this._blockSize-8),this._block.writeUInt32BE(l,this._blockSize-4)}this._update(this._block);var u=this._hash();return o?u.toString(o):u},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=r},{"safe-buffer":494}],498:[function(n,e,t){"use strict";var i=e.exports=function(r){r=r.toLowerCase();var o=i[r];if(!o)throw new Error(r+" is not supported (we accept pull requests)");return new o};i.sha=n("./sha"),i.sha1=n("./sha1"),i.sha224=n("./sha224"),i.sha256=n("./sha256"),i.sha384=n("./sha384"),i.sha512=n("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(n,e,t){"use strict";var i=n("inherits"),r=n("./hash"),o=n("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function l(){this.init(),this._w=a,r.call(this,64,56)}function c(d){return d<<30|d>>>2}function u(d,f,h,m){return d===0?f&h|~f&m:d===2?f&h|f&m|h&m:f^h^m}i(l,r),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(d){for(var f,h=this._w,m=0|this._a,p=0|this._b,g=0|this._c,v=0|this._d,x=0|this._e,I=0;I<16;++I)h[I]=d.readInt32BE(4*I);for(;I<80;++I)h[I]=h[I-3]^h[I-8]^h[I-14]^h[I-16];for(var N=0;N<80;++N){var H=~~(N/20),F=0|((f=m)<<5|f>>>27)+u(H,p,g,v)+x+h[N]+s[H];x=v,v=g,g=c(p),p=m,m=F}this._a=m+this._a|0,this._b=p+this._b|0,this._c=g+this._c|0,this._d=v+this._d|0,this._e=x+this._e|0},l.prototype._hash=function(){var d=o.allocUnsafe(20);return d.writeInt32BE(0|this._a,0),d.writeInt32BE(0|this._b,4),d.writeInt32BE(0|this._c,8),d.writeInt32BE(0|this._d,12),d.writeInt32BE(0|this._e,16),d},e.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(n,e,t){"use strict";var i=n("inherits"),r=n("./hash"),o=n("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function l(){this.init(),this._w=a,r.call(this,64,56)}function c(f){return f<<5|f>>>27}function u(f){return f<<30|f>>>2}function d(f,h,m,p){return f===0?h&m|~h&p:f===2?h&m|h&p|m&p:h^m^p}i(l,r),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(f){for(var h,m=this._w,p=0|this._a,g=0|this._b,v=0|this._c,x=0|this._d,I=0|this._e,N=0;N<16;++N)m[N]=f.readInt32BE(4*N);for(;N<80;++N)m[N]=(h=m[N-3]^m[N-8]^m[N-14]^m[N-16])<<1|h>>>31;for(var H=0;H<80;++H){var F=~~(H/20),B=c(p)+d(F,g,v,x)+I+m[H]+s[F]|0;I=x,x=v,v=u(g),g=p,p=B}this._a=p+this._a|0,this._b=g+this._b|0,this._c=v+this._c|0,this._d=x+this._d|0,this._e=I+this._e|0},l.prototype._hash=function(){var f=o.allocUnsafe(20);return f.writeInt32BE(0|this._a,0),f.writeInt32BE(0|this._b,4),f.writeInt32BE(0|this._c,8),f.writeInt32BE(0|this._d,12),f.writeInt32BE(0|this._e,16),f},e.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(n,e,t){"use strict";var i=n("inherits"),r=n("./sha256"),o=n("./hash"),s=n("safe-buffer").Buffer,a=new Array(64);function l(){this.init(),this._w=a,o.call(this,64,56)}i(l,r),l.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},l.prototype._hash=function(){var c=s.allocUnsafe(28);return c.writeInt32BE(this._a,0),c.writeInt32BE(this._b,4),c.writeInt32BE(this._c,8),c.writeInt32BE(this._d,12),c.writeInt32BE(this._e,16),c.writeInt32BE(this._f,20),c.writeInt32BE(this._g,24),c},e.exports=l},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(n,e,t){"use strict";var i=n("inherits"),r=n("./hash"),o=n("safe-buffer").Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function l(){this.init(),this._w=a,r.call(this,64,56)}function c(m,p,g){return g^m&(p^g)}function u(m,p,g){return m&p|g&(m|p)}function d(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function f(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function h(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}i(l,r),l.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},l.prototype._update=function(m){for(var p,g=this._w,v=0|this._a,x=0|this._b,I=0|this._c,N=0|this._d,H=0|this._e,F=0|this._f,B=0|this._g,V=0|this._h,G=0;G<16;++G)g[G]=m.readInt32BE(4*G);for(;G<64;++G)g[G]=0|(((p=g[G-2])>>>17|p<<15)^(p>>>19|p<<13)^p>>>10)+g[G-7]+h(g[G-15])+g[G-16];for(var W=0;W<64;++W){var k=V+f(H)+c(H,F,B)+s[W]+g[W]|0,E=d(v)+u(v,x,I)|0;V=B,B=F,F=H,H=N+k|0,N=I,I=x,x=v,v=k+E|0}this._a=v+this._a|0,this._b=x+this._b|0,this._c=I+this._c|0,this._d=N+this._d|0,this._e=H+this._e|0,this._f=F+this._f|0,this._g=B+this._g|0,this._h=V+this._h|0},l.prototype._hash=function(){var m=o.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},e.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(n,e,t){"use strict";var i=n("inherits"),r=n("./sha512"),o=n("./hash"),s=n("safe-buffer").Buffer,a=new Array(160);function l(){this.init(),this._w=a,o.call(this,128,112)}i(l,r),l.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},l.prototype._hash=function(){var c=s.allocUnsafe(48);function u(d,f,h){c.writeInt32BE(d,h),c.writeInt32BE(f,h+4)}return u(this._ah,this._al,0),u(this._bh,this._bl,8),u(this._ch,this._cl,16),u(this._dh,this._dl,24),u(this._eh,this._el,32),u(this._fh,this._fl,40),c},e.exports=l},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(n,e,t){"use strict";var i=n("inherits"),r=n("./hash"),o=n("safe-buffer").Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function l(){this.init(),this._w=a,r.call(this,128,112)}function c(x,I,N){return N^x&(I^N)}function u(x,I,N){return x&I|N&(x|I)}function d(x,I){return(x>>>28|I<<4)^(I>>>2|x<<30)^(I>>>7|x<<25)}function f(x,I){return(x>>>14|I<<18)^(x>>>18|I<<14)^(I>>>9|x<<23)}function h(x,I){return(x>>>1|I<<31)^(x>>>8|I<<24)^x>>>7}function m(x,I){return(x>>>1|I<<31)^(x>>>8|I<<24)^(x>>>7|I<<25)}function p(x,I){return(x>>>19|I<<13)^(I>>>29|x<<3)^x>>>6}function g(x,I){return(x>>>19|I<<13)^(I>>>29|x<<3)^(x>>>6|I<<26)}function v(x,I){return x>>>0<I>>>0?1:0}i(l,r),l.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},l.prototype._update=function(x){for(var I=this._w,N=0|this._ah,H=0|this._bh,F=0|this._ch,B=0|this._dh,V=0|this._eh,G=0|this._fh,W=0|this._gh,k=0|this._hh,E=0|this._al,L=0|this._bl,b=0|this._cl,w=0|this._dl,_=0|this._el,y=0|this._fl,C=0|this._gl,S=0|this._hl,R=0;R<32;R+=2)I[R]=x.readInt32BE(4*R),I[R+1]=x.readInt32BE(4*R+4);for(;R<160;R+=2){var Z=I[R-30],j=I[R-30+1],X=h(Z,j),D=m(j,Z),Y=p(Z=I[R-4],j=I[R-4+1]),P=g(j,Z),M=I[R-14],$=I[R-14+1],te=I[R-32],ue=I[R-32+1],re=D+$|0,ce=X+M+v(re,D)|0;ce=(ce=ce+Y+v(re=re+P|0,P)|0)+te+v(re=re+ue|0,ue)|0,I[R]=ce,I[R+1]=re}for(var _e=0;_e<160;_e+=2){ce=I[_e],re=I[_e+1];var xe=u(N,H,F),ie=u(E,L,b),se=d(N,E),ge=d(E,N),Ae=f(V,_),Ee=f(_,V),Te=s[_e],Se=s[_e+1],Fe=c(V,G,W),He=c(_,y,C),Ze=S+Ee|0,ut=k+Ae+v(Ze,S)|0;ut=(ut=(ut=ut+Fe+v(Ze=Ze+He|0,He)|0)+Te+v(Ze=Ze+Se|0,Se)|0)+ce+v(Ze=Ze+re|0,re)|0;var tt=ge+ie|0,pt=se+xe+v(tt,ge)|0;k=W,S=C,W=G,C=y,G=V,y=_,V=B+ut+v(_=w+Ze|0,w)|0,B=F,w=b,F=H,b=L,H=N,L=E,N=ut+pt+v(E=Ze+tt|0,Ze)|0}this._al=this._al+E|0,this._bl=this._bl+L|0,this._cl=this._cl+b|0,this._dl=this._dl+w|0,this._el=this._el+_|0,this._fl=this._fl+y|0,this._gl=this._gl+C|0,this._hl=this._hl+S|0,this._ah=this._ah+N+v(this._al,E)|0,this._bh=this._bh+H+v(this._bl,L)|0,this._ch=this._ch+F+v(this._cl,b)|0,this._dh=this._dh+B+v(this._dl,w)|0,this._eh=this._eh+V+v(this._el,_)|0,this._fh=this._fh+G+v(this._fl,y)|0,this._gh=this._gh+W+v(this._gl,C)|0,this._hh=this._hh+k+v(this._hl,S)|0},l.prototype._hash=function(){var x=o.allocUnsafe(64);function I(N,H,F){x.writeInt32BE(N,F),x.writeInt32BE(H,F+4)}return I(this._ah,this._al,0),I(this._bh,this._bl,8),I(this._ch,this._cl,16),I(this._dh,this._dl,24),I(this._eh,this._el,32),I(this._fh,this._fl,40),I(this._gh,this._gl,48),I(this._hh,this._hl,56),x},e.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(n,e,t){"use strict";e.exports=r;var i=n("events").EventEmitter;function r(){i.call(this)}n("inherits")(r,i),r.Readable=n("readable-stream/readable.js"),r.Writable=n("readable-stream/writable.js"),r.Duplex=n("readable-stream/duplex.js"),r.Transform=n("readable-stream/transform.js"),r.PassThrough=n("readable-stream/passthrough.js"),r.Stream=r,r.prototype.pipe=function(o,s){var a=this;function l(p){o.writable&&o.write(p)===!1&&a.pause&&a.pause()}function c(){a.readable&&a.resume&&a.resume()}a.on("data",l),o.on("drain",c),o._isStdio||s&&s.end===!1||(a.on("end",d),a.on("close",f));var u=!1;function d(){u||(u=!0,o.end())}function f(){u||(u=!0,typeof o.destroy=="function"&&o.destroy())}function h(p){if(m(),i.listenerCount(this,"error")===0)throw p}function m(){a.removeListener("data",l),o.removeListener("drain",c),a.removeListener("end",d),a.removeListener("close",f),a.removeListener("error",h),o.removeListener("error",h),a.removeListener("end",m),a.removeListener("close",m),o.removeListener("close",m)}return a.on("error",h),o.on("error",h),a.on("end",m),a.on("close",m),o.on("close",m),o.emit("pipe",a),o}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(n,e,t){"use strict";var i={}.toString;e.exports=Array.isArray||function(r){return i.call(r)=="[object Array]"}},{}],507:[function(n,e,t){"use strict";e.exports=n("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(n,e,t){"use strict";var i=n("process-nextick-args"),r=Object.keys||function(m){var p=[];for(var g in m)p.push(g);return p};e.exports=d;var o=Object.create(n("core-util-is"));o.inherits=n("inherits");var s=n("./_stream_readable"),a=n("./_stream_writable");o.inherits(d,s);for(var l=r(a.prototype),c=0;c<l.length;c++){var u=l[c];d.prototype[u]||(d.prototype[u]=a.prototype[u])}function d(m){if(!(this instanceof d))return new d(m);s.call(this,m),a.call(this,m),m&&m.readable===!1&&(this.readable=!1),m&&m.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,m&&m.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||i.nextTick(h,this)}function h(m){m.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),d.prototype._destroy=function(m,p){this.push(null),this.end(),i.nextTick(p,m)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(n,e,t){"use strict";e.exports=o;var i=n("./_stream_transform"),r=Object.create(n("core-util-is"));function o(s){if(!(this instanceof o))return new o(s);i.call(this,s)}r.inherits=n("inherits"),r.inherits(o,i),o.prototype._transform=function(s,a,l){l(null,s)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(n,e,t){(function(i,r){(function(){"use strict";var o=n("process-nextick-args");e.exports=N;var s,a=n("isarray");N.ReadableState=I,n("events").EventEmitter;var l=function(S,R){return S.listeners(R).length},c=n("./internal/streams/stream"),u=n("safe-buffer").Buffer,d=(r!==void 0?r:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f=Object.create(n("core-util-is"));f.inherits=n("inherits");var h=n("util"),m=void 0;m=h&&h.debuglog?h.debuglog("stream"):function(){};var p,g=n("./internal/streams/BufferList"),v=n("./internal/streams/destroy");f.inherits(N,c);var x=["error","close","destroy","pause","resume"];function I(S,R){S=S||{};var Z=R instanceof(s=s||n("./_stream_duplex"));this.objectMode=!!S.objectMode,Z&&(this.objectMode=this.objectMode||!!S.readableObjectMode);var j=S.highWaterMark,X=S.readableHighWaterMark,D=this.objectMode?16:16384;this.highWaterMark=j||j===0?j:Z&&(X||X===0)?X:D,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=S.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,S.encoding&&(p||(p=n("string_decoder/").StringDecoder),this.decoder=new p(S.encoding),this.encoding=S.encoding)}function N(S){if(s=s||n("./_stream_duplex"),!(this instanceof N))return new N(S);this._readableState=new I(S,this),this.readable=!0,S&&(typeof S.read=="function"&&(this._read=S.read),typeof S.destroy=="function"&&(this._destroy=S.destroy)),c.call(this)}function H(S,R,Z,j,X){var D,Y=S._readableState;return R===null?(Y.reading=!1,function(P,M){if(!M.ended){if(M.decoder){var $=M.decoder.end();$&&$.length&&(M.buffer.push($),M.length+=M.objectMode?1:$.length)}M.ended=!0,V(P)}}(S,Y)):(X||(D=function(P,M){var $;te=M,u.isBuffer(te)||te instanceof d||typeof M=="string"||M===void 0||P.objectMode||($=new TypeError("Invalid non-string/buffer chunk"));var te;return $}(Y,R)),D?S.emit("error",D):Y.objectMode||R&&R.length>0?(typeof R=="string"||Y.objectMode||Object.getPrototypeOf(R)===u.prototype||(R=function(P){return u.from(P)}(R)),j?Y.endEmitted?S.emit("error",new Error("stream.unshift() after end event")):F(S,Y,R,!0):Y.ended?S.emit("error",new Error("stream.push() after EOF")):(Y.reading=!1,Y.decoder&&!Z?(R=Y.decoder.write(R),Y.objectMode||R.length!==0?F(S,Y,R,!1):W(S,Y)):F(S,Y,R,!1))):j||(Y.reading=!1)),function(P){return!P.ended&&(P.needReadable||P.length<P.highWaterMark||P.length===0)}(Y)}function F(S,R,Z,j){R.flowing&&R.length===0&&!R.sync?(S.emit("data",Z),S.read(0)):(R.length+=R.objectMode?1:Z.length,j?R.buffer.unshift(Z):R.buffer.push(Z),R.needReadable&&V(S)),W(S,R)}Object.defineProperty(N.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(S){this._readableState&&(this._readableState.destroyed=S)}}),N.prototype.destroy=v.destroy,N.prototype._undestroy=v.undestroy,N.prototype._destroy=function(S,R){this.push(null),R(S)},N.prototype.push=function(S,R){var Z,j=this._readableState;return j.objectMode?Z=!0:typeof S=="string"&&((R=R||j.defaultEncoding)!==j.encoding&&(S=u.from(S,R),R=""),Z=!0),H(this,S,R,!1,Z)},N.prototype.unshift=function(S){return H(this,S,null,!0,!1)},N.prototype.isPaused=function(){return this._readableState.flowing===!1},N.prototype.setEncoding=function(S){return p||(p=n("string_decoder/").StringDecoder),this._readableState.decoder=new p(S),this._readableState.encoding=S,this};function B(S,R){return S<=0||R.length===0&&R.ended?0:R.objectMode?1:S!=S?R.flowing&&R.length?R.buffer.head.data.length:R.length:(S>R.highWaterMark&&(R.highWaterMark=function(Z){return Z>=8388608?Z=8388608:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z}(S)),S<=R.length?S:R.ended?R.length:(R.needReadable=!0,0))}function V(S){var R=S._readableState;R.needReadable=!1,R.emittedReadable||(m("emitReadable",R.flowing),R.emittedReadable=!0,R.sync?o.nextTick(G,S):G(S))}function G(S){m("emit readable"),S.emit("readable"),b(S)}function W(S,R){R.readingMore||(R.readingMore=!0,o.nextTick(k,S,R))}function k(S,R){for(var Z=R.length;!R.reading&&!R.flowing&&!R.ended&&R.length<R.highWaterMark&&(m("maybeReadMore read 0"),S.read(0),Z!==R.length);)Z=R.length;R.readingMore=!1}function E(S){m("readable nexttick read 0"),S.read(0)}function L(S,R){R.reading||(m("resume read 0"),S.read(0)),R.resumeScheduled=!1,R.awaitDrain=0,S.emit("resume"),b(S),R.flowing&&!R.reading&&S.read(0)}function b(S){var R=S._readableState;for(m("flow",R.flowing);R.flowing&&S.read()!==null;);}function w(S,R){return R.length===0?null:(R.objectMode?Z=R.buffer.shift():!S||S>=R.length?(Z=R.decoder?R.buffer.join(""):R.buffer.length===1?R.buffer.head.data:R.buffer.concat(R.length),R.buffer.clear()):Z=function(j,X,D){var Y;return j<X.head.data.length?(Y=X.head.data.slice(0,j),X.head.data=X.head.data.slice(j)):Y=j===X.head.data.length?X.shift():D?function(P,M){var $=M.head,te=1,ue=$.data;for(P-=ue.length;$=$.next;){var re=$.data,ce=P>re.length?re.length:P;if(ce===re.length?ue+=re:ue+=re.slice(0,P),(P-=ce)===0){ce===re.length?(++te,$.next?M.head=$.next:M.head=M.tail=null):(M.head=$,$.data=re.slice(ce));break}++te}return M.length-=te,ue}(j,X):function(P,M){var $=u.allocUnsafe(P),te=M.head,ue=1;for(te.data.copy($),P-=te.data.length;te=te.next;){var re=te.data,ce=P>re.length?re.length:P;if(re.copy($,$.length-P,0,ce),(P-=ce)===0){ce===re.length?(++ue,te.next?M.head=te.next:M.head=M.tail=null):(M.head=te,te.data=re.slice(ce));break}++ue}return M.length-=ue,$}(j,X),Y}(S,R.buffer,R.decoder),Z);var Z}function _(S){var R=S._readableState;if(R.length>0)throw new Error('"endReadable()" called on non-empty stream');R.endEmitted||(R.ended=!0,o.nextTick(y,R,S))}function y(S,R){S.endEmitted||S.length!==0||(S.endEmitted=!0,R.readable=!1,R.emit("end"))}function C(S,R){for(var Z=0,j=S.length;Z<j;Z++)if(S[Z]===R)return Z;return-1}N.prototype.read=function(S){m("read",S),S=parseInt(S,10);var R=this._readableState,Z=S;if(S!==0&&(R.emittedReadable=!1),S===0&&R.needReadable&&(R.length>=R.highWaterMark||R.ended))return m("read: emitReadable",R.length,R.ended),R.length===0&&R.ended?_(this):V(this),null;if((S=B(S,R))===0&&R.ended)return R.length===0&&_(this),null;var j,X=R.needReadable;return m("need readable",X),(R.length===0||R.length-S<R.highWaterMark)&&m("length less than watermark",X=!0),R.ended||R.reading?m("reading or ended",X=!1):X&&(m("do read"),R.reading=!0,R.sync=!0,R.length===0&&(R.needReadable=!0),this._read(R.highWaterMark),R.sync=!1,R.reading||(S=B(Z,R))),(j=S>0?w(S,R):null)===null?(R.needReadable=!0,S=0):R.length-=S,R.length===0&&(R.ended||(R.needReadable=!0),Z!==S&&R.ended&&_(this)),j!==null&&this.emit("data",j),j},N.prototype._read=function(S){this.emit("error",new Error("_read() is not implemented"))},N.prototype.pipe=function(S,R){var Z=this,j=this._readableState;switch(j.pipesCount){case 0:j.pipes=S;break;case 1:j.pipes=[j.pipes,S];break;default:j.pipes.push(S)}j.pipesCount+=1,m("pipe count=%d opts=%j",j.pipesCount,R);var X=(!R||R.end!==!1)&&S!==i.stdout&&S!==i.stderr?Y:_e;function D(xe,ie){m("onunpipe"),xe===Z&&ie&&ie.hasUnpiped===!1&&(ie.hasUnpiped=!0,m("cleanup"),S.removeListener("close",re),S.removeListener("finish",ce),S.removeListener("drain",P),S.removeListener("error",ue),S.removeListener("unpipe",D),Z.removeListener("end",Y),Z.removeListener("end",_e),Z.removeListener("data",te),M=!0,!j.awaitDrain||S._writableState&&!S._writableState.needDrain||P())}function Y(){m("onend"),S.end()}j.endEmitted?o.nextTick(X):Z.once("end",X),S.on("unpipe",D);var P=function(xe){return function(){var ie=xe._readableState;m("pipeOnDrain",ie.awaitDrain),ie.awaitDrain&&ie.awaitDrain--,ie.awaitDrain===0&&l(xe,"data")&&(ie.flowing=!0,b(xe))}}(Z);S.on("drain",P);var M=!1,$=!1;function te(xe){m("ondata"),$=!1,S.write(xe)!==!1||$||((j.pipesCount===1&&j.pipes===S||j.pipesCount>1&&C(j.pipes,S)!==-1)&&!M&&(m("false write response, pause",j.awaitDrain),j.awaitDrain++,$=!0),Z.pause())}function ue(xe){m("onerror",xe),_e(),S.removeListener("error",ue),l(S,"error")===0&&S.emit("error",xe)}function re(){S.removeListener("finish",ce),_e()}function ce(){m("onfinish"),S.removeListener("close",re),_e()}function _e(){m("unpipe"),Z.unpipe(S)}return Z.on("data",te),function(xe,ie,se){if(typeof xe.prependListener=="function")return xe.prependListener(ie,se);xe._events&&xe._events[ie]?a(xe._events[ie])?xe._events[ie].unshift(se):xe._events[ie]=[se,xe._events[ie]]:xe.on(ie,se)}(S,"error",ue),S.once("close",re),S.once("finish",ce),S.emit("pipe",Z),j.flowing||(m("pipe resume"),Z.resume()),S},N.prototype.unpipe=function(S){var R=this._readableState,Z={hasUnpiped:!1};if(R.pipesCount===0)return this;if(R.pipesCount===1)return S&&S!==R.pipes||(S||(S=R.pipes),R.pipes=null,R.pipesCount=0,R.flowing=!1,S&&S.emit("unpipe",this,Z)),this;if(!S){var j=R.pipes,X=R.pipesCount;R.pipes=null,R.pipesCount=0,R.flowing=!1;for(var D=0;D<X;D++)j[D].emit("unpipe",this,{hasUnpiped:!1});return this}var Y=C(R.pipes,S);return Y===-1||(R.pipes.splice(Y,1),R.pipesCount-=1,R.pipesCount===1&&(R.pipes=R.pipes[0]),S.emit("unpipe",this,Z)),this},N.prototype.on=function(S,R){var Z=c.prototype.on.call(this,S,R);if(S==="data")this._readableState.flowing!==!1&&this.resume();else if(S==="readable"){var j=this._readableState;j.endEmitted||j.readableListening||(j.readableListening=j.needReadable=!0,j.emittedReadable=!1,j.reading?j.length&&V(this):o.nextTick(E,this))}return Z},N.prototype.addListener=N.prototype.on,N.prototype.resume=function(){var S=this._readableState;return S.flowing||(m("resume"),S.flowing=!0,function(R,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,o.nextTick(L,R,Z))}(this,S)),this},N.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},N.prototype.wrap=function(S){var R=this,Z=this._readableState,j=!1;for(var X in S.on("end",function(){if(m("wrapped end"),Z.decoder&&!Z.ended){var Y=Z.decoder.end();Y&&Y.length&&R.push(Y)}R.push(null)}),S.on("data",function(Y){m("wrapped data"),Z.decoder&&(Y=Z.decoder.write(Y)),Z.objectMode&&Y==null||(Z.objectMode||Y&&Y.length)&&(R.push(Y)||(j=!0,S.pause()))}),S)this[X]===void 0&&typeof S[X]=="function"&&(this[X]=function(Y){return function(){return S[Y].apply(S,arguments)}}(X));for(var D=0;D<x.length;D++)S.on(x[D],this.emit.bind(this,x[D]));return this._read=function(Y){m("wrapped _read",Y),j&&(j=!1,S.resume())},this},Object.defineProperty(N.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),N._fromList=w}).call(this)}).call(this,n("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(n,e,t){"use strict";e.exports=s;var i=n("./_stream_duplex"),r=Object.create(n("core-util-is"));function o(c,u){var d=this._transformState;d.transforming=!1;var f=d.writecb;if(!f)return this.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,u!=null&&this.push(u),f(c);var h=this._readableState;h.reading=!1,(h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}function s(c){if(!(this instanceof s))return new s(c);i.call(this,c),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",a)}function a(){var c=this;typeof this._flush=="function"?this._flush(function(u,d){l(c,u,d)}):l(this,null,null)}function l(c,u,d){if(u)return c.emit("error",u);if(d!=null&&c.push(d),c._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(c._transformState.transforming)throw new Error("Calling transform done when still transforming");return c.push(null)}r.inherits=n("inherits"),r.inherits(s,i),s.prototype.push=function(c,u){return this._transformState.needTransform=!1,i.prototype.push.call(this,c,u)},s.prototype._transform=function(c,u,d){throw new Error("_transform() is not implemented")},s.prototype._write=function(c,u,d){var f=this._transformState;if(f.writecb=d,f.writechunk=c,f.writeencoding=u,!f.transforming){var h=this._readableState;(f.needTransform||h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}},s.prototype._read=function(c){var u=this._transformState;u.writechunk!==null&&u.writecb&&!u.transforming?(u.transforming=!0,this._transform(u.writechunk,u.writeencoding,u.afterTransform)):u.needTransform=!0},s.prototype._destroy=function(c,u){var d=this;i.prototype._destroy.call(this,c,function(f){u(f),d.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(n,e,t){(function(i,r,o){(function(){"use strict";var s=n("process-nextick-args");function a(W){var k=this;this.next=null,this.entry=null,this.finish=function(){(function(E,L,b){var w=E.entry;for(E.entry=null;w;){var _=w.callback;L.pendingcb--,_(b),w=w.next}L.corkedRequestsFree.next=E})(k,W)}}e.exports=I;var l,c=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?o:s.nextTick;I.WritableState=x;var u=Object.create(n("core-util-is"));u.inherits=n("inherits");var d={deprecate:n("util-deprecate")},f=n("./internal/streams/stream"),h=n("safe-buffer").Buffer,m=(r!==void 0?r:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},p,g=n("./internal/streams/destroy");function v(){}function x(W,k){l=l||n("./_stream_duplex"),W=W||{};var E=k instanceof l;this.objectMode=!!W.objectMode,E&&(this.objectMode=this.objectMode||!!W.writableObjectMode);var L=W.highWaterMark,b=W.writableHighWaterMark,w=this.objectMode?16:16384;this.highWaterMark=L||L===0?L:E&&(b||b===0)?b:w,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var _=W.decodeStrings===!1;this.decodeStrings=!_,this.defaultEncoding=W.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(y){(function(C,S){var R=C._writableState,Z=R.sync,j=R.writecb;if(function(D){D.writing=!1,D.writecb=null,D.length-=D.writelen,D.writelen=0}(R),S)(function(D,Y,P,M,$){--Y.pendingcb,P?(s.nextTick($,M),s.nextTick(G,D,Y),D._writableState.errorEmitted=!0,D.emit("error",M)):($(M),D._writableState.errorEmitted=!0,D.emit("error",M),G(D,Y))})(C,R,Z,S,j);else{var X=B(R);X||R.corked||R.bufferProcessing||!R.bufferedRequest||F(C,R),Z?c(H,C,R,X,j):H(C,R,X,j)}})(k,y)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function I(W){if(l=l||n("./_stream_duplex"),!(p.call(I,this)||this instanceof l))return new I(W);this._writableState=new x(W,this),this.writable=!0,W&&(typeof W.write=="function"&&(this._write=W.write),typeof W.writev=="function"&&(this._writev=W.writev),typeof W.destroy=="function"&&(this._destroy=W.destroy),typeof W.final=="function"&&(this._final=W.final)),f.call(this)}function N(W,k,E,L,b,w,_){k.writelen=L,k.writecb=_,k.writing=!0,k.sync=!0,E?W._writev(b,k.onwrite):W._write(b,w,k.onwrite),k.sync=!1}function H(W,k,E,L){E||function(b,w){w.length===0&&w.needDrain&&(w.needDrain=!1,b.emit("drain"))}(W,k),k.pendingcb--,L(),G(W,k)}function F(W,k){k.bufferProcessing=!0;var E=k.bufferedRequest;if(W._writev&&E&&E.next){var L=k.bufferedRequestCount,b=new Array(L),w=k.corkedRequestsFree;w.entry=E;for(var _=0,y=!0;E;)b[_]=E,E.isBuf||(y=!1),E=E.next,_+=1;b.allBuffers=y,N(W,k,!0,k.length,b,"",w.finish),k.pendingcb++,k.lastBufferedRequest=null,w.next?(k.corkedRequestsFree=w.next,w.next=null):k.corkedRequestsFree=new a(k),k.bufferedRequestCount=0}else{for(;E;){var C=E.chunk,S=E.encoding,R=E.callback;if(N(W,k,!1,k.objectMode?1:C.length,C,S,R),E=E.next,k.bufferedRequestCount--,k.writing)break}E===null&&(k.lastBufferedRequest=null)}k.bufferedRequest=E,k.bufferProcessing=!1}function B(W){return W.ending&&W.length===0&&W.bufferedRequest===null&&!W.finished&&!W.writing}function V(W,k){W._final(function(E){k.pendingcb--,E&&W.emit("error",E),k.prefinished=!0,W.emit("prefinish"),G(W,k)})}function G(W,k){var E=B(k);return E&&(function(L,b){b.prefinished||b.finalCalled||(typeof L._final=="function"?(b.pendingcb++,b.finalCalled=!0,s.nextTick(V,L,b)):(b.prefinished=!0,L.emit("prefinish")))}(W,k),k.pendingcb===0&&(k.finished=!0,W.emit("finish"))),E}u.inherits(I,f),x.prototype.getBuffer=function(){for(var W=this.bufferedRequest,k=[];W;)k.push(W),W=W.next;return k},function(){try{Object.defineProperty(x.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(W){return!!p.call(this,W)||this===I&&W&&W._writableState instanceof x}})):p=function(W){return W instanceof this},I.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},I.prototype.write=function(W,k,E){var L,b=this._writableState,w=!1,_=!b.objectMode&&(L=W,h.isBuffer(L)||L instanceof m);return _&&!h.isBuffer(W)&&(W=function(y){return h.from(y)}(W)),typeof k=="function"&&(E=k,k=null),_?k="buffer":k||(k=b.defaultEncoding),typeof E!="function"&&(E=v),b.ended?function(y,C){var S=new Error("write after end");y.emit("error",S),s.nextTick(C,S)}(this,E):(_||function(y,C,S,R){var Z=!0,j=!1;return S===null?j=new TypeError("May not write null values to stream"):typeof S=="string"||S===void 0||C.objectMode||(j=new TypeError("Invalid non-string/buffer chunk")),j&&(y.emit("error",j),s.nextTick(R,j),Z=!1),Z}(this,b,W,E))&&(b.pendingcb++,w=function(y,C,S,R,Z,j){if(!S){var X=function(M,$,te){return M.objectMode||M.decodeStrings===!1||typeof $!="string"||($=h.from($,te)),$}(C,R,Z);R!==X&&(S=!0,Z="buffer",R=X)}var D=C.objectMode?1:R.length;C.length+=D;var Y=C.length<C.highWaterMark;if(Y||(C.needDrain=!0),C.writing||C.corked){var P=C.lastBufferedRequest;C.lastBufferedRequest={chunk:R,encoding:Z,isBuf:S,callback:j,next:null},P?P.next=C.lastBufferedRequest:C.bufferedRequest=C.lastBufferedRequest,C.bufferedRequestCount+=1}else N(y,C,!1,D,R,Z,j);return Y}(this,b,_,W,k,E)),w},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var W=this._writableState;W.corked&&(W.corked--,W.writing||W.corked||W.bufferProcessing||!W.bufferedRequest||F(this,W))},I.prototype.setDefaultEncoding=function(W){if(typeof W=="string"&&(W=W.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((W+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+W);return this._writableState.defaultEncoding=W,this},Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),I.prototype._write=function(W,k,E){E(new Error("_write() is not implemented"))},I.prototype._writev=null,I.prototype.end=function(W,k,E){var L=this._writableState;typeof W=="function"?(E=W,W=null,k=null):typeof k=="function"&&(E=k,k=null),W!=null&&this.write(W,k),L.corked&&(L.corked=1,this.uncork()),L.ending||function(b,w,_){w.ending=!0,G(b,w),_&&(w.finished?s.nextTick(_):b.once("finish",_)),w.ended=!0,b.writable=!1}(this,L,E)},Object.defineProperty(I.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(W){this._writableState&&(this._writableState.destroyed=W)}}),I.prototype.destroy=g.destroy,I.prototype._undestroy=g.undestroy,I.prototype._destroy=function(W,k){this.end(),k(W)}}).call(this)}).call(this,n("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},n("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(n,e,t){"use strict";var i=n("safe-buffer").Buffer,r=n("util");e.exports=function(){function o(){(function(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")})(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(s){var a={data:s,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length},o.prototype.unshift=function(s){var a={data:s,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length},o.prototype.shift=function(){if(this.length!==0){var s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(s){if(this.length===0)return"";for(var a=this.head,l=""+a.data;a=a.next;)l+=s+a.data;return l},o.prototype.concat=function(s){if(this.length===0)return i.alloc(0);for(var a,l,c,u=i.allocUnsafe(s>>>0),d=this.head,f=0;d;)a=d.data,l=u,c=f,a.copy(l,c),f+=d.data.length,d=d.next;return u},o}(),r&&r.inspect&&r.inspect.custom&&(e.exports.prototype[r.inspect.custom]=function(){var o=r.inspect({length:this.length});return this.constructor.name+" "+o})},{"safe-buffer":520,util:188}],514:[function(n,e,t){"use strict";var i=n("process-nextick-args");function r(o,s){o.emit("error",s)}e.exports={destroy:function(o,s){var a=this,l=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return l||c?(s?s(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(r,this,o)):i.nextTick(r,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(u){!s&&u?a._writableState?a._writableState.errorEmitted||(a._writableState.errorEmitted=!0,i.nextTick(r,a,u)):i.nextTick(r,a,u):s&&s(u)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(n,e,t){arguments[4][490][0].apply(t,arguments)},{dup:490,events:422}],516:[function(n,e,t){"use strict";e.exports=n("./readable").PassThrough},{"./readable":517}],517:[function(n,e,t){"use strict";(t=e.exports=n("./lib/_stream_readable.js")).Stream=t,t.Readable=t,t.Writable=n("./lib/_stream_writable.js"),t.Duplex=n("./lib/_stream_duplex.js"),t.Transform=n("./lib/_stream_transform.js"),t.PassThrough=n("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(n,e,t){"use strict";e.exports=n("./readable").Transform},{"./readable":517}],519:[function(n,e,t){"use strict";e.exports=n("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(n,e,t){arguments[4][217][0].apply(t,arguments)},{buffer:220,dup:217}],521:[function(n,e,t){arguments[4][218][0].apply(t,arguments)},{dup:218,"safe-buffer":520}],522:[function(n,e,t){arguments[4][218][0].apply(t,arguments)},{dup:218,"safe-buffer":494}],523:[function(n,e,t){(function(i,r){(function(){"use strict";var o=n("process/browser.js").nextTick,s=Function.prototype.apply,a=Array.prototype.slice,l={},c=0;function u(d,f){this._id=d,this._clearFn=f}t.setTimeout=function(){return new u(s.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new u(s.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(d){d.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(d,f){clearTimeout(d._idleTimeoutId),d._idleTimeout=f},t.unenroll=function(d){clearTimeout(d._idleTimeoutId),d._idleTimeout=-1},t._unrefActive=t.active=function(d){clearTimeout(d._idleTimeoutId);var f=d._idleTimeout;f>=0&&(d._idleTimeoutId=setTimeout(function(){d._onTimeout&&d._onTimeout()},f))},t.setImmediate=typeof i=="function"?i:function(d){var f=c++,h=!(arguments.length<2)&&a.call(arguments,1);return l[f]=!0,o(function(){l[f]&&(h?d.apply(null,h):d.call(null),t.clearImmediate(f))}),f},t.clearImmediate=typeof r=="function"?r:function(d){delete l[d]}}).call(this)}).call(this,n("timers").setImmediate,n("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(n,e,t){(function(i){(function(){"use strict";function r(o){try{if(!i.localStorage)return!1}catch{return!1}var s=i.localStorage[o];return s!=null&&String(s).toLowerCase()==="true"}e.exports=function(o,s){if(r("noDeprecation"))return o;var a=!1;return function(){if(!a){if(r("throwDeprecation"))throw new Error(s);r("traceDeprecation")?console.trace(s):console.warn(s),a=!0}return o.apply(this,arguments)}}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(n,e,t){"use strict";typeof Object.create=="function"?e.exports=function(i,r){i.super_=r,i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(i,r){i.super_=r;var o=function(){};o.prototype=r.prototype,i.prototype=new o,i.prototype.constructor=i}},{}],526:[function(n,e,t){"use strict";e.exports=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"}},{}],527:[function(n,e,t){(function(i,r){(function(){"use strict";var o=/%[sdj%]/g;t.format=function(b){if(!x(b)){for(var w=[],_=0;_<arguments.length;_++)w.push(l(arguments[_]));return w.join(" ")}_=1;for(var y=arguments,C=y.length,S=String(b).replace(o,function(Z){if(Z==="%%")return"%";if(_>=C)return Z;switch(Z){case"%s":return String(y[_++]);case"%d":return Number(y[_++]);case"%j":try{return JSON.stringify(y[_++])}catch{return"[Circular]"}default:return Z}}),R=y[_];_<C;R=y[++_])g(R)||!H(R)?S+=" "+R:S+=" "+l(R);return S},t.deprecate=function(b,w){if(I(r.process))return function(){return t.deprecate(b,w).apply(this,arguments)};if(i.noDeprecation===!0)return b;var _=!1;return function(){if(!_){if(i.throwDeprecation)throw new Error(w);i.traceDeprecation?console.trace(w):console.error(w),_=!0}return b.apply(this,arguments)}};var s,a={};function l(b,w){var _={seen:[],stylize:u};return arguments.length>=3&&(_.depth=arguments[2]),arguments.length>=4&&(_.colors=arguments[3]),p(w)?_.showHidden=w:w&&t._extend(_,w),I(_.showHidden)&&(_.showHidden=!1),I(_.depth)&&(_.depth=2),I(_.colors)&&(_.colors=!1),I(_.customInspect)&&(_.customInspect=!0),_.colors&&(_.stylize=c),d(_,b,_.depth)}function c(b,w){var _=l.styles[w];return _?"\x1B["+l.colors[_][0]+"m"+b+"\x1B["+l.colors[_][1]+"m":b}function u(b,w){return b}function d(b,w,_){if(b.customInspect&&w&&V(w.inspect)&&w.inspect!==t.inspect&&(!w.constructor||w.constructor.prototype!==w)){var y=w.inspect(_,b);return x(y)||(y=d(b,y,_)),y}var C=function(P,M){if(I(M))return P.stylize("undefined","undefined");if(x(M)){var $="'"+JSON.stringify(M).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return P.stylize($,"string")}if(v(M))return P.stylize(""+M,"number");if(p(M))return P.stylize(""+M,"boolean");if(g(M))return P.stylize("null","null")}(b,w);if(C)return C;var S=Object.keys(w),R=function(P){var M={};return P.forEach(function($,te){M[$]=!0}),M}(S);if(b.showHidden&&(S=Object.getOwnPropertyNames(w)),B(w)&&(S.indexOf("message")>=0||S.indexOf("description")>=0))return f(w);if(S.length===0){if(V(w)){var Z=w.name?": "+w.name:"";return b.stylize("[Function"+Z+"]","special")}if(N(w))return b.stylize(RegExp.prototype.toString.call(w),"regexp");if(F(w))return b.stylize(Date.prototype.toString.call(w),"date");if(B(w))return f(w)}var j,X="",D=!1,Y=["{","}"];return m(w)&&(D=!0,Y=["[","]"]),V(w)&&(X=" [Function"+(w.name?": "+w.name:"")+"]"),N(w)&&(X=" "+RegExp.prototype.toString.call(w)),F(w)&&(X=" "+Date.prototype.toUTCString.call(w)),B(w)&&(X=" "+f(w)),S.length!==0||D&&w.length!=0?_<0?N(w)?b.stylize(RegExp.prototype.toString.call(w),"regexp"):b.stylize("[Object]","special"):(b.seen.push(w),j=D?function(P,M,$,te,ue){for(var re=[],ce=0,_e=M.length;ce<_e;++ce)L(M,String(ce))?re.push(h(P,M,$,te,String(ce),!0)):re.push("");return ue.forEach(function(xe){xe.match(/^\d+$/)||re.push(h(P,M,$,te,xe,!0))}),re}(b,w,_,R,S):S.map(function(P){return h(b,w,_,R,P,D)}),b.seen.pop(),function(P,M,$){return P.reduce(function(te,ue){return ue.indexOf(`
`)>=0,te+ue.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?$[0]+(M===""?"":M+`
 `)+" "+P.join(`,
  `)+" "+$[1]:$[0]+M+" "+P.join(", ")+" "+$[1]}(j,X,Y)):Y[0]+X+Y[1]}function f(b){return"["+Error.prototype.toString.call(b)+"]"}function h(b,w,_,y,C,S){var R,Z,j;if((j=Object.getOwnPropertyDescriptor(w,C)||{value:w[C]}).get?Z=j.set?b.stylize("[Getter/Setter]","special"):b.stylize("[Getter]","special"):j.set&&(Z=b.stylize("[Setter]","special")),L(y,C)||(R="["+C+"]"),Z||(b.seen.indexOf(j.value)<0?(Z=g(_)?d(b,j.value,null):d(b,j.value,_-1)).indexOf(`
`)>-1&&(Z=S?Z.split(`
`).map(function(X){return"  "+X}).join(`
`).substr(2):`
`+Z.split(`
`).map(function(X){return"   "+X}).join(`
`)):Z=b.stylize("[Circular]","special")),I(R)){if(S&&C.match(/^\d+$/))return Z;(R=JSON.stringify(""+C)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(R=R.substr(1,R.length-2),R=b.stylize(R,"name")):(R=R.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),R=b.stylize(R,"string"))}return R+": "+Z}function m(b){return Array.isArray(b)}function p(b){return typeof b=="boolean"}function g(b){return b===null}function v(b){return typeof b=="number"}function x(b){return typeof b=="string"}function I(b){return b===void 0}function N(b){return H(b)&&G(b)==="[object RegExp]"}function H(b){return typeof b=="object"&&b!==null}function F(b){return H(b)&&G(b)==="[object Date]"}function B(b){return H(b)&&(G(b)==="[object Error]"||b instanceof Error)}function V(b){return typeof b=="function"}function G(b){return Object.prototype.toString.call(b)}function W(b){return b<10?"0"+b.toString(10):b.toString(10)}t.debuglog=function(b){if(I(s)&&(s=i.env.NODE_DEBUG||""),b=b.toUpperCase(),!a[b])if(new RegExp("\\b"+b+"\\b","i").test(s)){var w=i.pid;a[b]=function(){var _=t.format.apply(t,arguments);console.error("%s %d: %s",b,w,_)}}else a[b]=function(){};return a[b]},t.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=m,t.isBoolean=p,t.isNull=g,t.isNullOrUndefined=function(b){return b==null},t.isNumber=v,t.isString=x,t.isSymbol=function(b){return typeof b=="symbol"},t.isUndefined=I,t.isRegExp=N,t.isObject=H,t.isDate=F,t.isError=B,t.isFunction=V,t.isPrimitive=function(b){return b===null||typeof b=="boolean"||typeof b=="number"||typeof b=="string"||typeof b=="symbol"||b===void 0},t.isBuffer=n("./support/isBuffer");var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(){var b=new Date,w=[W(b.getHours()),W(b.getMinutes()),W(b.getSeconds())].join(":");return[b.getDate(),k[b.getMonth()],w].join(" ")}function L(b,w){return Object.prototype.hasOwnProperty.call(b,w)}t.log=function(){console.log("%s - %s",E(),t.format.apply(t,arguments))},t.inherits=n("inherits"),t._extend=function(b,w){if(!w||!H(w))return b;for(var _=Object.keys(w),y=_.length;y--;)b[_[y]]=w[_[y]];return b}}).call(this)}).call(this,n("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return d.default}});var i=f(n("./v1.js")),r=f(n("./v3.js")),o=f(n("./v4.js")),s=f(n("./v5.js")),a=f(n("./nil.js")),l=f(n("./version.js")),c=f(n("./validate.js")),u=f(n("./stringify.js")),d=f(n("./parse.js"));function f(h){return h&&h.__esModule?h:{default:h}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(n,e,t){"use strict";function i(d){return 14+(d+64>>>9<<4)+1}function r(d,f){let h=(65535&d)+(65535&f);return(d>>16)+(f>>16)+(h>>16)<<16|65535&h}function o(d,f,h,m,p,g){return r((v=r(r(f,d),r(m,g)))<<(x=p)|v>>>32-x,h);var v,x}function s(d,f,h,m,p,g,v){return o(f&h|~f&m,d,f,p,g,v)}function a(d,f,h,m,p,g,v){return o(f&m|h&~m,d,f,p,g,v)}function l(d,f,h,m,p,g,v){return o(f^h^m,d,f,p,g,v)}function c(d,f,h,m,p,g,v){return o(h^(f|~m),d,f,p,g,v)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(d){if(typeof d=="string"){let f=unescape(encodeURIComponent(d));d=new Uint8Array(f.length);for(let h=0;h<f.length;++h)d[h]=f.charCodeAt(h)}return function(f){let h=[],m=32*f.length;for(let p=0;p<m;p+=8){let g=f[p>>5]>>>p%32&255,v=parseInt("0123456789abcdef".charAt(g>>>4&15)+"0123456789abcdef".charAt(15&g),16);h.push(v)}return h}(function(f,h){f[h>>5]|=128<<h%32,f[i(h)-1]=h;let m=1732584193,p=-271733879,g=-1732584194,v=271733878;for(let x=0;x<f.length;x+=16){let I=m,N=p,H=g,F=v;m=s(m,p,g,v,f[x],7,-680876936),v=s(v,m,p,g,f[x+1],12,-389564586),g=s(g,v,m,p,f[x+2],17,606105819),p=s(p,g,v,m,f[x+3],22,-1044525330),m=s(m,p,g,v,f[x+4],7,-176418897),v=s(v,m,p,g,f[x+5],12,1200080426),g=s(g,v,m,p,f[x+6],17,-1473231341),p=s(p,g,v,m,f[x+7],22,-45705983),m=s(m,p,g,v,f[x+8],7,1770035416),v=s(v,m,p,g,f[x+9],12,-1958414417),g=s(g,v,m,p,f[x+10],17,-42063),p=s(p,g,v,m,f[x+11],22,-1990404162),m=s(m,p,g,v,f[x+12],7,1804603682),v=s(v,m,p,g,f[x+13],12,-40341101),g=s(g,v,m,p,f[x+14],17,-1502002290),p=s(p,g,v,m,f[x+15],22,1236535329),m=a(m,p,g,v,f[x+1],5,-165796510),v=a(v,m,p,g,f[x+6],9,-1069501632),g=a(g,v,m,p,f[x+11],14,643717713),p=a(p,g,v,m,f[x],20,-373897302),m=a(m,p,g,v,f[x+5],5,-701558691),v=a(v,m,p,g,f[x+10],9,38016083),g=a(g,v,m,p,f[x+15],14,-660478335),p=a(p,g,v,m,f[x+4],20,-405537848),m=a(m,p,g,v,f[x+9],5,568446438),v=a(v,m,p,g,f[x+14],9,-1019803690),g=a(g,v,m,p,f[x+3],14,-187363961),p=a(p,g,v,m,f[x+8],20,1163531501),m=a(m,p,g,v,f[x+13],5,-1444681467),v=a(v,m,p,g,f[x+2],9,-51403784),g=a(g,v,m,p,f[x+7],14,1735328473),p=a(p,g,v,m,f[x+12],20,-1926607734),m=l(m,p,g,v,f[x+5],4,-378558),v=l(v,m,p,g,f[x+8],11,-2022574463),g=l(g,v,m,p,f[x+11],16,1839030562),p=l(p,g,v,m,f[x+14],23,-35309556),m=l(m,p,g,v,f[x+1],4,-1530992060),v=l(v,m,p,g,f[x+4],11,1272893353),g=l(g,v,m,p,f[x+7],16,-155497632),p=l(p,g,v,m,f[x+10],23,-1094730640),m=l(m,p,g,v,f[x+13],4,681279174),v=l(v,m,p,g,f[x],11,-358537222),g=l(g,v,m,p,f[x+3],16,-722521979),p=l(p,g,v,m,f[x+6],23,76029189),m=l(m,p,g,v,f[x+9],4,-640364487),v=l(v,m,p,g,f[x+12],11,-421815835),g=l(g,v,m,p,f[x+15],16,530742520),p=l(p,g,v,m,f[x+2],23,-995338651),m=c(m,p,g,v,f[x],6,-198630844),v=c(v,m,p,g,f[x+7],10,1126891415),g=c(g,v,m,p,f[x+14],15,-1416354905),p=c(p,g,v,m,f[x+5],21,-57434055),m=c(m,p,g,v,f[x+12],6,1700485571),v=c(v,m,p,g,f[x+3],10,-1894986606),g=c(g,v,m,p,f[x+10],15,-1051523),p=c(p,g,v,m,f[x+1],21,-2054922799),m=c(m,p,g,v,f[x+8],6,1873313359),v=c(v,m,p,g,f[x+15],10,-30611744),g=c(g,v,m,p,f[x+6],15,-1560198380),p=c(p,g,v,m,f[x+13],21,1309151649),m=c(m,p,g,v,f[x+4],6,-145523070),v=c(v,m,p,g,f[x+11],10,-1120210379),g=c(g,v,m,p,f[x+2],15,718787259),p=c(p,g,v,m,f[x+9],21,-343485551),m=r(m,I),p=r(p,N),g=r(g,H),v=r(v,F)}return[m,p,g,v]}(function(f){if(f.length===0)return[];let h=8*f.length,m=new Uint32Array(i(h));for(let p=0;p<h;p+=8)m[p>>5]|=(255&f[p/8])<<p%32;return m}(d),8*d.length))};t.default=u},{}],530:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n("./validate.js"))&&i.__esModule?i:{default:i},o=function(s){if(!(0,r.default)(s))throw TypeError("Invalid UUID");let a,l=new Uint8Array(16);return l[0]=(a=parseInt(s.slice(0,8),16))>>>24,l[1]=a>>>16&255,l[2]=a>>>8&255,l[3]=255&a,l[4]=(a=parseInt(s.slice(9,13),16))>>>8,l[5]=255&a,l[6]=(a=parseInt(s.slice(14,18),16))>>>8,l[7]=255&a,l[8]=(a=parseInt(s.slice(19,23),16))>>>8,l[9]=255&a,l[10]=(a=parseInt(s.slice(24,36),16))/1099511627776&255,l[11]=a/4294967296&255,l[12]=a>>>24&255,l[13]=a>>>16&255,l[14]=a>>>8&255,l[15]=255&a,l};t.default=o},{"./validate.js":541}],532:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(n,e,t){"use strict";let i;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!i&&(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(r)};let r=new Uint8Array(16)},{}],534:[function(n,e,t){"use strict";function i(s,a,l,c){switch(s){case 0:return a&l^~a&c;case 1:return a^l^c;case 2:return a&l^a&c^l&c;case 3:return a^l^c}}function r(s,a){return s<<a|s>>>32-a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(s){let a=[1518500249,1859775393,2400959708,3395469782],l=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){let f=unescape(encodeURIComponent(s));s=[];for(let h=0;h<f.length;++h)s.push(f.charCodeAt(h))}else Array.isArray(s)||(s=Array.prototype.slice.call(s));s.push(128);let c=s.length/4+2,u=Math.ceil(c/16),d=new Array(u);for(let f=0;f<u;++f){let h=new Uint32Array(16);for(let m=0;m<16;++m)h[m]=s[64*f+4*m]<<24|s[64*f+4*m+1]<<16|s[64*f+4*m+2]<<8|s[64*f+4*m+3];d[f]=h}d[u-1][14]=8*(s.length-1)/Math.pow(2,32),d[u-1][14]=Math.floor(d[u-1][14]),d[u-1][15]=8*(s.length-1)&4294967295;for(let f=0;f<u;++f){let h=new Uint32Array(80);for(let I=0;I<16;++I)h[I]=d[f][I];for(let I=16;I<80;++I)h[I]=r(h[I-3]^h[I-8]^h[I-14]^h[I-16],1);let m=l[0],p=l[1],g=l[2],v=l[3],x=l[4];for(let I=0;I<80;++I){let N=Math.floor(I/20),H=r(m,5)+i(N,p,g,v)+x+a[N]+h[I]>>>0;x=v,v=g,g=r(p,30)>>>0,p=m,m=H}l[0]=l[0]+m>>>0,l[1]=l[1]+p>>>0,l[2]=l[2]+g>>>0,l[3]=l[3]+v>>>0,l[4]=l[4]+x>>>0}return[l[0]>>24&255,l[0]>>16&255,l[0]>>8&255,255&l[0],l[1]>>24&255,l[1]>>16&255,l[1]>>8&255,255&l[1],l[2]>>24&255,l[2]>>16&255,l[2]>>8&255,255&l[2],l[3]>>24&255,l[3]>>16&255,l[3]>>8&255,255&l[3],l[4]>>24&255,l[4]>>16&255,l[4]>>8&255,255&l[4]]};t.default=o},{}],535:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n("./validate.js"))&&i.__esModule?i:{default:i};let o=[];for(let a=0;a<256;++a)o.push((a+256).toString(16).substr(1));var s=function(a){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=(o[a[l+0]]+o[a[l+1]]+o[a[l+2]]+o[a[l+3]]+"-"+o[a[l+4]]+o[a[l+5]]+"-"+o[a[l+6]]+o[a[l+7]]+"-"+o[a[l+8]]+o[a[l+9]]+"-"+o[a[l+10]]+o[a[l+11]]+o[a[l+12]]+o[a[l+13]]+o[a[l+14]]+o[a[l+15]]).toLowerCase();if(!(0,r.default)(c))throw TypeError("Stringified UUID is invalid");return c};t.default=s},{"./validate.js":541}],536:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./rng.js")),r=o(n("./stringify.js"));function o(d){return d&&d.__esModule?d:{default:d}}let s,a,l=0,c=0;var u=function(d,f,h){let m=f&&h||0,p=f||new Array(16),g=(d=d||{}).node||s,v=d.clockseq!==void 0?d.clockseq:a;if(g==null||v==null){let B=d.random||(d.rng||i.default)();g==null&&(g=s=[1|B[0],B[1],B[2],B[3],B[4],B[5]]),v==null&&(v=a=16383&(B[6]<<8|B[7]))}let x=d.msecs!==void 0?d.msecs:Date.now(),I=d.nsecs!==void 0?d.nsecs:c+1,N=x-l+(I-c)/1e4;if(N<0&&d.clockseq===void 0&&(v=v+1&16383),(N<0||x>l)&&d.nsecs===void 0&&(I=0),I>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=x,c=I,a=v,x+=122192928e5;let H=(1e4*(268435455&x)+I)%4294967296;p[m++]=H>>>24&255,p[m++]=H>>>16&255,p[m++]=H>>>8&255,p[m++]=255&H;let F=x/4294967296*1e4&268435455;p[m++]=F>>>8&255,p[m++]=255&F,p[m++]=F>>>24&15|16,p[m++]=F>>>16&255,p[m++]=v>>>8|128,p[m++]=255&v;for(let B=0;B<6;++B)p[m+B]=g[B];return f||(0,r.default)(p)};t.default=u},{"./rng.js":533,"./stringify.js":535}],537:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./v35.js")),r=o(n("./md5.js"));function o(a){return a&&a.__esModule?a:{default:a}}var s=(0,i.default)("v3",48,r.default);t.default=s},{"./md5.js":529,"./v35.js":538}],538:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(l,c,u){function d(f,h,m,p){if(typeof f=="string"&&(f=function(v){v=unescape(encodeURIComponent(v));let x=[];for(let I=0;I<v.length;++I)x.push(v.charCodeAt(I));return x}(f)),typeof h=="string"&&(h=(0,r.default)(h)),h.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let g=new Uint8Array(16+f.length);if(g.set(h),g.set(f,h.length),g=u(g),g[6]=15&g[6]|c,g[8]=63&g[8]|128,m){p=p||0;for(let v=0;v<16;++v)m[p+v]=g[v];return m}return(0,i.default)(g)}try{d.name=l}catch{}return d.DNS=s,d.URL=a,d},t.URL=t.DNS=void 0;var i=o(n("./stringify.js")),r=o(n("./parse.js"));function o(l){return l&&l.__esModule?l:{default:l}}let s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=s;let a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=a},{"./parse.js":531,"./stringify.js":535}],539:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./rng.js")),r=o(n("./stringify.js"));function o(a){return a&&a.__esModule?a:{default:a}}var s=function(a,l,c){let u=(a=a||{}).random||(a.rng||i.default)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,l){c=c||0;for(let d=0;d<16;++d)l[c+d]=u[d];return l}return(0,r.default)(u)};t.default=s},{"./rng.js":533,"./stringify.js":535}],540:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("./v35.js")),r=o(n("./sha1.js"));function o(a){return a&&a.__esModule?a:{default:a}}var s=(0,i.default)("v5",80,r.default);t.default=s},{"./sha1.js":534,"./v35.js":538}],541:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n("./regex.js"))&&i.__esModule?i:{default:i},o=function(s){return typeof s=="string"&&r.default.test(s)};t.default=o},{"./regex.js":532}],542:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n("./validate.js"))&&i.__esModule?i:{default:i},o=function(s){if(!(0,r.default)(s))throw TypeError("Invalid UUID");return parseInt(s.substr(14,1),16)};t.default=o},{"./validate.js":541}],543:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHAR=`	
\r -\uD7FF\uE000-\uFFFD\u{10000}-\u{10FFFF}`,t.S=` 	\r
`,t.NAME_START_CHAR=":A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");function i(r){return r>=65&&r<=90||r>=97&&r<=122||r===58||r===95||r===8204||r===8205||r>=192&&r<=214||r>=216&&r<=246||r>=248&&r<=767||r>=880&&r<=893||r>=895&&r<=8191||r>=8304&&r<=8591||r>=11264&&r<=12271||r>=12289&&r<=55295||r>=63744&&r<=64975||r>=65008&&r<=65533||r>=65536&&r<=983039}t.S_LIST=[32,10,13,9],t.isChar=function(r){return r>=32&&r<=55295||r===10||r===13||r===9||r>=57344&&r<=65533||r>=65536&&r<=1114111},t.isS=function(r){return r===32||r===10||r===13||r===9},t.isNameStartChar=i,t.isNameChar=function(r){return i(r)||r>=48&&r<=57||r===45||r===46||r===183||r>=768&&r<=879||r>=8255&&r<=8256}},{}],544:[function(n,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHAR="-\uD7FF\uE000-\uFFFD\u{10000}-\u{10FFFF}",t.RESTRICTED_CHAR="-\b\v\f-\x7F-\x84\x86-\x9F",t.S=` 	\r
`,t.NAME_START_CHAR=":A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");function i(r){return r>=65&&r<=90||r>=97&&r<=122||r===58||r===95||r===8204||r===8205||r>=192&&r<=214||r>=216&&r<=246||r>=248&&r<=767||r>=880&&r<=893||r>=895&&r<=8191||r>=8304&&r<=8591||r>=11264&&r<=12271||r>=12289&&r<=55295||r>=63744&&r<=64975||r>=65008&&r<=65533||r>=65536&&r<=983039}t.S_LIST=[32,10,13,9],t.isChar=function(r){return r>=1&&r<=55295||r>=57344&&r<=65533||r>=65536&&r<=1114111},t.isRestrictedChar=function(r){return r>=1&&r<=8||r===11||r===12||r>=14&&r<=31||r>=127&&r<=132||r>=134&&r<=159},t.isCharAndNotRestricted=function(r){return r===9||r===10||r===13||r>31&&r<127||r===133||r>159&&r<=55295||r>=57344&&r<=65533||r>=65536&&r<=1114111},t.isS=function(r){return r===32||r===10||r===13||r===9},t.isNameStartChar=i,t.isNameChar=function(r){return i(r)||r>=48&&r<=57||r===45||r===46||r===183||r>=768&&r<=879||r>=8255&&r<=8256}},{}],545:[function(n,e,t){"use strict";function i(r){return r>=65&&r<=90||r===95||r>=97&&r<=122||r>=192&&r<=214||r>=216&&r<=246||r>=248&&r<=767||r>=880&&r<=893||r>=895&&r<=8191||r>=8204&&r<=8205||r>=8304&&r<=8591||r>=11264&&r<=12271||r>=12289&&r<=55295||r>=63744&&r<=64975||r>=65008&&r<=65533||r>=65536&&r<=983039}Object.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=i,t.isNCNameChar=function(r){return i(r)||r===45||r===46||r>=48&&r<=57||r===183||r>=768&&r<=879||r>=8255&&r<=8256}},{}]},{},[15])(15)})});var AN=Kd((gS,bS)=>{"use strict";(function(n,e){typeof define=="function"&&define.amd?define([],e):typeof gS<"u"?e():(e(),n.FileSaver={})})(gS,function(){"use strict";function n(a,l){return typeof l>"u"?l={autoBom:!1}:typeof l!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function e(a,l,c){var u=new XMLHttpRequest;u.open("GET",a),u.responseType="blob",u.onload=function(){s(u.response,l,c)},u.onerror=function(){console.error("could not download file")},u.send()}function t(a){var l=new XMLHttpRequest;l.open("HEAD",a,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function i(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(l)}}var r=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,o=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=r.saveAs||(typeof window!="object"||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(a,l,c){var u=r.URL||r.webkitURL,d=document.createElement("a");l=l||a.name||"download",d.download=l,d.rel="noopener",typeof a=="string"?(d.href=a,d.origin===location.origin?i(d):t(d.href)?e(a,l,c):i(d,d.target="_blank")):(d.href=u.createObjectURL(a),setTimeout(function(){u.revokeObjectURL(d.href)},4e4),setTimeout(function(){i(d)},0))}:"msSaveOrOpenBlob"in navigator?function(a,l,c){if(l=l||a.name||"download",typeof a!="string")navigator.msSaveOrOpenBlob(n(a,c),l);else if(t(a))e(a,l,c);else{var u=document.createElement("a");u.href=a,u.target="_blank",setTimeout(function(){i(u)})}}:function(a,l,c,u){if(u=u||open("","_blank"),u&&(u.document.title=u.document.body.innerText="downloading..."),typeof a=="string")return e(a,l,c);var d=a.type==="application/octet-stream",f=/constructor/i.test(r.HTMLElement)||r.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||d&&f||o)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var v=m.result;v=h?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),u?u.location.href=v:location=v,u=null},m.readAsDataURL(a)}else{var p=r.URL||r.webkitURL,g=p.createObjectURL(a);u?u.location=g:location.href=g,u=null,setTimeout(function(){p.revokeObjectURL(g)},4e4)}});r.saveAs=s.saveAs=s,typeof bS<"u"&&(bS.exports=s)})});var GV=Kd((yVe,qV)=>{"use strict";qV.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var ZV=Kd((xVe,KV)=>{"use strict";KV.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var s4=Kd((CVe,XV)=>{"use strict";var wv=ZV(),YV={};for(let n of Object.keys(wv))YV[wv[n]]=n;var hn={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};XV.exports=hn;for(let n of Object.keys(hn)){if(!("channels"in hn[n]))throw new Error("missing channels property: "+n);if(!("labels"in hn[n]))throw new Error("missing channel labels property: "+n);if(hn[n].labels.length!==hn[n].channels)throw new Error("channel and label counts mismatch: "+n);let{channels:e,labels:t}=hn[n];delete hn[n].channels,delete hn[n].labels,Object.defineProperty(hn[n],"channels",{value:e}),Object.defineProperty(hn[n],"labels",{value:t})}hn.rgb.hsl=function(n){let e=n[0]/255,t=n[1]/255,i=n[2]/255,r=Math.min(e,t,i),o=Math.max(e,t,i),s=o-r,a,l;o===r?a=0:e===o?a=(t-i)/s:t===o?a=2+(i-e)/s:i===o&&(a=4+(e-t)/s),a=Math.min(a*60,360),a<0&&(a+=360);let c=(r+o)/2;return o===r?l=0:c<=.5?l=s/(o+r):l=s/(2-o-r),[a,l*100,c*100]};hn.rgb.hsv=function(n){let e,t,i,r,o,s=n[0]/255,a=n[1]/255,l=n[2]/255,c=Math.max(s,a,l),u=c-Math.min(s,a,l),d=function(f){return(c-f)/6/u+1/2};return u===0?(r=0,o=0):(o=u/c,e=d(s),t=d(a),i=d(l),s===c?r=i-t:a===c?r=1/3+e-i:l===c&&(r=2/3+t-e),r<0?r+=1:r>1&&(r-=1)),[r*360,o*100,c*100]};hn.rgb.hwb=function(n){let e=n[0],t=n[1],i=n[2],r=hn.rgb.hsl(n)[0],o=1/255*Math.min(e,Math.min(t,i));return i=1-1/255*Math.max(e,Math.max(t,i)),[r,o*100,i*100]};hn.rgb.cmyk=function(n){let e=n[0]/255,t=n[1]/255,i=n[2]/255,r=Math.min(1-e,1-t,1-i),o=(1-e-r)/(1-r)||0,s=(1-t-r)/(1-r)||0,a=(1-i-r)/(1-r)||0;return[o*100,s*100,a*100,r*100]};function gpe(n,e){return(n[0]-e[0])**2+(n[1]-e[1])**2+(n[2]-e[2])**2}hn.rgb.keyword=function(n){let e=YV[n];if(e)return e;let t=1/0,i;for(let r of Object.keys(wv)){let o=wv[r],s=gpe(n,o);s<t&&(t=s,i=r)}return i};hn.keyword.rgb=function(n){return wv[n]};hn.rgb.xyz=function(n){let e=n[0]/255,t=n[1]/255,i=n[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92;let r=e*.4124+t*.3576+i*.1805,o=e*.2126+t*.7152+i*.0722,s=e*.0193+t*.1192+i*.9505;return[r*100,o*100,s*100]};hn.rgb.lab=function(n){let e=hn.rgb.xyz(n),t=e[0],i=e[1],r=e[2];t/=95.047,i/=100,r/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;let o=116*i-16,s=500*(t-i),a=200*(i-r);return[o,s,a]};hn.hsl.rgb=function(n){let e=n[0]/360,t=n[1]/100,i=n[2]/100,r,o,s;if(t===0)return s=i*255,[s,s,s];i<.5?r=i*(1+t):r=i+t-i*t;let a=2*i-r,l=[0,0,0];for(let c=0;c<3;c++)o=e+1/3*-(c-1),o<0&&o++,o>1&&o--,6*o<1?s=a+(r-a)*6*o:2*o<1?s=r:3*o<2?s=a+(r-a)*(2/3-o)*6:s=a,l[c]=s*255;return l};hn.hsl.hsv=function(n){let e=n[0],t=n[1]/100,i=n[2]/100,r=t,o=Math.max(i,.01);i*=2,t*=i<=1?i:2-i,r*=o<=1?o:2-o;let s=(i+t)/2,a=i===0?2*r/(o+r):2*t/(i+t);return[e,a*100,s*100]};hn.hsv.rgb=function(n){let e=n[0]/60,t=n[1]/100,i=n[2]/100,r=Math.floor(e)%6,o=e-Math.floor(e),s=255*i*(1-t),a=255*i*(1-t*o),l=255*i*(1-t*(1-o));switch(i*=255,r){case 0:return[i,l,s];case 1:return[a,i,s];case 2:return[s,i,l];case 3:return[s,a,i];case 4:return[l,s,i];case 5:return[i,s,a]}};hn.hsv.hsl=function(n){let e=n[0],t=n[1]/100,i=n[2]/100,r=Math.max(i,.01),o,s;s=(2-t)*i;let a=(2-t)*r;return o=t*r,o/=a<=1?a:2-a,o=o||0,s/=2,[e,o*100,s*100]};hn.hwb.rgb=function(n){let e=n[0]/360,t=n[1]/100,i=n[2]/100,r=t+i,o;r>1&&(t/=r,i/=r);let s=Math.floor(6*e),a=1-i;o=6*e-s,s&1&&(o=1-o);let l=t+o*(a-t),c,u,d;switch(s){default:case 6:case 0:c=a,u=l,d=t;break;case 1:c=l,u=a,d=t;break;case 2:c=t,u=a,d=l;break;case 3:c=t,u=l,d=a;break;case 4:c=l,u=t,d=a;break;case 5:c=a,u=t,d=l;break}return[c*255,u*255,d*255]};hn.cmyk.rgb=function(n){let e=n[0]/100,t=n[1]/100,i=n[2]/100,r=n[3]/100,o=1-Math.min(1,e*(1-r)+r),s=1-Math.min(1,t*(1-r)+r),a=1-Math.min(1,i*(1-r)+r);return[o*255,s*255,a*255]};hn.xyz.rgb=function(n){let e=n[0]/100,t=n[1]/100,i=n[2]/100,r,o,s;return r=e*3.2406+t*-1.5372+i*-.4986,o=e*-.9689+t*1.8758+i*.0415,s=e*.0557+t*-.204+i*1.057,r=r>.0031308?1.055*r**(1/2.4)-.055:r*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,r=Math.min(Math.max(0,r),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[r*255,o*255,s*255]};hn.xyz.lab=function(n){let e=n[0],t=n[1],i=n[2];e/=95.047,t/=100,i/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,t=t>.008856?t**(1/3):7.787*t+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let r=116*t-16,o=500*(e-t),s=200*(t-i);return[r,o,s]};hn.lab.xyz=function(n){let e=n[0],t=n[1],i=n[2],r,o,s;o=(e+16)/116,r=t/500+o,s=o-i/200;let a=o**3,l=r**3,c=s**3;return o=a>.008856?a:(o-16/116)/7.787,r=l>.008856?l:(r-16/116)/7.787,s=c>.008856?c:(s-16/116)/7.787,r*=95.047,o*=100,s*=108.883,[r,o,s]};hn.lab.lch=function(n){let e=n[0],t=n[1],i=n[2],r;r=Math.atan2(i,t)*360/2/Math.PI,r<0&&(r+=360);let s=Math.sqrt(t*t+i*i);return[e,s,r]};hn.lch.lab=function(n){let e=n[0],t=n[1],r=n[2]/360*2*Math.PI,o=t*Math.cos(r),s=t*Math.sin(r);return[e,o,s]};hn.rgb.ansi16=function(n,e=null){let[t,i,r]=n,o=e===null?hn.rgb.hsv(n)[2]:e;if(o=Math.round(o/50),o===0)return 30;let s=30+(Math.round(r/255)<<2|Math.round(i/255)<<1|Math.round(t/255));return o===2&&(s+=60),s};hn.hsv.ansi16=function(n){return hn.rgb.ansi16(hn.hsv.rgb(n),n[2])};hn.rgb.ansi256=function(n){let e=n[0],t=n[1],i=n[2];return e===t&&t===i?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(i/255*5)};hn.ansi16.rgb=function(n){let e=n%10;if(e===0||e===7)return n>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let t=(~~(n>50)+1)*.5,i=(e&1)*t*255,r=(e>>1&1)*t*255,o=(e>>2&1)*t*255;return[i,r,o]};hn.ansi256.rgb=function(n){if(n>=232){let o=(n-232)*10+8;return[o,o,o]}n-=16;let e,t=Math.floor(n/36)/5*255,i=Math.floor((e=n%36)/6)/5*255,r=e%6/5*255;return[t,i,r]};hn.rgb.hex=function(n){let t=(((Math.round(n[0])&255)<<16)+((Math.round(n[1])&255)<<8)+(Math.round(n[2])&255)).toString(16).toUpperCase();return"000000".substring(t.length)+t};hn.hex.rgb=function(n){let e=n.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let t=e[0];e[0].length===3&&(t=t.split("").map(a=>a+a).join(""));let i=parseInt(t,16),r=i>>16&255,o=i>>8&255,s=i&255;return[r,o,s]};hn.rgb.hcg=function(n){let e=n[0]/255,t=n[1]/255,i=n[2]/255,r=Math.max(Math.max(e,t),i),o=Math.min(Math.min(e,t),i),s=r-o,a,l;return s<1?a=o/(1-s):a=0,s<=0?l=0:r===e?l=(t-i)/s%6:r===t?l=2+(i-e)/s:l=4+(e-t)/s,l/=6,l%=1,[l*360,s*100,a*100]};hn.hsl.hcg=function(n){let e=n[1]/100,t=n[2]/100,i=t<.5?2*e*t:2*e*(1-t),r=0;return i<1&&(r=(t-.5*i)/(1-i)),[n[0],i*100,r*100]};hn.hsv.hcg=function(n){let e=n[1]/100,t=n[2]/100,i=e*t,r=0;return i<1&&(r=(t-i)/(1-i)),[n[0],i*100,r*100]};hn.hcg.rgb=function(n){let e=n[0]/360,t=n[1]/100,i=n[2]/100;if(t===0)return[i*255,i*255,i*255];let r=[0,0,0],o=e%1*6,s=o%1,a=1-s,l=0;switch(Math.floor(o)){case 0:r[0]=1,r[1]=s,r[2]=0;break;case 1:r[0]=a,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=s;break;case 3:r[0]=0,r[1]=a,r[2]=1;break;case 4:r[0]=s,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=a}return l=(1-t)*i,[(t*r[0]+l)*255,(t*r[1]+l)*255,(t*r[2]+l)*255]};hn.hcg.hsv=function(n){let e=n[1]/100,t=n[2]/100,i=e+t*(1-e),r=0;return i>0&&(r=e/i),[n[0],r*100,i*100]};hn.hcg.hsl=function(n){let e=n[1]/100,i=n[2]/100*(1-e)+.5*e,r=0;return i>0&&i<.5?r=e/(2*i):i>=.5&&i<1&&(r=e/(2*(1-i))),[n[0],r*100,i*100]};hn.hcg.hwb=function(n){let e=n[1]/100,t=n[2]/100,i=e+t*(1-e);return[n[0],(i-e)*100,(1-i)*100]};hn.hwb.hcg=function(n){let e=n[1]/100,i=1-n[2]/100,r=i-e,o=0;return r<1&&(o=(i-r)/(1-r)),[n[0],r*100,o*100]};hn.apple.rgb=function(n){return[n[0]/65535*255,n[1]/65535*255,n[2]/65535*255]};hn.rgb.apple=function(n){return[n[0]/255*65535,n[1]/255*65535,n[2]/255*65535]};hn.gray.rgb=function(n){return[n[0]/100*255,n[0]/100*255,n[0]/100*255]};hn.gray.hsl=function(n){return[0,0,n[0]]};hn.gray.hsv=hn.gray.hsl;hn.gray.hwb=function(n){return[0,100,n[0]]};hn.gray.cmyk=function(n){return[0,0,0,n[0]]};hn.gray.lab=function(n){return[n[0],0,0]};hn.gray.hex=function(n){let e=Math.round(n[0]/100*255)&255,i=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(i.length)+i};hn.rgb.gray=function(n){return[(n[0]+n[1]+n[2])/3/255*100]}});var QV=Kd((kVe,JV)=>{"use strict";var Cx=s4();function bpe(){let n={},e=Object.keys(Cx);for(let t=e.length,i=0;i<t;i++)n[e[i]]={distance:-1,parent:null};return n}function vpe(n){let e=bpe(),t=[n];for(e[n].distance=0;t.length;){let i=t.pop(),r=Object.keys(Cx[i]);for(let o=r.length,s=0;s<o;s++){let a=r[s],l=e[a];l.distance===-1&&(l.distance=e[i].distance+1,l.parent=i,t.unshift(a))}}return e}function wpe(n,e){return function(t){return e(n(t))}}function ype(n,e){let t=[e[n].parent,n],i=Cx[e[n].parent][n],r=e[n].parent;for(;e[r].parent;)t.unshift(e[r].parent),i=wpe(Cx[e[r].parent][r],i),r=e[r].parent;return i.conversion=t,i}JV.exports=function(n){let e=vpe(n),t={},i=Object.keys(e);for(let r=i.length,o=0;o<r;o++){let s=i[o];e[s].parent!==null&&(t[s]=ype(s,e))}return t}});var tj=Kd((EVe,ej)=>{"use strict";var a4=s4(),_pe=QV(),Wg={},xpe=Object.keys(a4);function Cpe(n){let e=function(...t){let i=t[0];return i==null?i:(i.length>1&&(t=i),n(t))};return"conversion"in n&&(e.conversion=n.conversion),e}function kpe(n){let e=function(...t){let i=t[0];if(i==null)return i;i.length>1&&(t=i);let r=n(t);if(typeof r=="object")for(let o=r.length,s=0;s<o;s++)r[s]=Math.round(r[s]);return r};return"conversion"in n&&(e.conversion=n.conversion),e}xpe.forEach(n=>{Wg[n]={},Object.defineProperty(Wg[n],"channels",{value:a4[n].channels}),Object.defineProperty(Wg[n],"labels",{value:a4[n].labels});let e=_pe(n);Object.keys(e).forEach(i=>{let r=e[i];Wg[n][i]=kpe(r),Wg[n][i].raw=Cpe(r)})});ej.exports=Wg});function $M(n,e){return Object.is(n,e)}var Mo=null,Ew=!1,Sw=1,Tu=Symbol("SIGNAL");function Pi(n){let e=Mo;return Mo=n,e}function qM(){return Mo}var gb={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function k5(n){if(Ew)throw new Error("");if(Mo===null)return;Mo.consumerOnSignalRead(n);let e=Mo.nextProducerIndex++;if(Mw(Mo),e<Mo.producerNode.length&&Mo.producerNode[e]!==n&&pb(Mo)){let t=Mo.producerNode[e];Iw(t,Mo.producerIndexOfThis[e])}Mo.producerNode[e]!==n&&(Mo.producerNode[e]=n,Mo.producerIndexOfThis[e]=pb(Mo)?YM(n,Mo,e):0),Mo.producerLastReadVersion[e]=n.version}function O$(){Sw++}function GM(n){if(!(pb(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Sw)){if(!n.producerMustRecompute(n)&&!S5(n)){n.dirty=!1,n.lastCleanEpoch=Sw;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Sw}}function KM(n){if(n.liveConsumerNode===void 0)return;let e=Ew;Ew=!0;try{for(let t of n.liveConsumerNode)t.dirty||R$(t)}finally{Ew=e}}function ZM(){return Mo?.consumerAllowSignalWrites!==!1}function R$(n){n.dirty=!0,KM(n),n.consumerMarkedDirty?.(n)}function Tw(n){return n&&(n.nextProducerIndex=0),Pi(n)}function E5(n,e){if(Pi(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(pb(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Iw(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function S5(n){Mw(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(GM(t),i!==t.version))return!0}return!1}function A5(n){if(Mw(n),pb(n))for(let e=0;e<n.producerNode.length;e++)Iw(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function YM(n,e,t){if(XM(n),n.liveConsumerNode.length===0&&JM(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=YM(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Iw(n,e){if(XM(n),n.liveConsumerNode.length===1&&JM(n))for(let i=0;i<n.producerNode.length;i++)Iw(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Mw(r),r.producerIndexOfThis[i]=e}}function pb(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Mw(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function XM(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function JM(n){return n.producerNode!==void 0}function QM(n){let e=Object.create(N$);e.computation=n;let t=()=>{if(GM(e),k5(e),e.value===Aw)throw e.error;return e.value};return t[Tu]=e,t}var x5=Symbol("UNSET"),C5=Symbol("COMPUTING"),Aw=Symbol("ERRORED"),N$=Xt(Be({},gb),{value:x5,dirty:!0,error:null,equal:$M,producerMustRecompute(n){return n.value===x5||n.value===C5},producerRecomputeValue(n){if(n.value===C5)throw new Error("Detected cycle in computations.");let e=n.value;n.value=C5;let t=Tw(n),i;try{i=n.computation()}catch(r){i=Aw,n.error=r}finally{E5(n,t)}if(e!==x5&&e!==Aw&&i!==Aw&&n.equal(e,i)){n.value=e;return}n.value=i,n.version++}});function L$(){throw new Error}var e8=L$;function t8(){e8()}function n8(n){e8=n}var F$=null;function i8(n){let e=Object.create(o8);e.value=n;let t=()=>(k5(e),e.value);return t[Tu]=e,t}function T5(n,e){ZM()||t8(),n.equal(n.value,e)||(n.value=e,B$(n))}function r8(n,e){ZM()||t8(),T5(n,e(n.value))}var o8=Xt(Be({},gb),{equal:$M,value:void 0});function B$(n){n.version++,O$(),KM(n),F$?.()}function Qn(n){return typeof n=="function"}function sp(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Pw=sp(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Cf(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var hr=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(Qn(i))try{i()}catch(o){e=o instanceof Pw?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{s8(o)}catch(s){e=e??[],s instanceof Pw?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Pw(e)}}add(e){var t;if(e&&e!==this)if(this.closed)s8(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Cf(t,e)}remove(e){let{_finalizers:t}=this;t&&Cf(t,e),e instanceof n&&e._removeParent(this)}};hr.EMPTY=(()=>{let n=new hr;return n.closed=!0,n})();var I5=hr.EMPTY;function Dw(n){return n instanceof hr||n&&"closed"in n&&Qn(n.remove)&&Qn(n.add)&&Qn(n.unsubscribe)}function s8(n){Qn(n)?n():n.unsubscribe()}var Kl={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ap={setTimeout(n,e,...t){let{delegate:i}=ap;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ap;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ow(n){ap.setTimeout(()=>{let{onUnhandledError:e}=Kl;if(e)e(n);else throw n})}function bb(){}var a8=M5("C",void 0,void 0);function l8(n){return M5("E",void 0,n)}function c8(n){return M5("N",n,void 0)}function M5(n,e,t){return{kind:n,value:e,error:t}}var kf=null;function lp(n){if(Kl.useDeprecatedSynchronousErrorHandling){let e=!kf;if(e&&(kf={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=kf;if(kf=null,t)throw i}}else n()}function u8(n){Kl.useDeprecatedSynchronousErrorHandling&&kf&&(kf.errorThrown=!0,kf.error=n)}var Ef=class extends hr{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Dw(e)&&e.add(this)):this.destination=z$}static create(e,t,i){return new cp(e,t,i)}next(e){this.isStopped?D5(c8(e),this):this._next(e)}error(e){this.isStopped?D5(l8(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?D5(a8,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},V$=Function.prototype.bind;function P5(n,e){return V$.call(n,e)}var O5=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Rw(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Rw(i)}else Rw(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Rw(t)}}},cp=class extends Ef{constructor(e,t,i){super();let r;if(Qn(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&Kl.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&P5(e.next,o),error:e.error&&P5(e.error,o),complete:e.complete&&P5(e.complete,o)}):r=e}this.destination=new O5(r)}};function Rw(n){Kl.useDeprecatedSynchronousErrorHandling?u8(n):Ow(n)}function j$(n){throw n}function D5(n,e){let{onStoppedNotification:t}=Kl;t&&ap.setTimeout(()=>t(n,e))}var z$={closed:!0,next:bb,error:j$,complete:bb};var up=typeof Symbol=="function"&&Symbol.observable||"@@observable";function zs(n){return n}function R5(...n){return N5(n)}function N5(n){return n.length===0?zs:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var _i=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=H$(t)?t:new cp(t,i,r);return lp(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=d8(i),new i((r,o)=>{let s=new cp({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[up](){return this}pipe(...t){return N5(t)(this)}toPromise(t){return t=d8(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function d8(n){var e;return(e=n??Kl.Promise)!==null&&e!==void 0?e:Promise}function U$(n){return n&&Qn(n.next)&&Qn(n.error)&&Qn(n.complete)}function H$(n){return n&&n instanceof Ef||U$(n)&&Dw(n)}function L5(n){return Qn(n?.lift)}function xi(n){return e=>{if(L5(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function hi(n,e,t,i,r){return new F5(n,e,t,i,r)}var F5=class extends Ef{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function dp(){return xi((n,e)=>{let t=null;n._refCount++;let i=hi(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var hp=class extends _i{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,L5(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new hr;let t=this.getSubject();e.add(this.source.subscribe(hi(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=hr.EMPTY)}return e}refCount(){return dp()(this)}};var h8=sp(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ji=(()=>{class n extends _i{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new Nw(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new h8}next(t){lp(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){lp(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){lp(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?I5:(this.currentObservers=null,o.push(t),new hr(()=>{this.currentObservers=null,Cf(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new _i;return t.source=this,t}}return n.create=(e,t)=>new Nw(e,t),n})(),Nw=class extends ji{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:I5}};var go=class extends ji{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var B5={now(){return(B5.delegate||Date).now()},delegate:void 0};var Lw=class extends hr{constructor(e,t){super()}schedule(e,t=0){return this}};var vb={setInterval(n,e,...t){let{delegate:i}=vb;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=vb;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Fw=class extends Lw{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return vb.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&vb.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Cf(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var fp=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};fp.now=B5.now;var Bw=class extends fp{constructor(e,t=fp.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var f8=new Bw(Fw);var fs=new _i(n=>n.complete());function m8(n){return n&&Qn(n.schedule)}function V5(n){return n[n.length-1]}function Vw(n){return Qn(V5(n))?n.pop():void 0}function Oc(n){return m8(V5(n))?n.pop():void 0}function p8(n,e){return typeof V5(n)=="number"?n.pop():e}function b8(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}function g8(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sf(n){return this instanceof Sf?(this.v=n,this):new Sf(n)}function v8(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(h){return function(m){return Promise.resolve(m).then(h,d)}}function a(h,m){i[h]&&(r[h]=function(p){return new Promise(function(g,v){o.push([h,p,g,v])>1||l(h,p)})},m&&(r[h]=m(r[h])))}function l(h,m){try{c(i[h](m))}catch(p){f(o[0][3],p)}}function c(h){h.value instanceof Sf?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,m){h(m),o.shift(),o.length&&l(o[0][0],o[0][1])}}function w8(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof g8=="function"?g8(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var jw=n=>n&&typeof n.length=="number"&&typeof n!="function";function zw(n){return Qn(n?.then)}function Uw(n){return Qn(n[up])}function Hw(n){return Symbol.asyncIterator&&Qn(n?.[Symbol.asyncIterator])}function Ww(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function W$(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var $w=W$();function qw(n){return Qn(n?.[$w])}function Gw(n){return v8(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield Sf(t.read());if(r)return yield Sf(void 0);yield yield Sf(i)}}finally{t.releaseLock()}})}function Kw(n){return Qn(n?.getReader)}function so(n){if(n instanceof _i)return n;if(n!=null){if(Uw(n))return $$(n);if(jw(n))return q$(n);if(zw(n))return G$(n);if(Hw(n))return y8(n);if(qw(n))return K$(n);if(Kw(n))return Z$(n)}throw Ww(n)}function $$(n){return new _i(e=>{let t=n[up]();if(Qn(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function q$(n){return new _i(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function G$(n){return new _i(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ow)})}function K$(n){return new _i(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function y8(n){return new _i(e=>{Y$(n,e).catch(t=>e.error(t))})}function Z$(n){return y8(Gw(n))}function Y$(n,e){var t,i,r,o;return b8(this,void 0,void 0,function*(){try{for(t=w8(n);i=yield t.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function ca(n,e,t,i=0,r=!1){let o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Zw(n,e=0){return xi((t,i)=>{t.subscribe(hi(i,r=>ca(i,n,()=>i.next(r),e),()=>ca(i,n,()=>i.complete(),e),r=>ca(i,n,()=>i.error(r),e)))})}function Yw(n,e=0){return xi((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function _8(n,e){return so(n).pipe(Yw(e),Zw(e))}function x8(n,e){return so(n).pipe(Yw(e),Zw(e))}function C8(n,e){return new _i(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function k8(n,e){return new _i(t=>{let i;return ca(t,e,()=>{i=n[$w](),ca(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>Qn(i?.return)&&i.return()})}function Xw(n,e){if(!n)throw new Error("Iterable cannot be null");return new _i(t=>{ca(t,e,()=>{let i=n[Symbol.asyncIterator]();ca(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function E8(n,e){return Xw(Gw(n),e)}function S8(n,e){if(n!=null){if(Uw(n))return _8(n,e);if(jw(n))return C8(n,e);if(zw(n))return x8(n,e);if(Hw(n))return Xw(n,e);if(qw(n))return k8(n,e);if(Kw(n))return E8(n,e)}throw Ww(n)}function fr(n,e){return e?S8(n,e):so(n)}function En(...n){let e=Oc(n);return fr(n,e)}function mp(n,e){let t=Qn(n)?n:()=>n,i=r=>r.error(t());return new _i(e?r=>e.schedule(i,0,r):i)}function j5(n){return!!n&&(n instanceof _i||Qn(n.lift)&&Qn(n.subscribe))}var Iu=sp(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function jn(n,e){return xi((t,i)=>{let r=0;t.subscribe(hi(i,o=>{i.next(n.call(e,o,r++))}))})}var{isArray:X$}=Array;function J$(n,e){return X$(e)?n(...e):n(e)}function Jw(n){return jn(e=>J$(n,e))}var{isArray:Q$}=Array,{getPrototypeOf:eq,prototype:tq,keys:nq}=Object;function Qw(n){if(n.length===1){let e=n[0];if(Q$(e))return{args:e,keys:null};if(iq(e)){let t=nq(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function iq(n){return n&&typeof n=="object"&&eq(n)===tq}function ey(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Af(...n){let e=Oc(n),t=Vw(n),{args:i,keys:r}=Qw(n);if(i.length===0)return fr([],e);let o=new _i(rq(i,e,r?s=>ey(r,s):zs));return t?o.pipe(Jw(t)):o}function rq(n,e,t=zs){return i=>{A8(e,()=>{let{length:r}=n,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)A8(e,()=>{let c=fr(n[l],e),u=!1;c.subscribe(hi(i,d=>{o[l]=d,u||(u=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function A8(n,e,t){n?ca(t,n,e):e()}function T8(n,e,t,i,r,o,s,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&e.complete()},h=p=>c<i?m(p):l.push(p),m=p=>{o&&e.next(p),c++;let g=!1;so(t(p,u++)).subscribe(hi(e,v=>{r?.(v),o?h(v):e.next(v)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<i;){let v=l.shift();s?ca(e,s,()=>m(v)):m(v)}f()}catch(v){e.error(v)}}))};return n.subscribe(hi(e,h,()=>{d=!0,f()})),()=>{a?.()}}function Co(n,e,t=1/0){return Qn(e)?Co((i,r)=>jn((o,s)=>e(i,o,r,s))(so(n(i,r))),t):(typeof e=="number"&&(t=e),xi((i,r)=>T8(i,r,n,t)))}function Zd(n=1/0){return Co(zs,n)}function I8(){return Zd(1)}function Yd(...n){return I8()(fr(n,Oc(n)))}function ty(n){return new _i(e=>{so(n()).subscribe(e)})}function z5(...n){let e=Vw(n),{args:t,keys:i}=Qw(n),r=new _i(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;so(t[u]).subscribe(hi(o,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?ey(i,a):a),o.complete())}))}});return e?r.pipe(Jw(e)):r}function U5(...n){let e=Oc(n),t=p8(n,1/0),i=n;return i.length?i.length===1?so(i[0]):Zd(t)(fr(i,e)):fs}function xr(n,e){return xi((t,i)=>{let r=0;t.subscribe(hi(i,o=>n.call(e,o,r++)&&i.next(o)))})}function Xd(n){return xi((e,t)=>{let i=null,r=!1,o;i=e.subscribe(hi(t,void 0,void 0,s=>{o=so(n(s,Xd(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function M8(n,e,t,i,r){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(hi(s,u=>{let d=c++;l=a?n(l,u,d):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function Mu(n,e){return Qn(e)?Co(n,e,1):Co(n,1)}function ny(n,e=f8){return xi((t,i)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let c=o;o=null,i.next(c)}};function l(){let c=s+n,u=e.now();if(u<c){r=this.schedule(void 0,c-u),i.add(r);return}a()}t.subscribe(hi(i,c=>{o=c,s=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function Jd(n){return xi((e,t)=>{let i=!1;e.subscribe(hi(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function ua(n){return n<=0?()=>fs:xi((e,t)=>{let i=0;e.subscribe(hi(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function H5(n){return jn(()=>n)}function wb(n,e=zs){return n=n??oq,xi((t,i)=>{let r,o=!0;t.subscribe(hi(i,s=>{let a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function oq(n,e){return n===e}function iy(n=sq){return xi((e,t)=>{let i=!1;e.subscribe(hi(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function sq(){return new Iu}function Tf(n){return xi((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function sl(n,e){let t=arguments.length>=2;return i=>i.pipe(n?xr((r,o)=>n(r,o,i)):zs,ua(1),t?Jd(e):iy(()=>new Iu))}function pp(n){return n<=0?()=>fs:xi((e,t)=>{let i=[];e.subscribe(hi(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function W5(n,e){let t=arguments.length>=2;return i=>i.pipe(n?xr((r,o)=>n(r,o,i)):zs,pp(1),t?Jd(e):iy(()=>new Iu))}function $5(n,e){return xi(M8(n,e,arguments.length>=2,!0))}function yb(n){return xr((e,t)=>n<=t)}function Pu(...n){let e=Oc(n);return xi((t,i)=>{(e?Yd(n,t,e):Yd(n,t)).subscribe(i)})}function da(n,e){return xi((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(hi(i,l=>{r?.unsubscribe();let c=0,u=o++;so(n(l,u)).subscribe(r=hi(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function If(n){return xi((e,t)=>{so(n).subscribe(hi(t,()=>t.complete(),bb)),!t.closed&&e.subscribe(t)})}function Po(n,e,t){let i=Qn(n)||e||t?{next:n,error:e,complete:t}:n;return i?xi((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(hi(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):zs}var vP="https://g.co/ng/security#xss",Ot=class extends Error{constructor(e,t){super(Hy(e,t)),this.code=e}};function Hy(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Ob(n){return{toString:n}.toString()}var ry="__parameters__";function aq(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function wP(n,e,t){return Ob(()=>{let i=aq(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(ry)?l[ry]:Object.defineProperty(l,ry,{value:[]})[ry];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var Cb=globalThis;function mr(n){for(let e in n)if(n[e]===mr)return e;throw Error("Could not find renamed property on target object.")}function lq(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Hs(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Hs).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function ok(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var cq=mr({__forward_ref__:mr});function $s(n){return n.__forward_ref__=$s,n.toString=function(){return Hs(this())},n}function Us(n){return yP(n)?n():n}function yP(n){return typeof n=="function"&&n.hasOwnProperty(cq)&&n.__forward_ref__===$s}function Nt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function zi(n){return{providers:n.providers||[],imports:n.imports||[]}}function Wy(n){return P8(n,xP)||P8(n,CP)}function _P(n){return Wy(n)!==null}function P8(n,e){return n.hasOwnProperty(e)?n[e]:null}function uq(n){let e=n&&(n[xP]||n[CP]);return e||null}function D8(n){return n&&(n.hasOwnProperty(O8)||n.hasOwnProperty(dq))?n[O8]:null}var xP=mr({\u0275prov:mr}),O8=mr({\u0275inj:mr}),CP=mr({ngInjectableDef:mr}),dq=mr({ngInjectorDef:mr}),jt=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Nt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function kP(n){return n&&!!n.\u0275providers}var hq=mr({\u0275cmp:mr}),fq=mr({\u0275dir:mr}),mq=mr({\u0275pipe:mr}),pq=mr({\u0275mod:mr}),by=mr({\u0275fac:mr}),xb=mr({__NG_ELEMENT_ID__:mr}),R8=mr({__NG_ENV_ID__:mr});function fa(n){return typeof n=="string"?n:n==null?"":String(n)}function gq(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():fa(n)}function bq(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Ot(-200,n)}function uE(n,e){throw new Ot(-201,!1)}var bi=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(bi||{}),sk;function EP(){return sk}function ha(n){let e=sk;return sk=n,e}function SP(n,e,t){let i=Wy(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&bi.Optional)return null;if(e!==void 0)return e;uE(n,"Injector")}var vq={},kb=vq,ak="__NG_DI_FLAG__",vy="ngTempTokenPath",wq="ngTokenPath",yq=/\n/gm,_q="\u0275",N8="__source",yp;function xq(){return yp}function Qd(n){let e=yp;return yp=n,e}function Cq(n,e=bi.Default){if(yp===void 0)throw new Ot(-203,!1);return yp===null?SP(n,void 0,e):yp.get(n,e&bi.Optional?null:void 0,e)}function Tt(n,e=bi.Default){return(EP()||Cq)(Us(n),e)}function At(n,e=bi.Default){return Tt(n,$y(e))}function $y(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function lk(n){let e=[];for(let t=0;t<n.length;t++){let i=Us(n[t]);if(Array.isArray(i)){if(i.length===0)throw new Ot(900,!1);let r,o=bi.Default;for(let s=0;s<i.length;s++){let a=i[s],l=kq(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}e.push(Tt(r,o))}else e.push(Tt(i))}return e}function AP(n,e){return n[ak]=e,n.prototype[ak]=e,n}function kq(n){return n[ak]}function Eq(n,e,t,i){let r=n[vy];throw e[N8]&&r.unshift(e[N8]),n.message=Sq(`
`+n.message,r,t,i),n[wq]=r,n[vy]=null,n}function Sq(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==_q?n.slice(2):n;let r=Hs(e);if(Array.isArray(e))r=e.map(Hs).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Hs(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(yq,`
  `)}`}var Rb=AP(wP("Optional"),8);var qy=AP(wP("SkipSelf"),4);function Of(n,e){let t=n.hasOwnProperty(by);return t?n[by]:null}function Aq(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function Tq(n){return n.flat(Number.POSITIVE_INFINITY)}function dE(n,e){n.forEach(t=>Array.isArray(t)?dE(t,e):e(t))}function TP(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function wy(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Iq(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function Mq(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function hE(n,e,t){let i=Nb(n,e);return i>=0?n[i|1]=t:(i=~i,Mq(n,i,e,t)),i}function q5(n,e){let t=Nb(n,e);if(t>=0)return n[t|1]}function Nb(n,e){return Pq(n,e,1)}function Pq(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}var xp={},ma=[],Cp=new jt(""),IP=new jt("",-1),MP=new jt(""),yy=class{get(e,t=kb){if(t===kb){let i=new Error(`NullInjectorError: No provider for ${Hs(e)}!`);throw i.name="NullInjectorError",i}return t}},PP=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(PP||{}),Lc=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Lc||{}),nh=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(nh||{});function Dq(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function ck(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{let o=r,s=t[++i];Oq(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function DP(n){return n===3||n===4||n===6}function Oq(n){return n.charCodeAt(0)===64}function Eb(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?L8(n,t,r,null,e[++i]):L8(n,t,r,null,null))}}return n}function L8(n,e,t,i,r){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[o+1]=r);return}else if(i===n[o+1]){n[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i),r!==null&&n.splice(o++,0,r)}var OP="ng-template";function Rq(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&Dq(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(fE(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function fE(n){return n.type===4&&n.value!==OP}function Nq(n,e,t){let i=n.type===4&&!t?OP:n.value;return e===i}function Lq(n,e,t){let i=4,r=n.attrs,o=r!==null?Vq(r):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Zl(i)&&!Zl(l))return!1;if(s&&Zl(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!Nq(n,l,t)||l===""&&e.length===1){if(Zl(i))return!1;s=!0}}else if(i&8){if(r===null||!Rq(n,r,l,t)){if(Zl(i))return!1;s=!0}}else{let c=e[++a],u=Fq(l,r,fE(n),t);if(u===-1){if(Zl(i))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=r[u+1].toLowerCase(),i&2&&c!==d){if(Zl(i))return!1;s=!0}}}}return Zl(i)||s}function Zl(n){return(n&1)===0}function Fq(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return jq(e,n)}function RP(n,e,t=!1){for(let i=0;i<e.length;i++)if(Lq(n,e[i],t))return!0;return!1}function Bq(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function Vq(n){for(let e=0;e<n.length;e++){let t=n[e];if(DP(t))return e}return n.length}function jq(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function zq(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function F8(n,e){return n?":not("+e.trim()+")":e}function Uq(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(i&2){let a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Zl(s)&&(e+=F8(o,r),r=""),i=s,o=o||!Zl(i);t++}return r!==""&&(e+=F8(o,r)),e}function Hq(n){return n.map(Uq).join(",")}function Wq(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!Zl(r))break;r=o}i++}return{attrs:e,classes:t}}function Lt(n){return Ob(()=>{let e=VP(n),t=Xt(Be({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===PP.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Lc.Emulated,styles:n.styles||ma,_:null,schemas:n.schemas||null,tView:null,id:""});jP(t);let i=n.dependencies;return t.directiveDefs=V8(i,!1),t.pipeDefs=V8(i,!0),t.id=Gq(t),t})}function $q(n){return ih(n)||NP(n)}function qq(n){return n!==null}function Ui(n){return Ob(()=>({type:n.type,bootstrap:n.bootstrap||ma,declarations:n.declarations||ma,imports:n.imports||ma,exports:n.exports||ma,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function B8(n,e){if(n==null)return xp;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,a=nh.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(t[o]=a!==nh.None?[i,a]:i,e[o]=s):t[o]=i}return t}function ki(n){return Ob(()=>{let e=VP(n);return jP(e),e})}function mE(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function ih(n){return n[hq]||null}function NP(n){return n[fq]||null}function LP(n){return n[mq]||null}function FP(n){let e=ih(n)||NP(n)||LP(n);return e!==null?e.standalone:!1}function BP(n,e){let t=n[pq]||null;if(!t&&e===!0)throw new Error(`Type ${Hs(n)} does not have '\u0275mod' property.`);return t}function VP(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||xp,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||ma,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:B8(n.inputs,e),outputs:B8(n.outputs),debugInfo:null}}function jP(n){n.features?.forEach(e=>e(n))}function V8(n,e){if(!n)return null;let t=e?LP:$q;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(qq)}function Gq(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Pp(n){return{\u0275providers:n}}function Kq(...n){return{\u0275providers:zP(!0,n),\u0275fromNgModule:!0}}function zP(n,...e){let t=[],i=new Set,r,o=s=>{t.push(s)};return dE(e,s=>{let a=s;uk(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&UP(r,o),t}function UP(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];pE(r,o=>{e(o,i)})}}function uk(n,e,t,i){if(n=Us(n),!n)return!1;let r=null,o=D8(n),s=!o&&ih(n);if(!o&&!s){let l=n.ngModule;if(o=D8(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=n}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)uk(c,e,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;try{dE(o.imports,u=>{uk(u,e,t,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&UP(c,e)}if(!a){let c=Of(r)||(()=>new r);e({provide:r,useFactory:c,deps:ma},r),e({provide:MP,useValue:r,multi:!0},r),e({provide:Cp,useValue:()=>Tt(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=n;pE(l,u=>{e(u,c)})}}else return!1;return r!==n&&n.providers!==void 0}function pE(n,e){for(let t of n)kP(t)&&(t=t.\u0275providers),Array.isArray(t)?pE(t,e):e(t)}var Zq=mr({provide:String,useValue:mr});function HP(n){return n!==null&&typeof n=="object"&&Zq in n}function Yq(n){return!!(n&&n.useExisting)}function Xq(n){return!!(n&&n.useFactory)}function kp(n){return typeof n=="function"}function Jq(n){return!!n.useClass}var Gy=new jt(""),dy={},Qq={},G5;function gE(){return G5===void 0&&(G5=new yy),G5}var Ws=class{},Sb=class extends Ws{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hk(e,s=>this.processProvider(s)),this.records.set(IP,gp(void 0,this)),r.has("environment")&&this.records.set(Ws,gp(void 0,this));let o=this.records.get(Gy);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(MP,ma,bi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Pi(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Pi(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Qd(this),i=ha(void 0),r;try{return e()}finally{Qd(t),ha(i)}}get(e,t=kb,i=bi.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(R8))return e[R8](this);i=$y(i);let r,o=Qd(this),s=ha(void 0);try{if(!(i&bi.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=rG(e)&&Wy(e);c&&this.injectableDefInScope(c)?l=gp(dk(e),dy):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&bi.Self?gE():this.parent;return t=i&bi.Optional&&t===kb?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[vy]=a[vy]||[]).unshift(Hs(e)),o)throw a;return Eq(a,e,"R3InjectorError",this.source)}else throw a}finally{ha(s),Qd(o)}}resolveInjectorInitializers(){let e=Pi(null),t=Qd(this),i=ha(void 0),r;try{let o=this.get(Cp,ma,bi.Self);for(let s of o)s()}finally{Qd(t),ha(i),Pi(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(Hs(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ot(205,!1)}processProvider(e){e=Us(e);let t=kp(e)?e:Us(e&&e.provide),i=tG(e);if(!kp(e)&&e.multi===!0){let r=this.records.get(t);r||(r=gp(void 0,dy,!0),r.factory=()=>lk(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=Pi(null);try{return t.value===dy&&(t.value=Qq,t.value=t.factory()),typeof t.value=="object"&&t.value&&iG(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Pi(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Us(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function dk(n){let e=Wy(n),t=e!==null?e.factory:Of(n);if(t!==null)return t;if(n instanceof jt)throw new Ot(204,!1);if(n instanceof Function)return eG(n);throw new Ot(204,!1)}function eG(n){if(n.length>0)throw new Ot(204,!1);let t=uq(n);return t!==null?()=>t.factory(n):()=>new n}function tG(n){if(HP(n))return gp(void 0,n.useValue);{let e=WP(n);return gp(e,dy)}}function WP(n,e,t){let i;if(kp(n)){let r=Us(n);return Of(r)||dk(r)}else if(HP(n))i=()=>Us(n.useValue);else if(Xq(n))i=()=>n.useFactory(...lk(n.deps||[]));else if(Yq(n))i=()=>Tt(Us(n.useExisting));else{let r=Us(n&&(n.useClass||n.provide));if(nG(n))i=()=>new r(...lk(n.deps));else return Of(r)||dk(r)}return i}function gp(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function nG(n){return!!n.deps}function iG(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function rG(n){return typeof n=="function"||typeof n=="object"&&n instanceof jt}function hk(n,e){for(let t of n)Array.isArray(t)?hk(t,e):t&&kP(t)?hk(t.\u0275providers,e):e(t)}function dl(n,e){n instanceof Sb&&n.assertNotDestroyed();let t,i=Qd(n),r=ha(void 0);try{return e()}finally{Qd(i),ha(r)}}function $P(){return EP()!==void 0||xq()!=null}function oG(n){if(!$P())throw new Ot(-203,!1)}function sG(n){return typeof n=="function"}var Nu=0,ei=1,zn=2,ks=3,Xl=4,ga=5,Ab=6,_y=7,ll=8,Ep=9,Fc=10,$r=11,Tb=12,j8=13,Dp=14,cl=15,Rf=16,bp=17,Du=18,Ky=19,qP=20,eh=21,K5=22,al=23,Es=25,GP=1;var Nf=7,xy=8,Sp=9,pa=10,Cy=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Cy||{});function th(n){return Array.isArray(n)&&typeof n[GP]=="object"}function Lu(n){return Array.isArray(n)&&n[GP]===!0}function bE(n){return(n.flags&4)!==0}function Zy(n){return n.componentOffset>-1}function Yy(n){return(n.flags&1)===1}function rh(n){return!!n.template}function fk(n){return(n[zn]&512)!==0}var mk=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function KP(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function ba(){return ZP}function ZP(n){return n.type.prototype.ngOnChanges&&(n.setInput=lG),aG}ba.ngInherit=!0;function aG(){let n=XP(this),e=n?.current;if(e){let t=n.previous;if(t===xp)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function lG(n,e,t,i,r){let o=this.declaredInputs[i],s=XP(n)||cG(n,{previous:xp,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new mk(c&&c.currentValue,t,l===xp),KP(n,e,r,t)}var YP="__ngSimpleChanges__";function XP(n){return n[YP]||null}function cG(n,e){return n[YP]=e}var z8=null;var Rc=function(n,e,t){z8?.(n,e,t)},JP="svg",uG="math";function Bc(n){for(;Array.isArray(n);)n=n[Nu];return n}function QP(n,e){return Bc(e[n])}function hl(n,e){return Bc(e[n.index])}function vE(n,e){return n.data[e]}function eD(n,e){return n[e]}function ch(n,e){let t=e[n];return th(t)?t:t[Nu]}function dG(n){return(n[zn]&4)===4}function wE(n){return(n[zn]&128)===128}function hG(n){return Lu(n[ks])}function Ap(n,e){return e==null?null:n[e]}function tD(n){n[bp]=0}function nD(n){n[zn]&1024||(n[zn]|=1024,wE(n)&&Jy(n))}function fG(n,e){for(;n>0;)e=e[Dp],n--;return e}function Xy(n){return!!(n[zn]&9216||n[al]?.dirty)}function pk(n){n[Fc].changeDetectionScheduler?.notify(8),n[zn]&64&&(n[zn]|=1024),Xy(n)&&Jy(n)}function Jy(n){n[Fc].changeDetectionScheduler?.notify(0);let e=Lf(n);for(;e!==null&&!(e[zn]&8192||(e[zn]|=8192,!wE(e)));)e=Lf(e)}function iD(n,e){if((n[zn]&256)===256)throw new Ot(911,!1);n[eh]===null&&(n[eh]=[]),n[eh].push(e)}function mG(n,e){if(n[eh]===null)return;let t=n[eh].indexOf(e);t!==-1&&n[eh].splice(t,1)}function Lf(n){let e=n[ks];return Lu(e)?e[ks]:e}var ri={lFrame:hD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var rD=!1;function pG(){return ri.lFrame.elementDepthCount}function gG(){ri.lFrame.elementDepthCount++}function bG(){ri.lFrame.elementDepthCount--}function oD(){return ri.bindingsEnabled}function sD(){return ri.skipHydrationRootTNode!==null}function vG(n){return ri.skipHydrationRootTNode===n}function wG(){ri.skipHydrationRootTNode=null}function qn(){return ri.lFrame.lView}function eo(){return ri.lFrame.tView}function Pe(n){return ri.lFrame.contextLView=n,n[ll]}function De(n){return ri.lFrame.contextLView=null,n}function ms(){let n=aD();for(;n!==null&&n.type===64;)n=n.parent;return n}function aD(){return ri.lFrame.currentTNode}function yG(){let n=ri.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Uf(n,e){let t=ri.lFrame;t.currentTNode=n,t.isParent=e}function yE(){return ri.lFrame.isParent}function _E(){ri.lFrame.isParent=!1}function _G(){return ri.lFrame.contextLView}function lD(){return rD}function U8(n){rD=n}function Lb(){let n=ri.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function xE(){return ri.lFrame.bindingIndex}function xG(n){return ri.lFrame.bindingIndex=n}function Op(){return ri.lFrame.bindingIndex++}function Fb(n){let e=ri.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function CG(){return ri.lFrame.inI18n}function kG(n,e){let t=ri.lFrame;t.bindingIndex=t.bindingRootIndex=n,gk(e)}function EG(){return ri.lFrame.currentDirectiveIndex}function gk(n){ri.lFrame.currentDirectiveIndex=n}function SG(n){let e=ri.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function cD(){return ri.lFrame.currentQueryIndex}function CE(n){ri.lFrame.currentQueryIndex=n}function AG(n){let e=n[ei];return e.type===2?e.declTNode:e.type===1?n[ga]:null}function uD(n,e,t){if(t&bi.SkipSelf){let r=e,o=n;for(;r=r.parent,r===null&&!(t&bi.Host);)if(r=AG(o),r===null||(o=o[Dp],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=ri.lFrame=dD();return i.currentTNode=e,i.lView=n,!0}function kE(n){let e=dD(),t=n[ei];ri.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function dD(){let n=ri.lFrame,e=n===null?null:n.child;return e===null?hD(n):e}function hD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function fD(){let n=ri.lFrame;return ri.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var mD=fD;function EE(){let n=fD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function TG(n){return(ri.lFrame.contextLView=fG(n,ri.lFrame.contextLView))[ll]}function zc(){return ri.lFrame.selectedIndex}function Ff(n){ri.lFrame.selectedIndex=n}function Bb(){let n=ri.lFrame;return vE(n.tView,n.selectedIndex)}function pD(){ri.lFrame.currentNamespace=JP}function gD(){IG()}function IG(){ri.lFrame.currentNamespace=null}function MG(){return ri.lFrame.currentNamespace}var bD=!0;function Qy(){return bD}function e2(n){bD=n}function PG(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=ZP(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function t2(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function hy(n,e,t){vD(n,e,3,t)}function fy(n,e,t,i){(n[zn]&3)===t&&vD(n,e,t,i)}function Z5(n,e){let t=n[zn];(t&3)===e&&(t&=16383,t+=1,n[zn]=t)}function vD(n,e,t,i){let r=i!==void 0?n[bp]&65535:0,o=i??-1,s=e.length-1,a=0;for(let l=r;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(n[bp]+=65536),(a<o||o==-1)&&(DG(n,t,e,l),n[bp]=(n[bp]&4294901760)+l+2),l++}function H8(n,e){Rc(4,n,e);let t=Pi(null);try{e.call(n)}finally{Pi(t),Rc(5,n,e)}}function DG(n,e,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=n[s];r?n[zn]>>14<n[bp]>>16&&(n[zn]&3)===e&&(n[zn]+=16384,H8(a,o)):H8(a,o)}var _p=-1,Bf=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function OG(n){return n instanceof Bf}function RG(n){return(n.flags&8)!==0}function NG(n){return(n.flags&16)!==0}var Y5={},bk=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=$y(i);let r=this.injector.get(e,Y5,i);return r!==Y5||t===Y5?r:this.parentInjector.get(e,t,i)}};function wD(n){return n!==_p}function ky(n){return n&32767}function LG(n){return n>>16}function Ey(n,e){let t=LG(n),i=e;for(;t>0;)i=i[Dp],t--;return i}var vk=!0;function Sy(n){let e=vk;return vk=n,e}var FG=256,yD=FG-1,_D=5,BG=0,Nc={};function VG(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(xb)&&(i=t[xb]),i==null&&(i=t[xb]=BG++);let r=i&yD,o=1<<r;e.data[n+(r>>_D)]|=o}function Ay(n,e){let t=xD(n,e);if(t!==-1)return t;let i=e[ei];i.firstCreatePass&&(n.injectorIndex=e.length,X5(i.data,n),X5(e,null),X5(i.blueprint,null));let r=SE(n,e),o=n.injectorIndex;if(wD(r)){let s=ky(r),a=Ey(r,e),l=a[ei].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=r,o}function X5(n,e){n.push(0,0,0,0,0,0,0,0,e)}function xD(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function SE(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=AD(r),i===null)return _p;if(t++,r=r[Dp],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return _p}function wk(n,e,t){VG(n,e,t)}function jG(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let o=t[r];if(DP(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(o===e)return t[r+1];r=r+2}}}return null}function CD(n,e,t){if(t&bi.Optional||n!==void 0)return n;uE(e,"NodeInjector")}function kD(n,e,t,i){if(t&bi.Optional&&i===void 0&&(i=null),!(t&(bi.Self|bi.Host))){let r=n[Ep],o=ha(void 0);try{return r?r.get(e,i,t&bi.Optional):SP(e,i,t&bi.Optional)}finally{ha(o)}}return CD(i,e,t)}function ED(n,e,t,i=bi.Default,r){if(n!==null){if(e[zn]&2048&&!(i&bi.Self)){let s=WG(n,e,t,i,Nc);if(s!==Nc)return s}let o=SD(n,e,t,i,Nc);if(o!==Nc)return o}return kD(e,t,i,r)}function SD(n,e,t,i,r){let o=UG(t);if(typeof o=="function"){if(!uD(e,n,i))return i&bi.Host?CD(r,t,i):kD(e,t,i,r);try{let s;if(s=o(i),s==null&&!(i&bi.Optional))uE(t);else return s}finally{mD()}}else if(typeof o=="number"){let s=null,a=xD(n,e),l=_p,c=i&bi.Host?e[cl][ga]:null;for((a===-1||i&bi.SkipSelf)&&(l=a===-1?SE(n,e):e[a+8],l===_p||!$8(i,!1)?a=-1:(s=e[ei],a=ky(l),e=Ey(l,e)));a!==-1;){let u=e[ei];if(W8(o,a,u.data)){let d=zG(a,e,t,s,i,c);if(d!==Nc)return d}l=e[a+8],l!==_p&&$8(i,e[ei].data[a+8]===c)&&W8(o,a,e)?(s=u,a=ky(l),e=Ey(l,e)):a=-1}}return r}function zG(n,e,t,i,r,o){let s=e[ei],a=s.data[n+8],l=i==null?Zy(a)&&vk:i!=s&&(a.type&3)!==0,c=r&bi.Host&&o===a,u=my(a,s,t,l,c);return u!==null?Vf(e,s,u,a):Nc}function my(n,e,t,i,r){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,c=n.directiveEnd,u=o>>20,d=i?a:a+u,f=r?a+u:c;for(let h=d;h<f;h++){let m=s[h];if(h<l&&t===m||h>=l&&m.type===t)return h}if(r){let h=s[l];if(h&&rh(h)&&h.type===t)return l}return null}function Vf(n,e,t,i){let r=n[t],o=e.data;if(OG(r)){let s=r;s.resolving&&bq(gq(o[t]));let a=Sy(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?ha(s.injectImpl):null,u=uD(n,i,bi.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&PG(t,o[t],e)}finally{c!==null&&ha(c),Sy(a),s.resolving=!1,mD()}}return r}function UG(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(xb)?n[xb]:void 0;return typeof e=="number"?e>=0?e&yD:HG:e}function W8(n,e,t){let i=1<<n;return!!(t[e+(n>>_D)]&i)}function $8(n,e){return!(n&bi.Self)&&!(n&bi.Host&&e)}var Df=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return ED(this._tNode,this._lView,e,$y(i),t)}};function HG(){return new Df(ms(),qn())}function fl(n){return Ob(()=>{let e=n.prototype.constructor,t=e[by]||yk(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[by]||yk(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function yk(n){return yP(n)?()=>{let e=yk(Us(n));return e&&e()}:Of(n)}function WG(n,e,t,i,r){let o=n,s=e;for(;o!==null&&s!==null&&s[zn]&2048&&!(s[zn]&512);){let a=SD(o,s,t,i|bi.Self,Nc);if(a!==Nc)return a;let l=o.parent;if(!l){let c=s[qP];if(c){let u=c.get(t,Nc,i);if(u!==Nc)return u}l=AD(s),s=s[Dp]}o=l}return r}function AD(n){let e=n[ei],t=e.type;return t===2?e.declTNode:t===1?n[ga]:null}function Hf(n){return jG(ms(),n)}function q8(n,e=null,t=null,i){let r=TD(n,e,t,i);return r.resolveInjectorInitializers(),r}function TD(n,e=null,t=null,i,r=new Set){let o=[t||ma,Kq(n)];return i=i||(typeof n=="object"?void 0:Hs(n)),new Sb(o,e||gE(),i||null,r)}var Mf=class Mf{static create(e,t){if(Array.isArray(e))return q8({name:""},t,e,"");{let i=e.name??"";return q8({name:i},e.parent,e.providers,i)}}};Mf.THROW_IF_NOT_FOUND=kb,Mf.NULL=new yy,Mf.\u0275prov=Nt({token:Mf,providedIn:"any",factory:()=>Tt(IP)}),Mf.__NG_ELEMENT_ID__=-1;var Ss=Mf;var $G=new jt("");$G.__NG_ELEMENT_ID__=n=>{let e=ms();if(e===null)throw new Ot(204,!1);if(e.type&2)return e.value;if(n&bi.Optional)return null;throw new Ot(204,!1)};var qG="ngOriginalError";function J5(n){return n[qG]}var ID=!0,AE=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=GG,e.__NG_ENV_ID__=i=>i;let n=e;return n})(),_k=class extends AE{constructor(e){super(),this._lView=e}onDestroy(e){return iD(this._lView,e),()=>mG(this._lView,e)}};function GG(){return new _k(qn())}var uh=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new go(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=Nt({token:e,providedIn:"root",factory:()=>new e});let n=e;return n})();var xk=class extends ji{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,$P()&&(this.destroyRef=At(AE,{optional:!0})??void 0,this.pendingTasks=At(uh,{optional:!0})??void 0)}emit(e){let t=Pi(null);try{super.next(e)}finally{Pi(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof hr&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},tn=xk;function Ty(...n){}function MD(n){let e,t;function i(){n=Ty;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function G8(n){return queueMicrotask(()=>n()),()=>{n=Ty}}var TE="isAngularZone",Iy=TE+"_ID",KG=0,fi=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tn(!1),this.onMicrotaskEmpty=new tn(!1),this.onStable=new tn(!1),this.onError=new tn(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=ID}=e;if(typeof Zone>"u")throw new Ot(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,XG(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(TE)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Ot(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Ot(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,ZG,Ty,Ty);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},ZG={};function IE(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function YG(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){MD(()=>{n.callbackScheduled=!1,Ck(n),n.isCheckStableRunning=!0,IE(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Ck(n)}function XG(n){let e=()=>{YG(n)},t=KG++;n._inner=n._inner.fork({name:"angular",properties:{[TE]:!0,[Iy]:t,[Iy+t]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(JG(l))return i.invokeTask(o,s,a,l);try{return K8(n),i.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Z8(n)}},onInvoke:(i,r,o,s,a,l,c)=>{try{return K8(n),i.invoke(o,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!QG(l)&&e(),Z8(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Ck(n),IE(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Ck(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function K8(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Z8(n){n._nesting--,IE(n)}var kk=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tn,this.onMicrotaskEmpty=new tn,this.onStable=new tn,this.onError=new tn}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function JG(n){return PD(n,"__ignore_ng_zone__")}function QG(n){return PD(n,"__scheduler_tick__")}function PD(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Ou=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&J5(e);for(;t&&J5(t);)t=J5(t);return t||null}},eK=new jt("",{providedIn:"root",factory:()=>{let n=At(fi),e=At(Ou);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function tK(){return Rp(ms(),qn())}function Rp(n,e){return new qi(hl(n,e))}var qi=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=tK;let n=e;return n})();function nK(n){return n instanceof qi?n.nativeElement:n}function iK(){return this._results[Symbol.iterator]()}var Ib=class n{get changes(){return this._changes??=new tn}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=iK)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=Tq(e);(this._changesDetected=!Aq(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function DD(n){return(n.flags&128)===128}var OD=new Map,rK=0;function oK(){return rK++}function sK(n){OD.set(n[Ky],n)}function Ek(n){OD.delete(n[Ky])}var Y8="__ngContext__";function oh(n,e){th(e)?(n[Y8]=e[Ky],sK(e)):n[Y8]=e}function RD(n){return LD(n[Tb])}function ND(n){return LD(n[Xl])}function LD(n){for(;n!==null&&!Lu(n);)n=n[Xl];return n}var Sk;function FD(n){Sk=n}function BD(){if(Sk!==void 0)return Sk;if(typeof document<"u")return document;throw new Ot(210,!1)}var n2=new jt("",{providedIn:"root",factory:()=>aK}),aK="ng",ME=new jt(""),va=new jt("",{providedIn:"platform",factory:()=>"unknown"});var ml=new jt(""),Vb=new jt("",{providedIn:"root",factory:()=>BD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var lK="h",cK="b";var uK=()=>null;function PE(n,e,t=!1){return uK(n,e,t)}var VD=!1,dK=new jt("",{providedIn:"root",factory:()=>VD});var oy;function hK(){if(oy===void 0&&(oy=null,Cb.trustedTypes))try{oy=Cb.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return oy}function i2(n){return hK()?.createHTML(n)||n}var sy;function jD(){if(sy===void 0&&(sy=null,Cb.trustedTypes))try{sy=Cb.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return sy}function X8(n){return jD()?.createHTML(n)||n}function J8(n){return jD()?.createScriptURL(n)||n}var Ru=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vP})`}},Ak=class extends Ru{getTypeName(){return"HTML"}},Tk=class extends Ru{getTypeName(){return"Style"}},Ik=class extends Ru{getTypeName(){return"Script"}},Mk=class extends Ru{getTypeName(){return"URL"}},Pk=class extends Ru{getTypeName(){return"ResourceURL"}};function pl(n){return n instanceof Ru?n.changingThisBreaksApplicationSecurity:n}function Fu(n,e){let t=fK(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${vP})`)}return t===e}function fK(n){return n instanceof Ru&&n.getTypeName()||null}function zD(n){return new Ak(n)}function UD(n){return new Tk(n)}function HD(n){return new Ik(n)}function WD(n){return new Mk(n)}function $D(n){return new Pk(n)}function mK(n){let e=new Ok(n);return pK()?new Dk(e):e}var Dk=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(i2(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Ok=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=i2(e),t}};function pK(){try{return!!new window.DOMParser().parseFromString(i2(""),"text/html")}catch{return!1}}var gK=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function r2(n){return n=String(n),n.match(gK)?n:"unsafe:"+n}function Bu(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function jb(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var qD=Bu("area,br,col,hr,img,wbr"),GD=Bu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),KD=Bu("rp,rt"),bK=jb(KD,GD),vK=jb(GD,Bu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),wK=jb(KD,Bu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Q8=jb(qD,vK,wK,bK),ZD=Bu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yK=Bu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_K=Bu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),xK=jb(ZD,yK,_K),CK=Bu("script,style,template"),Rk=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=SK(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=EK(t);if(o){t=o;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=eP(e).toLowerCase();if(!Q8.hasOwnProperty(t))return this.sanitizedSomething=!0,!CK.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!xK.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;ZD[a]&&(l=r2(l)),this.buf.push(" ",s,'="',tP(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=eP(e).toLowerCase();Q8.hasOwnProperty(t)&&!qD.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(tP(e))}};function kK(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function EK(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw YD(e);return e}function SK(n){let e=n.firstChild;if(e&&kK(n,e))throw YD(e);return e}function eP(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function YD(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var AK=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,TK=/([^\#-~ |!])/g;function tP(n){return n.replace(/&/g,"&amp;").replace(AK,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(TK,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var ay;function DE(n,e){let t=null;try{ay=ay||mK(n);let i=e?String(e):"";t=ay.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=ay.getInertBodyElement(i)}while(i!==o);let a=new Rk().sanitizeChildren(nP(t)||t);return i2(a)}finally{if(t){let i=nP(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function nP(n){return"content"in n&&IK(n)?n.content:null}function IK(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Jl=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Jl||{});function o2(n){let e=OE();return e?X8(e.sanitize(Jl.HTML,n)||""):Fu(n,"HTML")?X8(pl(n)):DE(BD(),fa(n))}function Rr(n){let e=OE();return e?e.sanitize(Jl.URL,n)||"":Fu(n,"URL")?pl(n):r2(fa(n))}function gl(n){let e=OE();if(e)return J8(e.sanitize(Jl.RESOURCE_URL,n)||"");if(Fu(n,"ResourceURL"))return J8(pl(n));throw new Ot(904,!1)}function MK(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?gl:Rr}function XD(n,e,t){return MK(e,t)(n)}function OE(){let n=qn();return n&&n[Fc].sanitizer}var PK=/^>|^->|<!--|-->|--!>|<!-$/g,DK=/(<|>)/g,OK="\u200B$1\u200B";function RK(n){return n.replace(PK,e=>e.replace(DK,OK))}function s2(n){return n.ownerDocument.defaultView}function JD(n){return n instanceof Function?n():n}function NK(n){return(n??At(Ss)).get(va)==="browser"}var Vc=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Vc||{}),LK;function RE(n,e){return LK(n,e)}function vp(n,e,t,i,r){if(i!=null){let o,s=!1;Lu(i)?o=i:th(i)&&(s=!0,i=i[Nu]);let a=Bc(i);n===0&&t!==null?r==null?i7(e,t,a):Py(e,t,a,r||null,!0):n===1&&t!==null?Py(e,t,a,r||null,!0):n===2?YK(e,a,s):n===3&&e.destroyNode(a),o!=null&&JK(e,n,o,t,r)}}function FK(n,e){return n.createText(e)}function BK(n,e,t){n.setValue(e,t)}function VK(n,e){return n.createComment(RK(e))}function QD(n,e,t){return n.createElement(e,t)}function jK(n,e){e7(n,e),e[Nu]=null,e[ga]=null}function zK(n,e,t,i,r,o){i[Nu]=r,i[ga]=e,l2(n,i,t,1,r,o)}function e7(n,e){e[Fc].changeDetectionScheduler?.notify(9),l2(n,e,e[$r],2,null,null)}function UK(n){let e=n[Tb];if(!e)return Q5(n[ei],n);for(;e;){let t=null;if(th(e))t=e[Tb];else{let i=e[pa];i&&(t=i)}if(!t){for(;e&&!e[Xl]&&e!==n;)th(e)&&Q5(e[ei],e),e=e[ks];e===null&&(e=n),th(e)&&Q5(e[ei],e),t=e&&e[Xl]}e=t}}function HK(n,e,t,i){let r=pa+i,o=t.length;i>0&&(t[r-1][Xl]=e),i<o-pa?(e[Xl]=t[r],TP(t,pa+i,e)):(t.push(e),e[Xl]=null),e[ks]=t;let s=e[Rf];s!==null&&t!==s&&t7(s,e);let a=e[Du];a!==null&&a.insertView(n),pk(e),e[zn]|=128}function t7(n,e){let t=n[Sp],i=e[ks];if(th(i))n[zn]|=Cy.HasTransplantedViews;else{let r=i[ks][cl];e[cl]!==r&&(n[zn]|=Cy.HasTransplantedViews)}t===null?n[Sp]=[e]:t.push(e)}function NE(n,e){let t=n[Sp],i=t.indexOf(e);t.splice(i,1)}function My(n,e){if(n.length<=pa)return;let t=pa+e,i=n[t];if(i){let r=i[Rf];r!==null&&r!==n&&NE(r,i),e>0&&(n[t-1][Xl]=i[Xl]);let o=wy(n,pa+e);jK(i[ei],i);let s=o[Du];s!==null&&s.detachView(o[ei]),i[ks]=null,i[Xl]=null,i[zn]&=-129}return i}function LE(n,e){if(!(e[zn]&256)){let t=e[$r];t.destroyNode&&l2(n,e,t,3,null,null),UK(e)}}function Q5(n,e){if(e[zn]&256)return;let t=Pi(null);try{e[zn]&=-129,e[zn]|=256,e[al]&&A5(e[al]),$K(n,e),WK(n,e),e[ei].type===1&&e[$r].destroy();let i=e[Rf];if(i!==null&&Lu(e[ks])){i!==e[ks]&&NE(i,e);let r=e[Du];r!==null&&r.detachView(n)}Ek(e)}finally{Pi(t)}}function WK(n,e){let t=n.cleanup,i=e[_y];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[t[o+1]];t[o].call(s)}i!==null&&(e[_y]=null);let r=e[eh];if(r!==null){e[eh]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function $K(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof Bf)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Rc(4,a,l);try{l.call(a)}finally{Rc(5,a,l)}}else{Rc(4,r,o);try{o.call(r)}finally{Rc(5,r,o)}}}}}function n7(n,e,t){return qK(n,e.parent,t)}function qK(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[Nu];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=n.data[i.directiveStart+r];if(o===Lc.None||o===Lc.Emulated)return null}return hl(i,t)}}function Py(n,e,t,i,r){n.insertBefore(e,t,i,r)}function i7(n,e,t){n.appendChild(e,t)}function iP(n,e,t,i,r){i!==null?Py(n,e,t,i,r):i7(n,e,t)}function r7(n,e){return n.parentNode(e)}function GK(n,e){return n.nextSibling(e)}function o7(n,e,t){return ZK(n,e,t)}function KK(n,e,t){return n.type&40?hl(n,t):null}var ZK=KK,rP;function a2(n,e,t,i){let r=n7(n,i,e),o=e[$r],s=i.parent||e[ga],a=o7(s,i,e);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)iP(o,r,t[l],a,!1);else iP(o,r,t,a,!1);rP!==void 0&&rP(o,i,e,t,r)}function _b(n,e){if(e!==null){let t=e.type;if(t&3)return hl(e,n);if(t&4)return Nk(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return _b(n,i);{let r=n[e.index];return Lu(r)?Nk(-1,r):Bc(r)}}else{if(t&128)return _b(n,e.next);if(t&32)return RE(e,n)()||Bc(n[e.index]);{let i=s7(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Lf(n[cl]);return _b(r,i)}else return _b(n,e.next)}}}return null}function s7(n,e){if(e!==null){let i=n[cl][ga],r=e.projection;return i.projection[r]}return null}function Nk(n,e){let t=pa+n+1;if(t<e.length){let i=e[t],r=i[ei].firstChild;if(r!==null)return _b(i,r)}return e[Nf]}function YK(n,e,t){n.removeChild(null,e,t)}function FE(n,e,t,i,r,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],l=t.type;if(s&&e===0&&(a&&oh(Bc(a),i),t.flags|=2),(t.flags&32)!==32)if(l&8)FE(n,e,t.child,i,r,o,!1),vp(e,n,r,a,o);else if(l&32){let c=RE(t,i),u;for(;u=c();)vp(e,n,r,u,o);vp(e,n,r,a,o)}else l&16?a7(n,e,i,t,r,o):vp(e,n,r,a,o);t=s?t.projectionNext:t.next}}function l2(n,e,t,i,r,o){FE(t,i,n.firstChild,e,r,o,!1)}function XK(n,e,t){let i=e[$r],r=n7(n,t,e),o=t.parent||e[ga],s=o7(o,t,e);a7(i,0,e,t,r,s)}function a7(n,e,t,i,r,o){let s=t[cl],l=s[ga].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];vp(e,n,r,u,o)}else{let c=l,u=s[ks];DD(i)&&(c.flags|=128),FE(n,e,c,u,r,o,!0)}}function JK(n,e,t,i,r){let o=t[Nf],s=Bc(t);o!==s&&vp(e,n,i,o,r);for(let a=pa;a<t.length;a++){let l=t[a];l2(l[ei],l,n,e,i,o)}}function QK(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:Vc.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Vc.Important),n.setStyle(t,i,r,o))}}function eZ(n,e,t){n.setAttribute(e,"style",t)}function l7(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function c7(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&ck(n,e,i),r!==null&&l7(n,e,r),o!==null&&eZ(n,e,o)}var Go={};function ee(n=1){u7(eo(),qn(),zc()+n,!1)}function u7(n,e,t,i){if(!i)if((e[zn]&3)===3){let o=n.preOrderCheckHooks;o!==null&&hy(e,o,t)}else{let o=n.preOrderHooks;o!==null&&fy(e,o,0,t)}Ff(t)}function ze(n,e=bi.Default){let t=qn();if(t===null)return Tt(n,e);let i=ms();return ED(i,t,Us(n),e)}function d7(){let n="invalid";throw new Error(n)}function h7(n,e,t,i,r,o){let s=Pi(null);try{let a=null;r&nh.SignalBased&&(a=e[i][Tu]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&nh.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,i):KP(e,a,i,o)}finally{Pi(s)}}function tZ(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)Ff(~r);else{let o=r,s=t[++i],a=t[++i];kG(s,o);let l=e[o];a(2,l)}}}finally{Ff(-1)}}function c2(n,e,t,i,r,o,s,a,l,c,u){let d=e.blueprint.slice();return d[Nu]=r,d[zn]=i|4|128|8|64,(c!==null||n&&n[zn]&2048)&&(d[zn]|=2048),tD(d),d[ks]=d[Dp]=n,d[ll]=t,d[Fc]=s||n&&n[Fc],d[$r]=a||n&&n[$r],d[Ep]=l||n&&n[Ep]||null,d[ga]=o,d[Ky]=oK(),d[Ab]=u,d[qP]=c,d[cl]=e.type==2?n[cl]:d,d}function Np(n,e,t,i,r){let o=n.data[e];if(o===null)o=nZ(n,e,t,i,r),CG()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=yG();o.injectorIndex=s===null?-1:s.injectorIndex}return Uf(o,!0),o}function nZ(n,e,t,i,r){let o=aD(),s=yE(),a=s?o:o&&o.parent,l=n.data[e]=lZ(n,a,t,e,i,r);return n.firstChild===null&&(n.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function f7(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function m7(n,e,t,i,r){let o=zc(),s=i&2;try{Ff(-1),s&&e.length>Es&&u7(n,e,Es,!1),Rc(s?2:0,r),t(i,r)}finally{Ff(o),Rc(s?3:1,r)}}function BE(n,e,t){if(bE(e)){let i=Pi(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{Pi(i)}}}function VE(n,e,t){oD()&&(mZ(n,e,t,hl(t,e)),(t.flags&64)===64&&b7(n,e,t))}function jE(n,e,t=hl){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(e,n):n[s];n[r++]=a}}}function p7(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=zE(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function zE(n,e,t,i,r,o,s,a,l,c,u){let d=Es+i,f=d+r,h=iZ(d,f),m=typeof c=="function"?c():c;return h[ei]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:m,incompleteFirstPass:!1,ssrId:u}}function iZ(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:Go);return t}function rZ(n,e,t,i){let o=i.get(dK,VD)||t===Lc.ShadowDom,s=n.selectRootElement(e,o);return oZ(s),s}function oZ(n){sZ(n)}var sZ=()=>null;function aZ(n,e,t,i){let r=y7(e);r.push(t),n.firstCreatePass&&_7(n).push(i,r.length-1)}function lZ(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return sD()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function oP(n,e,t,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let a,l=nh.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(r!==null){if(!r.hasOwnProperty(o))continue;c=r[o]}n===0?sP(i,t,c,a,l):sP(i,t,c,a)}return i}function sP(n,e,t,i,r){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,i):o=n[t]=[e,i],r!==void 0&&o.push(r)}function cZ(n,e,t){let i=e.directiveStart,r=e.directiveEnd,o=n.data,s=e.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let d=o[u],f=t?t.get(d):null,h=f?f.inputs:null,m=f?f.outputs:null;l=oP(0,d.inputs,u,l,h),c=oP(1,d.outputs,u,c,m);let p=l!==null&&s!==null&&!fE(e)?EZ(l,u,s):null;a.push(p)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function uZ(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function u2(n,e,t,i,r,o,s,a){let l=hl(e,t),c=e.inputs,u;!a&&c!=null&&(u=c[i])?(HE(n,t,u,i,r),Zy(e)&&dZ(t,e.index)):e.type&3?(i=uZ(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(l,i,r)):e.type&12}function dZ(n,e){let t=ch(e,n);t[zn]&16||(t[zn]|=64)}function UE(n,e,t,i){if(oD()){let r=i===null?null:{"":-1},o=gZ(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&g7(n,e,t,s,r,a),r&&bZ(t,i,r)}t.mergedAttrs=Eb(t.mergedAttrs,t.attrs)}function g7(n,e,t,i,r,o){for(let c=0;c<i.length;c++)wk(Ay(t,e),n,i[c].type);wZ(t,n.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=f7(n,e,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];t.mergedAttrs=Eb(t.mergedAttrs,u.hostAttrs),yZ(n,t,e,l,u),vZ(l,u,r),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}cZ(n,t,o)}function hZ(n,e,t,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;fZ(s)!=a&&s.push(a),s.push(t,i,o)}}function fZ(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function mZ(n,e,t,i){let r=t.directiveStart,o=t.directiveEnd;Zy(t)&&_Z(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Ay(t,e),oh(i,e);let s=t.initialInputs;for(let a=r;a<o;a++){let l=n.data[a],c=Vf(e,n,a,t);if(oh(c,e),s!==null&&kZ(e,a-r,c,l,t,s),rh(l)){let u=ch(t.index,e);u[ll]=Vf(e,n,a,t)}}}function b7(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=EG();try{Ff(o);for(let a=i;a<r;a++){let l=n.data[a],c=e[a];gk(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&pZ(l,c)}}finally{Ff(-1),gk(s)}}function pZ(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function gZ(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(RP(e,s.selectors,!1))if(i||(i=[]),rh(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let l=a.length;Lk(n,e,l)}else i.unshift(s),Lk(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function Lk(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function bZ(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new Ot(-301,!1);i.push(e[r],o)}}}function vZ(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;rh(e)&&(t[""]=n)}}function wZ(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function yZ(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=Of(r.type,!0)),s=new Bf(o,rh(r),ze);n.blueprint[i]=s,t[i]=s,hZ(n,e,i,f7(n,t,r.hostVars,Go),r)}function _Z(n,e,t){let i=hl(e,n),r=p7(t),o=n[Fc].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=d2(n,c2(n,r,null,s,i,e,null,o.createRenderer(i,t),null,null,null));n[e.index]=a}function xZ(n,e,t,i,r,o){let s=hl(n,e);CZ(e[$r],s,o,n.value,t,i,r)}function CZ(n,e,t,i,r,o,s){if(o==null)n.removeAttribute(e,r,t);else{let a=s==null?fa(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}function kZ(n,e,t,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];h7(i,t,l,c,u,d)}}function EZ(n,e,t){let i=null,r=0;for(;r<t.length;){let o=t[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){i===null&&(i=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}return i}function v7(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function w7(n,e){let t=n.contentQueries;if(t!==null){let i=Pi(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=n.data[s];CE(o),a.contentQueries(2,e[s],s)}}}finally{Pi(i)}}}function d2(n,e){return n[Tb]?n[j8][Xl]=e:n[Tb]=e,n[j8]=e,e}function Fk(n,e,t){CE(0);let i=Pi(null);try{e(n,t)}finally{Pi(i)}}function y7(n){return n[_y]??=[]}function _7(n){return n.cleanup??=[]}function x7(n,e){let t=n[Ep],i=t?t.get(Ou,null):null;i&&i.handleError(e)}function HE(n,e,t,i,r){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],l=t[o++],c=e[s],u=n.data[s];h7(u,c,i,a,l,r)}}function h2(n,e,t){let i=QP(e,n);BK(n[$r],i,t)}function SZ(n,e){let t=ch(e,n),i=t[ei];AZ(i,t);let r=t[Nu];r!==null&&t[Ab]===null&&(t[Ab]=PE(r,t[Ep])),WE(i,t,t[ll])}function AZ(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function WE(n,e,t){kE(e);try{let i=n.viewQuery;i!==null&&Fk(1,i,t);let r=n.template;r!==null&&m7(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Du]?.finishViewCreation(n),n.staticContentQueries&&w7(n,e),n.staticViewQueries&&Fk(2,n.viewQuery,t);let o=n.components;o!==null&&TZ(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[zn]&=-5,EE()}}function TZ(n,e){for(let t=0;t<e.length;t++)SZ(n,e[t])}function $E(n,e,t,i){let r=Pi(null);try{let o=e.tView,a=n[zn]&4096?4096:16,l=c2(n,o,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=n[e.index];l[Rf]=c;let u=n[Du];return u!==null&&(l[Du]=u.createEmbeddedView(o)),WE(o,l,t),l}finally{Pi(r)}}function IZ(n,e){let t=pa+e;if(t<n.length)return n[t]}function Dy(n,e){return!e||e.firstChild===null||DD(n)}function qE(n,e,t,i=!0){let r=e[ei];if(HK(r,e,n,t),i){let s=Nk(t,n),a=e[$r],l=r7(a,n[Nf]);l!==null&&zK(r,n[ga],a,e,l,s)}let o=e[Ab];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function MZ(n,e){let t=My(n,e);return t!==void 0&&LE(t[ei],t),t}function Oy(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&i.push(Bc(o)),Lu(o)&&PZ(o,i);let s=t.type;if(s&8)Oy(n,e,t.child,i);else if(s&32){let a=RE(t,e),l;for(;l=a();)i.push(l)}else if(s&16){let a=s7(e,t);if(Array.isArray(a))i.push(...a);else{let l=Lf(e[cl]);Oy(l[ei],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function PZ(n,e){for(let t=pa;t<n.length;t++){let i=n[t],r=i[ei].firstChild;r!==null&&Oy(i[ei],i,r,e)}n[Nf]!==n[Nu]&&e.push(n[Nf])}var C7=[];function DZ(n){return n[al]??OZ(n)}function OZ(n){let e=C7.pop()??Object.create(NZ);return e.lView=n,e}function RZ(n){n.lView[al]!==n&&(n.lView=null,C7.push(n))}var NZ=Xt(Be({},gb),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Jy(n.lView)},consumerOnSignalRead(){this.lView[al]=this}});function LZ(n){let e=n[al]??Object.create(FZ);return e.lView=n,e}var FZ=Xt(Be({},gb),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Lf(n.lView);for(;e&&!k7(e[ei]);)e=Lf(e);e&&nD(e)},consumerOnSignalRead(){this.lView[al]=this}});function k7(n){return n.type!==2}var BZ=100;function E7(n,e=!0,t=0){let i=n[Fc],r=i.rendererFactory,o=!1;o||r.begin?.();try{VZ(n,t)}catch(s){throw e&&x7(n,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function VZ(n,e){let t=lD();try{U8(!0),Bk(n,e);let i=0;for(;Xy(n);){if(i===BZ)throw new Ot(103,!1);i++,Bk(n,1)}}finally{U8(t)}}function jZ(n,e,t,i){let r=e[zn];if((r&256)===256)return;let o=!1,s=!1;!o&&e[Fc].inlineEffectRunner?.flush(),kE(e);let a=!0,l=null,c=null;o||(k7(n)?(c=DZ(e),l=Tw(c)):qM()===null?(a=!1,c=LZ(e),l=Tw(c)):e[al]&&(A5(e[al]),e[al]=null));try{tD(e),xG(n.bindingStartIndex),t!==null&&m7(n,e,t,2,i);let u=(r&3)===3;if(!o)if(u){let h=n.preOrderCheckHooks;h!==null&&hy(e,h,null)}else{let h=n.preOrderHooks;h!==null&&fy(e,h,0,null),Z5(e,0)}if(s||zZ(e),S7(e,0),n.contentQueries!==null&&w7(n,e),!o)if(u){let h=n.contentCheckHooks;h!==null&&hy(e,h)}else{let h=n.contentHooks;h!==null&&fy(e,h,1),Z5(e,1)}tZ(n,e);let d=n.components;d!==null&&T7(e,d,0);let f=n.viewQuery;if(f!==null&&Fk(2,f,i),!o)if(u){let h=n.viewCheckHooks;h!==null&&hy(e,h)}else{let h=n.viewHooks;h!==null&&fy(e,h,2),Z5(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[K5]){for(let h of e[K5])h();e[K5]=null}o||(e[zn]&=-73)}catch(u){throw o||Jy(e),u}finally{c!==null&&(E5(c,l),a&&RZ(c)),EE()}}function S7(n,e){for(let t=RD(n);t!==null;t=ND(t))for(let i=pa;i<t.length;i++){let r=t[i];A7(r,e)}}function zZ(n){for(let e=RD(n);e!==null;e=ND(e)){if(!(e[zn]&Cy.HasTransplantedViews))continue;let t=e[Sp];for(let i=0;i<t.length;i++){let r=t[i];nD(r)}}}function UZ(n,e,t){let i=ch(e,n);A7(i,t)}function A7(n,e){wE(n)&&Bk(n,e)}function Bk(n,e){let i=n[ei],r=n[zn],o=n[al],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&S5(o)),s||=!1,o&&(o.dirty=!1),n[zn]&=-9217,s)jZ(i,n,i.template,n[ll]);else if(r&8192){S7(n,1);let a=i.components;a!==null&&T7(n,a,1)}}function T7(n,e,t){for(let i=0;i<e.length;i++)UZ(n,e[i],t)}function GE(n,e){let t=lD()?64:1088;for(n[Fc].changeDetectionScheduler?.notify(e);n;){n[zn]|=t;let i=Lf(n);if(fk(n)&&!i)return n;n=i}return null}var jf=class{get rootNodes(){let e=this._lView,t=e[ei];return Oy(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ll]}set context(e){this._lView[ll]=e}get destroyed(){return(this._lView[zn]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ks];if(Lu(e)){let t=e[xy],i=t?t.indexOf(this):-1;i>-1&&(My(e,i),wy(t,i))}this._attachedToViewContainer=!1}LE(this._lView[ei],this._lView)}onDestroy(e){iD(this._lView,e)}markForCheck(){GE(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[zn]&=-129}reattach(){pk(this._lView),this._lView[zn]|=128}detectChanges(){this._lView[zn]|=1024,E7(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ot(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=fk(this._lView),t=this._lView[Rf];t!==null&&!e&&NE(t,this._lView),e7(this._lView[ei],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ot(902,!1);this._appRef=e;let t=fk(this._lView),i=this._lView[Rf];i!==null&&!t&&t7(i,this._lView),pk(this._lView)}},jc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=$Z;let n=e;return n})(),HZ=jc,WZ=class extends HZ{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=$E(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new jf(r)}};function $Z(){return f2(ms(),qn())}function f2(n,e){return n.type&4?new WZ(e,n,Rp(n,e)):null}var USe=new RegExp(`^(\\d+)*(${cK}|${lK})*(.*)`);var qZ=()=>null;function Ry(n,e){return qZ(n,e)}var Tp=class{},KE=new jt("",{providedIn:"root",factory:()=>!1});var I7=new jt(""),M7=new jt(""),Vk=class{},Ny=class{};function GZ(n){let e=Error(`No component factory found for ${Hs(n)}.`);return e[KZ]=n,e}var KZ="ngComponent";var jk=class{resolveComponentFactory(e){throw GZ(e)}},r3=class r3{};r3.NULL=new jk;var sh=r3,ah=class{},Ql=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>ZZ();let n=e;return n})();function ZZ(){let n=qn(),e=ms(),t=ch(e.index,n);return(th(t)?t:n)[$r]}var YZ=(()=>{let e=class e{};e.\u0275prov=Nt({token:e,providedIn:"root",factory:()=>null});let n=e;return n})();function Ly(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=ok(r,a);else if(o==2){let l=a,c=e[++s];i=ok(i,l+": "+c+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var Fy=class extends sh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ih(e);return new Ip(t,this.ngModule)}};function aP(n,e){let t=[];for(let i in n){if(!n.hasOwnProperty(i))continue;let r=n[i];if(r===void 0)continue;let o=Array.isArray(r),s=o?r[0]:r,a=o?r[1]:nh.None;e?t.push({propName:s,templateName:i,isSignal:(a&nh.SignalBased)!==0}):t.push({propName:s,templateName:i})}return t}function XZ(n){let e=n.toLowerCase();return e==="svg"?JP:e==="math"?uG:null}var Ip=class extends Ny{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=aP(e.inputs,!0);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return aP(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Hq(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=Pi(null);try{r=r||this.ngModule;let s=r instanceof Ws?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new bk(e,s):e,l=a.get(ah,null);if(l===null)throw new Ot(407,!1);let c=a.get(YZ,null),u=a.get(Tp,null),d={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:u},f=l.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",m=i?rZ(f,i,this.componentDef.encapsulation,a):QD(f,h,XZ(h)),p=512;this.componentDef.signals?p|=4096:this.componentDef.onPush||(p|=16);let g=null;m!==null&&(g=PE(m,a,!0));let v=zE(0,null,null,1,0,null,null,null,null,null,null),x=c2(null,v,null,p,null,null,d,f,a,null,g);kE(x);let I,N,H=null;try{let F=this.componentDef,B,V=null;F.findHostDirectiveDefs?(B=[],V=new Map,F.findHostDirectiveDefs(F,B,V),B.push(F)):B=[F];let G=JZ(x,m);H=QZ(G,m,F,B,x,d,f),N=vE(v,Es),m&&nY(f,F,m,i),t!==void 0&&iY(N,this.ngContentSelectors,t),I=tY(H,F,B,V,x,[rY]),WE(v,x,null)}catch(F){throw H!==null&&Ek(H),Ek(x),F}finally{EE()}return new zk(this.componentType,I,Rp(N,x),x,N)}finally{Pi(o)}}},zk=class extends Vk{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new jf(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;HE(o[ei],o,r,e,t),this.previousInputValues.set(e,t);let s=ch(this._tNode.index,o);GE(s,1)}}get injector(){return new Df(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function JZ(n,e){let t=n[ei],i=Es;return n[i]=e,Np(t,i,2,"#host",null)}function QZ(n,e,t,i,r,o,s){let a=r[ei];eY(i,n,e,s);let l=null;e!==null&&(l=PE(e,r[Ep]));let c=o.rendererFactory.createRenderer(e,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let d=c2(r,p7(t),null,u,r[n.index],n,o,c,null,null,l);return a.firstCreatePass&&Lk(a,n,i.length-1),d2(r,d),r[n.index]=d}function eY(n,e,t,i){for(let r of n)e.mergedAttrs=Eb(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Ly(e,e.mergedAttrs,!0),t!==null&&c7(i,t,e))}function tY(n,e,t,i,r,o){let s=ms(),a=r[ei],l=hl(s,r);g7(a,r,s,t,null,i);for(let u=0;u<t.length;u++){let d=s.directiveStart+u,f=Vf(r,a,d,s);oh(f,r)}b7(a,r,s),l&&oh(l,r);let c=Vf(r,a,s.directiveStart+s.componentOffset,s);if(n[ll]=r[ll]=c,o!==null)for(let u of o)u(c,e);return BE(a,s,r),c}function nY(n,e,t,i){if(i)ck(n,t,["ng-version","18.2.3"]);else{let{attrs:r,classes:o}=Wq(e.selectors[0]);r&&ck(n,t,r),o&&o.length>0&&l7(n,t,o.join(" "))}}function iY(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null?Array.from(o):null)}}function rY(){let n=ms();t2(qn()[ei],n)}var bl=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=oY;let n=e;return n})();function oY(){let n=ms();return D7(n,qn())}var sY=bl,P7=class extends sY{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Rp(this._hostTNode,this._hostLView)}get injector(){return new Df(this._hostTNode,this._hostLView)}get parentInjector(){let e=SE(this._hostTNode,this._hostLView);if(wD(e)){let t=Ey(e,this._hostLView),i=ky(e),r=t[ei].data[i+8];return new Df(r,t)}else return new Df(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=lP(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-pa}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Ry(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,Dy(this._hostTNode,s)),a}createComponent(e,t,i,r,o){let s=e&&!sG(e),a;if(s)a=t;else{let m=t||{};a=m.index,i=m.injector,r=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}let l=s?e:new Ip(ih(e)),c=i||this.parentInjector;if(!o&&l.ngModule==null){let p=(s?c:this.parentInjector).get(Ws,null);p&&(o=p)}let u=ih(l.componentType??{}),d=Ry(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,r,f,o);return this.insertImpl(h.hostView,a,Dy(this._hostTNode,d)),h}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(hG(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[ks],c=new P7(l,l[ga],l[ks]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return qE(s,r,o,i),e.attachToViewContainerRef(),TP(ek(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=lP(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=My(this._lContainer,t);i&&(wy(ek(this._lContainer),t),LE(i[ei],i))}detach(e){let t=this._adjustIndex(e,-1),i=My(this._lContainer,t);return i&&wy(ek(this._lContainer),t)!=null?new jf(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function lP(n){return n[xy]}function ek(n){return n[xy]||(n[xy]=[])}function D7(n,e){let t,i=e[n.index];return Lu(i)?t=i:(t=v7(i,e,null,n),e[n.index]=t,d2(e,t)),lY(t,e,n,i),new P7(t,n,e)}function aY(n,e){let t=n[$r],i=t.createComment(""),r=hl(e,n),o=r7(t,r);return Py(t,o,i,GK(t,r),!1),i}var lY=dY,cY=()=>!1;function uY(n,e,t){return cY(n,e,t)}function dY(n,e,t,i){if(n[Nf])return;let r;t.type&8?r=Bc(i):r=aY(e,t),n[Nf]=r}var Uk=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Hk=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)ZE(e,t).matches!==null&&this.queries[t].setDirty()}},By=class{constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=wY(e):this.predicate=e}},Wk=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},$k=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,t,hY(t,o)),this.matchTNodeWithReadOption(e,t,my(t,e,o,!1,!1))}else i===jc?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,my(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===qi||r===bl||r===jc&&t.type&4)this.addMatch(t.index,-2);else{let o=my(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function hY(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function fY(n,e){return n.type&11?Rp(n,e):n.type&4?f2(n,e):null}function mY(n,e,t,i){return t===-1?fY(e,n):t===-2?pY(n,e,i):Vf(n,n[ei],t,e)}function pY(n,e,t){if(t===qi)return Rp(e,n);if(t===jc)return f2(e,n);if(t===bl)return D7(e,n)}function O7(n,e,t,i){let r=e[Du].queries[i];if(r.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(mY(e,u,s[l+1],t.metadata.read))}}r.matches=a}return r.matches}function qk(n,e,t,i){let r=n.queries.getByIndex(t),o=r.matches;if(o!==null){let s=O7(n,e,r,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let c=o[a+1],u=e[-l];for(let d=pa;d<u.length;d++){let f=u[d];f[Rf]===f[ks]&&qk(f[ei],f,c,i)}if(u[Sp]!==null){let d=u[Sp];for(let f=0;f<d.length;f++){let h=d[f];qk(h[ei],h,c,i)}}}}}return i}function gY(n,e){return n[Du].queries[e].queryList}function R7(n,e,t){let i=new Ib((t&4)===4);return aZ(n,e,i,i.destroy),(e[Du]??=new Hk).queries.push(new Uk(i))-1}function bY(n,e,t){let i=eo();return i.firstCreatePass&&(N7(i,new By(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),R7(i,qn(),e)}function vY(n,e,t,i){let r=eo();if(r.firstCreatePass){let o=ms();N7(r,new By(e,t,i),o.index),yY(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return R7(r,qn(),t)}function wY(n){return n.split(",").map(e=>e.trim())}function N7(n,e,t){n.queries===null&&(n.queries=new Wk),n.queries.track(new $k(e,t))}function yY(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function ZE(n,e){return n.queries.getByIndex(e)}function _Y(n,e){let t=n[ei],i=ZE(t,e);return i.crossesNgTemplate?qk(t,n,e,[]):O7(t,n,i,e)}var cP=new Set;function Uc(n){cP.has(n)||(cP.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function xY(n){return typeof n=="function"&&n[Tu]!==void 0}function zb(n,e){Uc("NgSignals");let t=i8(n),i=t[Tu];return e?.equal&&(i.equal=e.equal),t.set=r=>T5(i,r),t.update=r=>r8(i,r),t.asReadonly=CY.bind(t),t}function CY(){let n=this[Tu];if(n.readonlyFn===void 0){let e=()=>this();e[Tu]=n,n.readonlyFn=e}return n.readonlyFn}function L7(n){return xY(n)&&typeof n.set=="function"}function kY(n){return Object.getPrototypeOf(n.prototype).constructor}function Ko(n){let e=kY(n.type),t=!0,i=[n];for(;e;){let r;if(rh(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Ot(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let s=n;s.inputs=ly(n.inputs),s.inputTransforms=ly(n.inputTransforms),s.declaredInputs=ly(n.declaredInputs),s.outputs=ly(n.outputs);let a=r.hostBindings;a&&IY(n,a);let l=r.viewQuery,c=r.contentQueries;if(l&&AY(n,l),c&&TY(n,c),EY(n,r),lq(n.outputs,r.outputs),rh(r)&&r.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Ko&&(t=!1)}}e=Object.getPrototypeOf(e)}SY(i)}function EY(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function SY(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Eb(r.hostAttrs,t=Eb(t,r.hostAttrs))}}function ly(n){return n===xp?{}:n===ma?[]:n}function AY(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function TY(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,o)=>{e(i,r,o),t(i,r,o)}:n.contentQueries=e}function IY(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function Vu(n){let e=n.inputConfig,t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}var lh=class{},Mb=class{};var Gk=class extends lh{constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Fy(this);let o=BP(e);this._bootstrapComponents=JD(o.bootstrap),this._r3Injector=TD(e,t,[{provide:lh,useValue:this},{provide:sh,useValue:this.componentFactoryResolver},...i],Hs(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Kk=class extends Mb{constructor(e){super(),this.moduleType=e}create(e){return new Gk(this.moduleType,e,[])}};var Vy=class extends lh{constructor(e){super(),this.componentFactoryResolver=new Fy(this),this.instance=null;let t=new Sb([...e.providers,{provide:lh,useValue:this},{provide:sh,useValue:this.componentFactoryResolver}],e.parent||gE(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function m2(n,e,t=null){return new Vy({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function F7(n){return YE(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function MY(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function YE(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function p2(n,e,t){return n[e]=t}function PY(n,e){return n[e]}function ul(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function Pb(n,e,t,i){let r=ul(n,e,t);return ul(n,e+1,i)||r}function B7(n,e,t,i,r){let o=Pb(n,e,t,i);return ul(n,e+2,r)||o}function DY(n,e,t,i,r,o){let s=Pb(n,e,t,i);return Pb(n,e+2,r,o)||s}function OY(n){return(n.flags&32)===32}function RY(n,e,t,i,r,o,s,a,l){let c=e.consts,u=Np(e,n,4,s||null,a||null);UE(e,t,u,Ap(c,l)),t2(e,u);let d=u.tView=zE(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function V7(n,e,t,i,r,o,s,a,l,c){let u=t+Es,d=e.firstCreatePass?RY(u,e,n,i,r,o,s,a,l):e.data[u];Uf(d,!1);let f=NY(e,n,d,t);Qy()&&a2(e,n,f,d),oh(f,n);let h=v7(f,n,f,d);return n[u]=h,d2(n,h),uY(h,d,n),Yy(d)&&VE(e,n,d),l!=null&&jE(n,d,c),d}function _t(n,e,t,i,r,o,s,a){let l=qn(),c=eo(),u=Ap(c.consts,o);return V7(l,c,n,e,t,i,r,u,s,a),_t}var NY=LY;function LY(n,e,t,i){return e2(!0),e[$r].createComment("")}var wp=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(wp||{}),j7=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=Nt({token:e,providedIn:"root",factory:()=>new e});let n=e;return n})(),Pf=class Pf{constructor(){this.ngZone=At(fi),this.scheduler=At(Tp),this.errorHandler=At(Ou,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of Pf.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(i){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};Pf.PHASES=[wp.EarlyRead,wp.Write,wp.MixedReadWrite,wp.Read],Pf.\u0275prov=Nt({token:Pf,providedIn:"root",factory:()=>new Pf});var Zk=Pf,Yk=class{constructor(e,t,i,r){this.impl=e,this.hooks=t,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Wf(n,e){!e?.injector&&oG(Wf);let t=e?.injector??At(Ss);return NK(t)?(Uc("NgAfterNextRender"),BY(n,t,e,!0)):VY}function FY(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function BY(n,e,t,i){let r=e.get(j7);r.impl??=e.get(Zk);let o=t?.phase??wp.MixedReadWrite,s=new Yk(r.impl,FY(n,o),i,e.get(AE));return r.impl.register(s),s}var VY={destroy(){}};function wa(n,e,t,i){let r=qn(),o=Op();if(ul(r,o,e)){let s=eo(),a=Bb();xZ(a,r,n,e,t,i)}return wa}function z7(n,e,t,i){return ul(n,Op(),t)?e+fa(t)+i:Go}function jY(n,e,t,i,r,o){let s=xE(),a=Pb(n,s,t,r);return Fb(2),a?e+fa(t)+i+fa(r)+o:Go}function zY(n,e,t,i,r,o,s,a){let l=xE(),c=B7(n,l,t,r,s);return Fb(3),c?e+fa(t)+i+fa(r)+o+fa(s)+a:Go}function UY(n,e,t,i,r,o,s,a,l,c){let u=xE(),d=DY(n,u,t,r,s,l);return Fb(4),d?e+fa(t)+i+fa(r)+o+fa(s)+a+fa(l)+c:Go}function cy(n,e){return n<<17|e<<2}function zf(n){return n>>17&32767}function HY(n){return(n&2)==2}function WY(n,e){return n&131071|e<<17}function Xk(n){return n|2}function Mp(n){return(n&131068)>>2}function tk(n,e){return n&-131069|e<<2}function $Y(n){return(n&1)===1}function Jk(n){return n|1}function qY(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=zf(s),l=Mp(s);n[i]=t;let c=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||Nb(d,u)>0)&&(c=!0)}else u=t;if(r)if(l!==0){let f=zf(n[a+1]);n[i+1]=cy(f,a),f!==0&&(n[f+1]=tk(n[f+1],i)),n[a+1]=WY(n[a+1],i)}else n[i+1]=cy(a,0),a!==0&&(n[a+1]=tk(n[a+1],i)),a=i;else n[i+1]=cy(l,0),a===0?a=i:n[l+1]=tk(n[l+1],i),l=i;c&&(n[i+1]=Xk(n[i+1])),uP(n,u,i,!0),uP(n,u,i,!1),GY(e,u,n,i,o),s=cy(a,l),o?e.classBindings=s:e.styleBindings=s}function GY(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Nb(o,e)>=0&&(t[i+1]=Jk(t[i+1]))}function uP(n,e,t,i){let r=n[t+1],o=e===null,s=i?zf(r):Mp(r),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],c=n[s+1];KY(l,e)&&(a=!0,n[s+1]=i?Jk(c):Xk(c)),s=i?zf(c):Mp(c)}a&&(n[t+1]=i?Xk(r):Jk(r))}function KY(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Nb(n,e)>=0:!1}var Yl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ZY(n){return n.substring(Yl.key,Yl.keyEnd)}function YY(n){return XY(n),U7(n,H7(n,0,Yl.textEnd))}function U7(n,e){let t=Yl.textEnd;return t===e?-1:(e=Yl.keyEnd=JY(n,Yl.key=e,t),H7(n,e,t))}function XY(n){Yl.key=0,Yl.keyEnd=0,Yl.value=0,Yl.valueEnd=0,Yl.textEnd=n.length}function H7(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function JY(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function fe(n,e,t){let i=qn(),r=Op();if(ul(i,r,e)){let o=eo(),s=Bb();u2(o,s,i,n,e,i[$r],t,!1)}return fe}function Qk(n,e,t,i,r){let o=e.inputs,s=r?"class":"style";HE(n,t,o[s],s,i)}function g2(n,e,t){return $7(n,e,t,!1),g2}function Zo(n,e){return $7(n,e,null,!0),Zo}function W7(n){eX(sX,QY,n,!0)}function QY(n,e){for(let t=YY(e);t>=0;t=U7(e,t))hE(n,ZY(e),!0)}function $7(n,e,t,i){let r=qn(),o=eo(),s=Fb(2);if(o.firstUpdatePass&&G7(o,n,s,i),e!==Go&&ul(r,s,e)){let a=o.data[zc()];K7(o,a,r,r[$r],n,r[s+1]=lX(e,t),i,s)}}function eX(n,e,t,i){let r=eo(),o=Fb(2);r.firstUpdatePass&&G7(r,null,o,i);let s=qn();if(t!==Go&&ul(s,o,t)){let a=r.data[zc()];if(Z7(a,i)&&!q7(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=ok(l,t||"")),Qk(r,a,s,t,i)}else aX(r,a,s,s[$r],s[o+1],s[o+1]=oX(n,e,t),i,o)}}function q7(n,e){return e>=n.expandoStartIndex}function G7(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[zc()],s=q7(n,t);Z7(o,i)&&e===null&&!s&&(e=!1),e=tX(r,o,e,i),qY(r,o,e,t,s,i)}}function tX(n,e,t,i){let r=SG(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=nk(null,n,e,t,i),t=Db(t,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==r)if(t=nk(r,n,e,t,i),o===null){let l=nX(n,e,i);l!==void 0&&Array.isArray(l)&&(l=nk(null,n,e,l[1],i),l=Db(l,e.attrs,i),iX(n,e,i,l))}else o=rX(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function nX(n,e,t){let i=t?e.classBindings:e.styleBindings;if(Mp(i)!==0)return n[zf(i)]}function iX(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[zf(r)]=i}function rX(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=Db(i,s,t)}return Db(i,e.attrs,t)}function nk(n,e,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],i=Db(i,o.hostAttrs,r),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function Db(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),hE(n,s,t?!0:e[++o]))}return n===void 0?null:n}function oX(n,e,t){if(t==null||t==="")return ma;let i=[],r=pl(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function sX(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&hE(n,i,t)}function aX(n,e,t,i,r,o,s,a){r===Go&&(r=ma);let l=0,c=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let f=l<r.length?r[l+1]:void 0,h=c<o.length?o[c+1]:void 0,m=null,p;u===d?(l+=2,c+=2,f!==h&&(m=d,p=h)):d===null||u!==null&&u<d?(l+=2,m=u):(c+=2,m=d,p=h),m!==null&&K7(n,e,t,i,m,p,s,a),u=l<r.length?r[l]:null,d=c<o.length?o[c]:null}}function K7(n,e,t,i,r,o,s,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],u=$Y(c)?dP(l,e,t,r,Mp(c),s):void 0;if(!jy(u)){jy(o)||HY(c)&&(o=dP(l,null,t,r,a,s));let d=QP(zc(),t);QK(i,s,d,r,o)}}function dP(n,e,t,i,r,o){let s=e===null,a;for(;r>0;){let l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=t[r+1];f===Go&&(f=d?ma:void 0);let h=d?q5(f,i):u===i?f:void 0;if(c&&!jy(h)&&(h=q5(l,i)),jy(h)&&(a=h,s))return a;let m=n[r+1];r=s?zf(m):Mp(m)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=q5(l,i))}return a}function jy(n){return n!==void 0}function lX(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Hs(pl(n)))),n}function Z7(n,e){return(n.flags&(e?8:16))!==0}function XE(n,e){Uc("NgControlFlow");let t=qn(),i=Op(),r=t[i]!==Go?t[i]:-1,o=r!==-1?hP(t,Es+r):void 0,s=0;if(ul(t,i,n)){let a=Pi(null);try{if(o!==void 0&&MZ(o,s),n!==-1){let l=Es+n,c=hP(t,l),u=cX(t[ei],l),d=Ry(c,u.tView.ssrId),f=$E(t,u,e,{dehydratedView:d});qE(c,f,s,Dy(u,d))}}finally{Pi(a)}}else if(o!==void 0){let a=IZ(o,s);a!==void 0&&(a[ll]=e)}}function hP(n,e){return n[e]}function cX(n,e){return vE(n,e)}function uX(n,e,t,i,r,o){let s=e.consts,a=Ap(s,r),l=Np(e,n,2,i,a);return UE(e,t,l,Ap(s,o)),l.attrs!==null&&Ly(l,l.attrs,!1),l.mergedAttrs!==null&&Ly(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function O(n,e,t,i){let r=qn(),o=eo(),s=Es+n,a=r[$r],l=o.firstCreatePass?uX(s,o,r,e,t,i):o.data[s],c=dX(o,r,l,a,e,n);r[s]=c;let u=Yy(l);return Uf(l,!0),c7(a,c,l),!OY(l)&&Qy()&&a2(o,r,c,l),pG()===0&&oh(c,r),gG(),u&&(VE(o,r,l),BE(o,l,r)),i!==null&&jE(r,l),O}function A(){let n=ms();yE()?_E():(n=n.parent,Uf(n,!1));let e=n;vG(e)&&wG(),bG();let t=eo();return t.firstCreatePass&&(t2(t,n),bE(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&RG(e)&&Qk(t,e,qn(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&NG(e)&&Qk(t,e,qn(),e.stylesWithoutHost,!1),A}function Ce(n,e,t,i){return O(n,e,t,i),A(),Ce}var dX=(n,e,t,i,r,o)=>(e2(!0),QD(i,r,MG()));function hX(n,e,t,i,r){let o=e.consts,s=Ap(o,i),a=Np(e,n,8,"ng-container",s);s!==null&&Ly(a,s,!0);let l=Ap(o,r);return UE(e,t,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function qr(n,e,t){let i=qn(),r=eo(),o=n+Es,s=r.firstCreatePass?hX(o,r,i,e,t):r.data[o];Uf(s,!0);let a=fX(r,i,s,n);return i[o]=a,Qy()&&a2(r,i,a,s),oh(a,i),Yy(s)&&(VE(r,i,s),BE(r,s,i)),t!=null&&jE(i,s),qr}function Gr(){let n=ms(),e=eo();return yE()?_E():(n=n.parent,Uf(n,!1)),e.firstCreatePass&&(t2(e,n),bE(n)&&e.queries.elementEnd(n)),Gr}var fX=(n,e,t,i)=>(e2(!0),VK(e[$r],""));function Ut(){return qn()}function b2(n,e,t){let i=qn(),r=Op();if(ul(i,r,e)){let o=eo(),s=Bb();u2(o,s,i,n,e,i[$r],t,!0)}return b2}var zy="en-US";var mX=zy;function pX(n){typeof n=="string"&&(mX=n.toLowerCase().replace(/_/g,"-"))}var gX=(n,e,t)=>{};function ve(n,e,t,i){let r=qn(),o=eo(),s=ms();return Y7(o,r,r[$r],s,n,e,i),ve}function bX(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=e[_y],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Y7(n,e,t,i,r,o,s){let a=Yy(i),c=n.firstCreatePass&&_7(n),u=e[ll],d=y7(e),f=!0;if(i.type&3||s){let p=hl(i,e),g=s?s(p):p,v=d.length,x=s?N=>s(Bc(N[i.index])):i.index,I=null;if(!s&&a&&(I=bX(n,e,r,i.index)),I!==null){let N=I.__ngLastListenerFn__||I;N.__ngNextListenerFn__=o,I.__ngLastListenerFn__=o,f=!1}else{o=mP(i,e,u,o),gX(p,r,o);let N=t.listen(g,r,o);d.push(o,N),c&&c.push(r,x,v,v+1)}}else o=mP(i,e,u,o);let h=i.outputs,m;if(f&&h!==null&&(m=h[r])){let p=m.length;if(p)for(let g=0;g<p;g+=2){let v=m[g],x=m[g+1],H=e[v][x].subscribe(o),F=d.length;d.push(o,H),c&&c.push(r,i.index,F,-(F+1))}}}function fP(n,e,t,i){let r=Pi(null);try{return Rc(6,e,t),t(i)!==!1}catch(o){return x7(n,o),!1}finally{Rc(7,e,t),Pi(r)}}function mP(n,e,t,i){return function r(o){if(o===Function)return i;let s=n.componentOffset>-1?ch(n.index,e):e;GE(s,5);let a=fP(e,t,i,o),l=r.__ngNextListenerFn__;for(;l;)a=fP(e,t,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function Re(n=1){return TG(n)}function vX(n,e){let t=null,i=Bq(n);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){t=r;continue}if(i===null?RP(n,o,!0):zq(i,o))return r}return t}function Lp(n){let e=qn()[cl][ga];if(!e.projection){let t=n?n.length:1,i=e.projection=Iq(t,null),r=i.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?vX(o,n):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function Hc(n,e=0,t,i,r,o){let s=qn(),a=eo(),l=i?n+1:null;l!==null&&V7(s,a,l,i,r,o,null,t);let c=Np(a,Es+n,16,null,t||null);c.projection===null&&(c.projection=e),_E();let d=!s[Ab]||sD();s[cl][ga].projection[c.projection]===null&&l!==null?wX(s,a,l):d&&(c.flags&32)!==32&&XK(a,s,c)}function wX(n,e,t){let i=Es+t,r=e.data[i],o=n[i],s=Ry(o,r.tView.ssrId),a=$E(n,r,void 0,{dehydratedView:s});qE(o,a,0,Dy(r,s))}function In(n,e,t){return Ra(n,"",e,"",t),In}function Ra(n,e,t,i,r){let o=qn(),s=z7(o,e,t,i);if(s!==Go){let a=eo(),l=Bb();u2(a,l,o,n,s,o[$r],r,!1)}return Ra}function JE(n,e,t,i){vY(n,e,t,i)}function sr(n,e,t){bY(n,e,t)}function Gi(n){let e=qn(),t=eo(),i=cD();CE(i+1);let r=ZE(t,i);if(n.dirty&&dG(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=_Y(e,i);n.reset(o,nK),n.notifyOnChanges()}return!0}return!1}function Ki(){return gY(qn(),cD())}function yX(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function vl(n){let e=_G();return eD(e,Es+n)}function U(n,e=""){let t=qn(),i=eo(),r=n+Es,o=i.firstCreatePass?Np(i,r,1,e,null):i.data[r],s=_X(i,t,o,e,n);t[r]=s,Qy()&&a2(i,t,s,o),Uf(o,!1)}var _X=(n,e,t,i,r)=>(e2(!0),FK(e[$r],i));function et(n){return Ct("",n,""),et}function Ct(n,e,t){let i=qn(),r=z7(i,n,e,t);return r!==Go&&h2(i,zc(),r),Ct}function Ai(n,e,t,i,r){let o=qn(),s=jY(o,n,e,t,i,r);return s!==Go&&h2(o,zc(),s),Ai}function QE(n,e,t,i,r,o,s){let a=qn(),l=zY(a,n,e,t,i,r,o,s);return l!==Go&&h2(a,zc(),l),QE}function Ub(n,e,t,i,r,o,s,a,l){let c=qn(),u=UY(c,n,e,t,i,r,o,s,a,l);return u!==Go&&h2(c,zc(),u),Ub}function Xe(n,e,t){L7(e)&&(e=e());let i=qn(),r=Op();if(ul(i,r,e)){let o=eo(),s=Bb();u2(o,s,i,n,e,i[$r],t,!1)}return Xe}function Qe(n,e){let t=L7(n);return t&&n.set(e),t}function Je(n,e){let t=qn(),i=eo(),r=ms();return Y7(i,t,t[$r],r,n,e),Je}function xX(n,e,t){let i=eo();if(i.firstCreatePass){let r=rh(n);eE(t,i.data,i.blueprint,r,!0),eE(e,i.data,i.blueprint,r,!1)}}function eE(n,e,t,i,r){if(n=Us(n),Array.isArray(n))for(let o=0;o<n.length;o++)eE(n[o],e,t,i,r);else{let o=eo(),s=qn(),a=ms(),l=kp(n)?n:Us(n.provide),c=WP(n),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(kp(n)||!n.multi){let h=new Bf(c,r,ze),m=rk(l,e,r?u:u+f,d);m===-1?(wk(Ay(a,s),o,l),ik(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(h),s.push(h)):(t[m]=h,s[m]=h)}else{let h=rk(l,e,u+f,d),m=rk(l,e,u,u+f),p=h>=0&&t[h],g=m>=0&&t[m];if(r&&!g||!r&&!p){wk(Ay(a,s),o,l);let v=EX(r?kX:CX,t.length,r,i,c);!r&&g&&(t[m].providerFactory=v),ik(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(v),s.push(v)}else{let v=X7(t[r?m:h],c,!r&&i);ik(o,n,h>-1?h:m,v)}!r&&i&&g&&t[m].componentProviders++}}}function ik(n,e,t,i){let r=kp(e),o=Jq(e);if(r||o){let l=(o?Us(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let u=c.indexOf(t);u===-1?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function X7(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function rk(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function CX(n,e,t,i){return tE(this.multi,[])}function kX(n,e,t,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Vf(t,t[ei],this.providerFactory.index,i);o=a.slice(0,s),tE(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],tE(r,o);return o}function tE(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function EX(n,e,t,i,r){let o=new Bf(n,t,ze);return o.multi=[],o.index=e,o.componentProviders=0,X7(o,r,i&&!t),o}function ko(n,e=[]){return t=>{t.providersResolver=(i,r)=>xX(i,r?r(n):n,e)}}var SX=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=zP(!1,i.type),o=r.length>0?m2([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=Nt({token:e,providedIn:"environment",factory:()=>new e(Tt(Ws))});let n=e;return n})();function Ht(n){Uc("NgStandalone"),n.getStandaloneInjector=e=>e.get(SX).getOrCreateStandaloneInjector(n)}function J7(n,e,t){let i=Lb()+n,r=qn();return r[i]===Go?p2(r,i,t?e.call(t):e()):PY(r,i)}function ht(n,e,t,i){return eO(qn(),Lb(),n,e,t,i)}function dn(n,e,t,i,r){return AX(qn(),Lb(),n,e,t,i,r)}function Q7(n,e,t,i,r,o){return TX(qn(),Lb(),n,e,t,i,r,o)}function e3(n,e){let t=n[e];return t===Go?void 0:t}function eO(n,e,t,i,r,o){let s=e+t;return ul(n,s,r)?p2(n,s+1,o?i.call(o,r):i(r)):e3(n,s+1)}function AX(n,e,t,i,r,o,s){let a=e+t;return Pb(n,a,r,o)?p2(n,a+2,s?i.call(s,r,o):i(r,o)):e3(n,a+2)}function TX(n,e,t,i,r,o,s,a){let l=e+t;return B7(n,l,r,o,s)?p2(n,l+3,a?i.call(a,r,o,s):i(r,o,s)):e3(n,l+3)}function v2(n,e){let t=eo(),i,r=n+Es;t.firstCreatePass?(i=IX(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=Of(i.type,!0)),s,a=ha(ze);try{let l=Sy(!1),c=o();return Sy(l),yX(t,qn(),r,c),c}finally{ha(a)}}function IX(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function w2(n,e,t){let i=n+Es,r=qn(),o=eD(r,i);return MX(r,i)?eO(r,Lb(),e,o.transform,t,o):o.transform(t)}function MX(n,e){return n[ei].data[e].pure}function dh(n,e){return f2(n,e)}var y2=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"platform"});let n=e;return n})();var tO=new jt("");function $f(n){return!!n&&typeof n.then=="function"}function nO(n){return!!n&&typeof n.subscribe=="function"}var _2=new jt(""),iO=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=At(_2,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let o of this.appInits){let s=o();if($f(s))i.push(s);else if(nO(s)){let a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(o=>{this.reject(o)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Hb=new jt("");function PX(){n8(()=>{throw new Ot(600,!1)})}function DX(n){return n.isBoundToModule}var OX=10;function RX(n,e,t){try{let i=t();return $f(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var hh=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=At(eK),this.afterRenderManager=At(j7),this.zonelessEnabled=At(KE),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ji,this.afterTick=new ji,this.componentTypes=[],this.components=[],this.isStable=At(uh).hasPendingTasks.pipe(jn(i=>!i)),this._injector=At(Ws)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let i;return new Promise(r=>{i=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{i.unsubscribe()})}get injector(){return this._injector}bootstrap(i,r){let o=i instanceof Ny;if(!this._injector.get(iO).done){let h=!o&&FP(i),m=!1;throw new Ot(405,m)}let a;o?a=i:a=this._injector.get(sh).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let l=DX(a)?void 0:this._injector.get(lh),c=r||a.selector,u=a.create(Ss.NULL,[],c,l),d=u.location.nativeElement,f=u.injector.get(tO,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),py(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Ot(101,!1);let i=Pi(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Pi(i),this.afterTick.next()}}synchronize(){let i=null;this._injector.destroyed||(i=this._injector.get(ah,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<OX;)this.synchronizeOnce(i)}synchronizeOnce(i){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:o,notifyErrorHandler:s}of this._views)NX(o,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else i?.begin?.(),i?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:i})=>Xy(i))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;py(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(Hb,[]);[...this._bootstrapListeners,...r].forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>py(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Ot(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function py(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function NX(n,e,t,i){if(!t&&!Xy(n))return;E7(n,e,t&&!i?0:1)}var nE=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},x2=(()=>{let e=class e{compileModuleSync(i){return new Kk(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),o=BP(i),s=JD(o.declarations).reduce((a,l)=>{let c=ih(l);return c&&a.push(new Ip(c)),a},[]);return new nE(r,s)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var LX=(()=>{let e=class e{constructor(){this.zone=At(fi),this.changeDetectionScheduler=At(Tp),this.applicationRef=At(hh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),FX=new jt("",{factory:()=>!1});function rO({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new fi(Xt(Be({},sO()),{scheduleInRootZone:t})),[{provide:fi,useFactory:n},{provide:Cp,multi:!0,useFactory:()=>{let i=At(LX,{optional:!0});return()=>i.initialize()}},{provide:Cp,multi:!0,useFactory:()=>{let i=At(BX);return()=>{i.initialize()}}},e===!0?{provide:I7,useValue:!0}:[],{provide:M7,useValue:t??ID}]}function oO(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,i=rO({ngZoneFactory:()=>{let r=sO(n);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&Uc("NgZone_CoalesceEvent"),new fi(r)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Pp([{provide:FX,useValue:!0},{provide:KE,useValue:!1},i])}function sO(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var BX=(()=>{let e=class e{constructor(){this.subscription=new hr,this.initialized=!1,this.zone=At(fi),this.pendingTasks=At(uh)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{fi.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{fi.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var VX=(()=>{let e=class e{constructor(){this.appRef=At(hh),this.taskService=At(uh),this.ngZone=At(fi),this.zonelessEnabled=At(KE),this.disableScheduling=At(I7,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new hr,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Iy):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(At(M7,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof kk||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&i===5)return;switch(i){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?G8:MD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Iy+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(i),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,G8(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function jX(){return typeof $localize<"u"&&$localize.locale||zy}var C2=new jt("",{providedIn:"root",factory:()=>At(C2,bi.Optional|bi.SkipSelf)||jX()});var aO=new jt("");function uy(n){return!!n.platformInjector}function zX(n){let e=uy(n)?n.r3Injector:n.moduleRef.injector,t=e.get(fi);return t.run(()=>{uy(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(Ou,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:o=>{i.handleError(o)}})}),uy(n)){let o=()=>e.destroy(),s=n.platformInjector.get(aO);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else n.moduleRef.onDestroy(()=>{py(n.allPlatformModules,n.moduleRef),r.unsubscribe()});return RX(i,t,()=>{let o=e.get(iO);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(C2,zy);if(pX(s||zy),uy(n)){let a=e.get(hh);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return UX(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function UX(n,e){let t=n.injector.get(hh);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new Ot(-403,!1);e.push(n)}var gy=null;function HX(n=[],e){return Ss.create({name:e,providers:[{provide:Gy,useValue:"platform"},{provide:aO,useValue:new Set([()=>gy=null])},...n]})}function WX(n=[]){if(gy)return gy;let e=HX(n);return gy=e,PX(),$X(e),e}function $X(n){n.get(ME,null)?.forEach(t=>t())}var Do=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=qX;let n=e;return n})();function qX(n){return GX(ms(),qn(),(n&16)===16)}function GX(n,e,t){if(Zy(n)&&!t){let i=ch(n.index,e);return new jf(i,i)}else if(n.type&175){let i=e[cl];return new jf(i,e)}return null}var iE=class{constructor(){}supports(e){return F7(e)}create(e){return new rE(e)}},KX=(n,e)=>e,rE=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||KX}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let s=!i||t&&t.currentIndex<pP(i,r,o)?t:i,a=pP(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,u=l-r;if(c!=u){for(let f=0;f<c;f++){let h=f<o.length?o[f]:o[f]=0,m=h+f;u<=m&&m<c&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!F7(e))throw new Ot(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),i=!0):(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,MY(e,a=>{s=this._trackByFn(r,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new oE(t,i),o,r)),e}_verifyReinsertion(e,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Uy),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Uy),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},oE=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},sE=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},Uy=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new sE,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function pP(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}var aE=class{constructor(){}supports(e){return e instanceof Map||YE(e)}create(){return new lE}},lE=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||YE(e)))throw new Ot(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,t);let o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}let i=new cE(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}},cE=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function gP(){return new t3([new iE])}var t3=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||gP()),deps:[[e,new qy,new Rb]]}}find(i){let r=this.factories.find(o=>o.supports(i));if(r!=null)return r;throw new Ot(901,!1)}};e.\u0275prov=Nt({token:e,providedIn:"root",factory:gP});let n=e;return n})();function bP(){return new n3([new aE])}var n3=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r){let o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||bP()),deps:[[e,new qy,new Rb]]}}find(i){let r=this.factories.find(o=>o.supports(i));if(r)return r;throw new Ot(901,!1)}};e.\u0275prov=Nt({token:e,providedIn:"root",factory:bP});let n=e;return n})();function lO(n){try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=WX(i),o=[rO({}),{provide:Tp,useExisting:VX},...t||[]],s=new Vy({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return zX({r3Injector:s.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}}var cO=new jt("");function Yo(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function i3(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function Wb(n,e){Uc("NgSignals");let t=QM(n);return e?.equal&&(t[Tu].equal=e.equal),t}function ju(n){let e=Pi(null);try{return n()}finally{Pi(e)}}function uO(n){let e=ih(n);if(!e)return null;let t=new Ip(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var gO=null;function Uu(){return gO}function bO(n){gO??=n}var k2=class{};var Zi=new jt(""),u3=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Nt({token:e,factory:()=>At(YX),providedIn:"platform"});let n=e;return n})(),vO=new jt(""),YX=(()=>{let e=class e extends u3{constructor(){super(),this._doc=At(Zi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Uu().getBaseHref(this._doc)}onPopState(i){let r=Uu().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=Uu().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,o){this._history.pushState(i,r,o)}replaceState(i,r,o){this._history.replaceState(i,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Nt({token:e,factory:()=>new e,providedIn:"platform"});let n=e;return n})();function d3(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function dO(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function zu(n){return n&&n[0]!=="?"?"?"+n:n}var Hu=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Nt({token:e,factory:()=>At(h3),providedIn:"root"});let n=e;return n})(),wO=new jt(""),h3=(()=>{let e=class e extends Hu{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??At(Zi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return d3(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+zu(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${r}${o}`:r}pushState(i,r,o,s){let a=this.prepareExternalUrl(o+zu(s));this._platformLocation.pushState(i,r,a)}replaceState(i,r,o,s){let a=this.prepareExternalUrl(o+zu(s));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(Tt(u3),Tt(wO,8))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),yO=(()=>{let e=class e extends Hu{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=d3(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,o,s){let a=this.prepareExternalUrl(o+zu(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,o,s){let a=this.prepareExternalUrl(o+zu(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(Tt(u3),Tt(wO,8))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac});let n=e;return n})(),fh=(()=>{let e=class e{constructor(i){this._subject=new tn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=QX(dO(hO(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+zu(r))}normalize(i){return e.stripTrailingSlash(JX(this._basePath,hO(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",o=null){this._locationStrategy.pushState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+zu(r)),o)}replaceState(i,r="",o=null){this._locationStrategy.replaceState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+zu(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(o=>o(i,r))}subscribe(i,r,o){return this._subject.subscribe({next:i,error:r,complete:o})}};e.normalizeQueryParams=zu,e.joinWithSlash=d3,e.stripTrailingSlash=dO,e.\u0275fac=function(r){return new(r||e)(Tt(Hu))},e.\u0275prov=Nt({token:e,factory:()=>XX(),providedIn:"root"});let n=e;return n})();function XX(){return new fh(Tt(Hu))}function JX(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function hO(n){return n.replace(/\/index.html$/,"")}function QX(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function S2(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var o3=/\s+/,fO=[],Zn=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=fO,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(o3):fO}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(o3):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let o=this.stateMap.get(i);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],o=i[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(o3).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(r){return new(r||e)(ze(qi),ze(Ql))},e.\u0275dir=ki({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let n=e;return n})();var s3=class{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ti=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,o){this._viewContainer=i,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((o,s,a)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new s3(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(s===null?void 0:s);else if(s!==null){let l=r.get(s);r.move(l,a),mO(l,o)}});for(let o=0,s=r.length;o<s;o++){let l=r.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{let s=r.get(o.currentIndex);mO(s,o)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(ze(bl),ze(jc),ze(t3))},e.\u0275dir=ki({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let n=e;return n})();function mO(n,e){n.context.$implicit=e.item}var Rn=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new a3,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){pO("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){pO("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(ze(bl),ze(jc))},e.\u0275dir=ki({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let n=e;return n})(),a3=class{constructor(){this.$implicit=null,this.ngIf=null}};function pO(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Hs(e)}'.`)}var Bp=(()=>{let e=class e{constructor(i,r,o){this._ngEl=i,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){let i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,r){let[o,s]=i.split("."),a=o.indexOf("-")===-1?void 0:Vc.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,o,s?`${r}${s}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,o,a)}_applyChanges(i){i.forEachRemovedItem(r=>this._setStyle(r.key,null)),i.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),i.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}};e.\u0275fac=function(r){return new(r||e)(ze(qi),ze(n3),ze(Ql))},e.\u0275dir=ki({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let n=e;return n})();var sn=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ui({type:e}),e.\u0275inj=zi({});let n=e;return n})(),f3="browser",eJ="server";function $b(n){return n===f3}function A2(n){return n===eJ}var _O=(()=>{let e=class e{};e.\u0275prov=Nt({token:e,providedIn:"root",factory:()=>$b(At(va))?new l3(At(Zi),window):new c3});let n=e;return n})(),l3=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=tJ(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function tJ(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var c3=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Fp=class{};var Gb=class{},Kb=class{},Na=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var p3=class{encodeKey(e){return xO(e)}encodeValue(e){return xO(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function nJ(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var iJ=/%(\d[a-f0-9])/gi,rJ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xO(n){return encodeURIComponent(n).replace(iJ,(e,t)=>rJ[t]??e)}function T2(n){return`${n}`}var ph=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new p3,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=nJ(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(T2):[T2(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(T2(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(T2(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var g3=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function oJ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function CO(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function kO(n){return typeof Blob<"u"&&n instanceof Blob}function EO(n){return typeof FormData<"u"&&n instanceof FormData}function sJ(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var qb=class n{constructor(e,t,i,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(oJ(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Na,this.context??=new g3,!this.params)this.params=new ph,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||CO(this.body)||kO(this.body)||EO(this.body)||sJ(this.body)?this.body:this.body instanceof ph?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||EO(this.body)?null:kO(this.body)?this.body.type||null:CO(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ph?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((f,h)=>f.set(h,e.setHeaders[h]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((f,h)=>f.set(h,e.setParams[h]),u)),new n(t,i,s,{params:u,headers:c,context:d,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},gh=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(gh||{}),Zb=class{constructor(e,t=200,i="OK"){this.headers=e.headers||new Na,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},I2=class n extends Zb{constructor(e={}){super(e),this.type=gh.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Yb=class n extends Zb{constructor(e={}){super(e),this.type=gh.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},mh=class extends Zb{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},IO=200,aJ=204;function m3(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Xb=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,o={}){let s;if(i instanceof qb)s=i;else{let c;o.headers instanceof Na?c=o.headers:c=new Na(o.headers);let u;o.params&&(o.params instanceof ph?u=o.params:u=new ph({fromObject:o.params})),s=new qb(i,r,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=En(s).pipe(Mu(c=>this.handler.handle(c)));if(i instanceof qb||o.observe==="events")return a;let l=a.pipe(xr(c=>c instanceof Yb));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(jn(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(jn(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(jn(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(jn(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new ph().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,o={}){return this.request("PATCH",i,m3(o,r))}post(i,r,o={}){return this.request("POST",i,m3(o,r))}put(i,r,o={}){return this.request("PUT",i,m3(o,r))}};e.\u0275fac=function(r){return new(r||e)(Tt(Gb))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac});let n=e;return n})(),lJ=/^\)\]\}',?\n/,cJ="X-Request-URL";function SO(n){if(n.url)return n.url;let e=cJ.toLocaleLowerCase();return n.headers.get(e)}var b3=(()=>{let e=class e{constructor(){this.fetchImpl=At(v3,{optional:!0})?.fetch??((...i)=>globalThis.fetch(...i)),this.ngZone=At(fi)}handle(i){return new _i(r=>{let o=new AbortController;return this.doRequest(i,o.signal,r).then(w3,s=>r.error(new mh({error:s}))),()=>o.abort()})}doRequest(i,r,o){return gn(this,null,function*(){let s=this.createRequestInit(i),a;try{let m=this.ngZone.runOutsideAngular(()=>this.fetchImpl(i.urlWithParams,Be({signal:r},s)));uJ(m),o.next({type:gh.Sent}),a=yield m}catch(m){o.error(new mh({error:m,status:m.status??0,statusText:m.statusText,url:i.urlWithParams,headers:m.headers}));return}let l=new Na(a.headers),c=a.statusText,u=SO(a)??i.urlWithParams,d=a.status,f=null;if(i.reportProgress&&o.next(new I2({headers:l,status:d,statusText:c,url:u})),a.body){let m=a.headers.get("content-length"),p=[],g=a.body.getReader(),v=0,x,I,N=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>gn(this,null,function*(){for(;;){let{done:F,value:B}=yield g.read();if(F)break;if(p.push(B),v+=B.length,i.reportProgress){I=i.responseType==="text"?(I??"")+(x??=new TextDecoder).decode(B,{stream:!0}):void 0;let V=()=>o.next({type:gh.DownloadProgress,total:m?+m:void 0,loaded:v,partialText:I});N?N.run(V):V()}}}));let H=this.concatChunks(p,v);try{let F=a.headers.get("Content-Type")??"";f=this.parseBody(i,H,F)}catch(F){o.error(new mh({error:F,headers:new Na(a.headers),status:a.status,statusText:a.statusText,url:SO(a)??i.urlWithParams}));return}}d===0&&(d=f?IO:0),d>=200&&d<300?(o.next(new Yb({body:f,headers:l,status:d,statusText:c,url:u})),o.complete()):o.error(new mh({error:f,headers:l,status:d,statusText:c,url:u}))})}parseBody(i,r,o){switch(i.responseType){case"json":let s=new TextDecoder().decode(r).replace(lJ,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:o});case"arraybuffer":return r.buffer}}createRequestInit(i){let r={},o=i.withCredentials?"include":void 0;if(i.headers.forEach((s,a)=>r[s]=a.join(",")),i.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!i.headers.has("Content-Type")){let s=i.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:i.serializeBody(),method:i.method,headers:r,credentials:o}}concatChunks(i,r){let o=new Uint8Array(r),s=0;for(let a of i)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Nt({token:e,factory:e.\u0275fac});let n=e;return n})(),v3=class{};function w3(){}function uJ(n){n.then(w3,w3)}function dJ(n,e){return e(n)}function hJ(n,e,t){return(i,r)=>dl(t,()=>e(i,o=>n(o,r)))}var MO=new jt(""),fJ=new jt(""),mJ=new jt("",{providedIn:"root",factory:()=>!0});var AO=(()=>{let e=class e extends Gb{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=At(uh),this.contributeToStability=At(mJ)}handle(i){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(MO),...this.injector.get(fJ,[])]));this.chain=r.reduceRight((o,s)=>hJ(o,s,this.injector),dJ)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(i,o=>this.backend.handle(o)).pipe(Tf(()=>this.pendingTasks.remove(r)))}else return this.chain(i,r=>this.backend.handle(r))}};e.\u0275fac=function(r){return new(r||e)(Tt(Kb),Tt(Ws))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac});let n=e;return n})();var pJ=/^\)\]\}',?\n/;function gJ(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var TO=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new Ot(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?fr(r.\u0275loadImpl()):En(null)).pipe(da(()=>new _i(s=>{let a=r.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((g,v)=>a.setRequestHeader(g,v.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let g=i.detectContentTypeHeader();g!==null&&a.setRequestHeader("Content-Type",g)}if(i.responseType){let g=i.responseType.toLowerCase();a.responseType=g!=="json"?g:"text"}let l=i.serializeBody(),c=null,u=()=>{if(c!==null)return c;let g=a.statusText||"OK",v=new Na(a.getAllResponseHeaders()),x=gJ(a)||i.url;return c=new I2({headers:v,status:a.status,statusText:g,url:x}),c},d=()=>{let{headers:g,status:v,statusText:x,url:I}=u(),N=null;v!==aJ&&(N=typeof a.response>"u"?a.responseText:a.response),v===0&&(v=N?IO:0);let H=v>=200&&v<300;if(i.responseType==="json"&&typeof N=="string"){let F=N;N=N.replace(pJ,"");try{N=N!==""?JSON.parse(N):null}catch(B){N=F,H&&(H=!1,N={error:B,text:N})}}H?(s.next(new Yb({body:N,headers:g,status:v,statusText:x,url:I||void 0})),s.complete()):s.error(new mh({error:N,headers:g,status:v,statusText:x,url:I||void 0}))},f=g=>{let{url:v}=u(),x=new mh({error:g,status:a.status||0,statusText:a.statusText||"Unknown Error",url:v||void 0});s.error(x)},h=!1,m=g=>{h||(s.next(u()),h=!0);let v={type:gh.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(v.total=g.total),i.responseType==="text"&&a.responseText&&(v.partialText=a.responseText),s.next(v)},p=g=>{let v={type:gh.UploadProgress,loaded:g.loaded};g.lengthComputable&&(v.total=g.total),s.next(v)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),i.reportProgress&&(a.addEventListener("progress",m),l!==null&&a.upload&&a.upload.addEventListener("progress",p)),a.send(l),s.next({type:gh.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),i.reportProgress&&(a.removeEventListener("progress",m),l!==null&&a.upload&&a.upload.removeEventListener("progress",p)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(Tt(Fp))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac});let n=e;return n})(),PO=new jt(""),bJ="XSRF-TOKEN",vJ=new jt("",{providedIn:"root",factory:()=>bJ}),wJ="X-XSRF-TOKEN",yJ=new jt("",{providedIn:"root",factory:()=>wJ}),M2=class{},_J=(()=>{let e=class e{constructor(i,r,o){this.doc=i,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=S2(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(Tt(Zi),Tt(va),Tt(vJ))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac});let n=e;return n})();function xJ(n,e){let t=n.url.toLowerCase();if(!At(PO)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=At(M2).getToken(),r=At(yJ);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var DO=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(DO||{});function CJ(n,e){return{\u0275kind:n,\u0275providers:e}}function OO(...n){let e=[Xb,TO,AO,{provide:Gb,useExisting:AO},{provide:Kb,useFactory:()=>At(b3,{optional:!0})??At(TO)},{provide:MO,useValue:xJ,multi:!0},{provide:PO,useValue:!0},{provide:M2,useClass:_J}];for(let t of n)e.push(...t.\u0275providers);return Pp(e)}function RO(){return CJ(DO.Fetch,[b3,{provide:Kb,useExisting:b3}])}var x3=class extends k2{constructor(){super(...arguments),this.supportsDOMEvents=!0}},C3=class n extends x3{static makeCurrent(){bO(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=kJ();return t==null?null:EJ(t)}resetBaseElement(){Jb=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return S2(document.cookie,e)}},Jb=null;function kJ(){return Jb=Jb||document.querySelector("base"),Jb?Jb.getAttribute("href"):null}function EJ(n){return new URL(n,document.baseURI).pathname}var SJ=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Nt({token:e,factory:e.\u0275fac});let n=e;return n})(),P2=new jt(""),BO=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(s=>s.supports(i)),!r)throw new Ot(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(Tt(P2),Tt(fi))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac});let n=e;return n})(),Qb=class{constructor(e){this._doc=e}},y3="ng-app-id",VO=(()=>{let e=class e{constructor(i,r,o,s={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=A2(s),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${y3}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let s=o.get(i);return s.usage+=r,s.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===i)return o.delete(r),s.removeAttribute(y3),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(y3,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(Tt(Zi),Tt(n2),Tt(Vb,8),Tt(va))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac});let n=e;return n})(),_3={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},E3=/%COMP%/g,jO="%COMP%",AJ=`_nghost-${jO}`,TJ=`_ngcontent-${jO}`,IJ=!0,MJ=new jt("",{providedIn:"root",factory:()=>IJ});function PJ(n){return TJ.replace(E3,n)}function DJ(n){return AJ.replace(E3,n)}function zO(n,e){return e.map(t=>t.replace(E3,n))}var D2=(()=>{let e=class e{constructor(i,r,o,s,a,l,c,u=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=A2(l),this.defaultRenderer=new e1(i,a,c,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Lc.ShadowDom&&(r=Xt(Be({},r),{encapsulation:Lc.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof O2?o.applyToHost(i):o instanceof t1&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case Lc.Emulated:s=new O2(c,u,r,this.appId,d,a,l,f);break;case Lc.ShadowDom:return new k3(c,u,i,r,a,l,this.nonce,f);default:s=new t1(c,u,r,d,a,l,f);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(Tt(BO),Tt(VO),Tt(n2),Tt(MJ),Tt(Zi),Tt(va),Tt(fi),Tt(Vb))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac});let n=e;return n})(),e1=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(_3[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(LO(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(LO(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new Ot(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=_3[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=_3[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Vc.DashCase|Vc.Important)?e.style.setProperty(t,i,r&Vc.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Vc.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=Uu().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function LO(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var k3=class extends e1{constructor(e,t,i,r,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=zO(r.id,r.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},t1=class extends e1{constructor(e,t,i,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?zO(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},O2=class extends t1{constructor(e,t,i,r,o,s,a,l){let c=r+"-"+i.id;super(e,t,i,o,s,a,l,c),this.contentAttr=PJ(c),this.hostAttr=DJ(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},OJ=(()=>{let e=class e extends Qb{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(Tt(Zi))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac});let n=e;return n})(),RJ=(()=>{let e=class e extends Qb{constructor(i){super(i),this.delegate=At(cO,{optional:!0})}supports(i){return this.delegate?this.delegate.supports(i):!1}addEventListener(i,r,o){return this.delegate.addEventListener(i,r,o)}removeEventListener(i,r,o){return this.delegate.removeEventListener(i,r,o)}};e.\u0275fac=function(r){return new(r||e)(Tt(Zi))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac});let n=e;return n})(),FO=["alt","control","meta","shift"],NJ={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},LJ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},FJ=(()=>{let e=class e extends Qb{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Uu().onAndCancel(i,s.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),FO.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),a+=u+".")}),a+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(i,r){let o=NJ[i.key]||i.key,s="";return r.indexOf("code.")>-1&&(o=i.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),FO.forEach(a=>{if(a!==o){let l=LJ[a];l(i)&&(s+=a+".")}}),s+=o,s===r)}static eventCallback(i,r,o){return s=>{e.matchEventFullKeyCode(s,i)&&o.runGuarded(()=>r(s))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(Tt(Zi))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac});let n=e;return n})();function UO(n,e){return lO(Be({rootComponent:n},BJ(e)))}function BJ(n){return{appProviders:[...HJ,...n?.providers??[]],platformProviders:UJ}}function VJ(){C3.makeCurrent()}function jJ(){return new Ou}function zJ(){return FD(document),document}var UJ=[{provide:va,useValue:f3},{provide:ME,useValue:VJ,multi:!0},{provide:Zi,useFactory:zJ,deps:[]}];var HJ=[{provide:Gy,useValue:"root"},{provide:Ou,useFactory:jJ,deps:[]},{provide:P2,useClass:OJ,multi:!0,deps:[Zi,fi,va]},{provide:P2,useClass:FJ,multi:!0,deps:[Zi]},{provide:P2,useClass:RJ,multi:!0},D2,VO,BO,{provide:ah,useExisting:D2},{provide:Fp,useClass:SJ,deps:[]},[]];var HO=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(Tt(Zi))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Oo=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Nt({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=Tt(WJ),o},providedIn:"root"});let n=e;return n})(),WJ=(()=>{let e=class e extends Oo{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case Jl.NONE:return r;case Jl.HTML:return Fu(r,"HTML")?pl(r):DE(this._doc,String(r)).toString();case Jl.STYLE:return Fu(r,"Style")?pl(r):r;case Jl.SCRIPT:if(Fu(r,"Script"))return pl(r);throw new Ot(5200,!1);case Jl.URL:return Fu(r,"URL")?pl(r):r2(String(r));case Jl.RESOURCE_URL:if(Fu(r,"ResourceURL"))return pl(r);throw new Ot(5201,!1);default:throw new Ot(5202,!1)}}bypassSecurityTrustHtml(i){return zD(i)}bypassSecurityTrustStyle(i){return UD(i)}bypassSecurityTrustScript(i){return HD(i)}bypassSecurityTrustUrl(i){return WD(i)}bypassSecurityTrustResourceUrl(i){return $D(i)}};e.\u0275fac=function(r){return new(r||e)(Tt(Zi))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var ci="primary",g1=Symbol("RouteTitle"),M3=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Wp(n){return new M3(n)}function $J(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=n[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function qJ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$c(n[t],e[t]))return!1;return!0}function $c(n,e){let t=n?P3(n):void 0,i=e?P3(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!eR(n[r],e[r]))return!1;return!0}function P3(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function eR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function tR(n){return n.length>0?n[n.length-1]:null}function vh(n){return j5(n)?n:$f(n)?fr(Promise.resolve(n)):En(n)}var GJ={exact:iR,subset:rR},nR={exact:KJ,subset:ZJ,ignored:()=>!0};function WO(n,e,t){return GJ[t.paths](n.root,e.root,t.matrixParams)&&nR[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function KJ(n,e){return $c(n,e)}function iR(n,e,t){if(!Gf(n.segments,e.segments)||!L2(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!iR(n.children[i],e.children[i],t))return!1;return!0}function ZJ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>eR(n[t],e[t]))}function rR(n,e,t){return oR(n,e,e.segments,t)}function oR(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!Gf(r,t)||e.hasChildren()||!L2(r,t,i))}else if(n.segments.length===t.length){if(!Gf(n.segments,t)||!L2(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!rR(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Gf(n.segments,r)||!L2(n.segments,r,i)||!n.children[ci]?!1:oR(n.children[ci],e,o,i)}}function L2(n,e,t){return e.every((i,r)=>nR[t](n[r].parameters,i.parameters))}var $u=class{constructor(e=new Yi([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Wp(this.queryParams),this._queryParamMap}toString(){return JJ.serialize(this)}},Yi=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return F2(this)}},qf=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Wp(this.parameters),this._parameterMap}toString(){return aR(this)}};function YJ(n,e){return Gf(n,e)&&n.every((t,i)=>$c(t.parameters,e[i].parameters))}function Gf(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function XJ(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===ci&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==ci&&(t=t.concat(e(r,i)))}),t}var b1=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Nt({token:e,factory:()=>new $p,providedIn:"root"});let n=e;return n})(),$p=class{parse(e){let t=new O3(e);return new $u(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${n1(e.root,!0)}`,i=tQ(e.queryParams),r=typeof e.fragment=="string"?`#${QJ(e.fragment)}`:"";return`${t}${i}${r}`}},JJ=new $p;function F2(n){return n.segments.map(e=>aR(e)).join("/")}function n1(n,e){if(!n.hasChildren())return F2(n);if(e){let t=n.children[ci]?n1(n.children[ci],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==ci&&i.push(`${r}:${n1(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=XJ(n,(i,r)=>r===ci?[n1(n.children[ci],!1)]:[`${r}:${n1(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[ci]!=null?`${F2(n)}/${t[0]}`:`${F2(n)}/(${t.join("//")})`}}function sR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function R2(n){return sR(n).replace(/%3B/gi,";")}function QJ(n){return encodeURI(n)}function D3(n){return sR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function B2(n){return decodeURIComponent(n)}function $O(n){return B2(n.replace(/\+/g,"%20"))}function aR(n){return`${D3(n.path)}${eQ(n.parameters)}`}function eQ(n){return Object.entries(n).map(([e,t])=>`;${D3(e)}=${D3(t)}`).join("")}function tQ(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${R2(t)}=${R2(r)}`).join("&"):`${R2(t)}=${R2(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var nQ=/^[^\/()?;#]+/;function S3(n){let e=n.match(nQ);return e?e[0]:""}var iQ=/^[^\/()?;=#]+/;function rQ(n){let e=n.match(iQ);return e?e[0]:""}var oQ=/^[^=?&#]+/;function sQ(n){let e=n.match(oQ);return e?e[0]:""}var aQ=/^[^&#]+/;function lQ(n){let e=n.match(aQ);return e?e[0]:""}var O3=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yi([],{}):new Yi([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[ci]=new Yi(e,t)),i}parseSegment(){let e=S3(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Ot(4009,!1);return this.capture(e),new qf(B2(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=rQ(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=S3(this.remaining);r&&(i=r,this.capture(i))}e[B2(t)]=B2(i)}parseQueryParam(e){let t=sQ(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=lQ(this.remaining);s&&(i=s,this.capture(i))}let r=$O(t),o=$O(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=S3(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Ot(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ci);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ci]:new Yi([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Ot(4011,!1)}};function lR(n){return n.segments.length>0?new Yi([],{[ci]:n}):n}function cR(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=cR(r);if(i===ci&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new Yi(n.segments,e);return cQ(t)}function cQ(n){if(n.numberOfChildren===1&&n.children[ci]){let e=n.children[ci];return new Yi(n.segments.concat(e.segments),e.children)}return n}function Kf(n){return n instanceof $u}function uQ(n,e,t=null,i=null){let r=uR(n);return dR(r,e,t,i)}function uR(n){let e;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new Yi(o.url,s);return o===n&&(e=a),a}let i=t(n.root),r=lR(i);return e??r}function dR(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return A3(r,r,r,t,i);let o=dQ(e);if(o.toRoot())return A3(r,r,new Yi([],{}),t,i);let s=hQ(o,r,n),a=s.processChildren?o1(s.segmentGroup,s.index,o.commands):fR(s.segmentGroup,s.index,o.commands);return A3(r,s.segmentGroup,a,t,i)}function V2(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function l1(n){return typeof n=="object"&&n!=null&&n.outlets}function A3(n,e,t,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;n===e?s=t:s=hR(n,e,t);let a=lR(cR(s));return new $u(a,o,r)}function hR(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=hR(o,e,t)}),new Yi(n.segments,i)}var j2=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&V2(i[0]))throw new Ot(4003,!1);let r=i.find(l1);if(r&&r!==tR(i))throw new Ot(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function dQ(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new j2(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new j2(t,e,i)}var zp=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function hQ(n,e,t){if(n.isAbsolute)return new zp(e,!0,0);if(!t)return new zp(e,!1,NaN);if(t.parent===null)return new zp(t,!0,0);let i=V2(n.commands[0])?0:1,r=t.segments.length-1+i;return fQ(t,r,n.numberOfDoubleDots)}function fQ(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Ot(4005,!1);r=i.segments.length}return new zp(i,!1,r-o)}function mQ(n){return l1(n[0])?n[0].outlets:{[ci]:n}}function fR(n,e,t){if(n??=new Yi([],{}),n.segments.length===0&&n.hasChildren())return o1(n,e,t);let i=pQ(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new Yi(n.segments.slice(0,i.pathIndex),{});return o.children[ci]=new Yi(n.segments.slice(i.pathIndex),n.children),o1(o,0,r)}else return i.match&&r.length===0?new Yi(n.segments,{}):i.match&&!n.hasChildren()?R3(n,e,t):i.match?o1(n,0,r):R3(n,e,t)}function o1(n,e,t){if(t.length===0)return new Yi(n.segments,{});{let i=mQ(t),r={};if(Object.keys(i).some(o=>o!==ci)&&n.children[ci]&&n.numberOfChildren===1&&n.children[ci].segments.length===0){let o=o1(n.children[ci],e,t);return new Yi(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=fR(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Yi(n.segments,r)}}function pQ(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let s=n.segments[r],a=t[i];if(l1(a))break;let l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!GO(l,c,s))return o;i+=2}else{if(!GO(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function R3(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(l1(o)){let l=gQ(o.outlets);return new Yi(i,l)}if(r===0&&V2(t[0])){let l=n.segments[e];i.push(new qf(l.path,qO(t[0]))),r++;continue}let s=l1(o)?o.outlets[ci]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&V2(a)?(i.push(new qf(s,qO(a))),r+=2):(i.push(new qf(s,{})),r++)}return new Yi(i,{})}function gQ(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=R3(new Yi([],{}),0,i))}),e}function qO(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function GO(n,e,t){return n==t.path&&$c(e,t.parameters)}var s1="imperative",Xo=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Xo||{}),wl=class{constructor(e,t){this.id=e,this.url=t}},qp=class extends wl{constructor(e,t,i="imperative",r=null){super(e,t),this.type=Xo.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},yl=class extends wl{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=Xo.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Fa=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Fa||{}),z2=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(z2||{}),Wu=class extends wl{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Xo.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},bh=class extends wl{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Xo.NavigationSkipped}},c1=class extends wl{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=Xo.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},U2=class extends wl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Xo.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},N3=class extends wl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Xo.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},L3=class extends wl{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Xo.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},F3=class extends wl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Xo.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},B3=class extends wl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Xo.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},V3=class{constructor(e){this.route=e,this.type=Xo.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},j3=class{constructor(e){this.route=e,this.type=Xo.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},z3=class{constructor(e){this.snapshot=e,this.type=Xo.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},U3=class{constructor(e){this.snapshot=e,this.type=Xo.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},H3=class{constructor(e){this.snapshot=e,this.type=Xo.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},W3=class{constructor(e){this.snapshot=e,this.type=Xo.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},H2=class{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=Xo.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},u1=class{},Gp=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function bQ(n,e){return n.providers&&!n._injector&&(n._injector=m2(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ec(n){return n.outlet||ci}function vQ(n,e){let t=n.filter(i=>ec(i)===e);return t.push(...n.filter(i=>ec(i)!==e)),t}function v1(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var $3=class{get injector(){return v1(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new w1(this.rootInjector),this.attachRef=null}},w1=(()=>{let e=class e{constructor(i){this.rootInjector=i,this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new $3(this.rootInjector),this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)(Tt(Ws))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),W2=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=q3(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=q3(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=G3(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return G3(e,this._root).map(t=>t.value)}};function q3(n,e){if(n===e.value)return e;for(let t of e.children){let i=q3(n,t);if(i)return i}return null}function G3(n,e){if(n===e.value)return[e];for(let t of e.children){let i=G3(n,t);if(i.length)return i.unshift(e),i}return[]}var La=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function jp(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var $2=class extends W2{constructor(e,t){super(e),this.snapshot=t,nS(this,e)}toString(){return this.snapshot.toString()}};function mR(n){let e=wQ(n),t=new go([new qf("",{})]),i=new go({}),r=new go({}),o=new go({}),s=new go(""),a=new As(t,i,o,s,r,ci,n,e.root);return a.snapshot=e.root,new $2(new La(a,[]),e)}function wQ(n){let e={},t={},i={},r="",o=new Up([],e,i,r,t,ci,n,null,{});return new G2("",new La(o,[]))}var As=class{constructor(e,t,i,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(jn(c=>c[g1]))??En(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(jn(e=>Wp(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(jn(e=>Wp(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function q2(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:Be(Be({},e.params),n.params),data:Be(Be({},e.data),n.data),resolve:Be(Be(Be(Be({},n.data),e.data),r?.data),n._resolvedData)}:i={params:Be({},n.params),data:Be({},n.data),resolve:Be(Be({},n.data),n._resolvedData??{})},r&&gR(r)&&(i.resolve[g1]=r.title),i}var Up=class{get title(){return this.data?.[g1]}constructor(e,t,i,r,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Wp(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Wp(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},G2=class extends W2{constructor(e,t){super(t),this.url=e,nS(this,t)}toString(){return pR(this._root)}};function nS(n,e){e.value._routerState=n,e.children.forEach(t=>nS(n,t))}function pR(n){let e=n.children.length>0?` { ${n.children.map(pR).join(", ")} } `:"";return`${n.value}${e}`}function T3(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$c(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),$c(e.params,t.params)||n.paramsSubject.next(t.params),qJ(e.url,t.url)||n.urlSubject.next(t.url),$c(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function K3(n,e){let t=$c(n.params,e.params)&&YJ(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||K3(n.parent,e.parent))}function gR(n){return typeof n.title=="string"||n.title===null}var Zf=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ci,this.activateEvents=new tn,this.deactivateEvents=new tn,this.attachEvents=new tn,this.detachEvents=new tn,this.parentContexts=At(w1),this.location=At(bl),this.changeDetector=At(Do),this.inputBinder=At(X2,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ot(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ot(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ot(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new Ot(4013,!1);this._activatedRoute=i;let o=this.location,a=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new Z3(i,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ki({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ba]});let n=e;return n})(),Z3=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===As?this.route:e===w1?this.childContexts:this.parent.get(e,t)}},X2=new jt(""),KO=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,o=Af([r.queryParams,r.params,r.data]).pipe(da(([s,a,l],c)=>(l=Be(Be(Be({},s),a),l),c===0?En(l):Promise.resolve(l)))).subscribe(s=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=uO(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:l}of a.inputs)i.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(i,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Nt({token:e,factory:e.\u0275fac});let n=e;return n})();function yQ(n,e,t){let i=d1(n,e._root,t?t._root:void 0);return new $2(i,e)}function d1(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=_Q(n,e,t);return new La(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>d1(n,a)),s}}let i=xQ(e.value),r=e.children.map(o=>d1(n,o));return new La(i,r)}}function _Q(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return d1(n,i,r);return d1(n,i)})}function xQ(n){return new As(new go(n.url),new go(n.params),new go(n.queryParams),new go(n.fragment),new go(n.data),n.outlet,n.component,n)}var h1=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},bR="ngNavigationCancelingError";function K2(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=Kf(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=vR(!1,Fa.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function vR(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[bR]=!0,t.cancellationCode=e,t}function CQ(n){return wR(n)&&Kf(n.url)}function wR(n){return!!n&&n[bR]}var kQ=(n,e,t,i)=>jn(r=>(new Y3(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),Y3=class{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),T3(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=jp(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=jp(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=jp(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=jp(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new W3(o.value.snapshot))}),e.children.length&&this.forwardEvent(new U3(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(T3(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),T3(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},Z2=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Hp=class{constructor(e,t){this.component=e,this.route=t}};function EQ(n,e,t){let i=n._root,r=e?e._root:null;return i1(i,r,t,[i.value])}function SQ(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Zp(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!_P(n)?n:e.get(n):i}function i1(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=jp(e);return n.children.forEach(s=>{AQ(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>a1(a,t.getContext(s),r)),r}function AQ(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=TQ(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Z2(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?i1(n,e,a?a.children:null,i,r):i1(n,e,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Hp(a.outlet.component,s))}else s&&a1(e,a,r),r.canActivateChecks.push(new Z2(i)),o.component?i1(n,null,a?a.children:null,i,r):i1(n,null,t,i,r);return r}function TQ(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Gf(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Gf(n.url,e.url)||!$c(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!K3(n,e)||!$c(n.queryParams,e.queryParams);case"paramsChange":default:return!K3(n,e)}}function a1(n,e,t){let i=jp(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?e?a1(s,e.children.getContext(o),t):a1(s,null,t):a1(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Hp(e.outlet.component,r)):t.canDeactivateChecks.push(new Hp(null,r)):t.canDeactivateChecks.push(new Hp(null,r))}function y1(n){return typeof n=="function"}function IQ(n){return typeof n=="boolean"}function MQ(n){return n&&y1(n.canLoad)}function PQ(n){return n&&y1(n.canActivate)}function DQ(n){return n&&y1(n.canActivateChild)}function OQ(n){return n&&y1(n.canDeactivate)}function RQ(n){return n&&y1(n.canMatch)}function yR(n){return n instanceof Iu||n?.name==="EmptyError"}var N2=Symbol("INITIAL_VALUE");function Kp(){return da(n=>Af(n.map(e=>e.pipe(ua(1),Pu(N2)))).pipe(jn(e=>{for(let t of e)if(t!==!0){if(t===N2)return N2;if(t===!1||NQ(t))return t}return!0}),xr(e=>e!==N2),ua(1)))}function NQ(n){return Kf(n)||n instanceof h1}function LQ(n,e){return Co(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?En(Xt(Be({},t),{guardsResult:!0})):FQ(s,i,r,n).pipe(Co(a=>a&&IQ(a)?BQ(i,o,n,e):En(a)),jn(a=>Xt(Be({},t),{guardsResult:a})))})}function FQ(n,e,t,i){return fr(n).pipe(Co(r=>HQ(r.component,r.route,t,e,i)),sl(r=>r!==!0,!0))}function BQ(n,e,t,i){return fr(e).pipe(Mu(r=>Yd(jQ(r.route.parent,i),VQ(r.route,i),UQ(n,r.path,t),zQ(n,r.route,t))),sl(r=>r!==!0,!0))}function VQ(n,e){return n!==null&&e&&e(new H3(n)),En(!0)}function jQ(n,e){return n!==null&&e&&e(new z3(n)),En(!0)}function zQ(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return En(!0);let r=i.map(o=>ty(()=>{let s=v1(e)??t,a=Zp(o,s),l=PQ(a)?a.canActivate(e,n):dl(s,()=>a(e,n));return vh(l).pipe(sl())}));return En(r).pipe(Kp())}function UQ(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>SQ(s)).filter(s=>s!==null).map(s=>ty(()=>{let a=s.guards.map(l=>{let c=v1(s.node)??t,u=Zp(l,c),d=DQ(u)?u.canActivateChild(i,n):dl(c,()=>u(i,n));return vh(d).pipe(sl())});return En(a).pipe(Kp())}));return En(o).pipe(Kp())}function HQ(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return En(!0);let s=o.map(a=>{let l=v1(e)??r,c=Zp(a,l),u=OQ(c)?c.canDeactivate(n,e,t,i):dl(l,()=>c(n,e,t,i));return vh(u).pipe(sl())});return En(s).pipe(Kp())}function WQ(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return En(!0);let o=r.map(s=>{let a=Zp(s,n),l=MQ(a)?a.canLoad(e,t):dl(n,()=>a(e,t));return vh(l)});return En(o).pipe(Kp(),_R(i))}function _R(n){return R5(Po(e=>{if(typeof e!="boolean")throw K2(n,e)}),jn(e=>e===!0))}function $Q(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return En(!0);let o=r.map(s=>{let a=Zp(s,n),l=RQ(a)?a.canMatch(e,t):dl(n,()=>a(e,t));return vh(l)});return En(o).pipe(Kp(),_R(i))}var f1=class{constructor(e){this.segmentGroup=e||null}},m1=class extends Error{constructor(e){super(),this.urlTree=e}};function Vp(n){return mp(new f1(n))}function qQ(n){return mp(new Ot(4e3,!1))}function GQ(n){return mp(vR(!1,Fa.GuardRejected))}var X3=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return En(i);if(r.numberOfChildren>1||!r.children[ci])return qQ(`${e.redirectTo}`);r=r.children[ci]}}applyRedirectCommands(e,t,i,r,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,params:h,data:m,title:p}=r,g=dl(o,()=>a({params:h,data:m,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,title:p}));if(g instanceof $u)throw new m1(g);t=g}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new m1(s);return s}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new $u(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,i,r)}),new Yi(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new Ot(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},J3={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function KQ(n,e,t,i,r){let o=xR(n,e,t);return o.matched?(i=bQ(e,i),$Q(i,e,t,r).pipe(jn(s=>s===!0?o:Be({},J3)))):En(o)}function xR(n,e,t){if(e.path==="**")return ZQ(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?Be({},J3):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||$J)(t,n,e);if(!r)return Be({},J3);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?Be(Be({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function ZQ(n){return{matched:!0,parameters:n.length>0?tR(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function ZO(n,e,t,i){return t.length>0&&JQ(n,t,i)?{segmentGroup:new Yi(e,XQ(i,new Yi(t,n.children))),slicedSegments:[]}:t.length===0&&QQ(n,t,i)?{segmentGroup:new Yi(n.segments,YQ(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Yi(n.segments,n.children),slicedSegments:t}}function YQ(n,e,t,i){let r={};for(let o of t)if(J2(n,e,o)&&!i[ec(o)]){let s=new Yi([],{});r[ec(o)]=s}return Be(Be({},i),r)}function XQ(n,e){let t={};t[ci]=e;for(let i of n)if(i.path===""&&ec(i)!==ci){let r=new Yi([],{});t[ec(i)]=r}return t}function JQ(n,e,t){return t.some(i=>J2(n,e,i)&&ec(i)!==ci)}function QQ(n,e,t){return t.some(i=>J2(n,e,i))}function J2(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function eee(n,e,t){return e.length===0&&!n.children[t]}var Q3=class{};function tee(n,e,t,i,r,o,s="emptyOnly"){return new eS(n,e,t,i,r,s,o).recognize()}var nee=31,eS=class{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new X3(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Ot(4002,`'${e.segmentGroup}'`)}recognize(){let e=ZO(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(jn(({children:t,rootSnapshot:i})=>{let r=new La(i,t),o=new G2("",r),s=uQ(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Up([],Object.freeze({}),Object.freeze(Be({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ci,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ci,t).pipe(jn(i=>({children:i,rootSnapshot:t})),Xd(i=>{if(i instanceof m1)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof f1?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,o):this.processSegment(e,t,i,i.segments,r,!0,o).pipe(jn(s=>s instanceof La?[s]:[]))}processChildren(e,t,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return fr(o).pipe(Mu(s=>{let a=i.children[s],l=vQ(t,s);return this.processSegmentGroup(e,l,a,s,r)}),$5((s,a)=>(s.push(...a),s)),Jd(null),W5(),Co(s=>{if(s===null)return Vp(i);let a=CR(s);return iee(a),En(a)}))}processSegment(e,t,i,r,o,s,a){return fr(t).pipe(Mu(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,i,r,o,s,a).pipe(Xd(c=>{if(c instanceof f1)return En(null);throw c}))),sl(l=>!!l),Xd(l=>{if(yR(l))return eee(i,r,o)?En(new Q3):Vp(i);throw l}))}processSegmentAgainstRoute(e,t,i,r,o,s,a,l){return ec(i)!==s&&(s===ci||!J2(r,o,i))?Vp(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s,l):Vp(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=xR(t,r,o);if(!l)return Vp(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>nee&&(this.allowRedirects=!1));let h=new Up(o,c,Object.freeze(Be({},this.urlTree.queryParams)),this.urlTree.fragment,YO(r),ec(r),r.component??r._loadedComponent??null,r,XO(r)),m=q2(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(m.params),h.data=Object.freeze(m.data);let p=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(r,p).pipe(Co(g=>this.processSegment(e,i,t,g.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let a=KQ(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(da(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(da(({routes:c})=>{let u=i._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=l,m=new Up(f,d,Object.freeze(Be({},this.urlTree.queryParams)),this.urlTree.fragment,YO(i),ec(i),i.component??i._loadedComponent??null,i,XO(i)),p=q2(m,s,this.paramsInheritanceStrategy);m.params=Object.freeze(p.params),m.data=Object.freeze(p.data);let{segmentGroup:g,slicedSegments:v}=ZO(t,f,h,c);if(v.length===0&&g.hasChildren())return this.processChildren(u,c,g,m).pipe(jn(I=>new La(m,I)));if(c.length===0&&v.length===0)return En(new La(m,[]));let x=ec(i)===o;return this.processSegment(u,c,g,v,x?ci:o,!0,m).pipe(jn(I=>new La(m,I instanceof La?[I]:[])))}))):Vp(t)))}getChildConfig(e,t,i){return t.children?En({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?En({routes:t._loadedRoutes,injector:t._loadedInjector}):WQ(e,t,i,this.urlSerializer).pipe(Co(r=>r?this.configLoader.loadChildren(e,t).pipe(Po(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):GQ(t))):En({routes:[],injector:e})}};function iee(n){n.sort((e,t)=>e.value.outlet===ci?-1:t.value.outlet===ci?1:e.value.outlet.localeCompare(t.value.outlet))}function ree(n){let e=n.value.routeConfig;return e&&e.path===""}function CR(n){let e=[],t=new Set;for(let i of n){if(!ree(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=CR(i.children);e.push(new La(i.value,r))}return e.filter(i=>!t.has(i))}function YO(n){return n.data||{}}function XO(n){return n.resolve||{}}function oee(n,e,t,i,r,o){return Co(s=>tee(n,e,t,i,s.extractedUrl,r,o).pipe(jn(({state:a,tree:l})=>Xt(Be({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function see(n,e){return Co(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return En(t);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of kR(l))s.add(c);let a=0;return fr(s).pipe(Mu(l=>o.has(l)?aee(l,i,n,e):(l.data=q2(l,l.parent,n).resolve,En(void 0))),Po(()=>a++),pp(1),Co(l=>a===s.size?En(t):fs))})}function kR(n){let e=n.children.map(t=>kR(t)).flat();return[n,...e]}function aee(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!gR(r)&&(o[g1]=r.title),lee(o,n,e,i).pipe(jn(s=>(n._resolvedData=s,n.data=q2(n,n.parent,t).resolve,null)))}function lee(n,e,t,i){let r=P3(n);if(r.length===0)return En({});let o={};return fr(r).pipe(Co(s=>cee(n[s],e,t,i).pipe(sl(),Po(a=>{if(a instanceof h1)throw K2(new $p,a);o[s]=a}))),pp(1),H5(o),Xd(s=>yR(s)?fs:mp(s)))}function cee(n,e,t,i){let r=v1(e)??i,o=Zp(n,r),s=o.resolve?o.resolve(e,t):dl(r,()=>o(e,t));return vh(s)}function I3(n){return da(e=>{let t=n(e);return t?fr(t).pipe(jn(()=>e)):En(e)})}var ER=(()=>{let e=class e{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===ci);return r}getResolvedTitleForRoute(i){return i.data[g1]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Nt({token:e,factory:()=>At(uee),providedIn:"root"});let n=e;return n})(),uee=(()=>{let e=class e extends ER{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(Tt(HO))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),_1=new jt("",{providedIn:"root",factory:()=>({})}),dee=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Lt({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ht],decls:1,vars:0,template:function(r,o){r&1&&Ce(0,"router-outlet")},dependencies:[Zf],encapsulation:2});let n=e;return n})();function iS(n){let e=n.children&&n.children.map(iS),t=e?Xt(Be({},n),{children:e}):Be({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ci&&(t.component=dee),t}var p1=new jt(""),rS=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=At(x2)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return En(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=vh(i.loadComponent()).pipe(jn(SR),Po(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),Tf(()=>{this.componentLoaders.delete(i)})),o=new hp(r,()=>new ji).pipe(dp());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return En({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=hee(r,this.compiler,i,this.onLoadEndListener).pipe(Tf(()=>{this.childrenLoaders.delete(r)})),a=new hp(s,()=>new ji).pipe(dp());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function hee(n,e,t,i){return vh(n.loadChildren()).pipe(jn(SR),Co(r=>r instanceof Mb||Array.isArray(r)?En(r):fr(e.compileModuleAsync(r))),jn(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(p1,[],{optional:!0,self:!0}).flat()),{routes:s.map(iS),injector:o}}))}function fee(n){return n&&typeof n=="object"&&"default"in n}function SR(n){return fee(n)?n.default:n}var oS=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Nt({token:e,factory:()=>At(mee),providedIn:"root"});let n=e;return n})(),mee=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),AR=new jt(""),TR=new jt("");function pee(n,e,t){let i=n.get(TR),r=n.get(Zi);return n.get(fi).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),gee(n))),{onViewTransitionCreated:l}=i;return l&&dl(n,()=>l({transition:a,from:e,to:t})),s})}function gee(n){return new Promise(e=>{Wf({read:()=>setTimeout(e)},{injector:n})})}var bee=new jt(""),sS=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ji,this.transitionAbortSubject=new ji,this.configLoader=At(rS),this.environmentInjector=At(Ws),this.urlSerializer=At(b1),this.rootContexts=At(w1),this.location=At(fh),this.inputBindingEnabled=At(X2,{optional:!0})!==null,this.titleStrategy=At(ER),this.options=At(_1,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=At(oS),this.createViewTransition=At(AR,{optional:!0}),this.navigationErrorHandler=At(bee,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>En(void 0),this.rootComponentType=null;let i=o=>this.events.next(new V3(o)),r=o=>this.events.next(new j3(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(Xt(Be(Be({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new go({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:s1,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(xr(s=>s.id!==0),jn(s=>Xt(Be({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),da(s=>{let a=!1,l=!1;return En(s).pipe(da(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Fa.SupersededByNewNavigation),fs;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Xt(Be({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new bh(c.id,this.urlSerializer.serialize(c.rawUrl),f,z2.IgnoredSameUrlNavigation)),c.resolve(!1),fs}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return En(c).pipe(da(f=>{let h=this.transitions?.getValue();return this.events.next(new qp(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?fs:Promise.resolve(f)}),oee(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Po(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=Xt(Be({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new U2(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:h,source:m,restoredState:p,extras:g}=c,v=new qp(f,this.urlSerializer.serialize(h),m,p);this.events.next(v);let x=mR(this.rootComponentType).snapshot;return this.currentTransition=s=Xt(Be({},c),{targetSnapshot:x,urlAfterRedirects:h,extras:Xt(Be({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,En(s)}else{let f="";return this.events.next(new bh(c.id,this.urlSerializer.serialize(c.extractedUrl),f,z2.IgnoredByUrlHandlingStrategy)),c.resolve(!1),fs}}),Po(c=>{let u=new N3(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),jn(c=>(this.currentTransition=s=Xt(Be({},c),{guards:EQ(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),LQ(this.environmentInjector,c=>this.events.next(c)),Po(c=>{if(s.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw K2(this.urlSerializer,c.guardsResult);let u=new L3(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),xr(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Fa.GuardRejected),!1)),I3(c=>{if(c.guards.canActivateChecks.length)return En(c).pipe(Po(u=>{let d=new F3(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),da(u=>{let d=!1;return En(u).pipe(see(this.paramsInheritanceStrategy,this.environmentInjector),Po({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Fa.NoDataFromResolver)}}))}),Po(u=>{let d=new B3(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),I3(c=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Po(h=>{d.component=h}),jn(()=>{})));for(let h of d.children)f.push(...u(h));return f};return Af(u(c.targetSnapshot.root)).pipe(Jd(null),ua(1))}),I3(()=>this.afterPreactivation()),da(()=>{let{currentSnapshot:c,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?fr(d).pipe(jn(()=>s)):En(s)}),jn(c=>{let u=yQ(i.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=Xt(Be({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),Po(()=>{this.events.next(new u1)}),kQ(this.rootContexts,i.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ua(1),Po({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new yl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),If(this.transitionAbortSubject.pipe(Po(c=>{throw c}))),Tf(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",Fa.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Xd(c=>{if(l=!0,wR(c))this.events.next(new Wu(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),CQ(c)?this.events.next(new Gp(c.url,c.navigationBehaviorOptions)):s.resolve(!1);else{let u=new c1(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0);try{let d=dl(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof h1){let{message:f,cancellationCode:h}=K2(this.urlSerializer,d);this.events.next(new Wu(s.id,this.urlSerializer.serialize(s.extractedUrl),f,h)),this.events.next(new Gp(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let f=i.errorHandler(c);s.resolve(!!f)}}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return fs}))}))}cancelNavigationTransition(i,r,o){let s=new Wu(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(s),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let i=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return i.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function vee(n){return n!==s1}var wee=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Nt({token:e,factory:()=>At(yee),providedIn:"root"});let n=e;return n})(),tS=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},yee=(()=>{let e=class e extends tS{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=fl(e)))(o||e)}})(),e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),IR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Nt({token:e,factory:()=>At(_ee),providedIn:"root"});let n=e;return n})(),_ee=(()=>{let e=class e extends IR{constructor(){super(...arguments),this.location=At(fh),this.urlSerializer=At(b1),this.options=At(_1,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=At(oS),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new $u,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=mR(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof qp)this.stateMemento=this.createStateMemento();else if(i instanceof bh)this.rawUrlTree=r.initialUrl;else if(i instanceof U2){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??o,r)}}else i instanceof u1?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):i instanceof Wu&&(i.code===Fa.GuardRejected||i.code===Fa.NoDataFromResolver)?this.restoreHistory(r):i instanceof c1?this.restoreHistory(r,!0):i instanceof yl&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=i instanceof $u?this.urlSerializer.serialize(i):i;if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,a=Be(Be({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",a)}else{let s=Be(Be({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===i.finalUrl&&s===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=fl(e)))(o||e)}})(),e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),r1=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(r1||{});function MR(n,e){n.events.pipe(xr(t=>t instanceof yl||t instanceof Wu||t instanceof c1||t instanceof bh),jn(t=>t instanceof yl||t instanceof bh?r1.COMPLETE:(t instanceof Wu?t.code===Fa.Redirect||t.code===Fa.SupersededByNewNavigation:!1)?r1.REDIRECTING:r1.FAILED),xr(t=>t!==r1.REDIRECTING),ua(1)).subscribe(()=>{e()})}function xee(n){throw n}var Cee={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kee={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ro=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=At(y2),this.stateManager=At(IR),this.options=At(_1,{optional:!0})||{},this.pendingTasks=At(uh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=At(sS),this.urlSerializer=At(b1),this.location=At(fh),this.urlHandlingStrategy=At(oS),this._events=new ji,this.errorHandler=this.options.errorHandler||xee,this.navigated=!1,this.routeReuseStrategy=At(wee),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=At(p1,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!At(X2,{optional:!0}),this.eventsSubscription=new hr,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Wu&&r.code!==Fa.Redirect&&r.code!==Fa.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof yl)this.navigated=!0;else if(r instanceof Gp){let a=r.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=Be({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||vee(o.source)},a);this.scheduleNavigation(l,s1,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}See(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),s1,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=Be({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let l=this.parseUrl(i);this.scheduleNavigation(l,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(iS),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:a,d=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":d=Be(Be({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=uR(h)}catch{(typeof i[0]!="string"||i[0][0]!=="/")&&(i=[]),f=this.currentUrlTree.root}return dR(f,i,d,u??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=Kf(i)?i:this.parseUrl(i),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,s1,null,r)}navigate(i,r={skipLocationChange:!1}){return Eee(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=Be({},Cee):r===!1?o=Be({},kee):o=r,Kf(i))return WO(this.currentUrlTree,i,o);let s=this.parseUrl(i);return WO(this.currentUrlTree,s,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(i,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((f,h)=>{l=f,c=h});let d=this.pendingTasks.add();return MR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:s,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Eee(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Ot(4008,!1)}function See(n){return!(n instanceof u1)&&!(n instanceof Gp)}var _l=(()=>{let e=class e{constructor(i,r,o,s,a,l){this.router=i,this.route=r,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=l,this.href=null,this.onChanges=new ji,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=i.events.subscribe(u=>{u instanceof yl&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Kf(i)?this.routerLinkInput=i:this.routerLinkInput=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0"))}onClick(i,r,o,s,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(i!==0||r||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:XD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let o=this.renderer,s=this.el.nativeElement;r!==null?o.setAttribute(s,i,r):o.removeAttribute(s,i)}get urlTree(){return this.routerLinkInput===null?null:Kf(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(ze(Ro),ze(As),Hf("tabindex"),ze(Ql),ze(qi),ze(Hu))},e.\u0275dir=ki({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&ve("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&wa("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Yo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Yo],replaceUrl:[2,"replaceUrl","replaceUrl",Yo],routerLink:"routerLink"},standalone:!0,features:[Vu,ba]});let n=e;return n})();var Y2=class{};var Aee=(()=>{let e=class e{constructor(i,r,o,s,a){this.router=i,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(xr(i=>i instanceof yl),Mu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=m2(s.providers,i,`Route: ${s.path}`));let a=s._injector??i,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return fr(o).pipe(Zd())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(i,r):o=En(null);let s=o.pipe(Co(a=>a===null?En(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return fr([s,a]).pipe(Zd())}else return s})}};e.\u0275fac=function(r){return new(r||e)(Tt(Ro),Tt(x2),Tt(Ws),Tt(Y2),Tt(rS))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),PR=new jt(""),Tee=(()=>{let e=class e{constructor(i,r,o,s,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof qp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof yl?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof bh&&i.code===z2.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof H2&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new H2(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){d7()},e.\u0275prov=Nt({token:e,factory:e.\u0275fac});let n=e;return n})();function DR(n,...e){return Pp([{provide:p1,multi:!0,useValue:n},[],{provide:As,useFactory:OR,deps:[Ro]},{provide:Hb,multi:!0,useFactory:RR},e.map(t=>t.\u0275providers)])}function OR(n){return n.routerState.root}function x1(n,e){return{\u0275kind:n,\u0275providers:e}}function RR(){let n=At(Ss);return e=>{let t=n.get(hh);if(e!==t.components[0])return;let i=n.get(Ro),r=n.get(NR);n.get(aS)===1&&i.initialNavigation(),n.get(LR,null,bi.Optional)?.setUpPreloading(),n.get(PR,null,bi.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var NR=new jt("",{factory:()=>new ji}),aS=new jt("",{providedIn:"root",factory:()=>1});function Iee(){return x1(2,[{provide:aS,useValue:0},{provide:_2,multi:!0,deps:[Ss],useFactory:e=>{let t=e.get(vO,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=e.get(Ro),o=e.get(NR);MR(r,()=>{i(!0)}),e.get(sS).afterPreactivation=()=>(i(!0),o.closed?En(void 0):o),r.initialNavigation()}))}}])}function Mee(){return x1(3,[{provide:_2,multi:!0,useFactory:()=>{let e=At(Ro);return()=>{e.setUpLocationChangeListener()}}},{provide:aS,useValue:2}])}var LR=new jt("");function Pee(n){return x1(0,[{provide:LR,useExisting:Aee},{provide:Y2,useExisting:n}])}function Dee(){return x1(8,[KO,{provide:X2,useExisting:KO}])}function Oee(n){let e=[{provide:AR,useValue:pee},{provide:TR,useValue:Be({skipNextTransition:!!n?.skipInitialTransition},n)}];return x1(9,e)}var JO=new jt("ROUTER_FORROOT_GUARD"),Ree=[fh,{provide:b1,useClass:$p},Ro,w1,{provide:As,useFactory:OR,deps:[Ro]},rS,[]],ya=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[Ree,[],{provide:p1,multi:!0,useValue:i},{provide:JO,useFactory:Bee,deps:[[Ro,new Rb,new qy]]},{provide:_1,useValue:r||{}},r?.useHash?Lee():Fee(),Nee(),r?.preloadingStrategy?Pee(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Vee(r):[],r?.bindToComponentInputs?Dee().\u0275providers:[],r?.enableViewTransitions?Oee().\u0275providers:[],jee()]}}static forChild(i){return{ngModule:e,providers:[{provide:p1,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(Tt(JO,8))},e.\u0275mod=Ui({type:e}),e.\u0275inj=zi({});let n=e;return n})();function Nee(){return{provide:PR,useFactory:()=>{let n=At(_O),e=At(fi),t=At(_1),i=At(sS),r=At(b1);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Tee(r,i,n,e,t)}}}function Lee(){return{provide:Hu,useClass:yO}}function Fee(){return{provide:Hu,useClass:h3}}function Bee(n){return"guarded"}function Vee(n){return[n.initialNavigation==="disabled"?Mee().\u0275providers:[],n.initialNavigation==="enabledBlocking"?Iee().\u0275providers:[]]}var QO=new jt("");function jee(){return[{provide:QO,useFactory:RR},{provide:Hb,multi:!0,useExisting:QO}]}function zee(n,e){if(n&1){let t=Ut();O(0,"div",6)(1,"button",7),ve("click",function(){Pe(t);let r=Re();return De(r.atras())}),U(2,"Atras"),A(),O(3,"button",8),ve("click",function(){Pe(t);let r=Re();return De(r.siguiente())}),U(4,"Siguiente"),A()()}}function Uee(n,e){if(n&1&&Ce(0,"img",9),n&2){let t=Re();Ra("id","foto",t.imagenes[t.imagen].id,""),In("src",t.imagenes[t.imagen].link,Rr)}}var qc=(()=>{class n{messageEvent=new tn;imagen=0;imagenes=[];verImg=!1;botones=!0;cerrarModal(){this.messageEvent.emit(!1)}atras(){this.imagen>0&&this.imagen--}siguiente(){this.imagen<this.imagenes.length-1&&this.imagen++}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Lt({type:n,selectors:[["app-ver-imagen"]],inputs:{imagen:"imagen",imagenes:"imagenes",verImg:"verImg",botones:"botones"},outputs:{messageEvent:"messageEvent"},standalone:!0,features:[Ht],decls:6,vars:2,consts:[["id","myModal",1,"modal",2,"overflow","auto"],[1,"modal-content",2,"width","50%"],[2,"display","flex","justify-content","flex-end","font-size","x-large"],[1,"fa-solid","fa-xmark","icerrar",3,"click"],["style","font-family: Avenir; margin-top: 2%; display: flex; justify-content: center; width: 100%; align-items: center;",4,"ngIf"],["alt","","style","width: 100%;",3,"id","src",4,"ngIf"],[2,"font-family","Avenir","margin-top","2%","display","flex","justify-content","center","width","100%","align-items","center"],[1,"border","rounded","boton","boton2","paginacion",2,"border-top-right-radius","0","border-bottom-right-radius","0",3,"click"],[1,"border","rounded","boton","boton2","paginacion",2,"border-top-left-radius","0","border-bottom-left-radius","0",3,"click"],["alt","",2,"width","100%",3,"id","src"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"div",1)(2,"div",2)(3,"i",3),ve("click",function(){return r.cerrarModal()}),A()(),_t(4,zee,5,0,"div",4)(5,Uee,1,3,"img",5),A()()),i&2&&(ee(4),fe("ngIf",r.botones),ee(),fe("ngIf",r.verImg))},dependencies:[sn,Rn],styles:[".celda[_ngcontent-%COMP%]{border-right:1px solid rgb(48,131,220,.2);border-color:#3083dc33!important;width:16%;padding:1%;font-family:Avenir}.celda[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:2%}.linea[_ngcontent-%COMP%]{transition:all .5s linear}.linea[_ngcontent-%COMP%]:hover{background-color:#ff900033}.load[_ngcontent-%COMP%]{display:flex;align-items:center;width:20%;justify-content:space-around}.paginacion[_ngcontent-%COMP%]{height:2rem;width:6rem;font-size:medium}@media (max-width: 650px){.paginacion[_ngcontent-%COMP%]{width:3.5rem}}.paginacionof[_ngcontent-%COMP%]{height:2rem;width:8rem;font-size:medium}@media (max-width: 650px){.paginacionof[_ngcontent-%COMP%]{width:3.5rem}}.ibtn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:2rem}.ibtn[_ngcontent-%COMP%]:hover{cursor:pointer}.tooltip[_ngcontent-%COMP%]{position:relative}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;padding:.25em .5em;color:#fff;text-align:center;white-space:nowrap;position:absolute;z-index:1;top:-60%;left:-30%;transition-property:visibility;transition-delay:0s;font-family:avenir}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;transition-delay:.3s}.modal[_ngcontent-%COMP%]{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:7% auto;margin-top:7rem;padding:1%;border:1px solid var(--amarello);width:80%}@media (max-width: 1000px){.modal-content[_ngcontent-%COMP%]{width:97.5%!important}}.campoOferta[_ngcontent-%COMP%]{width:30rem}@media (max-width: 530px){.campoOferta[_ngcontent-%COMP%]{width:100%}}@media (max-width: 600px){.datoLote[_ngcontent-%COMP%]{font-size:smaller}}.icerrar[_ngcontent-%COMP%]{color:var(--amarello)}.icerrar[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--blue)}.borderAbajo[_ngcontent-%COMP%]{border-bottom:1px solid rgb(48,131,220,.2)}.marginCerrar[_ngcontent-%COMP%]{margin-right:5rem}@media (max-width: 1000px){.marginCerrar[_ngcontent-%COMP%]{margin-right:2rem}}.h1btn[_ngcontent-%COMP%]:hover{color:var(--amarello);cursor:pointer}.h1btn2[_ngcontent-%COMP%]{color:var(--amarello);text-decoration:underline}.none2[_ngcontent-%COMP%]{transform:scale3d(1,0,1);visibility:hidden;opacity:0}.campoUser[_ngcontent-%COMP%]{display:flex}@media (max-width: 650px){.campoUser[_ngcontent-%COMP%]{flex-wrap:wrap}.campoUser[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important}}"]})}return n})();var Gc={production:!1,base_url:"https://vps-4154293-x.dattaweb.com/subasta",base_url2:"https://vps-4154293-x.dattaweb.com",socketToken:"z8ddwa7pws9t",recaptcha:{siteKey:"6Let_k4qAAAAAIHQe6HtHzYwosJ58y4feuaKRmRu"},link:"https://ventas.gruppodf.com.ar/"};var pr=Gc.base_url,Xi=(()=>{class n{http;header;constructor(t){this.http=t,this.header=new Na().set("Acces-Control-Allow-Origin","*")}cargarUsers(t){return this.http.post(pr+"/admin/users",t,{headers:this.header})}cargarUsersDesde(t,i,r,o){return this.http.post(pr+"/admin/users?desde="+i+"&order="+r+"&orden="+o,t,{headers:this.header})}deleteUsers(t){return this.http.post(pr+"/admin/deleteUser",t,{headers:this.header})}actualizarUser(t){return this.http.post(pr+"/admin/actualizarUser",t,{headers:this.header})}crearAdmin(t){return this.http.post(pr+"/admin/crearAdmin",t,{headers:this.header})}buscarDato(t){return this.http.post(pr+"/admin/buscarDato",t,{headers:this.header})}excelUsuarios(t){return this.http.post(pr+"/admin/excelUsuario",t,{headers:this.header})}cargarAdmins(t){return this.http.post(pr+"/admin/admins",t,{headers:this.header})}actualizarWeb(t){return this.http.post(pr+"/web/actualizarWeb",t,{headers:this.header})}crearLote(t){return gn(this,null,function*(){try{return yield(yield fetch(pr+"/lote/crearLote",{method:"POST",headers:{"Acces-Control-Allow-Origin":"*"},body:t})).json()}catch{return!1}})}cargarLotes(t,i,r,o,s,a){return this.http.post(pr+"/lote/lotes?desde="+i+"&order="+r+"&orden="+o+"&disp="+s+"&adj="+a,t,{headers:this.header})}cargarLote(t){return this.http.post(pr+"/lote/lote",t,{headers:this.header})}borrarLote(t){return this.http.post(pr+"/lote/borrarLote",t,{headers:this.header})}actualizarLote(t){return gn(this,null,function*(){try{return yield(yield fetch(pr+"/lote/actualizarLote",{method:"POST",headers:{"Acces-Control-Allow-Origin":"*"},body:t})).json()}catch{return!1}})}duplicarLote(t){return this.http.post(pr+"/lote/duplicarLote",t,{headers:this.header})}cargarEventos(t,i,r,o){return this.http.post(pr+"/evento/eventos?desde="+i+"&order="+r+"&orden="+o,t,{headers:this.header})}crearEvento(t){return this.http.post(pr+"/evento/crearEvento",t,{headers:this.header})}agregarLotes(t){return this.http.post(pr+"/evento/agregarLotes",t,{headers:this.header})}quitarLote(t){return this.http.post(pr+"/evento/quitarLote",t,{headers:this.header})}cargarEvento(t){return this.http.post(pr+"/evento/getEvento",t,{headers:this.header})}actualizarEvento(t){return this.http.post(pr+"/evento/actualizarEvento",t,{headers:this.header})}imagenEvento(t){return gn(this,null,function*(){try{return yield(yield fetch(pr+"/evento/img",{method:"POST",headers:{"Acces-Control-Allow-Origin":"*"},body:t})).json()}catch{return!1}})}borrarEvento(t){return this.http.post(pr+"/evento/borrarEvento",t,{headers:this.header})}comunicar(t){return this.http.post(pr+"/admin/comunicar",t,{headers:this.header})}reComunicar(t){return this.http.post(pr+"/admin/recomunicar",t,{headers:this.header})}setStatus(t){return this.http.post(pr+"/admin/setStatus",t,{headers:this.header})}cargarTC(t,i,r,o,s,a){return this.http.post(pr+"/admin/registroTC?desde="+i+"&order="+r+"&orden="+o+"&dato="+s+"&tipo="+a,t,{headers:this.header})}static \u0275fac=function(i){return new(i||n)(Tt(Xb))};static \u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Nr=Gc.base_url,Hee=Gc.link,Un=(()=>{class n{http;header;como_registro=["",""];nosotros=["",""];userAdmin="";userID="";lastPage=Hee;constructor(t){this.http=t,this.header=new Na().set("Acces-Control-Allow-Origin","*"),this.cargarWeb().subscribe({next:i=>{this.como_registro[0]=i.datos[0].texto,this.como_registro[1]=i.datos[1].texto,this.nosotros[0]=i.datos[2].texto,this.nosotros[1]=i.datos[3].texto}})}crear(t){return this.http.post(Nr+"/usuarios/crearUsuario",t,{headers:this.header})}login(t){return this.http.post(Nr+"/usuarios/login",t,{headers:this.header})}checkToken(t){return this.http.post(Nr+"/usuarios/renew",t,{headers:this.header})}validarCuenta(t){return this.http.post(Nr+"/usuarios/verificar",t,{headers:this.header})}loginA(t){return this.http.post(Nr+"/admin/login",t,{headers:this.header})}checkTokenA(t){return this.http.post(Nr+"/admin/renew",t,{headers:this.header})}cambiarPass(t){return this.http.post(Nr+"/usuarios/cambiarPass",t,{headers:this.header})}sendcambiarPass(t){return this.http.post(Nr+"/usuarios/sendCambio",t,{headers:this.header})}cargarWeb(){return this.http.post(Nr+"/web/webs",{headers:this.header})}getTextos(t){switch(t){case 0:return this.como_registro;case 1:return this.nosotros}return["",""]}contacto(t){return this.http.post(Nr+"/usuarios/mailContacto",t,{headers:this.header})}cargarArchivo(t,i){return gn(this,null,function*(){try{return yield fetch(Nr+"/lote/img?img="+t+"&tipo="+i,{method:"GET",headers:{"Acces-Control-Allow-Origin":"*"}})}catch{return!1}})}ofertar(t){return this.http.post(Nr+"/oferta/ofertar",t,{headers:this.header})}ofertaDatos(t){return this.http.post(Nr+"/oferta/datos",t,{headers:this.header})}programarOferta(t){return this.http.post(Nr+"/oferta/setOfertaA",t,{headers:this.header})}getOfertaAuto(t){return this.http.post(Nr+"/oferta/getOfertaA",t,{headers:this.header})}eliminarOfertaAuto(t){return this.http.post(Nr+"/oferta/eliminarOfertaA",t,{headers:this.header})}getFavorito(t){return this.http.post(Nr+"/lote/getFavorito",t,{headers:this.header})}setFavorito(t){return this.http.post(Nr+"/lote/setFavorito",t,{headers:this.header})}getDatos(t){return this.http.post(Nr+"/usuarios/getDatos",t,{headers:this.header})}getOfertas(t){return this.http.post(Nr+"/oferta/getOfertas",t,{headers:this.header})}getFavoritos(t){return this.http.post(Nr+"/lote/getFavoritos",t,{headers:this.header})}getAdjudicados(t){return this.http.post(Nr+"/usuarios/getAdjudicados",t,{headers:this.header})}setVista(t){return this.http.post(Nr+"/usuarios/setVista",t,{headers:this.header})}setUserAdmin(t){this.userAdmin=t}getUserAdmin(){return this.userAdmin}setUserId(t){this.userID=t}getUserId(){return this.userID}setLastPage(t){this.lastPage=t}getLastPage(){return this.lastPage}getTC(t){return this.http.post(Nr+"/usuarios/gettc",t,{headers:this.header})}aceptarTC(t){return this.http.post(Nr+"/usuarios/aceptartc",t,{headers:this.header})}static \u0275fac=function(i){return new(i||n)(Tt(Xb))};static \u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Wee=n=>({oculto:n}),FR=n=>["/evento",n];function $ee(n,e){n&1&&(O(0,"span"),U(1,"Inicie sesion para ver las publicaciones"),A())}function qee(n,e){n&1&&(O(0,"span"),U(1,"No hay publicaciones para mostrar"),A())}function Gee(n,e){n&1&&(O(0,"span"),U(1,"Su cuenta debe ser habilitada para ver las publicaciones"),A())}function Kee(n,e){n&1&&(O(0,"span"),U(1,"No hay publicaciones para mostrar"),A())}function Zee(n,e){if(n&1&&(O(0,"div",18)(1,"button",19),U(2,"Ver publicacion"),A()()),n&2){let t=Re().$implicit;ee(),fe("routerLink",ht(1,FR,t.uuid))}}function Yee(n,e){n&1&&(O(0,"div",18)(1,"span",20),U(2,"Proximamente"),A()())}function Xee(n,e){if(n&1&&(O(0,"div",18)(1,"button",21),U(2,"Finalizado"),A()()),n&2){let t=Re().$implicit;ee(),fe("routerLink",ht(1,FR,t.uuid))}}function Jee(n,e){if(n&1){let t=Ut();O(0,"div",8)(1,"div",9)(2,"span",10),ve("click",function(){let r=Pe(t).index,o=Re();return De(o.verImagen(r))}),Ce(3,"i",11),A(),Ce(4,"img",12),A(),O(5,"div",13),U(6),A(),O(7,"div",13),U(8),A(),O(9,"div",13),U(10),A(),O(11,"div",13),U(12),A(),O(13,"div",14)(14,"span",15),U(15),A(),O(16,"span",16),U(17),A()(),O(18,"div",13),U(19),A(),_t(20,Zee,3,3,"div",17)(21,Yee,3,0,"div",17)(22,Xee,3,3,"div",17),A()}if(n&2){let t=e.$implicit;ee(4),In("src",t.img.img,Rr),ee(2),et(t.nombre),ee(2),Ct("Inicio: ",t.fecha_inicio,""),ee(2),Ct("Cierre: ",t.fecha_cierre+" "+t.hora_cierre,""),ee(2),Ct("Numero de lotes: ",t.lotes.length,""),ee(3),Ai("Vistos ",t.vistas.length,"/",t.lotes.length,""),ee(2),Ai("Ofertados ",t.ofertas.length,"/",t.lotes.length,""),ee(2),Ct("Modalidad: ",t.modalidad=="Remate"?"Licitacion":t.modalidad,""),ee(),fe("ngIf",t.estado==1),ee(),fe("ngIf",t.estado==0),ee(),fe("ngIf",t.estado==2)}}var BR=(()=>{class n{api;api2;widthC;cap;Eventos=[];error=0;verImg=!1;imagenes=[];constructor(t,i){this.api=t,this.api2=i}handleMessage(t,i){this.verImg=t}verImagen(t){this.verImg=!0,this.imagenes=[],this.imagenes.push({link:this.Eventos[t].img.img,id:0})}ngOnInit(){if(localStorage.getItem("token")!=null){let t={flag:!0,dato:"home",token:localStorage.getItem("token"),modalidad:"",estado:"",tipo:1};this.api.cargarEvento(t).subscribe({next:i=>{i.ok&&(this.Eventos=i.evento),this.error=i.t;for(let r=0;r<this.Eventos.length;r++)this.api2.cargarArchivo(this.Eventos[r].img.img,"evento").then(o=>{o!=!1&&(this.Eventos[r].img.img=o.url)})},error:i=>{this.error=i.error.ok?2:1}})}else this.error=1}static \u0275fac=function(i){return new(i||n)(ze(Xi),ze(Un))};static \u0275cmp=Lt({type:n,selectors:[["app-inicio"]],inputs:{widthC:"widthC",cap:"cap"},standalone:!0,features:[Ht],decls:19,vars:12,consts:[[1,"svh","seccion"],[1,"inicio","foto"],[1,"shadow"],[2,"min-height","50vh","width","100%","display","flex","align-items","center"],[1,"margin5",2,"width","100%","text-align","center","display","flex","flex-wrap","wrap","justify-content","center"],[4,"ngIf"],["class","borderAzul rounded","style","width: 25rem; margin: 1%;",4,"ngFor","ngForOf"],[3,"messageEvent","ngClass","imagenes","imagen","verImg","botones"],[1,"borderAzul","rounded",2,"width","25rem","margin","1%"],[2,"width","100%","border-bottom","1px solid rgb(48, 131, 220, 0.2)","display","flex","flex-direction","column"],[1,"boton","boton2","glassAzul","border","rounded","colorWhite",2,"height","2.5rem","position","absolute","width","2.5rem","cursor","pointer","display","flex","align-items","center","justify-content","center","margin-left","0.4rem","margin-top","0.3rem",3,"click"],[1,"fa-solid","fa-maximize",2,"font-size","x-large"],["alt","",2,"height","200px","border-top-left-radius","12px","border-top-right-radius","12px",3,"src"],[2,"border-bottom","1px solid rgb(48, 131, 220, 0.2)","display","flex","align-items","center","justify-content","center","padding","0.5rem"],[2,"border-bottom","1px solid rgb(48, 131, 220, 0.2)","display","flex","align-items","center","justify-content","center"],[1,"glassAzul",2,"width","50%","border-right","1px solid rgb(48, 131, 220, 0.2)","padding","0.5rem"],[2,"background-color","greenyellow","width","50%","padding","0.5rem"],["style","width: 100%;",4,"ngIf"],[2,"width","100%"],[1,"rounded","boton",2,"width","100%","border","none","border-top-left-radius","0%","border-top-right-radius","0%","height","2rem",3,"routerLink"],[1,"rounded","glassAzul","colorWhite",2,"display","flex","width","100%","border","none","border-top-left-radius","0%","border-top-right-radius","0%","height","2rem","justify-content","center","align-items","center","font-family","Avenir"],[1,"rounded","boton","boton2",2,"width","100%","border","none","border-top-left-radius","0%","border-top-right-radius","0%","height","2rem",3,"routerLink"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"div",1)(2,"p")(3,"span"),U(4,"Venta de vehiculos online"),A(),Ce(5,"br"),O(6,"span"),U(7,"mediante Subastas Web y/o Licitaciones electr\xF3nicas"),A(),Ce(8,"br"),U(9," PARTICIPE YA! "),A()(),Ce(10,"div",2),O(11,"div",3)(12,"div",4),_t(13,$ee,2,0,"span",5)(14,qee,2,0,"span",5)(15,Gee,2,0,"span",5)(16,Kee,2,0,"span",5)(17,Jee,23,13,"div",6),A()()(),O(18,"app-ver-imagen",7),ve("messageEvent",function(s){return r.handleMessage(s,"crear")}),A()),i&2&&(ee(13),fe("ngIf",r.error==1),ee(),fe("ngIf",r.error==2),ee(),fe("ngIf",r.error==3),ee(),fe("ngIf",r.Eventos.length==0&&r.error==0),ee(),fe("ngForOf",r.Eventos),ee(),fe("ngClass",ht(10,Wee,!r.verImg))("imagenes",r.imagenes)("imagen",0)("verImg",r.verImg)("botones",!1))},dependencies:[sn,Zn,Ti,Rn,ya,_l,qc],styles:['.inicio[_ngcontent-%COMP%]{background-image:linear-gradient(#0000004d,#0000004d),url("./media/806-M6E3KBB3.webp");background-attachment:fixed;background-repeat:no-repeat;background-size:cover;font-family:Shameimaru Sans;align-content:center}.inicio[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white);font-size:xxx-large;height:41%;align-content:center;text-align:center}@media (max-width: 920px){.inicio[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:xx-large}}@media (max-width: 600px){.inicio[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-large}}.inicio[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:1000}.pill[_ngcontent-%COMP%]{background-color:var(--amarello);border-radius:12px;height:20%!important}.foto[_ngcontent-%COMP%]{height:50vh;width:100%;z-index:1;display:flex;justify-content:center;align-items:center}.foto[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:xxx-large}@media (max-width: 920px){.foto[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:xx-large}}@media (max-width: 600px){.foto[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-large}}.foto[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Avenir;font-size:x-large}@media (max-width: 920px){.foto[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:large!important}}@media (max-width: 600px){.foto[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:medium!important}}.info[_ngcontent-%COMP%]{height:50%;width:90%}.shadow[_ngcontent-%COMP%]{width:100%;box-shadow:0 0 30px 30px #0000004d;-webkit-box-shadow:0 0px 30px 30px rgba(0,0,0,.3);-moz-box-shadow:0 0px 30px 30px rgba(0,0,0,.3)}']})}return n})();var ZR=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(ze(Ql),ze(qi))},e.\u0275dir=ki({type:e});let n=e;return n})(),s_=(()=>{let e=class e extends ZR{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=fl(e)))(o||e)}})(),e.\u0275dir=ki({type:e,features:[Ko]});let n=e;return n})(),qu=new jt("");var Qee={provide:qu,useExisting:$s(()=>mi),multi:!0};function ete(){let n=Uu()?Uu().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var tte=new jt(""),mi=(()=>{let e=class e extends ZR{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!ete())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(ze(Ql),ze(qi),ze(tte,8))},e.\u0275dir=ki({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&ve("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[ko([Qee]),Ko]});let n=e;return n})();function VR(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}var a_=new jt(""),YR=new jt("");function nte(n){return e=>{if(VR(e.value)||VR(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function jR(n){return null}function XR(n){return n!=null}function JR(n){return $f(n)?fr(n):n}function QR(n){let e={};return n.forEach(t=>{e=t!=null?Be(Be({},e),t):e}),Object.keys(e).length===0?null:e}function eN(n,e){return e.map(t=>t(n))}function ite(n){return!n.validate}function tN(n){return n.map(e=>ite(e)?e:t=>e.validate(t))}function rte(n){if(!n)return null;let e=n.filter(XR);return e.length==0?null:function(t){return QR(eN(t,e))}}function cS(n){return n!=null?rte(tN(n)):null}function ote(n){if(!n)return null;let e=n.filter(XR);return e.length==0?null:function(t){let i=eN(t,e).map(JR);return z5(i).pipe(jn(QR))}}function uS(n){return n!=null?ote(tN(n)):null}function zR(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ste(n){return n._rawValidators}function ate(n){return n._rawAsyncValidators}function lS(n){return n?Array.isArray(n)?n:[n]:[]}function e_(n,e){return Array.isArray(n)?n.includes(e):n===e}function UR(n,e){let t=lS(e);return lS(n).forEach(r=>{e_(t,r)||t.push(r)}),t}function HR(n,e){return lS(e).filter(t=>!e_(n,t))}var t_=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=cS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=uS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Jp=class extends t_{get formDirective(){return null}get path(){return null}},T1=class extends t_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},n_=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},lte={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},F4e=Xt(Be({},lte),{"[class.ng-submitted]":"isSubmitted"}),oi=(()=>{let e=class e extends n_{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(ze(T1,2))},e.\u0275dir=ki({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Zo("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Ko]});let n=e;return n})(),nN=(()=>{let e=class e extends n_{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(ze(Jp,10))},e.\u0275dir=ki({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Zo("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Ko]});let n=e;return n})();var C1="VALID",Q2="INVALID",Yp="PENDING",k1="DISABLED",Qp=class{},i_=class extends Qp{constructor(e,t){super(),this.value=e,this.source=t}},S1=class extends Qp{constructor(e,t){super(),this.pristine=e,this.source=t}},A1=class extends Qp{constructor(e,t){super(),this.touched=e,this.source=t}},Xp=class extends Qp{constructor(e,t){super(),this.status=e,this.source=t}};function iN(n){return(l_(n)?n.validators:n)||null}function cte(n){return Array.isArray(n)?cS(n):n||null}function rN(n,e){return(l_(e)?e.asyncValidators:n)||null}function ute(n){return Array.isArray(n)?uS(n):n||null}function l_(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function dte(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new Ot(1e3,"");if(!i[t])throw new Ot(1001,"")}function hte(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new Ot(1002,"")})}var r_=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Wb(()=>this.statusReactive()),this.statusReactive=zb(void 0),this._pristine=Wb(()=>this.pristineReactive()),this.pristineReactive=zb(!0),this._touched=Wb(()=>this.touchedReactive()),this.touchedReactive=zb(!1),this._events=new ji,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ju(this.statusReactive)}set status(e){ju(()=>this.statusReactive.set(e))}get valid(){return this.status===C1}get invalid(){return this.status===Q2}get pending(){return this.status==Yp}get disabled(){return this.status===k1}get enabled(){return this.status!==k1}get pristine(){return ju(this.pristineReactive)}set pristine(e){ju(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return ju(this.touchedReactive)}set touched(e){ju(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(UR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(UR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(HR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(HR(e,this._rawAsyncValidators))}hasValidator(e){return e_(this._rawValidators,e)}hasAsyncValidator(e){return e_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Xt(Be({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new A1(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new A1(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Xt(Be({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new S1(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new S1(!0,i))}markAsPending(e={}){this.status=Yp;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Xp(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Xt(Be({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=k1,this.errors=null,this._forEachChild(r=>{r.disable(Xt(Be({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new i_(this.value,i)),this._events.next(new Xp(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Xt(Be({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=C1,this._forEachChild(i=>{i.enable(Xt(Be({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Xt(Be({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===C1||this.status===Yp)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new i_(this.value,t)),this._events.next(new Xp(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Xt(Be({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?k1:C1}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Yp,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=JR(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Xp(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new tn,this.statusChanges=new tn}_calculateStatus(){return this._allControlsDisabled()?k1:this.errors?Q2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yp)?Yp:this._anyControlsHaveStatus(Q2)?Q2:C1}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new S1(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new A1(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){l_(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=cte(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=ute(this._rawAsyncValidators)}},o_=class extends r_{constructor(e,t,i){super(iN(t),rN(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){hte(this,!0,e),Object.keys(e).forEach(i=>{dte(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var dS=new jt("CallSetDisabledState",{providedIn:"root",factory:()=>hS}),hS="always";function fte(n,e){return[...e.path,n]}function oN(n,e,t=hS){sN(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),pte(n,e),bte(n,e),gte(n,e),mte(n,e)}function WR(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function mte(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function sN(n,e){let t=ste(n);e.validator!==null?n.setValidators(zR(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=ate(n);e.asyncValidator!==null?n.setAsyncValidators(zR(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();WR(e._rawValidators,r),WR(e._rawAsyncValidators,r)}function pte(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&aN(n,e)})}function gte(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&aN(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function aN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function bte(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function vte(n,e){n==null,sN(n,e)}function wte(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function yte(n){return Object.getPrototypeOf(n.constructor)===s_}function _te(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function xte(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===mi?t=o:yte(o)?i=o:r=o}),r||i||t||null}var Cte={provide:Jp,useExisting:$s(()=>fS)},E1=Promise.resolve(),fS=(()=>{let e=class e extends Jp{get submitted(){return ju(this.submittedReactive)}constructor(i,r,o){super(),this.callSetDisabledState=o,this._submitted=Wb(()=>this.submittedReactive()),this.submittedReactive=zb(!1),this._directives=new Set,this.ngSubmit=new tn,this.form=new o_({},cS(i),uS(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){E1.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),oN(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){E1.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){E1.then(()=>{let r=this._findContainer(i.path),o=new o_({});vte(o,i),r.registerControl(i.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){E1.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){E1.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submittedReactive.set(!0),_te(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(ze(a_,10),ze(YR,10),ze(dS,8))},e.\u0275dir=ki({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&ve("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ko([Cte]),Ko]});let n=e;return n})();function $R(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function qR(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var kte=class extends r_{constructor(e=null,t,i){super(iN(t),rN(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),l_(t)&&(t.nonNullable||t.initialValueIsDefault)&&(qR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){$R(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){$R(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){qR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Ete={provide:T1,useExisting:$s(()=>ti)},GR=Promise.resolve(),ti=(()=>{let e=class e extends T1{constructor(i,r,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new kte,this._registered=!1,this.name="",this.update=new tn,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=xte(this,s)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),wte(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){oN(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){GR.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,o=r!==0&&Yo(r);GR.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?fte(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(ze(Jp,9),ze(a_,10),ze(YR,10),ze(qu,10),ze(Do,8),ze(dS,8))},e.\u0275dir=ki({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ko([Ete]),Ko,ba]});let n=e;return n})(),lN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ki({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=e;return n})(),Ste={provide:qu,useExisting:$s(()=>tc),multi:!0},tc=(()=>{let e=class e extends s_{writeValue(i){let r=i??"";this.setProperty("value",r)}registerOnChange(i){this.onChange=r=>{i(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=fl(e)))(o||e)}})(),e.\u0275dir=ki({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&ve("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[ko([Ste]),Ko]});let n=e;return n})();var Ate={provide:qu,useExisting:$s(()=>ar),multi:!0};function cN(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Tte(n){return n.split(":")[0]}var ar=(()=>{let e=class e extends s_{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r=this._getOptionId(i),o=cN(r,i);this.setProperty("value",o)}registerOnChange(i){this.onChange=r=>{this.value=this._getOptionValue(r),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),i))return r;return null}_getOptionValue(i){let r=Tte(i);return this._optionMap.has(r)?this._optionMap.get(r):i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=fl(e)))(o||e)}})(),e.\u0275dir=ki({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&ve("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[ko([Ate]),Ko]});let n=e;return n})(),Cr=(()=>{let e=class e{constructor(i,r,o){this._element=i,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(i){this._select!=null&&(this._select._optionMap.set(this.id,i),this._setElementValue(cN(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(ze(qi),ze(Ql),ze(ar,9))},e.\u0275dir=ki({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let n=e;return n})(),Ite={provide:qu,useExisting:$s(()=>uN),multi:!0};function KR(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Mte(n){return n.split(":")[0]}var uN=(()=>{let e=class e extends s_{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r;if(Array.isArray(i)){let o=i.map(s=>this._getOptionId(s));r=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else r=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(i){this.onChange=r=>{let o=[],s=r.selectedOptions;if(s!==void 0){let a=s;for(let l=0;l<a.length;l++){let c=a[l],u=this._getOptionValue(c.value);o.push(u)}}else{let a=r.options;for(let l=0;l<a.length;l++){let c=a[l];if(c.selected){let u=this._getOptionValue(c.value);o.push(u)}}}this.value=o,i(o)}}_registerOption(i){let r=(this._idCounter++).toString();return this._optionMap.set(r,i),r}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,i))return r;return null}_getOptionValue(i){let r=Mte(i);return this._optionMap.has(r)?this._optionMap.get(r)._value:i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=fl(e)))(o||e)}})(),e.\u0275dir=ki({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&ve("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[ko([Ite]),Ko]});let n=e;return n})(),kr=(()=>{let e=class e{constructor(i,r,o){this._element=i,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){this._select!=null&&(this._value=i,this._setElementValue(KR(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(KR(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(ze(qi),ze(Ql),ze(uN,9))},e.\u0275dir=ki({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let n=e;return n})();function Pte(n){return typeof n=="number"?n:parseFloat(n)}var Dte=(()=>{let e=class e{constructor(){this._validator=jR}ngOnChanges(i){if(this.inputName in i){let r=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):jR,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return i!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ki({type:e,features:[ba]});let n=e;return n})();var Ote={provide:a_,useExisting:$s(()=>I1),multi:!0},I1=(()=>{let e=class e extends Dte{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=i=>Pte(i),this.createValidator=i=>nte(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=fl(e)))(o||e)}})(),e.\u0275dir=ki({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&wa("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[ko([Ote]),Ko]});let n=e;return n})();var Rte=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ui({type:e}),e.\u0275inj=zi({});let n=e;return n})();var Hn=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:dS,useValue:i.callSetDisabledState??hS}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ui({type:e}),e.\u0275inj=zi({imports:[Rte]});let n=e;return n})();var dN=(()=>{class n{camposUser=["","","","","Google"];alertasUser=[];messageEvent=new tn;ngOnInit(){this.sendDatosUser()}sendDatosUser(){this.messageEvent.emit(this.camposUser)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Lt({type:n,selectors:[["app-datos-user"]],inputs:{alertasUser:"alertasUser"},outputs:{messageEvent:"messageEvent"},standalone:!0,features:[Ht],decls:100,vars:9,consts:[[1,"linea"],[1,"col-3",2,"margin-right","2%"],["for","nomapel"],[1,"msg"],["type","text","placeholder","Nombre y apellido",1,"effect-1",3,"change","ngModelChange","ngModel"],[1,"focus-border"],[1,"col-3"],["for","cuitcuil"],["type","text","placeholder","CUIL / CUIT",1,"effect-1",3,"change","ngModelChange","ngModel"],["for","cel"],["type","text","placeholder","Celular",1,"effect-1",3,"change","ngModelChange","ngModel"],["for","actividad"],[1,"effect-1",3,"change","ngModelChange","ngModel"],["value","","selected","","hidden",""],["value","ACTIVIDADES ADMINISTRATIVAS Y SERVICIOS DE APOYO"],["value","ADMINISTRACION PUBLICA, DEFENSA Y SEGURIDAD SOCIAL OBLIGATORIA"],["value","AGRICULTURA, GANADER\xCDA, CAZA, SILVICULTURA Y PESCA"],["value","COMERCIO AL POR MAYOR Y AL POR MENOR; REPARACI\xD3N DE VEH\xCDCULOS AUTOMOTORES Y MOTOCICLETAS"],["value","CONSTRUCCI\xD3N"],["value","ENSE\xD1ANZA"],["value","EXPLOTACI\xD3N DE MINAS Y CANTERAS"],["value","INDUSTRIA MANUFACTURERA"],["value","INFORMACI\xD3N Y COMUNICACIONES"],["value","INTERMEDIACI\xD3N FINANCIERA Y SERVICIOS DE SEGUROS"],["value","SALUD HUMANA Y SERVICIOS SOCIALES"],["value","SERVICIOS ART\xCDSTICOS, CULTURALES, DEPORTIVOS Y DE ESPARCIMIENTO"],["value","SERVICIOS DE ALOJAMIENTO Y SERVICIOS DE COMIDA"],["value","SERVICIOS DE ASOCIACIONES Y SERVICIOS PERSONALES"],["value","SERVICIOS DE HOGARES PRIVADOS QUE CONTRATAN SERVICIO DOMESTICO"],["value","SERVICIOS DE ORGANIZACIONES Y \xD3RGANOS EXTRATERRITORIALES"],["value","SERVICIOS DE TRANSPORTE Y ALMACENAMIENTO"],["value","SERVICIOS INMOBILIARIOS"],["value","SERVICIOS PROFESIONALES, CIENT\xCDFICOS Y T\xC9CNICOS"],["value","SUMINISTRO DE AGUA, CLOACAS, GESTI\xD3N DE RESIDUOS Y RECUPERACI\xD3N DE MATERIALES Y SANEAMIENTO P\xDABLICO"],["value","SUMINISTRO DE ELECTRICIDAD, GAS, VAPOR Y AIRE ACONDICIONADO"],["value","OTRA"],[1,"linea",2,"margin-right","2%"],["for","como"],["value","Google","selected",""],["value","Facebook"],["value","Twitter"],["value","Instagram"],["value","Publicidad"],["value","Diario"],["value","Conocido-Amigo"],["value","Otro"]],template:function(i,r){i&1&&(O(0,"h1"),U(1,"Datos Personales"),A(),O(2,"div",0)(3,"div",1)(4,"label",2),U(5,"Nombre y apellido "),A(),O(6,"span",3),U(7),A(),O(8,"input",4),ve("change",function(){return r.sendDatosUser()}),Je("ngModelChange",function(s){return Qe(r.camposUser[0],s)||(r.camposUser[0]=s),s}),A(),Ce(9,"span",5),A(),O(10,"div",6)(11,"label",7),U(12,"CUIL / CUIT "),A(),O(13,"span",3),U(14),A(),O(15,"input",8),ve("change",function(){return r.sendDatosUser()}),Je("ngModelChange",function(s){return Qe(r.camposUser[1],s)||(r.camposUser[1]=s),s}),A(),Ce(16,"span",5),A()(),O(17,"div",0)(18,"div",1)(19,"label",9),U(20,"Celular "),A(),O(21,"span",3),U(22),A(),O(23,"input",10),ve("change",function(){return r.sendDatosUser()}),Je("ngModelChange",function(s){return Qe(r.camposUser[2],s)||(r.camposUser[2]=s),s}),A(),Ce(24,"span",5),A(),O(25,"div",6)(26,"label",11),U(27,"Actividad "),A(),O(28,"span",3),U(29),A(),O(30,"select",12),ve("change",function(){return r.sendDatosUser()}),Je("ngModelChange",function(s){return Qe(r.camposUser[3],s)||(r.camposUser[3]=s),s}),O(31,"option",13),U(32,"Seleccionar actividad"),A(),O(33,"option",14),U(34,"ACTIVIDADES ADMINISTRATIVAS Y SERVICIOS DE APOYO"),A(),O(35,"option",15),U(36,"ADMINISTRACION PUBLICA, DEFENSA Y SEGURIDAD SOCIAL OBLIGATORIA"),A(),O(37,"option",16),U(38,"AGRICULTURA, GANADER\xCDA, CAZA, SILVICULTURA Y PESCA"),A(),O(39,"option",17),U(40,"COMERCIO AL POR MAYOR Y AL POR MENOR; REPARACI\xD3N DE VEH\xCDCULOS AUTOMOTORES Y MOTOCICLETAS"),A(),O(41,"option",18),U(42,"CONSTRUCCI\xD3N"),A(),O(43,"option",19),U(44,"ENSE\xD1ANZA"),A(),O(45,"option",20),U(46,"EXPLOTACI\xD3N DE MINAS Y CANTERAS"),A(),O(47,"option",21),U(48,"INDUSTRIA MANUFACTURERA"),A(),O(49,"option",22),U(50,"INFORMACI\xD3N Y COMUNICACIONES"),A(),O(51,"option",23),U(52,"INTERMEDIACI\xD3N FINANCIERA Y SERVICIOS DE SEGUROS"),A(),O(53,"option",24),U(54,"SALUD HUMANA Y SERVICIOS SOCIALES"),A(),O(55,"option",25),U(56,"SERVICIOS ART\xCDSTICOS, CULTURALES, DEPORTIVOS Y DE ESPARCIMIENTO"),A(),O(57,"option",26),U(58,"SERVICIOS DE ALOJAMIENTO Y SERVICIOS DE COMIDA"),A(),O(59,"option",27),U(60,"SERVICIOS DE ASOCIACIONES Y SERVICIOS PERSONALES"),A(),O(61,"option",28),U(62,"SERVICIOS DE HOGARES PRIVADOS QUE CONTRATAN SERVICIO DOMESTICO"),A(),O(63,"option",29),U(64,"SERVICIOS DE ORGANIZACIONES Y \xD3RGANOS EXTRATERRITORIALES"),A(),O(65,"option",30),U(66,"SERVICIOS DE TRANSPORTE Y ALMACENAMIENTO"),A(),O(67,"option",31),U(68,"SERVICIOS INMOBILIARIOS"),A(),O(69,"option",32),U(70,"SERVICIOS PROFESIONALES, CIENT\xCDFICOS Y T\xC9CNICOS"),A(),O(71,"option",33),U(72,"SUMINISTRO DE AGUA, CLOACAS, GESTI\xD3N DE RESIDUOS Y RECUPERACI\xD3N DE MATERIALES Y SANEAMIENTO P\xDABLICO"),A(),O(73,"option",34),U(74,"SUMINISTRO DE ELECTRICIDAD, GAS, VAPOR Y AIRE ACONDICIONADO"),A(),O(75,"option",35),U(76,"OTRA"),A()(),Ce(77,"span",5),A()(),O(78,"div",36)(79,"div",6)(80,"label",37),U(81,"\xBFComo nos encontro? "),A(),O(82,"select",12),ve("change",function(){return r.sendDatosUser()}),Je("ngModelChange",function(s){return Qe(r.camposUser[4],s)||(r.camposUser[4]=s),s}),O(83,"option",38),U(84,"Google"),A(),O(85,"option",39),U(86,"Facebook"),A(),O(87,"option",40),U(88,"Twitter"),A(),O(89,"option",41),U(90,"Instagram"),A(),O(91,"option",42),U(92,"Publicidad"),A(),O(93,"option",43),U(94,"Diario"),A(),O(95,"option",44),U(96,"Conocido/Amigo"),A(),O(97,"option",45),U(98,"Otro"),A()(),Ce(99,"span",5),A()()),i&2&&(ee(7),et(r.alertasUser[0]),ee(),Xe("ngModel",r.camposUser[0]),ee(6),et(r.alertasUser[1]),ee(),Xe("ngModel",r.camposUser[1]),ee(7),et(r.alertasUser[2]),ee(),Xe("ngModel",r.camposUser[2]),ee(6),et(r.alertasUser[3]),ee(),Xe("ngModel",r.camposUser[3]),ee(52),Xe("ngModel",r.camposUser[4]))},dependencies:[Hn,Cr,kr,mi,ar,oi,ti,sn],styles:[".cuadro[_ngcontent-%COMP%]{font-size:large;text-align:center;width:15rem;align-content:center;height:2rem;background-color:var(--white)}@media (max-width: 560px){.cuadro[_ngcontent-%COMP%]{font-size:small}}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;height:3rem}i[_ngcontent-%COMP%]{height:3rem;text-align:center;display:flex;align-items:center;justify-content:center;width:10%;cursor:pointer}i[_ngcontent-%COMP%]:hover{background-color:#4e4e4e;transition:all .2s linear}.bgblack[_ngcontent-%COMP%]{background-color:var(--black);color:var(--white)}.bgwhite[_ngcontent-%COMP%]{background-color:var(--white);color:var(--black)}.col-3[_ngcontent-%COMP%]{width:50%}@media (max-width: 1000px){.col-3[_ngcontent-%COMP%]{width:100%}}h1[_ngcontent-%COMP%]{text-decoration:underline;color:var(--blue)}@media (max-width: 500px){h1[_ngcontent-%COMP%]{font-size:x-large}}.mitad[_ngcontent-%COMP%]{width:50%}.mitad[_ngcontent-%COMP%]   .col-3[_ngcontent-%COMP%]{width:100%}@media (max-width: 1000px){.mitad[_ngcontent-%COMP%]{width:100%}}.boton2[_ngcontent-%COMP%]:hover{background-color:var(--blue)}.linea[_ngcontent-%COMP%]{display:flex;margin-bottom:2%}@media (max-width: 1000px){.linea[_ngcontent-%COMP%]{flex-direction:column}}.acceso[_ngcontent-%COMP%]{display:flex}@media (max-width: 1000px){.acceso[_ngcontent-%COMP%]{flex-direction:column}}"]})}return n})();var hN=(()=>{class n{camposEmp=["","","","","","","Google"];alertasEmp=[];messageEvent=new tn;ngOnInit(){this.sendDatosEmp()}sendDatosEmp(){this.messageEvent.emit(this.camposEmp)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Lt({type:n,selectors:[["app-datos-emp"]],inputs:{alertasEmp:"alertasEmp"},outputs:{messageEvent:"messageEvent"},standalone:!0,features:[Ht],decls:115,vars:13,consts:[[1,"linea"],[1,"col-3",2,"margin-right","2%"],["for","nomapel"],[1,"msg"],["type","text","placeholder","Nombre Comercial",1,"effect-1",3,"change","ngModelChange","ngModel"],[1,"focus-border"],[1,"col-3"],["for","cuitcuil"],["type","text","placeholder","Raz\xF3n social",1,"effect-1",3,"change","ngModelChange","ngModel"],["type","text","placeholder","CUIL / CUIT",1,"effect-1",3,"change","ngModelChange","ngModel"],["type","text","placeholder","Persona responsable",1,"effect-1",3,"change","ngModelChange","ngModel"],["for","cel"],["type","text","placeholder","Celular",1,"effect-1",3,"change","ngModelChange","ngModel"],["for","actividad"],[1,"effect-1",3,"change","ngModelChange","ngModel"],["value","","selected","","hidden",""],["value","ACTIVIDADES ADMINISTRATIVAS Y SERVICIOS DE APOYO"],["value","ADMINISTRACION PUBLICA, DEFENSA Y SEGURIDAD SOCIAL OBLIGATORIA"],["value","AGRICULTURA, GANADER\xCDA, CAZA, SILVICULTURA Y PESCA"],["value","COMERCIO AL POR MAYOR Y AL POR MENOR; REPARACI\xD3N DE VEH\xCDCULOS AUTOMOTORES Y MOTOCICLETAS"],["value","CONSTRUCCI\xD3N"],["value","ENSE\xD1ANZA"],["value","EXPLOTACI\xD3N DE MINAS Y CANTERAS"],["value","INDUSTRIA MANUFACTURERA"],["value","INFORMACI\xD3N Y COMUNICACIONES"],["value","INTERMEDIACI\xD3N FINANCIERA Y SERVICIOS DE SEGUROS"],["value","SALUD HUMANA Y SERVICIOS SOCIALES"],["value","SERVICIOS ART\xCDSTICOS, CULTURALES, DEPORTIVOS Y DE ESPARCIMIENTO"],["value","SERVICIOS DE ALOJAMIENTO Y SERVICIOS DE COMIDA"],["value","SERVICIOS DE ASOCIACIONES Y SERVICIOS PERSONALES"],["value","SERVICIOS DE HOGARES PRIVADOS QUE CONTRATAN SERVICIO DOMESTICO"],["value","SERVICIOS DE ORGANIZACIONES Y \xD3RGANOS EXTRATERRITORIALES"],["value","SERVICIOS DE TRANSPORTE Y ALMACENAMIENTO"],["value","SERVICIOS INMOBILIARIOS"],["value","SERVICIOS PROFESIONALES, CIENT\xCDFICOS Y T\xC9CNICOS"],["value","SUMINISTRO DE AGUA, CLOACAS, GESTI\xD3N DE RESIDUOS Y RECUPERACI\xD3N DE MATERIALES Y SANEAMIENTO P\xDABLICO"],["value","SUMINISTRO DE ELECTRICIDAD, GAS, VAPOR Y AIRE ACONDICIONADO"],["value","120"],[1,"linea",2,"margin-right","2%"],["for","como"],["value","Google","selected",""],["value","Facebook"],["value","Twitter"],["value","Instagram"],["value","Publicidad"],["value","Diario"],["value","Conocido-Amigo"],["value","Otro"]],template:function(i,r){i&1&&(O(0,"h1"),U(1,"Informacion de la Empresa"),A(),O(2,"div",0)(3,"div",1)(4,"label",2),U(5,"Nombre Comercial "),A(),O(6,"span",3),U(7),A(),O(8,"input",4),ve("change",function(){return r.sendDatosEmp()}),Je("ngModelChange",function(s){return Qe(r.camposEmp[0],s)||(r.camposEmp[0]=s),s}),A(),Ce(9,"span",5),A(),O(10,"div",6)(11,"label",7),U(12,"Raz\xF3n social "),A(),O(13,"span",3),U(14),A(),O(15,"input",8),ve("change",function(){return r.sendDatosEmp()}),Je("ngModelChange",function(s){return Qe(r.camposEmp[4],s)||(r.camposEmp[4]=s),s}),A(),Ce(16,"span",5),A()(),O(17,"div",0)(18,"div",1)(19,"label",7),U(20,"CUIL / CUIT "),A(),O(21,"span",3),U(22),A(),O(23,"input",9),ve("change",function(){return r.sendDatosEmp()}),Je("ngModelChange",function(s){return Qe(r.camposEmp[1],s)||(r.camposEmp[1]=s),s}),A(),Ce(24,"span",5),A(),O(25,"div",6)(26,"label",7),U(27,"Persona responsable "),A(),O(28,"span",3),U(29),A(),O(30,"input",10),ve("change",function(){return r.sendDatosEmp()}),Je("ngModelChange",function(s){return Qe(r.camposEmp[5],s)||(r.camposEmp[5]=s),s}),A(),Ce(31,"span",5),A()(),O(32,"div",0)(33,"div",1)(34,"label",11),U(35,"Celular "),A(),O(36,"span",3),U(37),A(),O(38,"input",12),ve("change",function(){return r.sendDatosEmp()}),Je("ngModelChange",function(s){return Qe(r.camposEmp[2],s)||(r.camposEmp[2]=s),s}),A(),Ce(39,"span",5),A(),O(40,"div",6)(41,"label",13),U(42,"Actividad "),A(),O(43,"span",3),U(44),A(),O(45,"select",14),ve("change",function(){return r.sendDatosEmp()}),Je("ngModelChange",function(s){return Qe(r.camposEmp[3],s)||(r.camposEmp[3]=s),s}),O(46,"option",15),U(47,"Seleccionar actividad"),A(),O(48,"option",16),U(49,"ACTIVIDADES ADMINISTRATIVAS Y SERVICIOS DE APOYO"),A(),O(50,"option",17),U(51,"ADMINISTRACION PUBLICA, DEFENSA Y SEGURIDAD SOCIAL OBLIGATORIA"),A(),O(52,"option",18),U(53,"AGRICULTURA, GANADER\xCDA, CAZA, SILVICULTURA Y PESCA"),A(),O(54,"option",19),U(55,"COMERCIO AL POR MAYOR Y AL POR MENOR; REPARACI\xD3N DE VEH\xCDCULOS AUTOMOTORES Y MOTOCICLETAS"),A(),O(56,"option",20),U(57,"CONSTRUCCI\xD3N"),A(),O(58,"option",21),U(59,"ENSE\xD1ANZA"),A(),O(60,"option",22),U(61,"EXPLOTACI\xD3N DE MINAS Y CANTERAS"),A(),O(62,"option",23),U(63,"INDUSTRIA MANUFACTURERA"),A(),O(64,"option",24),U(65,"INFORMACI\xD3N Y COMUNICACIONES"),A(),O(66,"option",25),U(67,"INTERMEDIACI\xD3N FINANCIERA Y SERVICIOS DE SEGUROS"),A(),O(68,"option",26),U(69,"SALUD HUMANA Y SERVICIOS SOCIALES"),A(),O(70,"option",27),U(71,"SERVICIOS ART\xCDSTICOS, CULTURALES, DEPORTIVOS Y DE ESPARCIMIENTO"),A(),O(72,"option",28),U(73,"SERVICIOS DE ALOJAMIENTO Y SERVICIOS DE COMIDA"),A(),O(74,"option",29),U(75,"SERVICIOS DE ASOCIACIONES Y SERVICIOS PERSONALES"),A(),O(76,"option",30),U(77,"SERVICIOS DE HOGARES PRIVADOS QUE CONTRATAN SERVICIO DOMESTICO"),A(),O(78,"option",31),U(79,"SERVICIOS DE ORGANIZACIONES Y \xD3RGANOS EXTRATERRITORIALES"),A(),O(80,"option",32),U(81,"SERVICIOS DE TRANSPORTE Y ALMACENAMIENTO"),A(),O(82,"option",33),U(83,"SERVICIOS INMOBILIARIOS"),A(),O(84,"option",34),U(85,"SERVICIOS PROFESIONALES, CIENT\xCDFICOS Y T\xC9CNICOS"),A(),O(86,"option",35),U(87,"SUMINISTRO DE AGUA, CLOACAS, GESTI\xD3N DE RESIDUOS Y RECUPERACI\xD3N DE MATERIALES Y SANEAMIENTO P\xDABLICO"),A(),O(88,"option",36),U(89,"SUMINISTRO DE ELECTRICIDAD, GAS, VAPOR Y AIRE ACONDICIONADO"),A(),O(90,"option",37),U(91,"OTRA"),A()(),Ce(92,"span",5),A()(),O(93,"div",38)(94,"div",6)(95,"label",39),U(96,"\xBFComo nos encontro? "),A(),O(97,"select",14),ve("change",function(){return r.sendDatosEmp()}),Je("ngModelChange",function(s){return Qe(r.camposEmp[6],s)||(r.camposEmp[6]=s),s}),O(98,"option",40),U(99,"Google"),A(),O(100,"option",41),U(101,"Facebook"),A(),O(102,"option",42),U(103,"Twitter"),A(),O(104,"option",43),U(105,"Instagram"),A(),O(106,"option",44),U(107,"Publicidad"),A(),O(108,"option",45),U(109,"Diario"),A(),O(110,"option",46),U(111,"Conocido/Amigo"),A(),O(112,"option",47),U(113,"Otro"),A()(),Ce(114,"span",5),A()()),i&2&&(ee(7),et(r.alertasEmp[0]),ee(),Xe("ngModel",r.camposEmp[0]),ee(6),et(r.alertasEmp[4]),ee(),Xe("ngModel",r.camposEmp[4]),ee(7),et(r.alertasEmp[1]),ee(),Xe("ngModel",r.camposEmp[1]),ee(6),et(r.alertasEmp[5]),ee(),Xe("ngModel",r.camposEmp[5]),ee(7),et(r.alertasEmp[2]),ee(),Xe("ngModel",r.camposEmp[2]),ee(6),et(r.alertasEmp[3]),ee(),Xe("ngModel",r.camposEmp[3]),ee(52),Xe("ngModel",r.camposEmp[6]))},dependencies:[sn,Hn,Cr,kr,mi,ar,oi,ti],styles:[".cuadro[_ngcontent-%COMP%]{font-size:large;text-align:center;width:15rem;align-content:center;height:2rem;background-color:var(--white)}@media (max-width: 560px){.cuadro[_ngcontent-%COMP%]{font-size:small}}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;height:3rem}i[_ngcontent-%COMP%]{height:3rem;text-align:center;display:flex;align-items:center;justify-content:center;width:10%;cursor:pointer}i[_ngcontent-%COMP%]:hover{background-color:#4e4e4e;transition:all .2s linear}.bgblack[_ngcontent-%COMP%]{background-color:var(--black);color:var(--white)}.bgwhite[_ngcontent-%COMP%]{background-color:var(--white);color:var(--black)}.col-3[_ngcontent-%COMP%]{width:50%}@media (max-width: 1000px){.col-3[_ngcontent-%COMP%]{width:100%}}h1[_ngcontent-%COMP%]{text-decoration:underline;color:var(--blue)}@media (max-width: 500px){h1[_ngcontent-%COMP%]{font-size:x-large}}.mitad[_ngcontent-%COMP%]{width:50%}.mitad[_ngcontent-%COMP%]   .col-3[_ngcontent-%COMP%]{width:100%}@media (max-width: 1000px){.mitad[_ngcontent-%COMP%]{width:100%}}.boton2[_ngcontent-%COMP%]:hover{background-color:var(--blue)}.linea[_ngcontent-%COMP%]{display:flex;margin-bottom:2%}@media (max-width: 1000px){.linea[_ngcontent-%COMP%]{flex-direction:column}}.acceso[_ngcontent-%COMP%]{display:flex}@media (max-width: 1000px){.acceso[_ngcontent-%COMP%]{flex-direction:column}}"]})}return n})();var wh=[{name:"Afghanistan",states:["Badakhsh\u0101n","Baghl\u0101n","Balkh","B\u0101dgh\u012Bs","B\u0101my\u0101n","D\u0101ykund\u012B","Far\u0101h","F\u0101ry\u0101b","Ghazn\u012B","Gh\u014Dr","Helmand","Her\u0101t","Jowzj\u0101n","Kandah\u0101r","Kh\u014Dst","Kunar","Kunduz","K\u0101bul","K\u0101p\u012Bs\u0101","Laghm\u0101n","L\u014Dgar","Nangarh\u0101r","N\u012Bmr\u014Dz","N\u016Brist\u0101n","Paktiy\u0101","Pakt\u012Bk\u0101","Panjshayr","Parw\u0101n","Samang\u0101n","Sar-e Pul","Takh\u0101r","Uruzg\u0101n","Wardak","Z\u0101bul"]},{name:"\xC5land Islands",states:["\xC5land Islands"]},{name:"Albania",states:["Berat","Dib\xEBr","Durr\xEBs","Elbasan","Fier","Gjirokast\xEBr","Kor\xE7\xEB","Kuk\xEBs","Lezh\xEB","Shkod\xEBr","Tiran\xEB","Vlor\xEB"]},{name:"Algeria",states:["Adrar","Alger","Annaba","A\xEFn Defla","A\xEFn T\xE9mouchent","Batna","Biskra","Blida","Bordj Bou Arr\xE9ridj","Bouira","Boumerd\xE8s","B\xE9char","B\xE9ja\xEFa","Chlef","Constantine","Djelfa","El Bayadh","El Oued","El Tarf","Gharda\xEFa","Guelma","Illizi","Jijel","Khenchela","Laghouat","Mascara","Mila","Mostaganem","Msila","M\xE9d\xE9a","Naama","Oran","Ouargla","Oum el Bouaghi","Relizane","Sa\xEFda","Sidi Bel Abb\xE8s","Skikda","Souk Ahras","S\xE9tif","Tamanghasset","Tiaret","Tindouf","Tipaza","Tissemsilt","Tizi Ouzou","Tlemcen","T\xE9bessa"]},{name:"American Samoa",states:["American Samoa"]},{name:"Andorra",states:["Andorra la Vella","Canillo","Encamp","Escaldes-Engordany","La Massana","Ordino","Sant Juli\xE0 de L\xF2ria"]},{name:"Angola",states:["Bengo","Benguela","Bi\xE9","Cabinda","Cunene","Huambo","Hu\xEDla","Kuando Kubango","Kwanza Norte","Kwanza Sul","Luanda","Lunda Norte","Lunda Sul","Malange","Moxico","Namibe","U\xEDge","Zaire"]},{name:"Anguilla",states:["Anguilla"]},{name:"Antarctica",states:["Antarctica"]},{name:"Antigua and Barbuda",states:["Barbuda","Redonda","Saint George","Saint John","Saint Mary","Saint Paul","Saint Peter","Saint Philip"]},{name:"Argentina",states:["Buenos Aires","Catamarca","Chaco","Chubut","Ciudad Aut\xF3noma de Buenos Aires","Corrientes","C\xF3rdoba","Entre R\xEDos","Formosa","Jujuy","La Pampa","La Rioja","Mendoza","Misiones","Neuqu\xE9n","R\xEDo Negro","Salta","San Juan","San Luis","Santa Cruz","Santa Fe","Santiago del Estero","Tierra del Fuego","Tucum\xE1n"]},{name:"Armenia",states:["Aragac\u0323otn","Ararat","Armavir","Erevan","Ge\u0121ark'unik'","Kotayk'","Lo\u1E59i","Syunik'","Tavu\u0161","Vayo\u0107 Jor","\u0160irak"]},{name:"Aruba",states:["Aruba"]},{name:"Australia",states:["Australian Capital Territory","New South Wales","Northern Territory","Queensland","South Australia","Tasmania","Victoria","Western Australia"]},{name:"Austria",states:["Burgenland","K\xE4rnten","Nieder\xF6sterreich","Ober\xF6sterreich","Salzburg","Steiermark","Tirol","Vorarlberg","Wien"]},{name:"Azerbaijan",states:["Nax\xE7\u0131van"]},{name:"The Bahamas",states:["Acklins","Berry Islands","Bimini","Black Point","Cat Island","Central Abaco","Central Andros","Central Eleuthera","City of Freeport","Crooked Island and Long Cay","East Grand Bahama","Exuma","Grand Cay","Harbour Island","Hope Town","Inagua","Long Island","Mangrove Cay","Mayaguana","Moores Island","North Abaco","North Andros","North Eleuthera","Ragged Island","Rum Cay","San Salvador","South Abaco","South Andros","South Eleuthera","Spanish Wells","West Grand Bahama"]},{name:"Bahrain",states:["Al Jan\u016Bb\u012Byah","Al Man\u0101mah","Al Mu\u1E29arraq","Al Wus\u0163\xE1","Ash Sham\u0101l\u012Byah"]},{name:"Bangladesh",states:["Barisal","Chittagong","Dhaka","Khulna","Rajshahi","Rangpur","Sylhet"]},{name:"Barbados",states:["Christ Church","Saint Andrew","Saint George","Saint James","Saint John","Saint Joseph","Saint Lucy","Saint Michael","Saint Peter","Saint Philip","Saint Thomas"]},{name:"Belarus",states:["Brestskaya voblasts'","Homyel'skaya voblasts'","Horad Minsk","Hrodzenskaya voblasts'","Mahilyowskaya voblasts'","Minskaya voblasts'","Vitsyebskaya voblasts'"]},{name:"Belgium",states:["Brussels Hoofdstedelijk Gewest","R\xE9gion Wallonne","Vlaams Gewest"]},{name:"Belize",states:["Belize","Cayo","Corozal","Orange Walk","Stann Creek","Toledo"]},{name:"Benin",states:["Alibori","Atakora","Atlantique","Borgou","Collines","Donga","Kouffo","Littoral","Mono","Ou\xE9m\xE9","Plateau","Zou"]},{name:"Bermuda",states:["Bermuda"]},{name:"Bhutan",states:["Bumthang","Chhukha","Dagana","Gasa","Ha","Lhuentse","Monggar","Paro","Pemagatshel","Punakha","Samdrup Jongkha","Samtse","Sarpang","Thimphu","Trashi Yangtse","Trashigang","Trongsa","Tsirang","Wangdue Phodrang","Zhemgang"]},{name:"Bolivia",states:["Chuquisaca","Cochabamba","El Beni","La Paz","Oruro","Pando","Potos\xED","Santa Cruz","Tarija"]},{name:"Bonaire",states:["Bonaire"]},{name:"Bosnia and Herzegovina",states:["Br\u010Dko distrikt","Federacija Bosna i Hercegovina","Republika Srpska"]},{name:"Botswana",states:["Central","Chobe","Francistown","Gaborone","Ghanzi","Jwaneng","Kgalagadi","Kgatleng","Kweneng","Lobatse","North-East","North-West","Selibe Phikwe","South-East","Southern","Sowa Town"]},{name:"Bouvet Island",states:["Bouvet Island"]},{name:"Brazil",states:["Acre","Alagoas","Amap\xE1","Amazonas","Bahia","Cear\xE1","Distrito Federal","Esp\xEDrito Santo","Goi\xE1s","Maranh\xE3o","Mato Grosso","Mato Grosso do Sul","Minas Gerais","Paran\xE1","Para\xEDba","Par\xE1","Pernambuco","Piau\xED","Rio Grande do Norte","Rio Grande do Sul","Rio de Janeiro","Rond\xF4nia","Roraima","Santa Catarina","Sergipe","S\xE3o Paulo","Tocantins"]},{name:"United States Minor Outlying Islands",states:["Baker Island","Howland Island","Jarvis Island","Johnston Atoll","Kingman Reef","Midway Islands","Navassa Island","Palmyra Atoll","Wake Island"]},{name:"Virgin Islands (British)",states:["Virgin Islands (British)"]},{name:"Virgin Islands (U.S.)",states:["Virgin Islands (U.S.)"]},{name:"Brunei",states:["Belait","Brunei-Muara","Temburong","Tutong"]},{name:"Bulgaria",states:["Blagoevgrad","Burgas","Dobrich","Gabrovo","Haskovo","Kardzhali","Kyustendil","Lovech","Montana","Pazardzhik","Pernik","Pleven","Plovdiv","Razgrad","Ruse","Shumen","Silistra","Sliven","Smolyan","Sofia","Sofia-Grad","Stara Zagora","Targovishte","Varna","Veliko Tarnovo","Vidin","Vratsa","Yambol"]},{name:"Burkina Faso",states:["Boucle du Mouhoun","Cascades","Centre","Centre-Est","Centre-Nord","Centre-Ouest","Centre-Sud","Est","Hauts-Bassins","Nord","Plateau-Central","Sahel","Sud-Ouest"]},{name:"Burundi",states:["Bubanza","Bujumbura Mairie","Bujumbura Rural","Bururi","Cankuzo","Cibitoke","Gitega","Karuzi","Kayanza","Kirundo","Makamba","Muramvya","Muyinga","Mwaro","Ngozi","Rutana","Ruyigi"]},{name:"Cambodia",states:["Baat Dambang","Banteay Mean Chey","Kampong Chaam","Kampong Chhnang","Kampong Spueu","Kampong Thum","Kampot","Kandaal","Kaoh Kong","Kracheh","Krong Kaeb","Krong Pailin","Krong Preah Sihanouk","Mondol Kiri","Otdar Mean Chey","Phnom Penh","Pousaat","Preah Vihear","Prey Veaeng","Rotanak Kiri","Siem Reab","Stueng Traeng","Svaay Rieng","Taakaev"]},{name:"Cameroon",states:["Adamaoua","Centre","East","Far North","Littoral","North","North-West","South","South-West","West"]},{name:"Canada",states:["Alberta","British Columbia","Manitoba","New Brunswick","Newfoundland and Labrador","Nova Scotia","Ontario","Prince Edward Island","Quebec","Saskatchewan","Northwest Territories","Nunavut","Yukon"]},{name:"Cape Verde",states:["Ilhas de Barlavento","Ilhas de Sotavento"]},{name:"Cayman Islands",states:["Cayman Islands"]},{name:"Central African Republic",states:["Bamingui-Bangoran","Bangui","Basse-Kotto","Gribingui","Haut-Mbomou","Haute-Kotto","Haute-Sangha / Mamb\xE9r\xE9-Kad\xE9\xEF","K\xE9mo-Gribingui","Lobaye","Mbomou","Nana-Mamb\xE9r\xE9","Ombella-Mpoko","Ouaka","Ouham","Ouham-Pend\xE9","Sangha","Vakaga"]},{name:"Chad",states:["Al Ba\u1E6D\u1E29ah","Al Bu\u1E29ayrah","Ba\u1E29r al Ghaz\u0101l","B\u016Brk\u016B","Inn\u012Bd\u012B","K\u0101nim","L\u016Bq\u016Bn al Gharb\u012B","L\u016Bq\u016Bn ash Sharq\u012B","Mad\u012Bnat Injam\u012Bn\u0101","M\u0101nd\u016Bl","M\u0101y\u016B K\u012Bbb\u012B al Gharb\u012B","M\u0101y\u016B K\u012Bbb\u012B ash Sharq\u012B","Q\u012Br\u0101","Sal\u0101m\u0101t","Sh\u0101r\u012B B\u0101qirm\u012B","Sh\u0101r\u012B al Awsa\u1E6D","S\u012Bl\u0101","Tibast\u012B","T\u0101njil\u012B","Wadd\u0101y","W\u0101d\u012B F\u012Br\u0101","\u1E24ajjar Lam\u012Bs"]},{name:"Chile",states:["Ais\xE9n del General Carlos Iba\xF1ez del Campo","Antofagasta","Araucan\xEDa","Arica y Parinacota","Atacama","B\xEDo-B\xEDo","Coquimbo","Libertador General Bernardo O'Higgins","Los Lagos","Los R\xEDos","Magallanes","Maule","Regi\xF3n Metropolitana de Santiago","Tarapac\xE1","Valpara\xEDso"]},{name:"China",states:["Guangxi","Nei Mongol","Ningxia","Xinjiang","Xizang","Beijing","Chongqing","Shanghai","Tianjin","Anhui","Fujian","Gansu","Guangdong","Guizhou","Hainan","Hebei","Heilongjiang","Henan","Hubei","Hunan","Jiangsu","Jiangxi","Jilin","Liaoning","Qinghai","Shaanxi","Shandong","Shanxi","Sichuan","Taiwan","Yunnan","Zhejiang","Hong Kong","Macao","Hong Kong Island","Kowloon","New Territories"]},{name:"Christmas Island",states:["Christmas Island"]},{name:"Cocos (Keeling) Islands",states:["Cocos (Keeling) Islands"]},{name:"Colombia",states:["Amazonas","Antioquia","Arauca","Atl\xE1ntico","Bol\xEDvar","Boyac\xE1","Caldas","Caquet\xE1","Casanare","Cauca","Cesar","Choc\xF3","Cundinamarca","C\xF3rdoba","Distrito Capital de Bogot\xE1","Guain\xEDa","Guaviare","Huila","La Guajira","Magdalena","Meta","Nari\xF1o","Norte de Santander","Putumayo","Quind\xEDo","Risaralda","San Andr\xE9s, Providencia y Santa Catalina","Santander","Sucre","Tolima","Valle del Cauca","Vaup\xE9s","Vichada"]},{name:"Comoros",states:["Anjouan","Grande Comore","Moh\xE9li"]},{name:"Republic of the Congo",states:["Bouenza","Brazzaville","Cuvette","Cuvette-Ouest","Kouilou","Likouala","L\xE9koumou","Niari","Plateaux","Pointe-Noire","Pool","Sangha"]},{name:"Democratic Republic of the Congo",states:["Bandundu","Bas-Congo","Kasai-Occidental","Kasai-Oriental","Katanga","Kinshasa","Maniema","Nord-Kivu","Orientale","Sud-Kivu","\xC9quateur"]},{name:"Cook Islands",states:["Cook Islands"]},{name:"Costa Rica",states:["Alajuela","Cartago","Guanacaste","Heredia","Lim\xF3n","Puntarenas","San Jos\xE9"]},{name:"Croatia",states:["Bjelovarsko-bilogorska \u017Eupanija","Brodsko-posavska \u017Eupanija","Dubrova\u010Dko-neretvanska \u017Eupanija","Grad Zagreb","Istarska \u017Eupanija","Karlova\u010Dka \u017Eupanija","Koprivni\u010Dko-kri\u017Eeva\u010Dka \u017Eupanija","Krapinsko-zagorska \u017Eupanija","Li\u010Dko-senjska \u017Eupanija","Me\u0111imurska \u017Eupanija","Osje\u010Dko-baranjska \u017Eupanija","Po\u017Ee\u0161ko-slavonska \u017Eupanija","Primorsko-goranska \u017Eupanija","Sisa\u010Dko-moslava\u010Dka \u017Eupanija","Splitsko-dalmatinska \u017Eupanija","Vara\u017Edinska \u017Eupanija","Viroviti\u010Dko-podravska \u017Eupanija","Vukovarsko-srijemska \u017Eupanija","Zadarska \u017Eupanija","Zagreba\u010Dka \u017Eupanija","\u0160ibensko-kninska \u017Eupanija"]},{name:"Cuba",states:["Artemisa","Camag\xFCey","Ciego de \xC1vila","Cienfuegos","Granma","Guant\xE1namo","Holgu\xEDn","Isla de la Juventud","La Habana","Las Tunas","Matanzas","Mayabeque","Pinar del R\xEDo","Sancti Sp\xEDritus","Santiago de Cuba","Villa Clara"]},{name:"Cura\xE7ao",states:["Cura\xE7ao"]},{name:"Cyprus",states:["Ammochostos","Keryneia","Larnaka","Lefkosia","Lemesos","Pafos"]},{name:"Czech Republic",states:["Jihomoravsk\xFD kraj","Jiho\u010Desk\xFD kraj","Karlovarsk\xFD kraj","Kr\xE1lov\xE9hradeck\xFD kraj","Libereck\xFD kraj","Moravskoslezsk\xFD kraj","Olomouck\xFD kraj","Pardubick\xFD kraj","Plze\u0148sk\xFD kraj","Praha, hlavn\xED m\u011Bsto","St\u0159edo\u010Desk\xFD kraj","Vyso\u010Dina","Zl\xEDnsk\xFD kraj","\xDAsteck\xFD kraj"]},{name:"Denmark",states:["Hovedstaden","Midtjylland","Nordjylland","Sj\xE6lland","Syddanmark"]},{name:"Djibouti",states:["Ali Sabieh","Arta","Dikhil","Djibouti","Obock","Tadjourah"]},{name:"Dominica",states:["Saint Andrew","Saint David","Saint George","Saint John","Saint Joseph","Saint Luke","Saint Mark","Saint Patrick","Saint Paul","Saint Peter"]},{name:"Dominican Republic",states:["Cibao Nordeste","Cibao Noroeste","Cibao Norte","Cibao Sur","El Valle","Enriquillo","Higuamo","Ozama","Valdesia","Yuma"]},{name:"Ecuador",states:["Azuay","Bol\xEDvar","Carchi","Ca\xF1ar","Chimborazo","Cotopaxi","El Oro","Esmeraldas","Gal\xE1pagos","Guayas","Imbabura","Loja","Los R\xEDos","Manab\xED","Morona-Santiago","Napo","Orellana","Pastaza","Pichincha","Santa Elena","Santo Domingo de los Ts\xE1chilas","Sucumb\xEDos","Tungurahua","Zamora-Chinchipe"]},{name:"Egypt",states:["Ad Daqahl\u012Byah","Al Ba\u1E29r al A\u1E29mar","Al Bu\u1E29ayrah","Al Fayy\u016Bm","Al Gharb\u012Byah","Al Iskandar\u012Byah","Al Ism\u0101\u0670\u012Bl\u012Byah","Al J\u012Bzah","Al Miny\u0101","Al Min\u016Bf\u012Byah","Al Qaly\u016Bb\u012Byah","Al Q\u0101hirah","Al Uq\u015Fur","Al W\u0101d\u012B al Jad\u012Bd","As Suways","As S\u0101dis min Ukt\u016Bbar","Ash Sharq\u012Byah","Asw\u0101n","Asy\u016B\u0163","Ban\u012B Suwayf","B\u016Br Sa\u0670\u012Bd","Dumy\u0101\u0163","Jan\u016Bb S\u012Bn\u0101'","Kafr ash Shaykh","Ma\u0163r\u016B\u1E29","Qin\u0101","Sham\u0101l S\u012Bn\u0101'","S\u016Bh\u0101j","\u1E28ulw\u0101n"]},{name:"El Salvador",states:["Ahuachap\xE1n","Caba\xF1as","Chalatenango","Cuscatl\xE1n","La Libertad","La Paz","La Uni\xF3n","Moraz\xE1n","San Miguel","San Salvador","San Vicente","Santa Ana","Sonsonate","Usulut\xE1n"]},{name:"Equatorial Guinea",states:["Regi\xF3n Continental","Regi\xF3n Insular"]},{name:"Eritrea",states:["Al Awsa\u0163","Al Jan\u016Bb\u0129","Ansab\u0101","Jan\u016Bb\u012B al Ba\u1E29r\u012B al A\u1E29mar","Q\u0101sh-Barkah","Shim\u0101l\u012B al Ba\u1E29r\u012B al A\u1E29mar"]},{name:"Estonia",states:["Harjumaa","Hiiumaa","Ida-Virumaa","J\xE4rvamaa","J\xF5gevamaa","L\xE4\xE4ne-Virumaa","L\xE4\xE4nemaa","P\xE4rnumaa","P\xF5lvamaa","Raplamaa","Saaremaa","Tartumaa","Valgamaa","Viljandimaa","V\xF5rumaa"]},{name:"Ethiopia",states:["B\u012Bnshangul Gumuz","Dir\u0113 Dawa","Gamb\u0113la Hizboch","H\u0101rer\u012B Hizb","Orom\u012Bya","Sumal\u0113","Tigray","YeDebub Bih\u0113roch Bih\u0113reseboch na Hizboch","\u0100d\u012Bs \u0100beba","\u0100far","\u0100mara"]},{name:"Falkland Islands",states:[]},{name:"Faroe Islands",states:["Faroe Islands"]},{name:"Fiji",states:["Central","Eastern","Northern","Rotuma","Western"]},{name:"Finland",states:["Ahvenanmaan maakunta","Etel\xE4-Karjala","Etel\xE4-Pohjanmaa","Etel\xE4-Savo","Kainuu","Kanta-H\xE4me","Keski-Pohjanmaa","Keski-Suomi","Kymenlaakso","Lappi","Pirkanmaa","Pohjanmaa","Pohjois-Karjala","Pohjois-Pohjanmaa","Pohjois-Savo","P\xE4ij\xE4t-H\xE4me","Satakunta","Uusimaa","Varsinais-Suomi"]},{name:"France",states:["Alsace","Aquitaine","Auvergne","Brittany","Burgundy","Centre-Val de Loire","Champagne-Ardenne","Corsica","Franche-Comt\xE9","Languedoc-Roussillon","Limousin","Lorraine","Lower Normandy","Midi-Pyr\xE9n\xE9es","Nord-Pas-de-Calais","Pays de la Loire","Picardy","Poitou-Charentes","Provence-Alpes-C\xF4te d'Azur","Rh\xF4ne-Alpes","Upper Normandy","\xCEle-de-France"]},{name:"French Guiana",states:["French Guiana"]},{name:"French Polynesia",states:["French Polynesia"]},{name:"Gabon",states:["Estuaire","Haut-Ogoou\xE9","Moyen-Ogoou\xE9","Ngouni\xE9","Nyanga","Ogoou\xE9-Ivindo","Ogoou\xE9-Lolo","Ogoou\xE9-Maritime","Woleu-Ntem"]},{name:"The Gambia",states:["Banjul","Central River","Lower River","North Bank","Upper River","Western"]},{name:"Georgia",states:["Abkhazia","Ajaria","Guria","Imereti","K'akheti","Kvemo Kartli","Mtskheta-Mtianeti","Rach'a-Lechkhumi-Kvemo Svaneti","Samegrelo-Zemo Svaneti","Samtskhe-Javakheti","Shida Kartli","Tbilisi"]},{name:"Germany",states:["Baden-W\xFCrttemberg","Bayern","Berlin","Brandenburg","Bremen","Hamburg","Hessen","Mecklenburg-Vorpommern","Niedersachsen","Nordrhein-Westfalen","Rheinland-Pfalz","Saarland","Sachsen","Sachsen-Anhalt","Schleswig-Holstein","Th\xFCringen"]},{name:"Ghana",states:["Ashanti","Brong-Ahafo","Central","Eastern","Greater Accra","Northern","Upper East","Upper West","Volta","Western"]},{name:"Gibraltar",states:["Gibraltar"]},{name:"Greece",states:["Anatoliki Makedonia kai Thraki","Attiki","Dytiki Ellada","Dytiki Makedonia","Ionia Nisia","Ipeiros","Kentriki Makedonia","Kriti","Notio Aigaio","Peloponnisos","Sterea Ellada","Thessalia","Voreio Aigaio"]},{name:"Greenland",states:["Kommune Kujalleq","Kommuneqarfik Sermersooq","Qaasuitsup Kommunia","Qeqqata Kommunia"]},{name:"Grenada",states:["Saint Andrew","Saint David","Saint George","Saint John","Saint Mark","Saint Patrick","Southern Grenadine Islands"]},{name:"Guadeloupe",states:["Guadeloupe"]},{name:"Guam",states:["Guam"]},{name:"Guatemala",states:["Alta Verapaz","Baja Verapaz","Chimaltenango","Chiquimula","El Progreso","Escuintla","Guatemala","Huehuetenango","Izabal","Jalapa","Jutiapa","Pet\xE9n","Quetzaltenango","Quich\xE9","Retalhuleu","Sacatep\xE9quez","San Marcos","Santa Rosa","Solol\xE1","Suchitep\xE9quez","Totonicap\xE1n","Zacapa"]},{name:"Guernsey",states:["Guernsey"]},{name:"Guinea",states:["Bok\xE9","Conakry","Faranah","Kankan","Kindia","Lab\xE9","Mamou","Nz\xE9r\xE9kor\xE9"]},{name:"Guinea-Bissau",states:["Leste","Norte","Sul"]},{name:"Guyana",states:["Barima-Waini","Cuyuni-Mazaruni","Demerara-Mahaica","East Berbice-Corentyne","Essequibo Islands-West Demerara","Mahaica-Berbice","Pomeroon-Supenaam","Potaro-Siparuni","Upper Demerara-Berbice","Upper Takutu-Upper Essequibo"]},{name:"Haiti",states:["Artibonite","Centre","Grande-Anse","Nippes","Nord","Nord-Est","Nord-Ouest","Ouest","Sud","Sud-Est"]},{name:"Honduras",states:["Atl\xE1ntida","Choluteca","Col\xF3n","Comayagua","Cop\xE1n","Cort\xE9s","El Para\xEDso","Francisco Moraz\xE1n","Gracias a Dios","Intibuc\xE1","Islas de la Bah\xEDa","La Paz","Lempira","Ocotepeque","Olancho","Santa B\xE1rbara","Valle","Yoro"]},{name:"Hong Kong",states:["Hong Kong"]},{name:"Hungary",states:["Baranya","Borsod-Aba\xFAj-Zempl\xE9n","Budapest","B\xE1cs-Kiskun","B\xE9k\xE9s","B\xE9k\xE9scsaba","Csongr\xE1d","Debrecen","Duna\xFAjv\xE1ros","Eger","Fej\xE9r","Gy\u0151r","Gy\u0151r-Moson-Sopron","Hajd\xFA-Bihar","Heves","H\xF3dmez\u0151v\xE1s\xE1rhely","J\xE1sz-Nagykun-Szolnok","Kaposv\xE1r","Kecskem\xE9t","Kom\xE1rom-Esztergom","Miskolc","Nagykanizsa","Ny\xEDregyh\xE1za","N\xF3gr\xE1d","Pest","P\xE9cs","Salg\xF3tarj\xE1n","Somogy","Sopron","Szabolcs-Szatm\xE1r-Bereg","Szeged","Szeksz\xE1rd","Szolnok","Szombathely","Sz\xE9kesfeh\xE9rv\xE1r","Tatab\xE1nya","Tolna","Vas","Veszpr\xE9m","Veszpr\xE9m","Zala","Zalaegerszeg","\xC9rd"]},{name:"Iceland",states:["Austurland","H\xF6fu\xF0borgarsv\xE6\xF0i utan Reykjav\xEDkur","Nor\xF0urland eystra","Nor\xF0urland vestra","Reykjav\xEDk","Su\xF0urland","Su\xF0urnes","Vestfir\xF0ir","Vesturland"]},{name:"India",states:["Andaman and Nicobar Islands","Chandigarh","Dadra and Nagar Haveli","Daman and Diu","Delhi","Lakshadweep","Puducherry","Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jammu and Kashmir","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal"]},{name:"Indonesia",states:["Jawa","Kalimantan","Maluku","Nusa Tenggara","Papua","Sulawesi","Sumatera"]},{name:"Ivory Coast",states:["18 Montagnes","Agn\xE9bi","Bafing","Bas-Sassandra","Dengu\xE9l\xE9","Fromager","Haut-Sassandra","Lacs","Lagunes","Marahou\xE9","Moyen-Cavally","Moyen-Como\xE9","Nzi-Como\xE9","Savanes","Sud-Bandama","Sud-Como\xE9","Vall\xE9e du Bandama","Worodougou","Zanzan"]},{name:"Iran",states:["Alborz","Ardab\u012Bl","B\u016Bshehr","Chah\u0101r Ma\u1E29\u0101ll va Bakht\u012B\u0101r\u012B","E\u015Ffah\u0101n","F\u0101rs","Golest\u0101n","G\u012Bl\u0101n","Hamad\u0101n","Hormozg\u0101n","Kerm\u0101n","Kerm\u0101nsh\u0101h","Khor\u0101s\u0101n-e Jan\u016Bb\u012B","Khor\u0101s\u0101n-e Razav\u012B","Khor\u0101s\u0101n-e Shem\u0101l\u012B","Kh\u016Bzest\u0101n","Kohg\u012Bl\u016Byeh va B\u016Byer A\u1E29mad","Kordest\u0101n","Lorest\u0101n","Markaz\u012B","M\u0101zandar\u0101n","Qazv\u012Bn","Qom","Semn\u0101n","S\u012Bst\u0101n va Bal\u016Bchest\u0101n","Tehr\u0101n","Yazd","Zanj\u0101n","\u0100z\u0304arb\u0101yj\u0101n-e Gharb\u012B","\u0100z\u0304arb\u0101yj\u0101n-e Sharq\u012B","\u012Al\u0101m"]},{name:"Iraq",states:["Al Anb\u0101r","Al Ba\u015Frah","Al Muthann\xE1","Al Q\u0101dis\u012Byah","An Najaf","Arb\u012Bl","As Sulaym\u0101n\u012Byah","At Ta'm\u012Bm","Baghd\u0101d","B\u0101bil","Dah\u016Bk","Dh\u012B Q\u0101r","Diy\u0101l\xE1","Karbal\u0101'","Mays\u0101n","N\u012Bnaw\xE1","W\u0101si\u0163","\u015Eal\u0101\u1E29 ad D\u012Bn"]},{name:"Republic of Ireland",states:["Connaught","Leinster","Munster","Ulster"]},{name:"Isle of Man",states:["Isle of Man"]},{name:"Israel",states:["HaDarom","HaMerkaz","HaTsafon","H\u0331efa","Tel-Aviv","Yerushalayim"]},{name:"Italy",states:["Abruzzo","Basilicata","Calabria","Campania","Emilia-Romagna","Friuli-Venezia Giulia","Lazio","Liguria","Lombardia","Marche","Molise","Piemonte","Puglia","Sardegna","Sicilia","Toscana","Trentino-Alto Adige","Umbria","Valle d'Aosta","Veneto"]},{name:"Jamaica",states:["Clarendon","Hanover","Kingston","Manchester","Portland","Saint Andrew","Saint Ann","Saint Catherine","Saint Elizabeth","Saint James","Saint Mary","Saint Thomas","Trelawny","Westmoreland"]},{name:"Japan",states:["Aiti","Akita","Aomori","Ehime","Gihu","Gunma","Hirosima","Hokkaid\xF4","Hukui","Hukuoka","Hukusima","Hy\xF4go","Ibaraki","Isikawa","Iwate","Kagawa","Kagosima","Kanagawa","Kumamoto","Ky\xF4to","K\xF4ti","Mie","Miyagi","Miyazaki","Nagano","Nagasaki","Nara","Niigata","Okayama","Okinawa","Saga","Saitama","Siga","Simane","Sizuoka","Tiba","Tokusima","Totigi","Tottori","Toyama","T\xF4ky\xF4","Wakayama","Yamagata","Yamaguti","Yamanasi","\xD4ita","\xD4saka"]},{name:"Jersey",states:["Jersey"]},{name:"Jordan",states:["Al Balq\u0101'","Al \u02BDAqabah","Az Zarq\u0101'","A\u0163 \u0162af\u012Blah","Irbid","Jerash","Karak","Ma'\u0101n","Mafraq","M\u0101dab\u0101","\u02BDAjl\u016Bn","\u2018Amm\u0101n"]},{name:"Kazakhstan",states:["Almaty","Almaty oblysy","Aqmola oblysy","Aqt\xF6be oblysy","Astana","Atyra\u016B oblysy","Batys Qazaqstan oblysy","Mangghysta\u016B oblysy","Ongt\xFCstik Qazaqstan oblysy","Pavlodar oblysy","Qaraghandy oblysy","Qostanay oblysy","Qyzylorda oblysy","Shyghys Qazaqstan oblysy","Solt\xFCstik Qazaqstan oblysy","Zhambyl oblysy"]},{name:"Kenya",states:["Central","Coast","Eastern","Nairobi","North-Eastern","Nyanza","Rift Valley","Western"]},{name:"Kiribati",states:["Gilbert Islands","Line Islands","Phoenix Islands"]},{name:"Kuwait",states:["Al A\u1E29madi","Al Farw\u0101n\u012Byah","Al Jahr\u0101\u2019","Al Kuwayt","Mub\u0101rak al Kab\u012Br","\u1E28awall\u012B"]},{name:"Kyrgyzstan",states:["Batken","Bishkek","Ch\xFC","Jalal-Abad","Naryn","Osh","Talas","Ysyk-K\xF6l"]},{name:"Laos",states:["Attapu","Bok\xE8o","Bolikhamxai","Champasak","Houaphan","Khammouan","Louang Namtha","Louangphabang","Oud\xF4mxai","Ph\xF4ngsali","Salavan","Savannakh\xE9t","Vientiane","Vientiane","Xaignabouli","Xais\xF4mboun","Xiangkhoang","X\xE9kong"]},{name:"Latvia",states:["Aglonas novads","Aizkraukles novads","Aizputes novads","Akn\u012Bstes novads","Alojas novads","Alsungas novads","Al\u016Bksnes novads","Amatas novads","Apes novads","Auces novads","Bab\u012Btes novads","Baldones novads","Baltinavas novads","Balvu novads","Bauskas novads","Bever\u012Bnas novads","Broc\u0113nu novads","Burtnieku novads","Carnikavas novads","Cesvaines novads","Ciblas novads","C\u0113su novads","Dagdas novads","Daugavpils","Daugavpils novads","Dobeles novads","Dundagas novads","Durbes novads","Engures novads","Garkalnes novads","Grobi\u0146as novads","Gulbenes novads","Iecavas novads","Ik\u0161\u0137iles novads","Il\u016Bkstes novads","In\u010Dukalna novads","Jaunjelgavas novads","Jaunpiebalgas novads","Jaunpils novads","Jelgava","Jelgavas novads","J\u0113kabpils","J\u0113kabpils novads","J\u016Brmala","Kandavas novads","Koc\u0113nu novads","Kokneses novads","Krimuldas novads","Krustpils novads","Kr\u0101slavas novads","Kuld\u012Bgas novads","K\u0101rsavas novads","Lielv\u0101rdes novads","Liep\u0101ja","Limba\u017Eu novads","Lub\u0101nas novads","Ludzas novads","L\u012Bgatnes novads","L\u012Bv\u0101nu novads","Madonas novads","Mazsalacas novads","M\u0101lpils novads","M\u0101rupes novads","M\u0113rsraga novads","Nauk\u0161\u0113nu novads","Neretas novads","N\u012Bcas novads","Ogres novads","Olaines novads","Ozolnieku novads","Prei\u013Cu novads","Priekules novads","Prieku\u013Cu novads","P\u0101rgaujas novads","P\u0101vilostas novads","P\u013Cavi\u0146u novads","Raunas novads","Riebi\u0146u novads","Rojas novads","Ropa\u017Eu novads","Rucavas novads","Rug\u0101ju novads","Rund\u0101les novads","R\u0113zekne","R\u0113zeknes novads","R\u012Bga","R\u016Bjienas novads","Salacgr\u012Bvas novads","Salas novads","Salaspils novads","Saldus novads","Saulkrastu novads","Siguldas novads","Skrundas novads","Skr\u012Bveru novads","Smiltenes novads","Stopi\u0146u novads","Stren\u010Du novads","S\u0113jas novads","Talsu novads","Tukuma novads","T\u0113rvetes novads","Vai\u0146odes novads","Valkas novads","Valmiera","Varak\u013C\u0101nu novads","Vecpiebalgas novads","Vecumnieku novads","Ventspils","Ventspils novads","Vies\u012Btes novads","Vi\u013Cakas novads","Vi\u013C\u0101nu novads","V\u0101rkavas novads","Zilupes novads","\u0100da\u017Eu novads","\u0112rg\u013Cu novads","\u0136eguma novads","\u0136ekavas novads"]},{name:"Lebanon",states:["Aakk\xE2r","Baalbek-Hermel","Beyrouth","B\xE9qaa","Liban-Nord","Liban-Sud","Mont-Liban","Nabat\xEEy\xE9"]},{name:"Lesotho",states:["Berea","Butha-Buthe","Leribe","Mafeteng","Maseru","Mohale's Hoek","Mokhotlong","Qacha's Nek","Quthing","Thaba-Tseka"]},{name:"Liberia",states:["Bomi","Bong","Gbarpolu","Grand Bassa","Grand Cape Mount","Grand Gedeh","Grand Kru","Lofa","Margibi","Maryland","Montserrado","Nimba","River Gee","Rivercess","Sinoe"]},{name:"Libya",states:["Al Bu\u0163n\u0101n","Al Jabal al Akh\u1E11ar","Al Jabal al Gharb\u012B","Al Jif\u0101rah","Al Jufrah","Al Kufrah","Al Marj","Al Marqab","Al W\u0101\u1E29\u0101t","An Nuqa\u0163 al Khams","Az Z\u0101wiyah","Bangh\u0101z\u012B","Darnah","Gh\u0101t","Mi\u015Fr\u0101tah","Murzuq","N\u0101l\u016Bt","Sabh\u0101","Surt","W\u0101d\u012B al \u1E28ay\u0101t","W\u0101d\u012B ash Sh\u0101\u0163i\u02BE","\u0162ar\u0101bulus"]},{name:"Liechtenstein",states:["Balzers","Eschen","Gamprin","Mauren","Planken","Ruggell","Schaan","Schellenberg","Triesen","Triesenberg","Vaduz"]},{name:"Lithuania",states:["Alytaus Apskritis","Kauno Apskritis","Klaip\u0117dos Apskritis","Marijampol\u0117s Apskritis","Panev\u0117\u017Eio Apskritis","Taurag\u0117s Apskritis","Tel\u0161i\u0173 Apskritis","Utenos Apskritis","Vilniaus Apskritis","\u0160iauli\u0173 Apskritis"]},{name:"Luxembourg",states:["Diekirch","Grevenmacher","Luxembourg"]},{name:"Macau",states:["Macau"]},{name:"Republic of Macedonia",states:["Aerodrom","Ara\u010Dinovo","Berovo","Bitola","Bogdanci","Bogovinje","Bosilovo","Brvenica","Butel","Centar","Centar \u017Dupa","Debar","Debarca","Del\u010Devo","Demir Hisar","Demir Kapija","Dojran","Dolneni","Drugovo","Gazi Baba","Gevgelija","Gjor\u010De Petrov","Gostivar","Gradsko","Ilinden","Jegunovce","Karbinci","Karpo\u0161","Kavadarci","Kisela Voda","Ki\u010Devo","Kon\u010De","Ko\u010Dani","Kratovo","Kriva Palanka","Krivoga\u0161tani","Kru\u0161evo","Kumanovo","Lipkovo","Lozovo","Makedonska Kamenica","Makedonski Brod","Mavrovo i Rostu\u0161a","Mogila","Negotino","Novaci","Novo Selo","Ohrid","Oslomej","Peh\u010Devo","Petrovec","Plasnica","Prilep","Probi\u0161tip","Radovi\u0161","Rankovce","Resen","Rosoman","Saraj","Sopi\u0161te","Staro Nagori\u010Dane","Struga","Strumica","Studeni\u010Dani","Sveti Nikole","Tearce","Tetovo","Valandovo","Vasilevo","Veles","Vev\u010Dani","Vinica","Vrane\u0161tica","Vrap\u010Di\u0161te","Zajas","Zelenikovo","Zrnovci","\u010Cair","\u010Ca\u0161ka","\u010Ce\u0161inovo-Oble\u0161evo","\u010Cu\u010Der Sandevo","\u0160tip","\u0160uto Orizari","\u017Delino"]},{name:"Madagascar",states:["Antananarivo","Antsiranana","Fianarantsoa","Mahajanga","Toamasina","Toliara"]},{name:"Malawi",states:["Central Region","Northern Region","Southern Region"]},{name:"Malaysia",states:["Wilayah Persekutuan Kuala Lumpur","Wilayah Persekutuan Labuan","Wilayah Persekutuan Putrajaya","Johor","Kedah","Kelantan","Melaka","Negeri Sembilan","Pahang","Perak","Perlis","Pulau Pinang","Sabah","Sarawak","Selangor","Terengganu"]},{name:"Maldives",states:["Central","Male","North","North Central","South","South Central","Upper North","Upper South"]},{name:"Mali",states:["Bamako","Gao","Kayes","Kidal","Koulikoro","Mopti","Sikasso","S\xE9gou","Tombouctou"]},{name:"Malta",states:["Attard","Balzan","Birgu","Birkirkara","Bir\u017Cebbu\u0121a","Bormla","Dingli","Fgura","Floriana","Fontana","Gudja","G\u0127ajnsielem","G\u0127arb","G\u0127arg\u0127ur","G\u0127asri","G\u0127axaq","G\u017Cira","Iklin","Isla","Kalkara","Ker\u010Bem","Kirkop","Lija","Luqa","Marsa","Marsaskala","Marsaxlokk","Mdina","Mellie\u0127a","Mosta","Mqabba","Msida","Mtarfa","Munxar","M\u0121arr","Nadur","Naxxar","Paola","Pembroke","Piet\xE0","Qala","Qormi","Qrendi","Rabat G\u0127awdex","Rabat Malta","Safi","San Lawrenz","San Pawl il-Ba\u0127ar","San \u0120iljan","San \u0120wann","Sannat","Santa Lu\u010Bija","Santa Venera","Si\u0121\u0121iewi","Sliema","Swieqi","Ta' Xbiex","Tarxien","Valletta","Xag\u0127ra","Xewkija","Xg\u0127ajra","\u0126amrun","\u017Babbar","\u017Bebbu\u0121 G\u0127awdex","\u017Bebbu\u0121 Malta","\u017Bejtun","\u017Burrieq"]},{name:"Marshall Islands",states:["Ralik chain","Ratak chain"]},{name:"Martinique",states:["Martinique"]},{name:"Mauritania",states:["Adrar","Assaba","Brakna","Dakhlet Nou\xE2dhibou","Gorgol","Guidimaka","Hodh ech Chargui","Hodh el Gharbi","Inchiri","Nouakchott","Tagant","Tiris Zemmour","Trarza"]},{name:"Mauritius",states:["Agalega Islands","Beau Bassin-Rose Hill","Black River","Cargados Carajos Shoals","Curepipe","Flacq","Grand Port","Moka","Pamplemousses","Plaines Wilhems","Port Louis","Port Louis","Quatre Bornes","Rivi\xE8re du Rempart","Rodrigues Island","Savanne","Vacoas-Phoenix"]},{name:"Mayotte",states:["Mayotte"]},{name:"Mexico",states:["Distrito Federal","Aguascalientes","Baja California","Baja California Sur","Campeche","Chiapas","Chihuahua","Coahuila","Colima","Durango","Guanajuato","Guerrero","Hidalgo","Jalisco","Michoac\xE1n","Morelos","M\xE9xico","Nayarit","Nuevo Le\xF3n","Oaxaca","Puebla","Quer\xE9taro","Quintana Roo","San Luis Potos\xED","Sinaloa","Sonora","Tabasco","Tamaulipas","Tlaxcala","Veracruz","Yucat\xE1n","Zacatecas"]},{name:"Federated States of Micronesia",states:["Chuuk","Kosrae","Pohnpei","Yap"]},{name:"Moldova",states:["Anenii Noi","Basarabeasca","Briceni","B\u0103l\u0163i","Cahul","Cantemir","Chi\u015Fin\u0103u","Cimi\u015Flia","Criuleni","C\u0103l\u0103ra\u015Fi","C\u0103u\u015Feni","Dondu\u015Feni","Drochia","Dub\u0103sari","Edine\u0163","Flore\u015Fti","F\u0103le\u015Fti","Glodeni","G\u0103g\u0103uzia, Unitatea teritorial\u0103 autonom\u0103","H\xEEnce\u015Fti","Ialoveni","Leova","Nisporeni","Ocni\u0163a","Orhei","Rezina","R\xEE\u015Fcani","Soroca","Str\u0103\u015Feni","St\xEEnga Nistrului, unitatea teritorial\u0103 din","S\xEEngerei","Taraclia","Telene\u015Fti","Tighina","Ungheni","\u015Eold\u0103ne\u015Fti","\u015Etefan Vod\u0103"]},{name:"Monaco",states:["Fontvieille","Jardin Exotique","La Colle","La Condamine","La Gare","La Source","Larvotto","Malbousquet","Monaco-Ville","Moneghetti","Monte-Carlo","Moulins","Port-Hercule","Saint-Roman","Sainte-D\xE9vote","Sp\xE9lugues","Vallon de la Rousse"]},{name:"Mongolia",states:["Arhangay","Bayan-\xD6lgiy","Bayanhongor","Bulgan","Darhan uul","Dornod","Dornogov\u012D","Dundgov\u012D","Dzavhan","Gov\u012D-Altay","Gov\u012D-S\xFCmber","Hentiy","Hovd","H\xF6vsg\xF6l","Orhon","Selenge","S\xFChbaatar","T\xF6v","Ulaanbaatar","Uvs","\xD6mn\xF6gov\u012D","\xD6v\xF6rhangay"]},{name:"Montenegro",states:["Andrijevica","Bar","Berane","Bijelo Polje","Budva","Cetinje","Danilovgrad","Gusinje","Herceg-Novi","Kola\u0161in","Kotor","Mojkovac","Nik\u0161i\u0107","Petnjica","Plav","Pljevlja","Plu\u017Eine","Podgorica","Ro\u017Eaje","Tivat","Ulcinj","\u0160avnik","\u017Dabljak"]},{name:"Montserrat",states:["Montserrat"]},{name:"Morocco",states:["Chaouia-Ouardigha","Doukhala-Abda","F\xE8s-Boulemane","Gharb-Chrarda-Beni Hssen","Grand Casablanca","Guelmim-Es Smara","L'Oriental","La\xE2youne-Boujdour-Sakia el Hamra","Marrakech-Tensift-Al Haouz","Mekn\xE8s-Tafilalet","Oued ed Dahab-Lagouira","Rabat-Sal\xE9-Zemmour-Zaer","Souss-Massa-Dr\xE2a","Tadla-Azilal","Tanger-T\xE9touan","Taza-Al Hoceima-Taounate"]},{name:"Mozambique",states:["Cabo Delgado","Gaza","Inhambane","Manica","Maputo","Maputo","Nampula","Niassa","Sofala","Tete","Zamb\xE9zia"]},{name:"Myanmar",states:["Ayeyarwady","Bago","Chin","Kachin","Kayah","Kayin","Magway","Mandalay","Mon","Rakhine","Sagaing","Shan","Tanintharyi","Yangon"]},{name:"Namibia",states:["Erongo","Hardap","Karas","Kavango East","Kavango West","Khomas","Kunene","Ohangwena","Omaheke","Omusati","Oshana","Oshikoto","Otjozondjupa","Zambezi"]},{name:"Nauru",states:["Aiwo","Anabar","Anetan","Anibare","Baiti","Boe","Buada","Denigomodu","Ewa","Ijuw","Meneng","Nibok","Uaboe","Yaren"]},{name:"Nepal",states:["Madhya Pashchimanchal","Madhyamanchal","Pashchimanchal","Purwanchal","Sudur Pashchimanchal"]},{name:"Netherlands",states:["Drenthe","Flevoland","Frysl\xE2n","Gelderland","Groningen","Limburg","Noord-Brabant","Noord-Holland","Overijssel","Utrecht","Zeeland","Zuid-Holland","Aruba","Cura\xE7ao","Sint Maarten","Bonaire","Saba","Sint Eustatius"]},{name:"New Caledonia",states:["New Caledonia"]},{name:"New Zealand",states:["North Island","South Island","Auckland","Bay of Plenty","Canterbury","Hawke's Bay","Manawatu-Wanganui","Northland","Otago","Southland","Taranaki","Waikato","Wellington","West Coast","Chatham Islands Territory","Gisborne District","Marlborough District","Nelson City","Tasman District"]},{name:"Nicaragua",states:["Atl\xE1ntico Norte","Atl\xE1ntico Sur","Boaco","Carazo","Chinandega","Chontales","Estel\xED","Granada","Jinotega","Le\xF3n","Madriz","Managua","Masaya","Matagalpa","Nueva Segovia","Rivas","R\xEDo San Juan"]},{name:"Niger",states:["Agadez","Diffa","Dosso","Maradi","Niamey","Tahoua","Tillab\xE9ri","Zinder"]},{name:"Nigeria",states:["Abia","Abuja Federal Capital Territory","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nassarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"]},{name:"Niue",states:["Niue"]},{name:"Norfolk Island",states:["Norfolk Island"]},{name:"North Korea",states:["Chagang","Kangwon","North Hamgyong","North Hwanghae","North Pyongan","Pyongyang","Rason","Ryanggang","South Hamgyong","South Hwanghae","South Pyongan"]},{name:"Northern Mariana Islands",states:["Northern Mariana Islands"]},{name:"Norway",states:["Akershus","Aust-Agder","Buskerud","Finnmark","Hedmark","Hordaland","Jan Mayen","M\xF8re og Romsdal","Nord-Tr\xF8ndelag","Nordland","Oppland","Oslo","Rogaland","Sogn og Fjordane","Svalbard","S\xF8r-Tr\xF8ndelag","Telemark","Troms","Vest-Agder","Vestfold","\xD8stfold"]},{name:"Oman",states:["Ad D\u0101khil\u012Byah","Al Buraym\u012B","Al B\u0101\u0163inah","Al Wus\u0163\xE1","Ash Sharq\u012Byah","Az\u0327 Z\u0327\u0101hirah","Masqa\u0163","Musandam","Z\u0327uf\u0101r"]},{name:"Pakistan",states:["Azad Kashmir","Balochistan","Federally Administered Tribal Areas","Gilgit-Baltistan","Islamabad","Khyber Pakhtunkhwa","Punjab","Sindh"]},{name:"Palau",states:["Aimeliik","Airai","Angaur","Hatobohei","Kayangel","Koror","Melekeok","Ngaraard","Ngarchelong","Ngardmau","Ngatpang","Ngchesar","Ngeremlengui","Ngiwal","Peleliu","Sonsorol"]},{name:"Palestine",states:["Bethlehem","Deir El Balah","Gaza","Hebron","Jenin","Jericho \u2013 Al Aghwar","Jerusalem","Khan Yunis","Nablus","North Gaza","Qalqilya","Rafah","Ramallah","Salfit","Tubas","Tulkarm"]},{name:"Panama",states:["Bocas del Toro","Chiriqu\xED","Cocl\xE9","Col\xF3n","Dari\xE9n","Ember\xE1","Herrera","Kuna Yala","Los Santos","Ng\xF6be-Bugl\xE9","Panam\xE1","Panam\xE1 Oeste","Veraguas"]},{name:"Papua New Guinea",states:["Bougainville","Central","Chimbu","East New Britain","East Sepik","Eastern Highlands","Enga","Gulf","Madang","Manus","Milne Bay","Morobe","National Capital District","New Ireland","Northern","Sandaun","Southern Highlands","West New Britain","Western","Western Highlands"]},{name:"Paraguay",states:["Alto Paraguay","Alto Paran\xE1","Amambay","Asunci\xF3n","Boquer\xF3n","Caaguaz\xFA","Caazap\xE1","Canindey\xFA","Central","Concepci\xF3n","Cordillera","Guair\xE1","Itap\xFAa","Misiones","Paraguar\xED","Presidente Hayes","San Pedro","\xD1eembuc\xFA"]},{name:"Peru",states:["Amazonas","Ancash","Apur\xEDmac","Arequipa","Ayacucho","Cajamarca","Cusco","El Callao","Huancavelica","Hu\xE1nuco","Ica","Jun\xEDn","La Libertad","Lambayeque","Lima","Loreto","Madre de Dios","Moquegua","Municipalidad Metropolitana de Lima","Pasco","Piura","Puno","San Mart\xEDn","Tacna","Tumbes","Ucayali"]},{name:"Philippines",states:["Autonomous Region in Muslim Mindanao","Bicol","Cagayan Valley","Calabarzon","Caraga","Central Luzon","Central Visayas","Cordillera Administrative Region","Davao","Eastern Visayas","Ilocos","Mimaropa","National Capital Region","Northern Mindanao","Soccsksargen","Western Visayas","Zamboanga Peninsula"]},{name:"Pitcairn Islands",states:["Pitcairn Islands"]},{name:"Poland",states:["Dolno\u015Bl\u0105skie","Kujawsko-pomorskie","Lubelskie","Lubuskie","Mazowieckie","Ma\u0142opolskie","Opolskie","Podkarpackie","Podlaskie","Pomorskie","Warmi\u0144sko-mazurskie","Wielkopolskie","Zachodniopomorskie","\u0141\xF3dzkie","\u015Al\u0105skie","\u015Awi\u0119tokrzyskie"]},{name:"Portugal",states:["Aveiro","Beja","Braga","Bragan\xE7a","Castelo Branco","Coimbra","Faro","Guarda","Leiria","Lisboa","Portalegre","Porto","Regi\xE3o Aut\xF3noma da Madeira","Regi\xE3o Aut\xF3noma dos A\xE7ores","Santar\xE9m","Set\xFAbal","Viana do Castelo","Vila Real","Viseu","\xC9vora"]},{name:"Puerto Rico",states:["Puerto Rico"]},{name:"Qatar",states:["Ad Daw\u1E29ah","Al Khawr wa adh Dhakh\u012Brah","Al Wakrah","Ar Rayy\u0101n","Ash Sham\u0101l","Az\u0327 Za\u0327`\u0101yin","Umm \u015Eal\u0101l"]},{name:"Republic of Kosovo",states:["Republic of Kosovo"]},{name:"R\xE9union",states:["R\xE9union"]},{name:"Romania",states:["Alba","Arad","Arge\u0219","Bac\u0103u","Bihor","Bistri\u021Ba-N\u0103s\u0103ud","Boto\u0219ani","Bra\u0219ov","Br\u0103ila","Bucure\u0219ti","Buz\u0103u","Cara\u0219-Severin","Cluj","Constan\u021Ba","Covasna","C\u0103l\u0103ra\u0219i","Dolj","D\xE2mbovi\u021Ba","Gala\u021Bi","Giurgiu","Gorj","Harghita","Hunedoara","Ialomi\u021Ba","Ia\u0219i","Ilfov","Maramure\u0219","Mehedin\u021Bi","Mure\u0219","Neam\u021B","Olt","Prahova","Satu Mare","Sibiu","Suceava","S\u0103laj","Teleorman","Timi\u0219","Tulcea","Vaslui","Vrancea","V\xE2lcea"]},{name:"Russia",states:["Amurskaya oblast'","Arkhangel'skaya oblast'","Astrakhanskaya oblast'","Belgorodskaya oblast'","Bryanskaya oblast'","Chelyabinskaya oblast'","Irkutskaya oblast'","Ivanovskaya oblast'","Kaliningradskaya oblast'","Kaluzhskaya oblast'","Kemerovskaya oblast'","Kirovskaya oblast'","Kostromskaya oblast'","Kurganskaya oblast'","Kurskaya oblast'","Leningradskaya oblast'","Lipetskaya oblast'","Magadanskaya oblast'","Moskovskaya oblast'","Murmanskaya oblast'","Nizhegorodskaya oblast'","Novgorodskaya oblast'","Novosibirskaya oblast'","Omskaya oblast'","Orenburgskaya oblast'","Orlovskaya oblast'","Penzenskaya oblast'","Pskovskaya oblast'","Rostovskaya oblast'","Ryazanskaya oblast'","Sakhalinskaya oblast'","Samarskaya oblast'","Saratovskaya oblast'","Smolenskaya oblast'","Sverdlovskaya oblast'","Tambovskaya oblast'","Tomskaya oblast'","Tul'skaya oblast'","Tverskaya oblast'","Tyumenskaya oblast'","Ul'yanovskaya oblast'","Vladimirskaya oblast'","Volgogradskaya oblast'","Vologodskaya oblast'","Voronezhskaya oblast'","Yaroslavskaya oblast'","Altayskiy kray","Kamchatskiy kray","Khabarovskiy kray","Krasnodarskiy kray","Krasnoyarskiy kray","Permskiy kray","Primorskiy kray","Stavropol'skiy kray","Zabaykal'skiy kray","Moskva","Sankt-Peterburg","Chukotskiy avtonomnyy okrug","Khanty-Mansiyskiy avtonomnyy okrug-Yugra","Nenetskiy avtonomnyy okrug","Yamalo-Nenetskiy avtonomnyy okrug","Yevreyskaya avtonomnaya oblast'","Adygeya, Respublika","Altay, Respublika","Bashkortostan, Respublika","Buryatiya, Respublika","Chechenskaya Respublika","Chuvashskaya Respublika","Dagestan, Respublika","Ingushetiya, Respublika","Kabardino-Balkarskaya Respublika","Kalmykiya, Respublika","Karachayevo-Cherkesskaya Respublika","Kareliya, Respublika","Khakasiya, Respublika","Komi, Respublika","Mariy El, Respublika","Mordoviya, Respublika","Sakha, Respublika","Severnaya Osetiya-Alaniya, Respublika","Tatarstan, Respublika","Tyva, Respublika","Udmurtskaya Respublika"]},{name:"Rwanda",states:["Est","Nord","Ouest","Sud","Ville de Kigali"]},{name:"Saint Barth\xE9lemy",states:["Saint Barth\xE9lemy"]},{name:"Saint Helena",states:["Ascension","Saint Helena","Tristan da Cunha"]},{name:"Saint Kitts and Nevis",states:["Nevis","Saint Kitts"]},{name:"Saint Lucia",states:["Anse la Raye","Castries","Choiseul","Dauphin","Dennery","Gros Islet","Laborie","Micoud","Praslin","Soufri\xE8re","Vieux Fort"]},{name:"Saint Martin",states:["Saint Martin"]},{name:"Saint Pierre and Miquelon",states:["Saint Pierre and Miquelon"]},{name:"Saint Vincent and the Grenadines",states:["Charlotte","Grenadines","Saint Andrew","Saint David","Saint George","Saint Patrick"]},{name:"Samoa",states:["A'ana","Aiga-i-le-Tai","Atua","Fa'asaleleaga","Gaga'emauga","Gagaifomauga","Palauli","Satupa'itea","Tuamasaga","Va'a-o-Fonoti","Vaisigano"]},{name:"San Marino",states:["Acquaviva","Borgo Maggiore","Chiesanuova","Domagnano","Faetano","Fiorentino","Montegiardino","San Marino","Serravalle"]},{name:"S\xE3o Tom\xE9 and Pr\xEDncipe",states:["Pr\xEDncipe","S\xE3o Tom\xE9"]},{name:"Saudi Arabia",states:["Al B\u0101\u1E29ah","Al Jawf","Al Mad\u012Bnah","Al Qa\u015F\u012Bm","Al \u1E28ud\u016Bd ash Sham\u0101l\u012Byah","Ar Riy\u0101\u1E11","Ash Sharq\u012Byah","J\u012Bz\u0101n","Makkah","Najr\u0101n","Tab\u016Bk","\u0670\u0100s\u012Br","\u1E28\u0101'il"]},{name:"Senegal",states:["Dakar","Diourbel","Fatick","Kaffrine","Kaolack","Kolda","K\xE9dougou","Louga","Matam","Saint-Louis","S\xE9dhiou","Tambacounda","Thi\xE8s","Ziguinchor"]},{name:"Serbia",states:["Kosovo-Metohija","Vojvodina"]},{name:"Seychelles",states:["Anse Boileau","Anse Etoile","Anse Royale","Anse aux Pins","Au Cap","Baie Lazare","Baie Sainte Anne","Beau Vallon","Bel Air","Bel Ombre","Cascade","English River","Glacis","Grand Anse Mahe","Grand Anse Praslin","La Digue","Les Mamelles","Mont Buxton","Mont Fleuri","Plaisance","Pointe Larue","Port Glaud","Roche Caiman","Saint Louis","Takamaka"]},{name:"Sierra Leone",states:["Eastern","Northern","Southern","Western Area"]},{name:"Singapore",states:["Central Singapore","North East","North West","South East","South West"]},{name:"Sint Maarten",states:["Sint Maarten"]},{name:"Slovakia",states:["Banskobystrick\xFD kraj","Bratislavsk\xFD kraj","Ko\u0161ick\xFD kraj","Nitriansky kraj","Pre\u0161ovsk\xFD kraj","Tren\u010Diansky kraj","Trnavsk\xFD kraj","\u017Dilinsk\xFD kraj"]},{name:"Slovenia",states:["Ajdov\u0161\u010Dina","Apa\u010De","Beltinci","Benedikt","Bistrica ob Sotli","Bled","Bloke","Bohinj","Borovnica","Bovec","Braslov\u010De","Brda","Brezovica","Bre\u017Eice","Cankova","Celje","Cerklje na Gorenjskem","Cerknica","Cerkno","Cerkvenjak","Cirkulane","Destrnik","Diva\u010Da","Dobje","Dobrepolje","Dobrna","Dobrova\u2013Polhov Gradec","Dobrovnik","Dol pri Ljubljani","Dolenjske Toplice","Dom\u017Eale","Dornava","Dravograd","Duplek","Gorenja vas\u2013Poljane","Gori\u0161nica","Gorje","Gornja Radgona","Gornji Grad","Gornji Petrovci","Grad","Grosuplje","Hajdina","Hodo\u0161","Horjul","Ho\u010De\u2013Slivnica","Hrastnik","Hrpelje-Kozina","Idrija","Ig","Ilirska Bistrica","Ivan\u010Dna Gorica","Izola","Jesenice","Jezersko","Jur\u0161inci","Kamnik","Kanal","Kidri\u010Devo","Kobarid","Kobilje","Komen","Komenda","Koper","Kosanjevica na Krki","Kostel","Kozje","Ko\u010Devje","Kranj","Kranjska Gora","Kri\u017Eevci","Kr\u0161ko","Kungota","Kuzma","La\u0161ko","Lenart","Lendava","Litija","Ljubljana","Ljubno","Ljutomer","Log-Dragomer","Logatec","Lovrenc na Pohorju","Lo\u0161ka Dolina","Lo\u0161ki Potok","Lukovica","Lu\u010De","Maj\u0161perk","Makole","Maribor","Markovci","Medvode","Menge\u0161","Metlika","Me\u017Eica","Miklav\u017E na Dravskem Polju","Miren\u2013Kostanjevica","Mirna Pe\u010D","Mislinja","Mokronog\u2013Trebelno","Moravske Toplice","Morav\u010De","Mozirje","Murska Sobota","Muta","Naklo","Nazarje","Nova Gorica","Novo Mesto","Odranci","Oplotnica","Ormo\u017E","Osilnica","Pesnica","Piran","Pivka","Podlehnik","Podvelka","Pod\u010Detrtek","Polj\u010Dane","Polzela","Postojna","Prebold","Preddvor","Prevalje","Ptuj","Puconci","Radenci","Rade\u010De","Radlje ob Dravi","Radovljica","Ravne na Koro\u0161kem","Razkri\u017Eje","Ra\u010De\u2013Fram","Ren\u010De-Vogrsko","Re\u010Dica ob Savinji","Ribnica","Ribnica na Pohorju","Rogatec","Roga\u0161ka Slatina","Roga\u0161ovci","Ru\u0161e","Selnica ob Dravi","Semi\u010D","Sevnica","Se\u017Eana","Slovenj Gradec","Slovenska Bistrica","Slovenske Konjice","Sodra\u017Eica","Sol\u010Dava","Sredi\u0161\u010De ob Dravi","Star\u0161e","Stra\u017Ea","Sveta Ana","Sveta Trojica v Slovenskih Goricah","Sveti Andra\u017E v Slovenskih Goricah","Sveti Jurij","Sveti Jurij v Slovenskih Goricah","Sveti Toma\u017E","Tabor","Ti\u0161ina","Tolmin","Trbovlje","Trebnje","Trnovska Vas","Trzin","Tr\u017Ei\u010D","Turni\u0161\u010De","Velenje","Velika Polana","Velike La\u0161\u010De","Ver\u017Eej","Videm","Vipava","Vitanje","Vodice","Vojnik","Vransko","Vrhnika","Vuzenica","Zagorje ob Savi","Zavr\u010D","Zre\u010De","\u010Cren\u0161ovci","\u010Crna na Koro\u0161kem","\u010Crnomelj","\u0160alovci","\u0160empeter\u2013Vrtojba","\u0160entilj","\u0160entjernej","\u0160entjur","\u0160entrupert","\u0160en\u010Dur","\u0160kocjan","\u0160kofja Loka","\u0160kofljica","\u0160marje pri Jel\u0161ah","\u0160marje\u0161ke Toplice","\u0160martno ob Paki","\u0160martno pri Litiji","\u0160o\u0161tanj","\u0160tore","\u017Dalec","\u017Delezniki","\u017Detale","\u017Diri","\u017Dirovnica","\u017Du\u017Eemberk"]},{name:"Solomon Islands",states:["Capital Territory","Central","Choiseul","Guadalcanal","Isabel","Makira-Ulawa","Malaita","Rennell and Bellona","Temotu","Western"]},{name:"Somalia",states:["Awdal","Bakool","Banaadir","Bari","Bay","Galguduud","Gedo","Hiiraan","Jubbada Dhexe","Jubbada Hoose","Mudug","Nugaal","Sanaag","Shabeellaha Dhexe","Shabeellaha Hoose","Sool","Togdheer","Woqooyi Galbeed"]},{name:"South Africa",states:["Eastern Cape","Free State","Gauteng","KwaZulu-Natal","Limpopo","Mpumalanga","North West","Northern Cape","Western Cape"]},{name:"South Georgia",states:["South Georgia"]},{name:"South Korea",states:["Busan-gwangyeoksi","Chungcheongbuk-do","Chungcheongnam-do","Daegu-gwangyeoksi","Daejeon-gwangyeoksi","Gangwon-do","Gwangju-gwangyeoksi","Gyeonggi-do","Gyeongsangbuk-do","Gyeongsangnam-do","Incheon-gwangyeoksi","Jeju-teukbyeoljachido","Jeollabuk-do","Jeollanam-do","Sejong","Seoul-teukbyeolsi","Ulsan-gwangyeoksi"]},{name:"South Sudan",states:["Central Equatoria","Eastern Equatoria","Jonglei","Lakes","Northern Bahr el Ghazal","Unity","Upper Nile","Warrap","Western Bahr el Ghazal","Western Equatoria"]},{name:"Spain",states:["A Coru\xF1a","Albacete","Alicante","Almer\xEDa","Asturias","Badajoz","Balears","Barcelona","Burgos","Cantabria","Castell\xF3n","Ciudad Real","Cuenca","C\xE1ceres","C\xE1diz","C\xF3rdoba","Girona","Granada","Guadalajara","Guip\xFAzcoa","Huelva","Huesca","Ja\xE9n","La Rioja","Las Palmas","Le\xF3n","Lleida","Lugo","Madrid","Murcia","M\xE1laga","Navarra","Ourense","Palencia","Pontevedra","Salamanca","Santa Cruz de Tenerife","Segovia","Sevilla","Soria","Tarragona","Teruel","Toledo","Valencia","Valladolid","Vizcaya","Zamora","Zaragoza","\xC1lava","\xC1vila","Ceuta","Melilla","Andaluc\xEDa","Arag\xF3n","Asturias, Principado de","Canarias","Cantabria","Castilla y Le\xF3n","Castilla-La Mancha","Catalunya","Extremadura","Galicia","Illes Balears","La Rioja","Madrid, Comunidad de","Murcia, Regi\xF3n de","Navarra, Comunidad Foral de","Pa\xEDs Vasco","Valenciana, Comunidad"]},{name:"Sri Lanka",states:["Central Province","Eastern Province","North Central Province","North Western Province","Northern Province","Sabaragamuwa Province","Southern Province","Uva Province","Western Province"]},{name:"Sudan",states:["Al Ba\u1E29r al A\u1E29mar","Al Jaz\u012Brah","Al Khar\u0163\u016Bm","Al Qa\u1E11\u0101rif","An N\u012Bl","An N\u012Bl al Abya\u1E11","An N\u012Bl al Azraq","Ash Sham\u0101l\u012Byah","Gharb D\u0101rf\u016Br","Jan\u016Bb D\u0101rf\u016Br","Jan\u016Bb Kurduf\u0101n","Kassal\u0101","Sham\u0101l D\u0101rf\u016Br","Sham\u0101l Kurduf\u0101n","Sharq D\u0101rf\u016Br","Sinn\u0101r","Zalingei"]},{name:"Suriname",states:["Brokopondo","Commewijne","Coronie","Marowijne","Nickerie","Para","Paramaribo","Saramacca","Sipaliwini","Wanica"]},{name:"Svalbard and Jan Mayen",states:["Svalbard and Jan Mayen"]},{name:"Swaziland",states:["Hhohho","Lubombo","Manzini","Shiselweni"]},{name:"Sweden",states:["Blekinge l\xE4n","Dalarnas l\xE4n","Gotlands l\xE4n","G\xE4vleborgs l\xE4n","Hallands l\xE4n","J\xE4mtlands l\xE4n","J\xF6nk\xF6pings l\xE4n","Kalmar l\xE4n","Kronobergs l\xE4n","Norrbottens l\xE4n","Sk\xE5ne l\xE4n","Stockholms l\xE4n","S\xF6dermanlands l\xE4n","Uppsala l\xE4n","V\xE4rmlands l\xE4n","V\xE4sterbottens l\xE4n","V\xE4sternorrlands l\xE4n","V\xE4stmanlands l\xE4n","V\xE4stra G\xF6talands l\xE4n","\xD6rebro l\xE4n","\xD6sterg\xF6tlands l\xE4n"]},{name:"Switzerland",states:["Aargau","Appenzell Ausserrhoden","Appenzell Innerrhoden","Basel-Landschaft","Basel-Stadt","Bern","Fribourg","Gen\xE8ve","Glarus","Graub\xFCnden","Jura","Luzern","Neuch\xE2tel","Nidwalden","Obwalden","Sankt Gallen","Schaffhausen","Schwyz","Solothurn","Thurgau","Ticino","Uri","Valais","Vaud","Zug","Z\xFCrich"]},{name:"Syria",states:["Al L\u0101dhiq\u012Byah","Al Qunay\u0163irah","Al \u1E28asakah","Ar Raqqah","As Suwayd\u0101'","Dar\u0670\u0101","Dayr az Zawr","Dimashq","Idlib","R\u012Bf Dimashq","\u0162ar\u0163\u016Bs","\u1E28alab","\u1E28am\u0101h","\u1E28im\u015F"]},{name:"Taiwan",states:["Changhua","Chiayi","Chiayi","Hsinchu","Hsinchu","Hualien","Ilan","Kaohsiung","Kaohsiung","Keelung","Miaoli","Nantou","Penghu","Pingtung","Taichung","Taichung","Tainan","Tainan","Taipei","Taipei","Taitung","Taoyuan","Yunlin"]},{name:"Tajikistan",states:["Dushanbe","Khatlon","K\u016Dhistoni Badakhshon","Sughd"]},{name:"Tanzania",states:["Arusha","Dar es Salaam","Dodoma","Iringa","Kagera","Kaskazini Pemba","Kaskazini Unguja","Kigoma","Kilimanjaro","Kusini Pemba","Kusini Unguja","Lindi","Manyara","Mara","Mbeya","Mjini Magharibi","Morogoro","Mtwara","Mwanza","Pwani","Rukwa","Ruvuma","Shinyanga","Singida","Tabora","Tanga"]},{name:"Thailand",states:["Amnat Charoen","Ang Thong","Bueng Kan","Buri Ram","Chachoengsao","Chai Nat","Chaiyaphum","Chanthaburi","Chiang Mai","Chiang Rai","Chon Buri","Chumphon","Kalasin","Kamphaeng Phet","Kanchanaburi","Khon Kaen","Krabi","Krung Thep Maha Nakhon","Lampang","Lamphun","Loei","Lop Buri","Mae Hong Son","Maha Sarakham","Mukdahan","Nakhon Nayok","Nakhon Pathom","Nakhon Phanom","Nakhon Ratchasima","Nakhon Sawan","Nakhon Si Thammarat","Nan","Narathiwat","Nong Bua Lam Phu","Nong Khai","Nonthaburi","Pathum Thani","Pattani","Phangnga","Phatthalung","Phatthaya","Phayao","Phetchabun","Phetchaburi","Phichit","Phitsanulok","Phra Nakhon Si Ayutthaya","Phrae","Phuket","Prachin Buri","Prachuap Khiri Khan","Ranong","Ratchaburi","Rayong","Roi Et","Sa Kaeo","Sakon Nakhon","Samut Prakan","Samut Sakhon","Samut Songkhram","Saraburi","Satun","Si Sa Ket","Sing Buri","Songkhla","Sukhothai","Suphan Buri","Surat Thani","Surin","Tak","Trang","Trat","Ubon Ratchathani","Udon Thani","Uthai Thani","Uttaradit","Yala","Yasothon"]},{name:"East Timor",states:["Aileu","Ainaro","Baucau","Bobonaro","Cova Lima","D\xEDli","Ermera","Lautem","Liqui\xE7a","Manatuto","Manufahi","Oecussi","Viqueque"]},{name:"Togo",states:["Centre","Kara","Maritime","Plateaux","Savannes"]},{name:"Tokelau",states:["Tokelau"]},{name:"Tonga",states:["'Eua","Ha'apai","Niuas","Tongatapu","Vava'u"]},{name:"Trinidad and Tobago",states:["Arima","Chaguanas","Couva-Tabaquite-Talparo","Diego Martin","Eastern Tobago","Penal-Debe","Point Fortin","Port of Spain","Princes Town","Rio Claro-Mayaro","San Fernando","San Juan-Laventille","Sangre Grande","Siparia","Tunapuna-Piarco","Western Tobago"]},{name:"Tunisia",states:["Ariana","Ben Arous","Bizerte","B\xE9ja","Gab\xE8s","Gafsa","Jendouba","Kairouan","Kasserine","Kebili","La Manouba","Le Kef","Mahdia","Medenine","Monastir","Nabeul","Sfax","Sidi Bouzid","Siliana","Sousse","Tataouine","Tozeur","Tunis","Zaghouan"]},{name:"Turkey",states:["Adana","Ad\u0131yaman","Afyonkarahisar","Aksaray","Amasya","Ankara","Antalya","Ardahan","Artvin","Ayd\u0131n","A\u011Fr\u0131","Bal\u0131kesir","Bart\u0131n","Batman","Bayburt","Bilecik","Bing\xF6l","Bitlis","Bolu","Burdur","Bursa","Denizli","Diyarbak\u0131r","D\xFCzce","Edirne","Elaz\u0131\u011F","Erzincan","Erzurum","Eski\u015Fehir","Gaziantep","Giresun","G\xFCm\xFC\u015Fhane","Hakk\xE2ri","Hatay","Isparta","I\u011Fd\u0131r","Kahramanmara\u015F","Karab\xFCk","Karaman","Kars","Kastamonu","Kayseri","Kilis","Kocaeli","Konya","K\xFCtahya","K\u0131rklareli","K\u0131r\u0131kkale","K\u0131r\u015Fehir","Malatya","Manisa","Mardin","Mersin","Mu\u011Fla","Mu\u015F","Nev\u015Fehir","Ni\u011Fde","Ordu","Osmaniye","Rize","Sakarya","Samsun","Siirt","Sinop","Sivas","Tekirda\u011F","Tokat","Trabzon","Tunceli","U\u015Fak","Van","Yalova","Yozgat","Zonguldak","\xC7anakkale","\xC7ank\u0131r\u0131","\xC7orum","\u0130stanbul","\u0130zmir","\u015Eanl\u0131urfa","\u015E\u0131rnak"]},{name:"Turkmenistan",states:["Ahal","A\u015Fgabat","Balkan","Da\u015Foguz","Lebap","Mary"]},{name:"Turks and Caicos Islands",states:["Turks and Caicos Islands"]},{name:"Tuvalu",states:["Funafuti","Nanumanga","Nanumea","Niutao","Nui","Nukufetau","Nukulaelae","Vaitupu"]},{name:"Uganda",states:["Central","Eastern","Northern","Western"]},{name:"Ukraine",states:["Avtonomna Respublika Krym","Cherkas'ka Oblast'","Chernihivs'ka Oblast'","Chernivets'ka Oblast'","Dnipropetrovs'ka Oblast'","Donets'ka Oblast'","Ivano-Frankivs'ka Oblast'","Kharkivs'ka Oblast'","Khersons'ka Oblast'","Khmel'nyts'ka Oblast'","Kirovohrads'ka Oblast'","Ky\xEFv","Ky\xEFvs'ka Oblast'","L'vivs'ka Oblast'","Luhans'ka Oblast'","Mykola\xEFvs'ka Oblast'","Odes'ka Oblast'","Poltavs'ka Oblast'","Rivnens'ka Oblast'","Sevastopol'","Sums'ka Oblast'","Ternopil's'ka Oblast'","Vinnyts'ka Oblast'","Volyns'ka Oblast'","Zakarpats'ka Oblast'","Zaporiz'ka Oblast'","Zhytomyrs'ka Oblast'"]},{name:"United Arab Emirates",states:["'Ajm\u0101n","Ab\u016B Z\u0327aby","Al Fujayrah","Ash Sh\u0101riqah","Dubayy","Ra's al Khaymah","Umm al Qaywayn"]},{name:"United Kingdom",states:["Barking and Dagenham","Barnet","Bexley","Brent","Bromley","Camden","Croydon","Ealing","Enfield","Greenwich","Hackney","Hammersmith and Fulham","Haringey","Harrow","Havering","Hillingdon","Hounslow","Islington","Kensington and Chelsea","Kingston upon Thames","Lambeth","Lewisham","Merton","Newham","Redbridge","Richmond upon Thames","Southwark","Sutton","Tower Hamlets","Waltham Forest","Wandsworth","Westminster","England and Wales","Great Britain","United Kingdom","London, City of","Aberdeen City","Aberdeenshire","Angus","Argyll and Bute","Clackmannanshire","Dumfries and Galloway","Dundee City","East Ayrshire","East Dunbartonshire","East Lothian","East Renfrewshire","Edinburgh, City of","Eilean Siar","Falkirk","Fife","Glasgow City","Highland","Inverclyde","Midlothian","Moray","North Ayrshire","North Lanarkshire","Orkney Islands","Perth and Kinross","Renfrewshire","Scottish Borders, The","Shetland Islands","South Ayrshire","South Lanarkshire","Stirling","West Dunbartonshire","West Lothian","England","Scotland","Wales","Antrim","Ards","Armagh","Ballymena","Ballymoney","Banbridge","Belfast","Carrickfergus","Castlereagh","Coleraine","Cookstown","Craigavon","Derry","Down","Dungannon and South Tyrone","Fermanagh","Larne","Limavady","Lisburn","Magherafelt","Moyle","Newry and Mourne District","Newtownabbey","North Down","Omagh","Strabane","Barnsley","Birmingham","Bolton","Bradford","Bury","Calderdale","Coventry","Doncaster","Dudley","Gateshead","Kirklees","Knowsley","Leeds","Liverpool","Manchester","Newcastle upon Tyne","North Tyneside","Oldham","Rochdale","Rotherham","Salford","Sandwell","Sefton","Sheffield","Solihull","South Tyneside","St. Helens","Stockport","Sunderland","Tameside","Trafford","Wakefield","Walsall","Wigan","Wirral","Wolverhampton","Northern Ireland","Buckinghamshire","Cambridgeshire","Cumbria","Derbyshire","Devon","Dorset","East Sussex","Essex","Gloucestershire","Hampshire","Hertfordshire","Kent","Lancashire","Leicestershire","Lincolnshire","Norfolk","North Yorkshire","Northamptonshire","Nottinghamshire","Oxfordshire","Somerset","Staffordshire","Suffolk","Surrey","Warwickshire","West Sussex","Worcestershire","Bath and North East Somerset","Bedford","Blackburn with Darwen","Blackpool","Blaenau Gwent","Bournemouth","Bracknell Forest","Bridgend","Brighton and Hove","Bristol, City of","Caerphilly","Cardiff","Carmarthenshire","Central Bedfordshire","Ceredigion","Cheshire East","Cheshire West and Chester","Conwy","Cornwall","Darlington","Denbighshire","Derby","Durham, County","East Riding of Yorkshire","Flintshire","Gwynedd","Halton","Hartlepool","Herefordshire","Isle of Anglesey","Isle of Wight","Isles of Scilly","Kingston upon Hull","Leicester","Luton","Medway","Merthyr Tydfil","Middlesbrough","Milton Keynes","Monmouthshire","Neath Port Talbot","Newport","North East Lincolnshire","North Lincolnshire","North Somerset","Northumberland","Nottingham","Pembrokeshire","Peterborough","Plymouth","Poole","Portsmouth","Powys","Reading","Redcar and Cleveland","Rhondda, Cynon, Taff","Rutland","Shropshire","Slough","South Gloucestershire","Southampton","Southend-on-Sea","Stockton-on-Tees","Stoke-on-Trent","Swansea","Swindon","Telford and Wrekin","Thurrock","Torbay","Torfaen","Vale of Glamorgan, The","Warrington","West Berkshire","Wiltshire","Windsor and Maidenhead","Wokingham","Wrexham","York"]},{name:"United States",states:["District of Columbia","American Samoa","Guam","Northern Mariana Islands","Puerto Rico","United States Minor Outlying Islands","Virgin Islands, U.S.","Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]},{name:"Uruguay",states:["Artigas","Canelones","Cerro Largo","Colonia","Durazno","Flores","Florida","Lavalleja","Maldonado","Montevideo","Paysand\xFA","Rivera","Rocha","R\xEDo Negro","Salto","San Jos\xE9","Soriano","Tacuaremb\xF3","Treinta y Tres"]},{name:"Uzbekistan",states:["Andijon","Buxoro","Farg\u2018ona","Jizzax","Namangan","Navoiy","Qashqadaryo","Qoraqalpog\u2018iston Respublikasi","Samarqand","Sirdaryo","Surxondaryo","Toshkent","Toshkent","Xorazm"]},{name:"Vanuatu",states:["Malampa","P\xE9nama","Sanma","Sh\xE9fa","Taf\xE9a","Torba"]},{name:"Venezuela",states:["Amazonas","Anzo\xE1tegui","Apure","Aragua","Barinas","Bol\xEDvar","Carabobo","Cojedes","Delta Amacuro","Dependencias Federales","Distrito Capital","Falc\xF3n","Gu\xE1rico","Lara","Miranda","Monagas","M\xE9rida","Nueva Esparta","Portuguesa","Sucre","Trujillo","T\xE1chira","Vargas","Yaracuy","Zulia"]},{name:"Vietnam",states:["An Giang","B\xE0 R\u1ECBa\u2013V\u0169ng T\xE0u","B\xECnh D\u01B0\u01A1ng","B\xECnh Ph\u01B0\u1EDBc","B\xECnh Thu\u1EADn","B\xECnh \u0110\u1ECBnh","B\u1EA1c Li\xEAu","B\u1EAFc Giang","B\u1EAFc K\u1EA1n","B\u1EAFc Ninh","B\u1EBFn Tre","Cao B\u1EB1ng","C\xE0 Mau","C\u1EA7n Th\u01A1","Gia Lai","H\xE0 Giang","H\xE0 Nam","H\xE0 N\u1ED9i","H\xE0 T\xE2y","H\xE0 T\u0129nh","H\xF2a B\xECnh","H\u01B0ng Y\xEAn","H\u1EA3i D\u01B0\u01A1ng","H\u1EA3i Ph\xF2ng","H\u1EADu Giang","H\u1ED3 Ch\xED Minh","Kh\xE1nh H\xF2a","Ki\xEAn Giang","Kon Tum","Lai Ch\xE2u","Long An","L\xE0o Cai","L\xE2m \u0110\u1ED3ng","L\u1EA1ng S\u01A1n","Nam \u0110\u1ECBnh","Ngh\u1EC7 An","Ninh B\xECnh","Ninh Thu\u1EADn","Ph\xFA Th\u1ECD","Ph\xFA Y\xEAn","Qu\u1EA3ng B\xECnh","Qu\u1EA3ng Nam","Qu\u1EA3ng Ng\xE3i","Qu\u1EA3ng Ninh","Qu\u1EA3ng Tr\u1ECB","S\xF3c Tr\u0103ng","S\u01A1n La","Thanh H\xF3a","Th\xE1i B\xECnh","Th\xE1i Nguy\xEAn","Th\u1EEBa Thi\xEAn\u2013Hu\u1EBF","Ti\u1EC1n Giang","Tr\xE0 Vinh","Tuy\xEAn Quang","T\xE2y Ninh","V\u0129nh Long","V\u0129nh Ph\xFAc","Y\xEAn B\xE1i","\u0110i\u1EC7n Bi\xEAn","\u0110\xE0 N\u1EB5ng","\u0110\u1EAFk L\u1EAFk","\u0110\u1EAFk N\xF4ng","\u0110\u1ED3ng Nai","\u0110\u1ED3ng Th\xE1p"]},{name:"Wallis and Futuna",states:["Wallis and Futuna"]},{name:"Western Sahara",states:["Western Sahara"]},{name:"Yemen",states:["'Adan","'Amr\u0101n","Aby\u0101n","Al Bay\u1E11\u0101'","Al Jawf","Al Mahrah","Al Ma\u1E29w\u012Bt","Al \u1E28udaydah","A\u1E11 \u1E10\u0101li'","Dham\u0101r","Ibb","La\u1E29ij","Ma'rib","Raymah","Shabwah","T\u0101\u2018izz","\u015Ean\u2018\u0101'","\u015Ean\u2018\u0101'","\u015E\u0101\u2018dah","\u1E28ajjah","\u1E28a\u1E11ramawt"]},{name:"Zambia",states:["Central","Copperbelt","Eastern","Luapula","Lusaka","North-Western","Northern","Southern","Western"]},{name:"Zimbabwe",states:["Bulawayo","Harare","Manicaland","Mashonaland Central","Mashonaland East","Mashonaland West","Masvingo","Matabeleland North","Matabeleland South","Midlands"]}];function Nte(n,e){if(n&1&&(qr(0),O(1,"option",10),U(2),A(),Gr()),n&2){let t=e.$implicit,i=e.index;ee(),In("value",i),ee(),et(t.name)}}function Lte(n,e){if(n&1&&(qr(0),O(1,"option",10),U(2),A(),Gr()),n&2){let t=e.index,i=Re(2);ee(),In("value",t),ee(),et(i.Paises[i.campos[0]].states[t])}}function Fte(n,e){if(n&1){let t=Ut();O(0,"div",11)(1,"label",12),U(2,"Provincia "),A(),O(3,"span",3),U(4),A(),O(5,"select",4),ve("change",function(){Pe(t);let r=Re();return De(r.sendDatosDom())}),Je("ngModelChange",function(r){Pe(t);let o=Re();return Qe(o.campos[1],r)||(o.campos[1]=r),De(r)}),O(6,"option",5),U(7,"Seleccione su Provincia"),A(),_t(8,Lte,3,2,"ng-container",6),A(),Ce(9,"span",7),A()}if(n&2){let t=Re();ee(4),et(t.alertasDom[1]),ee(),Xe("ngModel",t.campos[1]),ee(3),fe("ngForOf",t.Paises[t.campos[0]].states)}}function Bte(n,e){if(n&1){let t=Ut();O(0,"div",0)(1,"div",1)(2,"label"),U(3,"Ciudad "),A(),Ce(4,"br"),O(5,"span",3),U(6),A(),O(7,"input",13),ve("change",function(){Pe(t);let r=Re();return De(r.sendDatosDom())}),Je("ngModelChange",function(r){Pe(t);let o=Re();return Qe(o.campos[2],r)||(o.campos[2]=r),De(r)}),A(),Ce(8,"span",7),A(),O(9,"div",14)(10,"label"),U(11,"Codigo postal "),A(),Ce(12,"br"),O(13,"span",3),U(14),A(),O(15,"input",15),ve("change",function(){Pe(t);let r=Re();return De(r.sendDatosDom())}),Je("ngModelChange",function(r){Pe(t);let o=Re();return Qe(o.campos[3],r)||(o.campos[3]=r),De(r)}),A(),Ce(16,"span",7),A(),O(17,"div",11)(18,"label"),U(19,"Domicilio completo "),A(),Ce(20,"br"),O(21,"span",3),U(22),A(),O(23,"input",16),ve("change",function(){Pe(t);let r=Re();return De(r.sendDatosDom())}),Je("ngModelChange",function(r){Pe(t);let o=Re();return Qe(o.campos[4],r)||(o.campos[4]=r),De(r)}),A(),Ce(24,"span",7),A()()}if(n&2){let t=Re();ee(6),et(t.alertasDom[2]),ee(),Xe("ngModel",t.campos[2]),ee(7),et(t.alertasDom[3]),ee(),Xe("ngModel",t.campos[3]),ee(7),et(t.alertasDom[4]),ee(),Xe("ngModel",t.campos[4])}}var fN=(()=>{class n{Paises=wh;campos=[1e3,1e3,"","",""];alertasDom=[];messageEvent=new tn;ngOnInit(){this.sendDatosDom()}sendDatosDom(){this.messageEvent.emit(this.campos)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Lt({type:n,selectors:[["app-datos-domicilio"]],inputs:{alertasDom:"alertasDom"},outputs:{messageEvent:"messageEvent"},standalone:!0,features:[Ht],decls:15,vars:5,consts:[[1,"acceso",2,"margin-bottom","2%"],[1,"col-3",2,"margin-right","2%"],["for","pais"],[1,"msg"],[1,"effect-1",3,"change","ngModelChange","ngModel"],["value","1000","selected","","hidden",""],[4,"ngFor","ngForOf"],[1,"focus-border"],["class","col-3",4,"ngIf"],["class","acceso","style","margin-bottom: 2%;",4,"ngIf"],["selected","",3,"value"],[1,"col-3"],["for","state"],["type","text","placeholder","Ej: Rosario",1,"effect-1",3,"change","ngModelChange","ngModel"],[1,"col-3",2,"margin-right","2%","width","10rem"],["type","text","placeholder","Ej: 2000",1,"effect-1",3,"change","ngModelChange","ngModel"],["type","text","placeholder","Ej: SAN MARTIN 3058 Dtp 1\xBA B",1,"effect-1",3,"change","ngModelChange","ngModel"]],template:function(i,r){i&1&&(O(0,"h1"),U(1,"Domicilio"),A(),O(2,"div",0)(3,"div",1)(4,"label",2),U(5,"Pais "),A(),O(6,"span",3),U(7),A(),O(8,"select",4),ve("change",function(){return r.sendDatosDom()}),Je("ngModelChange",function(s){return Qe(r.campos[0],s)||(r.campos[0]=s),s}),O(9,"option",5),U(10,"Seleccione su pais"),A(),_t(11,Nte,3,2,"ng-container",6),A(),Ce(12,"span",7),A(),_t(13,Fte,10,3,"div",8),A(),_t(14,Bte,25,6,"div",9)),i&2&&(ee(7),et(r.alertasDom[0]),ee(),Xe("ngModel",r.campos[0]),ee(3),fe("ngForOf",r.Paises),ee(2),fe("ngIf",r.campos[0]!=1e3),ee(),fe("ngIf",r.campos[1]!=1e3))},dependencies:[Hn,Cr,kr,mi,ar,oi,ti,sn,Ti,Rn],styles:[".cuadro[_ngcontent-%COMP%]{font-size:large;text-align:center;width:15rem;align-content:center;height:2rem;background-color:var(--white)}@media (max-width: 560px){.cuadro[_ngcontent-%COMP%]{font-size:small}}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;height:3rem}i[_ngcontent-%COMP%]{height:3rem;text-align:center;display:flex;align-items:center;justify-content:center;width:10%;cursor:pointer}i[_ngcontent-%COMP%]:hover{background-color:#4e4e4e;transition:all .2s linear}.bgblack[_ngcontent-%COMP%]{background-color:var(--black);color:var(--white)}.bgwhite[_ngcontent-%COMP%]{background-color:var(--white);color:var(--black)}.col-3[_ngcontent-%COMP%]{width:50%}@media (max-width: 1000px){.col-3[_ngcontent-%COMP%]{width:100%}}h1[_ngcontent-%COMP%]{text-decoration:underline;color:var(--blue)}@media (max-width: 500px){h1[_ngcontent-%COMP%]{font-size:x-large}}.mitad[_ngcontent-%COMP%]{width:50%}.mitad[_ngcontent-%COMP%]   .col-3[_ngcontent-%COMP%]{width:100%}@media (max-width: 1000px){.mitad[_ngcontent-%COMP%]{width:100%}}.boton2[_ngcontent-%COMP%]:hover{background-color:var(--blue)}.linea[_ngcontent-%COMP%]{display:flex;margin-bottom:2%}@media (max-width: 1000px){.linea[_ngcontent-%COMP%]{flex-direction:column}}.acceso[_ngcontent-%COMP%]{display:flex}@media (max-width: 1000px){.acceso[_ngcontent-%COMP%]{flex-direction:column}}"]})}return n})();var u_=Qr(Eo());var mN=n=>({selected:n}),c_=n=>({oculto:n}),pN=(n,e)=>({"fa-eye-slash bgblack":n,"fa-eye bgwhite":e});function Vte(n,e){n&1&&(qr(0),U(1,"1 Datos Personales "),Gr())}function jte(n,e){n&1&&(qr(0),U(1,"1 Datos Empresa"),Gr())}function zte(n,e){n&1&&(qr(0),U(1,"2 Domicilio"),Gr())}function Ute(n,e){n&1&&(qr(0),U(1,"2 Direcci\xF3n Comercial"),Gr())}function Hte(n,e){if(n&1){let t=Ut();O(0,"app-datos-emp",28),ve("messageEvent",function(r){Pe(t);let o=Re();return De(o.handleMessage(r,"emp"))}),A()}if(n&2){let t=Re();fe("alertasEmp",t.alertasEmp)}}function Wte(n,e){if(n&1){let t=Ut();O(0,"app-datos-user",29),ve("messageEvent",function(r){Pe(t);let o=Re();return De(o.handleMessage(r,"user"))}),A()}if(n&2){let t=Re();fe("alertasUser",t.alertasUser)}}var gN=(()=>{class n{api;tipo;Paises=wh;mail1="";mail2="";pass1="";pass2="";camposA=[this.mail1,this.mail2,this.pass1,this.pass2];alertasA=[];camposEmp=[];alertasEmp=[];camposUser=[];alertasUser=[];camposDom=[];alertasDom=[];type="password";paso=1;flag1=!0;flag2=!0;constructor(t){this.api=t}handleMessage(t,i){switch(i){case"emp":this.camposEmp=t;break;case"user":this.camposUser=t;break;case"dom":this.camposDom=t;break}}verificar1(){this.flag1=!0;for(let t=0;t<this.camposA.length;t++)this.camposA[t]==""&&(this.flag1=!1),this.alertasA[t]=this.camposA[t]==""?"El campo es obligatorio":"";if(this.tipo=="emp")for(let t=0;t<this.camposEmp.length;t++)this.camposEmp[t]==""&&(this.flag1=!1),this.alertasEmp[t]=this.camposEmp[t]==""?"El campo es obligatorio":"";else for(let t=0;t<this.camposUser.length;t++)this.camposUser[t]==""&&(this.flag1=!1),this.alertasUser[t]=this.camposUser[t]==""?"El campo es obligatorio":"";this.camposA[0]!=this.camposA[1]&&(this.flag1=!1,this.alertasA[0]=this.alertasA[1]="Los E-mails no coinciden"),this.camposA[2]!=this.camposA[3]&&(this.flag1=!1,this.alertasA[2]=this.alertasA[3]="Las contrase\xF1as no coinciden"),this.paso=this.flag1?2:1}verificar2(){if(this.verificar1(),this.flag2=!0,this.camposDom[0]==1e3)this.alertasDom[0]="Seleccione un pais",this.flag2=!1;else if(this.camposDom[1]==1e3)this.alertasDom[1]="Seleccione una provincia",this.alertasDom[0]="",this.flag2=!1;else{this.alertasDom[1]="";for(let t=2;t<this.camposDom.length;t++)this.camposDom[t]==""&&(this.flag2=!1),this.alertasDom[t]=this.camposDom[t]==""?"Campo obligatorio":""}if(this.flag2){let t;switch(this.tipo){case"emp":t={persona_responsable:this.camposEmp[5],cuil_cuit:this.camposEmp[1],telefono:this.camposEmp[2],actividad:this.camposEmp[3],razon_social:this.camposEmp[4],nombre:this.camposEmp[0],como_encontro:this.camposEmp[6],mail:this.camposA[0],pass:this.camposA[2],pais:this.Paises[this.camposDom[0]].name,provincia:this.Paises[this.camposDom[0]].states[this.camposDom[1]],ciudad:this.camposDom[2],postal:this.camposDom[3],domicilio:this.camposDom[4],tipo:"emp"};break;case"user":t={nombre:this.camposUser[0],cuil_cuit:this.camposUser[1],telefono:this.camposUser[2],actividad:this.camposUser[3],como_encontro:this.camposUser[4],mail:this.camposA[0],pass:this.camposA[2],pais:this.Paises[this.camposDom[0]].name,provincia:this.Paises[this.camposDom[0]].states[this.camposDom[1]],ciudad:this.camposDom[2],postal:this.camposDom[3],domicilio:this.camposDom[4],tipo:"user"};break}this.api.crear(t).subscribe({next(i){i.ok?(window.location.href.includes("login")&&localStorage.setItem("token",i.token),u_.default.fire({title:"Revise su correo electronico",text:"Hemos enviado un mail de verificacion al correo: "+i.mail,confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}).then(()=>{window.location.href.includes("login")&&window.location.reload()})):u_.default.fire({title:i.msg,confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})},error(i){u_.default.fire({title:"Ocurrio un error",text:i.error.msg,confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}}mostrar(){this.type=this.type=="password"?"text":"password"}atras(){this.paso=1}static \u0275fac=function(i){return new(i||n)(ze(Un))};static \u0275cmp=Lt({type:n,selectors:[["app-datos-acceso"]],inputs:{tipo:"tipo"},standalone:!0,features:[Ht],decls:58,vars:43,consts:[[2,"margin-top","1rem","display","flex"],[1,"cuadro",2,"cursor","pointer",3,"click","ngClass"],[4,"ngIf"],[1,"triR",3,"ngClass"],[1,"triL",3,"ngClass"],[3,"ngClass"],[3,"alertasEmp","messageEvent",4,"ngIf"],[3,"alertasUser","messageEvent",4,"ngIf"],[1,"acceso"],[1,"mitad",2,"display","flex","flex-direction","column","margin-right","1%"],[1,"col-3",2,"margin-bottom","2%"],["for","mail"],[1,"msg"],["type","text","placeholder","E-mail",1,"effect-1",3,"ngModelChange","ngModel"],[1,"focus-border"],["for","mail2"],["type","text","placeholder","Repita el E-mail",1,"effect-1",3,"ngModelChange","ngModel"],[2,"border-right","1px solid rgb(255, 144, 0, 0.2)","width","0%","margin-right","1%"],[1,"mitad",2,"display","flex","flex-direction","column"],["for","password"],[2,"display","flex"],["placeholder","Contrase\xF1a",1,"effect-1",2,"width","90%",3,"ngModelChange","type","ngModel"],[1,"fa-solid",3,"click","ngClass"],["for","password2"],["placeholder","Repita la Contrase\xF1a",1,"effect-1",2,"width","90%",3,"ngModelChange","type","ngModel"],[2,"text-align","end"],[1,"boton","border","rounded","botones",3,"click"],[3,"messageEvent","alertasDom"],[3,"messageEvent","alertasEmp"],[3,"messageEvent","alertasUser"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"span",1),ve("click",function(){return r.atras()}),_t(2,Vte,2,0,"ng-container",2)(3,jte,2,0,"ng-container",2),A(),Ce(4,"span",3)(5,"span",4),O(6,"span",1),ve("click",function(){return r.verificar1()}),_t(7,zte,2,0,"ng-container",2)(8,Ute,2,0,"ng-container",2),A()(),O(9,"div",5),_t(10,Hte,1,1,"app-datos-emp",6)(11,Wte,1,1,"app-datos-user",7),O(12,"h1"),U(13,"Datos de acceso"),A(),O(14,"div",8)(15,"div",9)(16,"div",10)(17,"label",11),U(18,"E-mail "),A(),O(19,"span",12),U(20),A(),O(21,"input",13),Je("ngModelChange",function(s){return Qe(r.camposA[0],s)||(r.camposA[0]=s),s}),A(),Ce(22,"span",14),A(),O(23,"div",10)(24,"label",15),U(25,"Repita el E-mail "),A(),O(26,"span",12),U(27),A(),O(28,"input",16),Je("ngModelChange",function(s){return Qe(r.camposA[1],s)||(r.camposA[1]=s),s}),A(),Ce(29,"span",14),A()(),Ce(30,"div",17),O(31,"div",18)(32,"div",10)(33,"label",19),U(34,"Contrase\xF1a "),A(),O(35,"span",12),U(36),A(),O(37,"div",20)(38,"input",21),Je("ngModelChange",function(s){return Qe(r.camposA[2],s)||(r.camposA[2]=s),s}),A(),O(39,"i",22),ve("click",function(){return r.mostrar()}),A(),Ce(40,"span",14),A()(),O(41,"div",10)(42,"label",23),U(43,"Repita la Contrase\xF1a "),A(),O(44,"span",12),U(45),A(),O(46,"div",20)(47,"input",24),Je("ngModelChange",function(s){return Qe(r.camposA[3],s)||(r.camposA[3]=s),s}),A(),O(48,"i",22),ve("click",function(){return r.mostrar()}),A(),Ce(49,"span",14),A()()()(),O(50,"div",25)(51,"button",26),ve("click",function(){return r.verificar1()}),U(52,"Siguente"),A()()(),O(53,"div",5)(54,"app-datos-domicilio",27),ve("messageEvent",function(s){return r.handleMessage(s,"dom")}),A(),O(55,"div",25)(56,"button",26),ve("click",function(){return r.verificar2()}),U(57,"Siguente"),A()()()),i&2&&(ee(),fe("ngClass",ht(25,mN,r.paso==1)),ee(),fe("ngIf",r.tipo=="user"),ee(),fe("ngIf",r.tipo=="emp"),ee(),fe("ngClass",ht(27,c_,r.paso==2)),ee(),fe("ngClass",ht(29,c_,r.paso==1)),ee(),fe("ngClass",ht(31,mN,r.paso==2)),ee(),fe("ngIf",r.tipo=="user"),ee(),fe("ngIf",r.tipo=="emp"),ee(),fe("ngClass",ht(33,c_,r.paso==2)),ee(),fe("ngIf",r.tipo=="emp"),ee(),fe("ngIf",r.tipo=="user"),ee(9),et(r.alertasA[0]),ee(),Xe("ngModel",r.camposA[0]),ee(6),et(r.alertasA[1]),ee(),Xe("ngModel",r.camposA[1]),ee(8),et(r.alertasA[2]),ee(2),In("type",r.type),Xe("ngModel",r.camposA[2]),ee(),fe("ngClass",dn(35,pN,r.type=="password",r.type=="text")),ee(6),et(r.alertasA[3]),ee(2),In("type",r.type),Xe("ngModel",r.camposA[3]),ee(),fe("ngClass",dn(38,pN,r.type=="password",r.type=="text")),ee(5),fe("ngClass",ht(41,c_,r.paso==1)),ee(),fe("alertasDom",r.alertasDom))},dependencies:[Hn,mi,oi,ti,sn,Zn,Rn,hN,fN,dN],styles:[".cuadro[_ngcontent-%COMP%]{font-size:large;text-align:center;width:15rem;align-content:center;height:2rem;background-color:var(--white)}@media (max-width: 560px){.cuadro[_ngcontent-%COMP%]{font-size:small}}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;height:3rem}i[_ngcontent-%COMP%]{height:3rem;text-align:center;display:flex;align-items:center;justify-content:center;width:10%;cursor:pointer}i[_ngcontent-%COMP%]:hover{background-color:#4e4e4e;transition:all .2s linear}.bgblack[_ngcontent-%COMP%]{background-color:var(--black);color:var(--white)}.bgwhite[_ngcontent-%COMP%]{background-color:var(--white);color:var(--black)}.col-3[_ngcontent-%COMP%]{width:50%}@media (max-width: 1000px){.col-3[_ngcontent-%COMP%]{width:100%}}h1[_ngcontent-%COMP%]{text-decoration:underline;color:var(--blue)}@media (max-width: 500px){h1[_ngcontent-%COMP%]{font-size:x-large}}.mitad[_ngcontent-%COMP%]{width:50%}.mitad[_ngcontent-%COMP%]   .col-3[_ngcontent-%COMP%]{width:100%}@media (max-width: 1000px){.mitad[_ngcontent-%COMP%]{width:100%}}.boton2[_ngcontent-%COMP%]:hover{background-color:var(--blue)}.linea[_ngcontent-%COMP%]{display:flex;margin-bottom:2%}@media (max-width: 1000px){.linea[_ngcontent-%COMP%]{flex-direction:column}}.acceso[_ngcontent-%COMP%]{display:flex}@media (max-width: 1000px){.acceso[_ngcontent-%COMP%]{flex-direction:column}}"]})}return n})();var bN=n=>({selected:n}),d_=(()=>{class n{tipo="user";cambiarTipo(t){this.tipo=t}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Lt({type:n,selectors:[["app-logreg"]],standalone:!0,features:[Ht],decls:9,vars:7,consts:[[1,"border","margin5","rounded"],[1,"boton","rounded",2,"border-top-right-radius","0%","border-bottom-right-radius","0%","border","none",3,"click","ngClass"],[1,"fa-solid","fa-user"],[1,"boton","rounded",2,"border-top-left-radius","0%","border-bottom-left-radius","0%","border","none",3,"click","ngClass"],[1,"fa-solid","fa-building"],[3,"tipo"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"div")(2,"button",1),ve("click",function(){return r.cambiarTipo("user")}),Ce(3,"i",2),U(4,"Persona Individual"),A(),O(5,"button",3),ve("click",function(){return r.cambiarTipo("emp")}),Ce(6,"i",4),U(7,"Usuario Empresa"),A()(),Ce(8,"app-datos-acceso",5),A()),i&2&&(ee(2),fe("ngClass",ht(3,bN,r.tipo=="user")),ee(3),fe("ngClass",ht(5,bN,r.tipo=="emp")),ee(3),fe("tipo",r.tipo))},dependencies:[sn,Zn,gN],styles:["button[_ngcontent-%COMP%]{height:4rem;font-size:large;text-align:center;width:15rem;align-content:center}@media (max-width: 700px){button[_ngcontent-%COMP%]{width:50%}}@media (max-width: 510px){button[_ngcontent-%COMP%]{font-size:medium}}@media (max-width: 420px){button[_ngcontent-%COMP%]{font-size:small}}i[_ngcontent-%COMP%]{font-size:x-large;margin-right:2%}@media (max-width: 510px){i[_ngcontent-%COMP%]{font-size:medium}}@media (max-width: 420px){i[_ngcontent-%COMP%]{font-size:small}}"]})}return n})();function $te(n,e){n&1&&(O(0,"div"),Ce(1,"i",4),A())}function qte(n,e){n&1&&(O(0,"div",5),Ce(1,"i",6),U(2,"Cuenta verificada con exito"),A())}function Gte(n,e){n&1&&(O(0,"div",5),Ce(1,"i",7),U(2,"Error al verificar cuenta. Intentelo de nuevo"),A())}var vN=(()=>{class n{ruta;api;verificado=null;token=null;constructor(t,i){this.ruta=t,this.api=i}ngOnInit(){this.token=this.ruta.snapshot.paramMap.get("token");let t={token:this.token,tipo:2};this.api.validarCuenta(t).subscribe({next:i=>{this.verificado=i.ok},error(i){localStorage.removeItem("token")}})}static \u0275fac=function(i){return new(i||n)(ze(As),ze(Un))};static \u0275cmp=Lt({type:n,selectors:[["app-verificacion"]],standalone:!0,features:[Ht],decls:7,vars:3,consts:[[1,"svh"],[1,"border","margin5","rounded","seccion",2,"width","100%","justify-content","center"],[4,"ngIf"],["class","center",4,"ngIf"],[1,"fa-solid","fa-spinner","ispinner",2,"font-size","3rem"],[1,"center"],[1,"fa-solid","fa-check",2,"font-size","3rem"],[1,"fa-solid","fa-xmark",2,"font-size","3rem"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"div",1)(2,"h1"),U(3,"Verificando su Email"),A(),_t(4,$te,2,0,"div",2)(5,qte,3,0,"div",3)(6,Gte,3,0,"div",3),A()()),i&2&&(ee(4),fe("ngIf",r.verificado==null),ee(),fe("ngIf",r.verificado),ee(),fe("ngIf",r.verificado==!1))},dependencies:[sn,Rn],styles:["h1[_ngcontent-%COMP%]{text-decoration:underline;color:var(--blue)}.center[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}return n})();var Zc=Qr(Eo());var Kte=(n,e)=>({none:n,"menu2mobile glassTrue":e}),M1=n=>({activa:n}),Zte=(n,e)=>({"fa-bars":n,"fa-xmark":e}),Yte=n=>({none:n});function Xte(n,e){if(n&1){let t=Ut();O(0,"div")(1,"div",12),ve("click",function(){Pe(t);let r=Re();return De(r.activar("publicaciones"))}),O(2,"span"),U(3,"Finalizadas"),A()(),O(4,"div",12),ve("click",function(){Pe(t);let r=Re();return De(r.activar("registro"))}),O(5,"span"),U(6,"\xBFComo registrarse?"),A()(),O(7,"div",12),ve("click",function(){Pe(t);let r=Re();return De(r.activar("nosotros"))}),O(8,"span"),U(9,"\xBFQuienes somos?"),A()(),O(10,"div",12),ve("click",function(){Pe(t);let r=Re();return De(r.activar("contacto"))}),O(11,"span"),U(12,"Contacto"),A()()()}if(n&2){let t=Re();ee(),fe("ngClass",ht(4,M1,t.activa=="eventos")),ee(3),fe("ngClass",ht(6,M1,t.activa=="registro")),ee(3),fe("ngClass",ht(8,M1,t.activa=="nosotros")),ee(3),fe("ngClass",ht(10,M1,t.activa=="contacto"))}}function Jte(n,e){n&1&&(qr(0),U(1,"Ingresar"),Gr())}function Qte(n,e){if(n&1&&(O(0,"span",15),U(1),A()),n&2){let t=Re(2);ee(),et(t.User)}}function ene(n,e){if(n&1){let t=Ut();O(0,"div")(1,"div",12),ve("click",function(){Pe(t);let r=Re();return De(r.open2())}),O(2,"span",13),Ce(3,"i",14),_t(4,Jte,2,0,"ng-container",7)(5,Qte,2,1,"ng-template",null,2,dh),A()()()}if(n&2){let t=vl(6),i=Re();ee(),fe("ngClass",ht(3,M1,i.activa=="login")),ee(3),fe("ngIf",i.User=="")("ngIfElse",t)}}function tne(n,e){if(n&1){let t=Ut();O(0,"div",16)(1,"i",17),ve("click",function(){Pe(t);let r=Re();return De(r.open2())}),A(),O(2,"i",18),ve("click",function(){Pe(t);let r=Re();return De(r.open())}),A()()}if(n&2){let t=Re();ee(2),fe("ngClass",dn(1,Zte,!t.menuOpen,t.menuOpen))}}function nne(n,e){if(n&1){let t=Ut();O(0,"div",19)(1,"div",20),ve("click",function(){Pe(t);let r=Re();return De(r.activar("publicaciones"))}),O(2,"span"),U(3,"Finalizadas"),A()(),O(4,"div",20),ve("click",function(){Pe(t);let r=Re();return De(r.activar("registro"))}),O(5,"span"),U(6,"\xBFComo registrarse?"),A()(),O(7,"div",20),ve("click",function(){Pe(t);let r=Re();return De(r.activar("nosotros"))}),O(8,"span"),U(9,"\xBFQuienes somos?"),A()(),O(10,"div",20),ve("click",function(){Pe(t);let r=Re();return De(r.activar("contacto"))}),O(11,"span"),U(12,"Contacto"),A()()()}if(n&2){let t=Re();fe("ngClass",ht(1,Yte,!t.menuOpen))}}function ine(n,e){if(n&1){let t=Ut();qr(0),O(1,"div",21)(2,"label",22),U(3,"Email"),A(),O(4,"input",23),Je("ngModelChange",function(r){Pe(t);let o=Re();return Qe(o.mail,r)||(o.mail=r),De(r)}),A(),Ce(5,"span",24),A(),O(6,"div",25)(7,"label",26),U(8,"Contrase\xF1a"),A(),O(9,"input",27),Je("ngModelChange",function(r){Pe(t);let o=Re();return Qe(o.pass,r)||(o.pass=r),De(r)}),A(),Ce(10,"span",24),A(),O(11,"a",20),ve("click",function(){Pe(t);let r=Re();return De(r.cambiarPass())}),U(12,"Olvide mi contrase\xF1a"),A(),O(13,"button",28),ve("click",function(){Pe(t);let r=Re();return De(r.login())}),U(14,"Ingresar"),A(),O(15,"span",29),U(16,"\xBFNo tenes una cuenta?"),A(),O(17,"button",30),ve("click",function(){Pe(t);let r=Re();return De(r.open2())}),U(18,"Crear cuenta"),A(),Gr()}if(n&2){let t=Re();ee(4),Xe("ngModel",t.mail),ee(5),In("type",t.type),Xe("ngModel",t.pass)}}function rne(n,e){if(n&1){let t=Ut();O(0,"button",31),ve("click",function(){Pe(t);let r=Re();return De(r.cerrarMenus())}),Ce(1,"i",14),U(2," Mi perfil"),A(),O(3,"button",32),ve("click",function(){Pe(t);let r=Re();return De(r.cerrarMenus())}),Ce(4,"i",33),U(5," Ofertas en an\xE1lisis"),A(),O(6,"button",34),ve("click",function(){Pe(t);let r=Re();return De(r.cerrarMenus())}),Ce(7,"i",35),U(8," Lotes ofertados"),A(),O(9,"button",36),ve("click",function(){Pe(t);let r=Re();return De(r.cerrarMenus())}),Ce(10,"i",37),U(11," Favoritos"),A(),O(12,"button",28),ve("click",function(){Pe(t);let r=Re();return De(r.logout())}),U(13,"Cerrar session"),A()}}var wN=(()=>{class n{router;api;activa="inicio";widthC;cap;menuOpen=!1;menuOpen2=!1;mail="";pass="";type="password";User="";mailcambio="";constructor(t,i){this.router=t,this.api=i}ngOnInit(){if(localStorage.getItem("token")){let t={token:localStorage.getItem("token"),tipo:1};this.api.checkToken(t).subscribe({next:i=>{i.ok?(localStorage.setItem("token",i.token),this.User=i.nombre,this.api.setUserId(i._id)):localStorage.removeItem("token")},error(i){localStorage.removeItem("token")}})}}activar(t){this.activa=t,this.router.navigate(["/"+t]),this.menuOpen=!1,this.menuOpen2=!1}cerrarMenus(){this.menuOpen=!1,this.menuOpen2=!1}open(){this.menuOpen=!this.menuOpen,this.menuOpen2=!1}open2(){this.menuOpen=!1,this.menuOpen2=!this.menuOpen2,this.activa=this.menuOpen2?"login":"",this.mail="",this.pass=""}login(){if(this.pass==""){Zc.default.fire({title:"Ingrese una contrase\xF1a",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"});return}let t={mail:this.mail,pass:this.pass};this.api.login(t).subscribe({next:i=>{localStorage.setItem("token",i.token),this.User=i.user,i.ok?window.location.reload():i.validado?i.habilitado||Zc.default.fire({title:"Cuenta deshabilitada",text:"Su cuenta debe ser habilitada por un administrador",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}):Zc.default.fire({title:"Revise su correo electronico",text:"Hemos enviado un mail de verificacion al correo: "+i.mail,confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})},error(i){Zc.default.fire({title:"Ocurrio un error",text:i.error.msg,confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}logout(){localStorage.removeItem("token"),window.location.reload()}cambiarPass(){Zc.default.fire({title:"Ingrese su email",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Aceptar",showLoaderOnConfirm:!0,preConfirm:t=>gn(this,null,function*(){this.mailcambio=t}),allowOutsideClick:()=>!Zc.default.isLoading()}).then(t=>{if(t.isConfirmed){let i={mail:this.mailcambio};this.api.sendcambiarPass(i).subscribe({next:r=>{r.ok&&Zc.default.fire({title:r.msg,confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),r.ok||Zc.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})},error(r){Zc.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}else this.mailcambio=""})}static \u0275fac=function(i){return new(i||n)(ze(Ro),ze(Un))};static \u0275cmp=Lt({type:n,selectors:[["app-navbar"]],inputs:{widthC:"widthC",cap:"cap"},standalone:!0,features:[Ht],decls:16,vars:10,consts:[["mobile",""],["userBlock",""],["nameBlock",""],[1,"navbar","glass"],[2,"align-items","center","display","flex","height","100%"],[1,"logo",2,"cursor","pointer",3,"click"],[1,"imagenLogo"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["class","menu glassTrue",3,"ngClass",4,"ngIf"],[1,"menu","menu2","glass",3,"ngClass"],[2,"bottom","0","position","fixed"],[1,"btnnav",3,"click","ngClass"],[1,"ingresar"],[1,"fa-solid","fa-user","iuser"],[1,"username"],[2,"display","flex"],[1,"fa-solid","fa-user",3,"click"],[1,"fa-solid",3,"click","ngClass"],[1,"menu","glassTrue",3,"ngClass"],[3,"click"],[1,"col-3"],["for","emailL"],["type","email","id","emailL","placeholder","Email",1,"effect-1",3,"ngModelChange","ngModel"],[1,"focus-border"],[1,"col-3",2,"margin-bottom","0"],["for","passL"],["id","passL","placeholder","Contrase\xF1a",1,"effect-1",3,"ngModelChange","type","ngModel"],[1,"border","rounded","boton",3,"click"],[1,"creartitle"],["routerLink","login",1,"border","rounded","boton",2,"margin-top","0","margin-bottom","0",3,"click"],["routerLink","mi-perfil",1,"border","rounded","boton",2,"display","flex","align-items","center",3,"click"],["routerLink","mis-adjudicados",1,"border","rounded","boton",2,"display","flex","align-items","center",3,"click"],[1,"fa-solid","fa-cart-shopping","iuser"],["routerLink","mis-ofertas",1,"border","rounded","boton",2,"display","flex","align-items","center",3,"click"],[1,"fa-solid","fa-calendar-days","iuser"],["routerLink","mis-favoritos",1,"border","rounded","boton",2,"display","flex","align-items","center","margin-bottom","2rem",3,"click"],[1,"fa-solid","fa-star","iuser"]],template:function(i,r){if(i&1){let o=Ut();O(0,"div",3)(1,"div",4)(2,"div",5),ve("click",function(){return Pe(o),De(r.activar(""))}),O(3,"span"),U(4,"Gruppo DF"),A(),Ce(5,"span",6),A()(),_t(6,Xte,13,12,"div",7)(7,ene,7,5,"div",8)(8,tne,3,4,"ng-template",null,0,dh),A(),_t(10,nne,13,3,"div",9),O(11,"div",10)(12,"div",11),_t(13,ine,19,3,"ng-container",7)(14,rne,14,0,"ng-template",null,1,dh),A()()}if(i&2){let o=vl(9),s=vl(15);ee(6),fe("ngIf",r.widthC!=null&&r.cap!=null&&r.widthC>r.cap)("ngIfElse",o),ee(),fe("ngIf",r.widthC!=null&&r.cap!=null&&r.widthC>r.cap),ee(3),fe("ngIf",r.widthC!=null&&r.cap!=null&&r.widthC<r.cap),ee(),fe("ngClass",dn(7,Kte,!r.menuOpen2,r.widthC!=null&&r.cap!=null&&r.widthC<r.cap)),ee(2),fe("ngIf",r.User=="")("ngIfElse",s)}},dependencies:[sn,Zn,Rn,ya,_l,Hn,mi,oi,ti],styles:['.navbar[_ngcontent-%COMP%]{position:fixed;height:4%;top:0;left:0;width:100%;z-index:100;color:var(--white);display:flex;font-size:x-large;flex-wrap:wrap;justify-content:space-between;font-family:Avenir;font-size:large}@media (max-width: 1250px){.navbar[_ngcontent-%COMP%]{height:7%}}.logo[_ngcontent-%COMP%]{margin-inline:.5rem;height:80%;display:inline-flex;flex-wrap:wrap;font-weight:700;transform:skew(0)}@media (max-width: 1250px){.logo[_ngcontent-%COMP%]{margin-inline:0rem}}.logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:8rem;align-content:center;text-align:center;transform:skew(0)}@media (max-width: 1250px){.logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:7rem}}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;align-content:center;text-align:center}.btnnav[_ngcontent-%COMP%]{height:100%;display:inline-flex;flex-wrap:wrap;cursor:pointer;transition:all .3s ease-in-out;transform:skew(0)}.btnnav[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:13rem;align-content:center;text-align:center;transition:all .15s ease-in-out;transform:skew(0)}.btnnav[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:var(--black)}.btnnav[_ngcontent-%COMP%]:before{content:" ";transition:all 255ms ease-in;position:absolute;transform-origin:bottom;transform:scale3d(1,0,1);width:13rem;height:100%;float:inline-end;background-color:var(--white);opacity:1}.btnnav[_ngcontent-%COMP%]:hover:before{transform:scaleZ(1);opacity:1}.activa[_ngcontent-%COMP%]{background-color:var(--white);color:#000}i[_ngcontent-%COMP%]{height:100%;font-size:xx-large;display:flex;align-items:center;margin-right:2rem;justify-content:flex-end}.menu[_ngcontent-%COMP%]{font-family:Avenir;transform:scaleZ(1);transform-origin:top;transition:all .3s ease-in;height:100%;position:fixed;color:var(--black);top:7%;width:100%;z-index:2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);display:flex;flex-direction:column;justify-content:center;align-items:center}.menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:3rem;font-size:xx-large;font-weight:700}@media (max-width: 380px){.menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:1rem;margin-left:1rem;font-size:x-large}}.menu2[_ngcontent-%COMP%]{right:0;top:4%;border-top-left-radius:0;border-top-right-radius:0;width:13rem;height:19rem}.menu2[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(a, button[_ngcontent-%COMP%], div)[_ngcontent-%COMP%]{margin:1rem .2rem}.menu2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0}.menu2[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:large;font-weight:700;color:var(--white)}.menu2[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(button, input)[_ngcontent-%COMP%]{height:2rem;width:100%}.menu2mobile[_ngcontent-%COMP%]{width:100%;top:7%;height:25rem}.menu2mobile[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(button, input)[_ngcontent-%COMP%]{height:3rem}.menu2mobile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:large}.none[_ngcontent-%COMP%]{transform:scale3d(1,0,1);visibility:hidden;opacity:0}.iuser[_ngcontent-%COMP%]{display:flex;margin-right:1rem;margin-left:1rem;align-items:center;font-size:large}.ingresar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.creartitle[_ngcontent-%COMP%]{display:flex;justify-content:center}.imagenLogo[_ngcontent-%COMP%]{background-image:url("./media/logo-PPQIQ56C.webp");background-repeat:no-repeat;background-size:contain;width:3rem!important}']})}return n})();var one=n=>({mobile:n}),yN=(()=>{class n{maps="https://www.google.com/maps/place/Avenida+Leandro+Niceforo+Alem+250,+C1003AAP+Cdad.+Aut%C3%B3noma+de+Buenos+Aires/@-34.6050318,-58.3741518,16.25z/data=!4m6!3m5!1s0x95a3352d42c97abb:0x9de2e64629f0f5ec!8m2!3d-34.6048462!4d-58.3703963!16s%2Fg%2F11sn_3vb0t?entry=ttu";number="+5491127605336";widthC;cap;mapsG(){window.open(this.maps)}wspW(){window.open("https://wa.me/"+this.number)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Lt({type:n,selectors:[["app-footer"]],inputs:{widthC:"widthC",cap:"cap"},standalone:!0,features:[Ht],decls:22,vars:4,consts:[[1,"footer",3,"ngClass"],[1,"end",3,"click"],[1,"fa-solid","fa-location-dot"],[3,"click"],[1,"fa-brands","fa-whatsapp"],[1,"end"],[1,"fa-solid","fa-envelope"],["href","http://qr.afip.gob.ar/?qr=hbFLS3VKuV_DahACKt3hKg,,"],["src","http://www.afip.gob.ar/images/f960/DATAWEB.jpg",1,"datafiscal",2,"max-width","30%"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"div")(2,"h1"),U(3,"Donde encontrarnos"),A(),O(4,"div",1),ve("click",function(){return r.mapsG()}),Ce(5,"i",2),U(6," Avenida Leandro N Alem 250. Piso 1. CABA"),A()(),O(7,"div")(8,"h1"),U(9,"Contactanos"),A(),O(10,"div",3),ve("click",function(){return r.wspW()}),Ce(11,"i",4),U(12),A(),O(13,"span",5),Ce(14,"i",6),U(15," contacto@gruppodf.com.ar"),A()(),O(16,"div")(17,"h1"),U(18,"Data fiscal"),A(),O(19,"div")(20,"a",7),Ce(21,"img",8),A()()()()),i&2&&(fe("ngClass",ht(2,one,r.widthC!=null&&r.cap!=null&&r.widthC<r.cap)),ee(12),Ct(" ",r.number,""))},dependencies:[sn,Zn],styles:[".footer[_ngcontent-%COMP%]{background-color:var(--blue);height:100%;display:flex;align-items:flex-start;justify-content:center}.footer[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--black)}.footer[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(div, span)[_ngcontent-%COMP%]{color:var(--white)}.footer[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(div, h1[_ngcontent-%COMP%], span)[_ngcontent-%COMP%]{flex-direction:column;position:relative;margin-left:2rem}@media (max-width: 400px){.footer[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(div, h1[_ngcontent-%COMP%], span)[_ngcontent-%COMP%]{margin-left:1rem;margin-bottom:1rem}}.footer[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(div, h1[_ngcontent-%COMP%], span)[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:1rem}.footer[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(div, h1[_ngcontent-%COMP%], span)[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline;color:#000}.footer[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(div, h1[_ngcontent-%COMP%], span)[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:1rem}.mobile[_ngcontent-%COMP%]{flex-direction:column}.end[_ngcontent-%COMP%]{margin-bottom:3rem}"]})}return n})();var _N=(()=>{class n{injector=At(Ss);title="subastas";width;cap=1250;ngOnInit(){Wf(()=>this.width=window.innerWidth,{injector:this.injector})}onResize(t){this.width=window.innerWidth}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Lt({type:n,selectors:[["app-landing"]],hostBindings:function(i,r){i&1&&ve("resize",function(s){return r.onResize(s)},!1,s2)},standalone:!0,features:[Ht],decls:3,vars:4,consts:[[3,"widthC","cap"],[1,"bgA"]],template:function(i,r){i&1&&Ce(0,"app-navbar",0)(1,"router-outlet",1)(2,"app-footer",0),i&2&&(fe("widthC",r.width)("cap",r.cap),ee(2),fe("widthC",r.width)("cap",r.cap))},dependencies:[Zf,wN,yN]})}return n})();var P1=Qr(Eo());var eg=n=>({activa:n}),sne=(n,e)=>({"fa-bars":n,"fa-xmark":e}),ane=n=>({none:n});function lne(n,e){if(n&1){let t=Ut();O(0,"div")(1,"div",8),ve("click",function(){Pe(t);let r=Re();return De(r.activar("inicio"))}),O(2,"span"),U(3,"Inicio"),A()(),O(4,"div",9),ve("click",function(){Pe(t);let r=Re();return De(r.activar("usuarios"))}),O(5,"span"),U(6,"Usuarios"),A()(),O(7,"div",10),ve("click",function(){Pe(t);let r=Re();return De(r.activar("web"))}),O(8,"span"),U(9,"Web"),A()(),O(10,"div",11),ve("click",function(){Pe(t);let r=Re();return De(r.activar("lotes"))}),O(11,"span"),U(12,"Lotes"),A()(),O(13,"div",12),ve("click",function(){Pe(t);let r=Re();return De(r.activar("eventos"))}),O(14,"span"),U(15,"Publicaciones"),A()()()}if(n&2){let t=Re();ee(),fe("ngClass",ht(5,eg,t.activa=="inicio")),ee(3),fe("ngClass",ht(7,eg,t.activa=="usuarios")),ee(3),fe("ngClass",ht(9,eg,t.activa=="web")),ee(3),fe("ngClass",ht(11,eg,t.activa=="lotes")),ee(3),fe("ngClass",ht(13,eg,t.activa=="eventos"))}}function cne(n,e){if(n&1&&(O(0,"div",13)(1,"span",14),Ce(2,"i",15),O(3,"span",16),U(4),A()()()),n&2){let t=Re();fe("ngClass",ht(2,eg,t.activa=="login")),ee(4),et(t.User)}}function une(n,e){if(n&1){let t=Ut();O(0,"div",17)(1,"i",18),ve("click",function(){Pe(t);let r=Re();return De(r.open())}),A()()}if(n&2){let t=Re();ee(),fe("ngClass",dn(1,sne,!t.menuOpen,t.menuOpen))}}function dne(n,e){if(n&1){let t=Ut();O(0,"div",19)(1,"div",20),ve("click",function(){Pe(t);let r=Re();return De(r.activar("inicio"))}),O(2,"span"),U(3,"Inicio"),A()(),O(4,"div",21),ve("click",function(){Pe(t);let r=Re();return De(r.activar("usuarios"))}),O(5,"span"),U(6,"Usuarios"),A()(),O(7,"div",22),ve("click",function(){Pe(t);let r=Re();return De(r.activar("web"))}),O(8,"span"),U(9,"Web"),A()(),O(10,"div",23),ve("click",function(){Pe(t);let r=Re();return De(r.activar("lotes"))}),O(11,"span"),U(12,"Lotes"),A()(),O(13,"div",24),ve("click",function(){Pe(t);let r=Re();return De(r.activar("eventos"))}),O(14,"span"),U(15,"Publicaciones"),A()()()}if(n&2){let t=Re();fe("ngClass",ht(1,ane,!t.menuOpen))}}var xN=(()=>{class n{api;activa="inicio";widthC;cap;mail="";pass="";type="password";User="";menuOpen=!1;constructor(t){this.api=t}activar(t){this.activa=t,this.menuOpen=!1}open(){this.menuOpen=!this.menuOpen}login(){if(this.pass==""){P1.default.fire({title:"Ingrese una contrase\xF1a",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"});return}let t={mail:this.mail,pass:this.pass};this.api.login(t).subscribe({next:i=>{localStorage.setItem("token",i.token),this.User=i.user,i.ok||(i.validado?i.habilitado||P1.default.fire({title:"Cuenta deshabilitada",text:"Su cuenta debe ser habilitada por un administrador",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}):P1.default.fire({title:"Revise su correo electronico",text:"Hemos enviado un mail de verificacion al correo: "+i.mail,confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}))},error(i){P1.default.fire({title:"Ocurrio un error",text:i.error.msg,confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}static \u0275fac=function(i){return new(i||n)(ze(Un))};static \u0275cmp=Lt({type:n,selectors:[["app-azul"]],inputs:{widthC:"widthC",cap:"cap"},standalone:!0,features:[Ht],decls:12,vars:4,consts:[["mobile",""],[1,"navbar","glassAzul"],[2,"align-items","center","display","flex","height","100%"],["routerLink","",1,"logo",2,"cursor","pointer"],[1,"imagenLogo"],[4,"ngIf","ngIfElse"],["class","btnnav",3,"ngClass",4,"ngIf"],["class","menu glassAzulTrue",3,"ngClass",4,"ngIf"],["routerLink","panelAdmin",1,"btnnav",3,"click","ngClass"],["routerLink","usuarios",1,"btnnav",3,"click","ngClass"],["routerLink","web",1,"btnnav",3,"click","ngClass"],["routerLink","lotes",1,"btnnav",3,"click","ngClass"],["routerLink","publicaciones",1,"btnnav",3,"click","ngClass"],[1,"btnnav",3,"ngClass"],[1,"ingresar"],[1,"fa-solid","fa-user","iuser"],[1,"username"],[2,"display","flex"],[1,"fa-solid",3,"click","ngClass"],[1,"menu","glassAzulTrue",3,"ngClass"],["routerLink","panelAdmin",3,"click"],["routerLink","usuarios",3,"click"],["routerLink","web",3,"click"],["routerLink","lotes",3,"click"],["routerLink","publicaciones",3,"click"]],template:function(i,r){if(i&1&&(O(0,"div",1)(1,"div",2)(2,"div",3)(3,"span"),U(4,"Gruppo DF"),A(),Ce(5,"span",4),A()(),_t(6,lne,16,15,"div",5),O(7,"div"),_t(8,cne,5,4,"div",6),A(),_t(9,une,2,4,"ng-template",null,0,dh),A(),_t(11,dne,16,3,"div",7)),i&2){let o=vl(10);ee(6),fe("ngIf",r.widthC!=null&&r.cap!=null&&r.widthC>r.cap)("ngIfElse",o),ee(2),fe("ngIf",r.User!=""),ee(3),fe("ngIf",r.widthC!=null&&r.cap!=null&&r.widthC<r.cap)}},dependencies:[sn,Zn,Rn,ya,_l,Hn],styles:['.navbar[_ngcontent-%COMP%]{position:fixed;height:4%;top:0;left:0;width:100%;z-index:100;color:var(--white);display:flex;font-size:x-large;flex-wrap:wrap;justify-content:space-between;font-family:Avenir;font-size:large}@media (max-width: 1250px){.navbar[_ngcontent-%COMP%]{height:7%}}.logo[_ngcontent-%COMP%]{margin-inline:.5rem;height:80%;display:inline-flex;flex-wrap:wrap;font-weight:700;transform:skew(0)}@media (max-width: 1250px){.logo[_ngcontent-%COMP%]{margin-inline:0rem}}.logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:8rem;align-content:center;text-align:center;transform:skew(0)}@media (max-width: 1250px){.logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:7rem}}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;align-content:center;text-align:center}.btnnav[_ngcontent-%COMP%]{height:100%;display:inline-flex;flex-wrap:wrap;cursor:pointer;transition:all .3s ease-in-out;transform:skew(0)}.btnnav[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:13rem;align-content:center;text-align:center;transition:all .15s ease-in-out;transform:skew(0)}.btnnav[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:var(--black)}.btnnav[_ngcontent-%COMP%]:before{content:" ";transition:all 255ms ease-in;position:absolute;transform-origin:bottom;transform:scale3d(1,0,1);width:13rem;height:100%;float:inline-end;background-color:var(--white);opacity:1}.btnnav[_ngcontent-%COMP%]:hover:before{transform:scaleZ(1);opacity:1}.activa[_ngcontent-%COMP%]{background-color:var(--white);color:#000}i[_ngcontent-%COMP%]{height:100%;font-size:xx-large;display:flex;align-items:center;margin-right:2rem;justify-content:flex-end}.menu[_ngcontent-%COMP%]{font-family:Avenir;transform:scaleZ(1);transform-origin:top;transition:all .3s ease-in;height:100%;position:fixed;color:var(--black);top:7%;width:100%;z-index:2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);display:flex;flex-direction:column;justify-content:center;align-items:center}.menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:3rem;font-size:xx-large;font-weight:700}@media (max-width: 380px){.menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:1rem;margin-left:1rem;font-size:x-large}}.menu2[_ngcontent-%COMP%]{right:0;top:4%;border-top-left-radius:0;border-top-right-radius:0;width:13rem;height:19rem}.menu2[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(a, button[_ngcontent-%COMP%], div)[_ngcontent-%COMP%]{margin:1rem .2rem}.menu2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0}.menu2[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:large;font-weight:700;color:var(--white)}.menu2[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(button, input)[_ngcontent-%COMP%]{height:2rem;width:100%}.menu2mobile[_ngcontent-%COMP%]{width:100%;top:7%;height:25rem}.menu2mobile[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(button, input)[_ngcontent-%COMP%]{height:3rem}.menu2mobile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:large}.none[_ngcontent-%COMP%]{transform:scale3d(1,0,1);visibility:hidden;opacity:0}.iuser[_ngcontent-%COMP%]{display:flex;margin-right:1rem;margin-left:1rem;align-items:center;font-size:large}.ingresar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.creartitle[_ngcontent-%COMP%]{display:flex;justify-content:center}.imagenLogo[_ngcontent-%COMP%]{background-image:url("./media/logo-PPQIQ56C.webp");background-repeat:no-repeat;background-size:contain;width:3rem!important}']})}return n})();var CN=(()=>{class n{injector=At(Ss);title="subastas";width;cap=1230;ngOnInit(){Wf(()=>this.width=window.innerWidth,{injector:this.injector})}onResize(t){this.width=window.innerWidth}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Lt({type:n,selectors:[["app-panel-admin"]],hostBindings:function(i,r){i&1&&ve("resize",function(s){return r.onResize(s)},!1,s2)},standalone:!0,features:[Ht],decls:2,vars:2,consts:[[3,"widthC","cap"],[1,"bgA"]],template:function(i,r){i&1&&Ce(0,"app-azul",0)(1,"router-outlet",1),i&2&&fe("widthC",r.width)("cap",r.cap)},dependencies:[xN,Zf]})}return n})();var hne=(n,e)=>({"fa-eye-slash bgblack":n,"fa-eye bgwhite":e});function fne(n,e){if(n&1){let t=Ut();qr(0),O(1,"div",3)(2,"label",4),U(3,"Usuario "),A(),O(4,"span",5),U(5),A(),O(6,"input",6),Je("ngModelChange",function(r){Pe(t);let o=Re();return Qe(o.campos[0],r)||(o.campos[0]=r),De(r)}),A(),Ce(7,"span",7),A(),O(8,"div",3)(9,"label",8),U(10,"Contrase\xF1a "),A(),O(11,"span",5),U(12),A(),O(13,"div",9)(14,"input",10),Je("ngModelChange",function(r){Pe(t);let o=Re();return Qe(o.campos[1],r)||(o.campos[1]=r),De(r)}),A(),O(15,"i",11),ve("click",function(){Pe(t);let r=Re();return De(r.mostrar())}),A(),Ce(16,"span",7),A()(),O(17,"div",12)(18,"button",13),ve("click",function(){Pe(t);let r=Re();return De(r.ingresar())}),U(19,"Ingresar"),A()(),Gr()}if(n&2){let t=Re();ee(5),et(t.alertas[0]),ee(),Xe("ngModel",t.campos[0]),ee(6),et(t.alertas[1]),ee(2),In("type",t.type),Xe("ngModel",t.campos[1]),ee(),fe("ngClass",dn(6,hne,t.type=="password",t.type=="text"))}}function mne(n,e){if(n&1){let t=Ut();O(0,"div",14),U(1),O(2,"button",15),ve("click",function(){Pe(t);let r=Re();return De(r.logout())}),U(3,"Cerrar session"),A()()}if(n&2){let t=Re();ee(),Ct(" Sesion: ",t.User," ")}}var kN=(()=>{class n{api;alertas=["",""];campos=["",""];type="password";User="";constructor(t){this.api=t}ngOnInit(){if(localStorage.getItem("token")){let t={token:localStorage.getItem("token"),tipo:1};this.api.checkTokenA(t).subscribe({next:i=>{i.ok?(localStorage.setItem("token",i.token),this.User=i.user,this.api.setUserAdmin(this.User)):localStorage.removeItem("token")},error(i){localStorage.removeItem("token")}})}}ingresar(){this.alertas[0]=this.campos[0]==""?"El campo es obligatorio":"",this.alertas[1]=this.campos[1]==""?"El campo es obligatorio":"";let t={user:this.campos[0],pass:this.campos[1]};this.campos[0]!=""&&this.campos[1]!=""&&this.api.loginA(t).subscribe({next:i=>{i.ok&&(localStorage.setItem("token",i.token),this.User=i.user,this.api.setUserAdmin(this.User)),i.ok||localStorage.removeItem("token")},error:i=>{localStorage.removeItem("token")}})}mostrar(){this.type=this.type=="password"?"text":"password"}logout(){localStorage.removeItem("token"),window.location.reload()}static \u0275fac=function(i){return new(i||n)(ze(Un))};static \u0275cmp=Lt({type:n,selectors:[["app-login"]],standalone:!0,features:[Ht],decls:4,vars:2,consts:[["elseBlock",""],[1,"borderAzul","margin5","rounded",2,"display","flex","flex-direction","column","align-items","center"],[4,"ngIf","ngIfElse"],[1,"col-3",2,"margin-bottom","2%"],["for","user"],[1,"msg"],["type","text","placeholder","Usuario",1,"effect-1",3,"ngModelChange","ngModel"],[1,"focus-border2"],["for","password"],[2,"display","flex"],["placeholder","Contrase\xF1a",1,"effect-1",2,"width","90%",3,"ngModelChange","type","ngModel"],[1,"fa-solid",3,"click","ngClass"],[1,"col-3",2,"text-align","end"],[1,"boton","boton2","borderAzul","rounded","botones",3,"click"],[1,"col-3",2,"display","flex","justify-content","space-evenly"],[1,"border","rounded","boton","boton2",3,"click"]],template:function(i,r){if(i&1&&(O(0,"div",1),_t(1,fne,20,9,"ng-container",2)(2,mne,4,1,"ng-template",null,0,dh),A()),i&2){let o=vl(3);ee(),fe("ngIf",r.User=="")("ngIfElse",o)}},dependencies:[Hn,mi,oi,ti,sn,Zn,Rn],styles:[".cuadro[_ngcontent-%COMP%]{font-size:large;text-align:center;width:15rem;align-content:center;height:2rem;background-color:var(--white)}@media (max-width: 560px){.cuadro[_ngcontent-%COMP%]{font-size:small}}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;height:3rem}i[_ngcontent-%COMP%]{height:3rem;text-align:center;display:flex;align-items:center;justify-content:center;width:10%;cursor:pointer}i[_ngcontent-%COMP%]:hover{background-color:#4e4e4e;transition:all .2s linear}.bgblack[_ngcontent-%COMP%]{background-color:var(--black);color:var(--white)}.bgwhite[_ngcontent-%COMP%]{background-color:var(--white);color:var(--black)}.col-3[_ngcontent-%COMP%]{width:50%}@media (max-width: 1000px){.col-3[_ngcontent-%COMP%]{width:100%}}h1[_ngcontent-%COMP%]{text-decoration:underline;color:var(--blue)}@media (max-width: 500px){h1[_ngcontent-%COMP%]{font-size:x-large}}.mitad[_ngcontent-%COMP%]{width:50%}.mitad[_ngcontent-%COMP%]   .col-3[_ngcontent-%COMP%]{width:100%}@media (max-width: 1000px){.mitad[_ngcontent-%COMP%]{width:100%}}.boton2[_ngcontent-%COMP%]:hover{background-color:var(--blue)}.linea[_ngcontent-%COMP%]{display:flex;margin-bottom:2%}@media (max-width: 1000px){.linea[_ngcontent-%COMP%]{flex-direction:column}}.acceso[_ngcontent-%COMP%]{display:flex}@media (max-width: 1000px){.acceso[_ngcontent-%COMP%]{flex-direction:column}}"]})}return n})();var Jo=Qr(Eo());var vS=Qr(SN()),wS=Qr(AN());var h_=(()=>{class n{constructor(){}generateExcel(t,i){let r=new vS.Workbook,o=r.addWorksheet("Sheet 1"),s=["Nombre","E-mail","CUIL / CUIT","Telefono","Habilitado","Validado","Ultima conexion","Persona responsable"],a=[...Array(26)].map((l,c)=>String.fromCharCode(c+65));o.addRow(s);for(let l=0;l<t.length;l++){let c=[];c.push(t[l].nombre),c.push(t[l].mail),c.push(t[l].cuil_cuit),c.push(t[l].telefono),c.push(t[l].habilitado?"Habiliado":"Deshabiliado"),c.push(t[l].validado?"Validado":"Invalidado"),c.push(t[l].ultima_conexion),t[l].dato_empresa&&c.push(t[l].dato_empresa.persona_responsable),o.addRow(c)}for(let l=0;l<s.length;l++)o.getCell(a[l]+"1").font={bold:!0,size:12},o.getCell(a[l]+"1").fill={type:"pattern",pattern:"solid",fgColor:{argb:"6FA8DC"}},o.getCell(a[l]+"1").alignment={vertical:"middle",horizontal:"center"},o.getCell(a[l]+"1").border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},o.getColumn(l+1).width=30;r.xlsx.writeBuffer().then(l=>{let c=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,wS.saveAs)(c,`${i}.xlsx`)})}generateExcelPublicacion(t,i,r){let o=new vS.Workbook,s=o.addWorksheet("Sheet 1"),a=["ID lote","Nombre del lote","Fecha cierre","Visitas","Modalidad","Precio Base/Arranque","Oferta ganadora","Nro de ofertas","Ganador","CUIT"],l=[40,50,15,15,15,30,20,20,40,30],c=[...Array(26)].map((u,d)=>String.fromCharCode(d+65));s.addRow(a);for(let u=0;u<i.length;u++){let d=[];d.push(i[u].uuid),d.push(i[u].titulo),d.push(i[u].fecha_cierre),d.push(i[u].visitas),d.push(t.modalidad),d.push(i[u].precio_base),d.push(i[u].precio_ganador),d.push(i[u].ofertas),d.push(i[u].ganador),d.push(i[u].cuit),s.addRow(d)}for(let u=0;u<a.length;u++)s.getCell(c[u]+"1").font={bold:!0,size:12},s.getCell(c[u]+"1").fill={type:"pattern",pattern:"solid",fgColor:{argb:"6FA8DC"}},s.getCell(c[u]+"1").alignment={vertical:"middle",horizontal:"center"},s.getCell(c[u]+"1").border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},s.getColumn(u+1).width=l[u];o.xlsx.writeBuffer().then(u=>{let d=new Blob([u],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,wS.saveAs)(d,`${r}.xlsx`)})}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var yS=(n,e)=>({h1btn2:n,h1btn:e}),tg=(n,e)=>({oculto:n,"":e}),Qo=n=>({changed:n}),pne=(n,e,t)=>({"fa-user":n,"fa-building-user":e,"fa-gears":t}),IN=(n,e)=>({verde:n,rojo:e});function gne(n,e){n&1&&(O(0,"h2",107),Ce(1,"i",108),U(2," Cargando"),A())}function bne(n,e){n&1&&(O(0,"h2"),U(1,"Error al cargar usuarios"),A())}function vne(n,e){if(n&1){let t=Ut();O(0,"div",109)(1,"div",90),Ce(2,"i",110),U(3),A(),O(4,"div",90),U(5),A(),O(6,"div",91),U(7),A(),O(8,"div",91),U(9),A(),O(10,"div",111)(11,"i",112)(12,"span",113),U(13),A()(),O(14,"i",114)(15,"span",113),U(16),A()(),O(17,"i",115)(18,"span",113),U(19),A()(),O(20,"i",116),ve("click",function(){let r=Pe(t).index,o=Re(2);return De(o.ver(r))}),A(),O(21,"i",117),ve("click",function(){let r=Pe(t),o=r.$implicit,s=r.index,a=Re(2);return De(a.verCambio(s,o._id))}),A(),O(22,"i",118),ve("click",function(){let r=Pe(t).$implicit,o=Re(2);return De(o.eliminar(r._id,r.nombre,"user"))}),A()()()}if(n&2){let t=e.$implicit;ee(2),fe("ngClass",Q7(10,pne,t.tipo=="user",t.tipo=="emp",t.tipo=="viejo")),ee(),Ct("",t.nombre," "),ee(2),et(t.mail),ee(2),et(t.telefono),ee(2),et(t.cuil_cuit),ee(4),et(t.ultima_conexion==""?"No hay ultima conexion":t.ultima_conexion),ee(),fe("ngClass",dn(14,IN,t.habilitado,!t.habilitado)),ee(2),et(t.habilitado?"Habilitado":"Deshabilitado"),ee(),fe("ngClass",dn(17,IN,t.validado,!t.validado)),ee(2),et(t.validado?"Validado":"Invalidado")}}function wne(n,e){if(n&1){let t=Ut();O(0,"div",119),U(1),O(2,"div",120)(3,"button",121),ve("click",function(){Pe(t);let r=Re(2);return De(r.principio())}),U(4,"Principio"),A(),O(5,"button",122),ve("click",function(){Pe(t);let r=Re(2);return De(r.atras())}),U(6,"Atras"),A(),O(7,"button",122),ve("click",function(){Pe(t);let r=Re(2);return De(r.siguiente())}),U(8,"Siguiente"),A(),O(9,"button",88),ve("click",function(){Pe(t);let r=Re(2);return De(r.final())}),U(10,"Final"),A()(),U(11),A()}if(n&2){let t=Re(2);ee(),Ai(" Pagina ",t.pagina+1," de ",t.pagU," "),ee(10),Ct(" Usuarios totales: ",t.Total," ")}}function yne(n,e){if(n&1){let t=Ut();O(0,"div",75)(1,"div",76)(2,"div",77)(3,"div",78)(4,"input",79),Je("ngModelChange",function(r){Pe(t);let o=Re();return Qe(o.datoBuscar,r)||(o.datoBuscar=r),De(r)}),A(),Ce(5,"span",22),A(),O(6,"div",80)(7,"select",81),Je("ngModelChange",function(r){Pe(t);let o=Re();return Qe(o.tipoBuscar,r)||(o.tipoBuscar=r),De(r)}),O(8,"option",82),U(9,"Usuario"),A(),O(10,"option",83),U(11,"E-mail"),A(),O(12,"option",84),U(13,"Telefono"),A(),O(14,"option",85),U(15,"CUIL / CUIT"),A()(),Ce(16,"span",22),A(),O(17,"div",80)(18,"select",81),Je("ngModelChange",function(r){Pe(t);let o=Re();return Qe(o.tipoBuscarUser,r)||(o.tipoBuscarUser=r),De(r)}),O(19,"option",86),U(20,"Todos"),A(),O(21,"option",61),U(22,"Persona"),A(),O(23,"option",62),U(24,"Empresa"),A(),O(25,"option",87),U(26,"Sin definir"),A()(),Ce(27,"span",22),A(),O(28,"button",88),ve("click",function(){Pe(t);let r=Re();return De(r.buscarDato())}),U(29,"Buscar"),A()()(),O(30,"div",89)(31,"div",90),U(32,"Usuario"),A(),O(33,"div",90),U(34,"E-mail"),A(),O(35,"div",91),U(36,"Telefono"),A(),O(37,"div",91),U(38,"CUIL / CUIT"),A(),O(39,"div",92)(40,"div",93)(41,"select",94),Je("ngModelChange",function(r){Pe(t);let o=Re();return Qe(o.ordenar,r)||(o.ordenar=r),De(r)}),ve("change",function(){Pe(t);let r=Re();return De(r.recargar())}),O(42,"option",95),U(43,"Ordenar"),A(),O(44,"option",96),U(45,"Usuario"),A(),O(46,"option",83),U(47,"E-mail"),A(),O(48,"option",84),U(49,"Telefono"),A(),O(50,"option",85),U(51,"CUIL / CUIT"),A(),O(52,"option",97),U(53,"Habilitado"),A(),O(54,"option",98),U(55,"Validado"),A(),O(56,"option",99),U(57,"Default"),A()(),Ce(58,"span",22),A(),O(59,"div",100)(60,"select",94),Je("ngModelChange",function(r){Pe(t);let o=Re();return Qe(o.orden,r)||(o.orden=r),De(r)}),ve("change",function(){Pe(t);let r=Re();return De(r.recargar())}),O(61,"option",101),U(62,"Asc."),A(),O(63,"option",102),U(64,"Desc."),A()(),Ce(65,"span",22),A()()(),_t(66,gne,3,0,"h2",103)(67,bne,2,0,"h2",104)(68,vne,23,20,"div",105)(69,wne,12,3,"div",106),A()}if(n&2){let t=Re();ee(4),Xe("ngModel",t.datoBuscar),ee(3),Xe("ngModel",t.tipoBuscar),ee(11),Xe("ngModel",t.tipoBuscarUser),ee(23),Xe("ngModel",t.ordenar),ee(19),Xe("ngModel",t.orden),ee(6),fe("ngIf",t.Usuarios.length==0&&!t.error),ee(),fe("ngIf",t.error),ee(),fe("ngForOf",t.Usuarios),ee(),fe("ngIf",t.Usuarios.length!=0)}}function _ne(n,e){if(n&1){let t=Ut();O(0,"div",109)(1,"div",123),U(2),A(),O(3,"div",125)(4,"i",118),ve("click",function(){let r=Pe(t).$implicit,o=Re(2);return De(o.eliminar(r._id,r.usuario,"admin"))}),A()()()}if(n&2){let t=e.$implicit;ee(2),et(t.usuario)}}function xne(n,e){if(n&1&&(O(0,"div",75)(1,"div",89)(2,"div",123),U(3,"Usuario"),A(),Ce(4,"div",124),A(),_t(5,_ne,5,1,"div",105),A()),n&2){let t=Re();ee(5),fe("ngForOf",t.Usuarios)}}function Cne(n,e){if(n&1&&(O(0,"div",109)(1,"div",123),U(2),A(),O(3,"div",123),U(4),A(),O(5,"div",123),U(6),A(),O(7,"div",123),U(8),A()()),n&2){let t=e.$implicit;ee(2),et(t.mail),ee(2),et(t.evento?t.evento.nombre:"-"),ee(2),et(t.evento?t.evento.uuid:"-"),ee(2),et(t.fecha)}}function kne(n,e){if(n&1){let t=Ut();O(0,"div",119),U(1),O(2,"div",120)(3,"button",121),ve("click",function(){Pe(t);let r=Re(2);return De(r.principio())}),U(4,"Principio"),A(),O(5,"button",122),ve("click",function(){Pe(t);let r=Re(2);return De(r.atras())}),U(6,"Atras"),A(),O(7,"button",122),ve("click",function(){Pe(t);let r=Re(2);return De(r.siguiente())}),U(8,"Siguiente"),A(),O(9,"button",88),ve("click",function(){Pe(t);let r=Re(2);return De(r.final())}),U(10,"Final"),A()(),U(11),A()}if(n&2){let t=Re(2);ee(),Ai(" Pagina ",t.paginaTC+1," de ",t.pagU," "),ee(10),Ct(" Registros totales: ",t.Total," ")}}function Ene(n,e){if(n&1){let t=Ut();O(0,"div",75)(1,"div",76)(2,"div",77)(3,"div",78)(4,"input",79),Je("ngModelChange",function(r){Pe(t);let o=Re();return Qe(o.datoBuscarTC,r)||(o.datoBuscarTC=r),De(r)}),A(),Ce(5,"span",22),A(),O(6,"div",80)(7,"select",81),Je("ngModelChange",function(r){Pe(t);let o=Re();return Qe(o.tipoBuscarTC,r)||(o.tipoBuscarTC=r),De(r)}),O(8,"option",83),U(9,"E-mail"),A(),O(10,"option",126),U(11,"Fecha"),A(),O(12,"option",96),U(13,"Publicacion"),A(),O(14,"option",127),U(15,"ID publicacion"),A()(),Ce(16,"span",22),A(),O(17,"button",88),ve("click",function(){Pe(t);let r=Re();return De(r.recargar())}),U(18,"Buscar"),A()()(),O(19,"div",89)(20,"div",123),U(21,"Usuario"),A(),O(22,"div",123),U(23,"Publicacion"),A(),O(24,"div",123),U(25,"ID Publicacion"),A(),O(26,"div",123),U(27,"Fecha"),A()(),_t(28,Cne,9,4,"div",105)(29,kne,12,3,"div",106),A()}if(n&2){let t=Re();ee(4),Xe("ngModel",t.datoBuscarTC),ee(3),Xe("ngModel",t.tipoBuscarTC),ee(21),fe("ngForOf",t.Usuarios),ee(),fe("ngIf",t.Usuarios.length!=0)}}function Sne(n,e){if(n&1&&(O(0,"div",2)(1,"div",13)(2,"span",14),U(3,"Persona responsable:"),A(),U(4),A(),O(5,"div",13)(6,"span",14),U(7,"Razon social:"),A(),U(8),A()()),n&2){let t=Re();ee(4),Ct(" ",t.datoMostrarEMP.persona_responsable," "),ee(4),Ct(" ",t.datoMostrarEMP.razon_social," ")}}function Ane(n,e){if(n&1&&(qr(0),O(1,"option",128),U(2),A(),Gr()),n&2){let t=e.$implicit;ee(),In("value",t.name),ee(),et(t.name)}}function Tne(n,e){if(n&1&&(qr(0),O(1,"option",128),U(2),A(),Gr()),n&2){let t=e.index,i=Re();ee(),In("value",i.Paises[i.paisI].states[t]),ee(),et(i.Paises[i.paisI].states[t])}}function Ine(n,e){if(n&1){let t=Ut();O(0,"div",2)(1,"div",60)(2,"span",14),U(3,"Persona responsable:"),A(),O(4,"div",20)(5,"input",21),Je("ngModelChange",function(r){Pe(t);let o=Re();return Qe(o.datoCambioEMP.persona_responsable,r)||(o.datoCambioEMP.persona_responsable=r),De(r)}),A(),Ce(6,"span",22),A()(),O(7,"div",63)(8,"span",14),U(9,"Razon social:"),A(),O(10,"div",20)(11,"input",21),Je("ngModelChange",function(r){Pe(t);let o=Re();return Qe(o.datoCambioEMP.razon_social,r)||(o.datoCambioEMP.razon_social=r),De(r)}),A(),Ce(12,"span",22),A()()()}if(n&2){let t=Re();ee(5),fe("value",t.datoCambioEMP.persona_responsable),Xe("ngModel",t.datoCambioEMP.persona_responsable),fe("ngClass",ht(6,Qo,t.datoCambioEMP.persona_responsable!=t.datoCambioEMPCheck.persona_responsable)),ee(6),fe("value",t.datoCambioEMP.razon_social),Xe("ngModel",t.datoCambioEMP.razon_social),fe("ngClass",ht(8,Qo,t.datoCambioEMP.razon_social!=t.datoCambioEMPCheck.razon_social))}}var MN=(()=>{class n{api;excel;Usuarios=[];Total=0;pagina=0;pagU=0;error=!1;mostrar=!1;datoMostrar={};datoMostrarEMP={};mostrarCambio=!1;datoCambio={};datoCambioEMP={};datoCambioCheck={};datoCambioEMPCheck={};Paises=wh;paisI=1;flagH=!1;idCambio="";mostrarCrear=!1;mostrarCrearAdmin=!1;mostrarCrearNormal=!1;userAdmin="";passwordAdmin="";ordenar="_id";orden="1";datoBuscar="";tipoBuscar="nombre";tipoBuscarUser="";mostrarReporte=!1;passwordCambio="";passwordCambio2="";tabla=0;ordenarTC="_id";ordenTC="1";datoBuscarTC="";tipoBuscarTC="mail";paginaTC=0;constructor(t,i){this.api=t,this.excel=i}ngOnInit(){let t={token:localStorage.getItem("token"),tipo:1};this.api.cargarUsers(t).subscribe({next:i=>{this.Usuarios=[...i.users],this.Total=i.total,this.pagU=Math.ceil(this.Total/20)},error:i=>{this.error=!0}})}principio(){this.tabla==0&&(this.pagina=0),this.tabla==2&&(this.paginaTC=0),this.recargar()}atras(){this.pagina>0&&this.tabla==0?(this.pagina--,this.recargar()):this.paginaTC>0&&this.tabla==2&&(this.pagina--,this.recargar())}siguiente(){this.pagina<this.pagU-1&&this.tabla==0?(this.pagina++,this.recargar()):this.paginaTC<this.pagU-1&&this.tabla==2&&(this.pagina++,this.recargar())}final(){this.tabla==0&&(this.pagina=this.pagU-1),this.tabla==2&&(this.paginaTC=this.pagU-1),this.recargar()}recargar(){let t={token:localStorage.getItem("token"),tipo:1};this.tabla==0?this.api.cargarUsersDesde(t,this.pagina*20,this.ordenar,this.orden).subscribe({next:i=>{this.Usuarios=[...i.users],this.Total=i.total,this.pagU=Math.ceil(this.Total/20)},error:i=>{this.error=!0}}):this.tabla==1?this.api.cargarAdmins(t).subscribe({next:i=>{this.Usuarios=i.admins},error:i=>{Jo.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}}):this.api.cargarTC(t,this.paginaTC*20,this.ordenarTC,this.ordenTC,this.datoBuscarTC,this.tipoBuscarTC).subscribe({next:i=>{this.Usuarios=[...i.tcs],this.Total=i.total,this.pagU=Math.ceil(this.Total/20)},error:i=>{Jo.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}eliminar(t,i,r){Jo.default.fire({title:"Esta por borrar una cuenta",text:"\xBFDesea borrar la cuenta "+i+" ?",showCancelButton:!0,confirmButtonText:"Borrar",confirmButtonColor:"red",cancelButtonText:"Atras"}).then(o=>{if(o.isConfirmed){let s={id:t,token:localStorage.getItem("token"),tipo:1,user:r};this.api.deleteUsers(s).subscribe({next:a=>{a.ok&&Jo.default.fire({title:"Usuario eliminado con exito",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),a.ok||Jo.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),this.recargar()},error:a=>{Jo.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}})}ver(t){this.mostrar=!this.mostrar,t>=0?(this.datoMostrar=this.Usuarios[t],this.Usuarios[t].dato_empresa&&(this.datoMostrarEMP=this.Usuarios[t].dato_empresa)):(this.datoMostrar={},this.datoMostrarEMP={})}crearUser(t){t=="tipo"?this.mostrarCrear=!this.mostrarCrear:this.mostrarCrear=!1,t=="normal"&&(this.mostrarCrearNormal=!this.mostrarCrearNormal),t=="admin"&&(this.mostrarCrearAdmin=!this.mostrarCrearAdmin)}verCambio(t,i){this.flagH=!1,this.mostrarCambio=!this.mostrarCambio,this.idCambio=i,t>=0?(this.datoCambio=JSON.parse(JSON.stringify(this.Usuarios[t])),this.datoCambioCheck=JSON.parse(JSON.stringify(this.Usuarios[t])),this.Usuarios[t].dato_empresa&&(this.datoCambioEMP=JSON.parse(JSON.stringify(this.Usuarios[t].dato_empresa)),this.datoCambioEMPCheck=JSON.parse(JSON.stringify(this.Usuarios[t].dato_empresa)))):(this.datoCambio={},this.datoCambioCheck={},this.datoCambioEMP={},this.datoCambioEMPCheck={},this.idCambio=""),this.getPais(!1)}checkCambio(t){this.flagH=this.datoCambio[t].toString()!=this.datoCambioCheck[t].toString()}getPais(t){t&&(this.datoCambio.provincia="");for(let i=0;i<this.Paises.length;i++)this.Paises[i].name==this.datoCambio.pais&&(this.paisI=i)}actualizar(){if(this.passwordCambio!=this.passwordCambio2){Jo.default.fire({title:"Las contrase\xF1as no coinciden",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"});return}let t,i="user";switch(this.datoCambio.tipo){case"emp":t={persona_responsable:this.datoCambioEMP.persona_responsable,cuil_cuit:this.datoCambio.cuil_cuit,telefono:this.datoCambio.telefono,actividad:this.datoCambio.actividad,razon_social:this.datoCambioEMP.razon_social,nombre:this.datoCambio.nombre,como_encontro:this.datoCambio.como_encontro,mail:this.datoCambio.mail,pais:this.datoCambio.pais,provincia:this.datoCambio.provincia,ciudad:this.datoCambio.ciudad,postal:this.datoCambio.postal,domicilio:this.datoCambio.domicilio,habilitado:this.datoCambio.habilitado==!0||this.datoCambio.habilitado=="true",grupo:this.datoCambio.grupo,tipo:"emp"};break;case"viejo":i=this.datoCambio.tipo,t={nombre:this.datoCambio.nombre,cuil_cuit:this.datoCambio.cuil_cuit,telefono:this.datoCambio.telefono,actividad:this.datoCambio.actividad,como_encontro:this.datoCambio.como_encontro,mail:this.datoCambio.mail,pais:this.datoCambio.pais,provincia:this.datoCambio.provincia,ciudad:this.datoCambio.ciudad,postal:this.datoCambio.postal,domicilio:this.datoCambio.domicilio,habilitado:this.datoCambio.habilitado==!0||this.datoCambio.habilitado=="true",grupo:this.datoCambio.grupo,tipo:i};break;case"user":i=this.datoCambio.tipo,t={nombre:this.datoCambio.nombre,cuil_cuit:this.datoCambio.cuil_cuit,telefono:this.datoCambio.telefono,actividad:this.datoCambio.actividad,como_encontro:this.datoCambio.como_encontro,mail:this.datoCambio.mail,pais:this.datoCambio.pais,provincia:this.datoCambio.provincia,ciudad:this.datoCambio.ciudad,postal:this.datoCambio.postal,domicilio:this.datoCambio.domicilio,habilitado:this.datoCambio.habilitado==!0||this.datoCambio.habilitado=="true",grupo:this.datoCambio.grupo,tipo:i};break}let r={token:localStorage.getItem("token"),campos:t,tipo:1,id:this.idCambio,nuevaPass:this.passwordCambio};this.api.actualizarUser(r).subscribe({next:o=>{Jo.default.fire({title:"Usuario actualizado con exito",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),this.recargar(),this.verCambio(-1,"")},error(o){Jo.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}crearAdmin(){let t={token:localStorage.getItem("token"),tipo:1,usuario:this.userAdmin,pass:this.passwordAdmin};this.api.crearAdmin(t).subscribe({next:i=>{i.ok&&Jo.default.fire({title:"Usuario admin creado con exito",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),i.ok||Jo.default.fire({title:i.msg,confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})},error:i=>{Jo.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}buscarDato(){let t={token:localStorage.getItem("token"),tipo:1,dato:this.datoBuscar,datoTipo:this.tipoBuscar,datoTipoUser:this.tipoBuscarUser};this.api.buscarDato(t).subscribe({next:i=>{i.ok?i.busqueda.length>0?this.Usuarios=i.busqueda:Jo.default.fire({title:"No se encontro ningun resultado",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}):Jo.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})},error:i=>{Jo.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}reporte(){this.mostrarReporte=!this.mostrarReporte}generarExcel(t){let i={token:localStorage.getItem("token"),tipo:1,estado:t};this.api.excelUsuarios(i).subscribe({next:r=>{if(r.ok){let o=new Date,s=o.getMonth()>8?o.getMonth()+1:"0"+(o.getMonth()+1),l=(o.getDate()>9?o.getDate():"0"+o.getDate())+"-"+s+"-"+o.getFullYear(),c=t?"habilitados":"deshabilitados";this.excel.generateExcel(r.busqueda,"Usuarios "+c+" "+l)}else Jo.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})},error:r=>{Jo.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}cambiarTabla(t){this.tabla=t,this.recargar()}static \u0275fac=function(i){return new(i||n)(ze(Xi),ze(h_))};static \u0275cmp=Lt({type:n,selectors:[["app-usuarios"]],standalone:!0,features:[Ht],decls:319,vars:139,consts:[[1,"borderAzul","margin5","rounded","datoLote",2,"display","flex","flex-direction","column","align-items","center"],[2,"display","flex","width","100%","justify-content","space-between","align-items","center"],[2,"display","flex"],[3,"click","ngClass"],[2,"margin-left","3%","margin-right","3%"],[1,"boton","boton2","border","rounded","botones",2,"border-top-right-radius","0","border-bottom-right-radius","0",3,"click"],[1,"boton","boton2","border","rounded","botones",2,"border-top-left-radius","0","border-bottom-left-radius","0",3,"click"],[2,"border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%"],["style","width: 100%;",4,"ngIf"],["id","myModal",1,"modal",3,"ngClass"],[1,"modal-content"],[2,"display","flex","justify-content","flex-end","font-size","x-large"],[1,"fa-solid","fa-xmark","icerrar",3,"click"],[1,"celda",2,"width","50%"],[2,"font-weight","bold","text-decoration","underline","width","35%"],[1,"celda",2,"width","50%","border-right","none"],[1,"celda","borderAbajo",2,"width","50%"],[1,"celda","borderAbajo",2,"width","50%","border-right","none"],["style","display: flex;",4,"ngIf"],[1,"celda",2,"width","50%","display","flex","align-items","center","display","flex","align-items","center"],[1,"col-3",2,"width","60%","margin-left","2%"],["type","text",1,"effect-1",2,"width","100%","height","2rem","background","#ececec",3,"ngModelChange","value","ngModel","ngClass"],[1,"focus-border2"],[1,"celda",2,"width","50%","display","flex","align-items","center","border-right","none"],[1,"celda",2,"width","50%","display","flex","align-items","center"],[1,"effect-1",2,"width","100%","height","2rem","background","#ececec",3,"ngModelChange","change","value","ngModel","ngClass"],[4,"ngFor","ngForOf"],[1,"effect-1",2,"width","100%","height","2rem","background","#ececec",3,"ngModelChange","value","ngModel","ngClass"],["value","ACTIVIDADES ADMINISTRATIVAS Y SERVICIOS DE APOYO"],["value","ADMINISTRACION PUBLICA, DEFENSA Y SEGURIDAD SOCIAL OBLIGATORIA"],["value","AGRICULTURA, GANADER\xCDA, CAZA, SILVICULTURA Y PESCA"],["value","COMERCIO AL POR MAYOR Y AL POR MENOR; REPARACI\xD3N DE VEH\xCDCULOS AUTOMOTORES Y MOTOCICLETAS"],["value","CONSTRUCCI\xD3N"],["value","ENSE\xD1ANZA"],["value","EXPLOTACI\xD3N DE MINAS Y CANTERAS"],["value","INDUSTRIA MANUFACTURERA"],["value","INFORMACI\xD3N Y COMUNICACIONES"],["value","INTERMEDIACI\xD3N FINANCIERA Y SERVICIOS DE SEGUROS"],["value","SALUD HUMANA Y SERVICIOS SOCIALES"],["value","SERVICIOS ART\xCDSTICOS, CULTURALES, DEPORTIVOS Y DE ESPARCIMIENTO"],["value","SERVICIOS DE ALOJAMIENTO Y SERVICIOS DE COMIDA"],["value","SERVICIOS DE ASOCIACIONES Y SERVICIOS PERSONALES"],["value","SERVICIOS DE HOGARES PRIVADOS QUE CONTRATAN SERVICIO DOMESTICO"],["value","SERVICIOS DE ORGANIZACIONES Y \xD3RGANOS EXTRATERRITORIALES"],["value","SERVICIOS DE TRANSPORTE Y ALMACENAMIENTO"],["value","SERVICIOS INMOBILIARIOS"],["value","SERVICIOS PROFESIONALES, CIENT\xCDFICOS Y T\xC9CNICOS"],["value","SUMINISTRO DE AGUA, CLOACAS, GESTI\xD3N DE RESIDUOS Y RECUPERACI\xD3N DE MATERIALES Y SANEAMIENTO P\xDABLICO"],["value","SUMINISTRO DE ELECTRICIDAD, GAS, VAPOR Y AIRE ACONDICIONADO"],["value","OTRA"],[2,"font-weight","bold","text-decoration","underline","width","35%","margin-right","2%"],["value","true"],["value","false"],[1,"celda","borderAbajo",2,"width","50%","display","flex","align-items","center"],[1,"celda","borderAbajo",2,"width","50%","display","flex","align-items","center","border-right","none"],["value","general"],["value","chocado"],["value","desarmadero"],["value","otro"],["type","text",1,"effect-1",2,"width","100%","height","2rem","background","#ececec",3,"ngModelChange","ngModel","ngClass"],[1,"celda",2,"width","50%","display","flex","align-items","center","border-left","none","border-top","none"],["value","user"],["value","emp"],[1,"celda",2,"width","50%","display","flex","align-items","center","border-right","none","border-top","none"],[1,"celda",2,"width","50%","display","flex","align-items","center","border-right","none","justify-content","flex-end"],[1,"boton","boton2","border","rounded","botones",3,"click"],[2,"display","flex","justify-content","space-evenly"],[1,"boton","boton2","border","rounded","botones",2,"width","20rem",3,"click"],["id","myModal",1,"modal",2,"overflow","auto",3,"ngClass"],[1,"marginCerrar",2,"display","flex","justify-content","flex-end","font-size","xxx-large"],[2,"display","flex","flex-direction","column","align-items","center"],[1,"col-3",2,"margin-bottom","2%","width","30%"],["for","user"],["type","text",1,"effect-1",2,"width","100%","height","2rem","background","#ececec",3,"ngModelChange","ngModel"],[2,"width","100%","display","flex","align-items","center","border-right","none","justify-content","center"],[2,"width","100%"],[2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%","align-items","center","border-right","none"],[1,"celda",2,"border-right","none","display","flex","width","100%"],[1,"col-3",2,"width","26.5%","border-right","1px solid rgb(48, 131, 220, 0.2)"],["type","text","placeholder","Ingrese un dato para buscar",1,"effect-1",2,"height","2rem","width","100%",3,"ngModelChange","ngModel"],[1,"col-3",2,"width","7rem"],[1,"effect-1",2,"width","100%","height","2rem",3,"ngModelChange","ngModel"],["value","nombre","selected",""],["value","mail"],["value","telefono"],["value","cuil_cuit"],["value","","selected",""],["value","viejo"],[1,"border","rounded","boton","boton2","paginacion",2,"border-top-left-radius","0","border-bottom-left-radius","0",3,"click"],[2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%","align-items","center"],[1,"celda","username",2,"width","25%"],[1,"celda","username",2,"width","12%"],[1,"celda",2,"border-right","none","display","flex"],[1,"col-3",2,"width","60%"],[1,"effect-1",2,"width","100%","height","2rem",3,"ngModelChange","change","ngModel"],["value","_id","selected","","hidden",""],["value","nombre"],["value","habilitado"],["value","validado"],["value","_id"],[1,"col-3",2,"width","40%"],["value","1","selected",""],["value","-1"],["class","load",4,"ngIf"],[4,"ngIf"],["class","linea","style","display: flex; border-bottom: 1px solid rgb(48, 131, 220, 0.2); width: 100%;",4,"ngFor","ngForOf"],["style","font-family: Avenir; margin-top: 2%; display: flex; justify-content: flex-end; width: 100%; align-items: center;",4,"ngIf"],[1,"load"],[1,"fa-solid","fa-spinner","ispinner",2,"font-size","3rem"],[1,"linea",2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%"],[1,"fa-solid",3,"ngClass"],[1,"celda",2,"border-right","none","display","flex","justify-content","flex-end","font-size","medium","padding-top","0.5%","padding-bottom","0.5%"],[1,"fa-solid","fa-clock","ibtn","tooltip"],[1,"tooltiptext","glassTrue","rounded","border"],[1,"fa-solid","fa-user","ibtn","tooltip",3,"ngClass"],[1,"fa-solid","fa-at","ibtn","tooltip",3,"ngClass"],[1,"fa-regular","fa-eye","boton2","border","rounded","ibtn",3,"click"],[1,"fa-solid","fa-pen-to-square","boton2","border","rounded","ibtn",3,"click"],[1,"fa-solid","fa-trash-can","boton2","border","rounded","ibtn",3,"click"],[2,"font-family","Avenir","margin-top","2%","display","flex","justify-content","flex-end","width","100%","align-items","center"],[2,"margin-right","2%","margin-left","2%"],[1,"border","rounded","boton","boton2","paginacion",2,"border-top-right-radius","0","border-bottom-right-radius","0",3,"click"],[1,"border","rounded","boton","boton2","paginacion",2,"border-top-right-radius","0","border-bottom-right-radius","0","border-top-left-radius","0","border-bottom-left-radius","0",3,"click"],[1,"celda","username",2,"width","75%"],[1,"celda","username",2,"width","25%","border-right","none"],[1,"celda",2,"width","25%","border-right","none","display","flex","justify-content","flex-end","font-size","medium","padding-top","0.5%","padding-bottom","0.5%"],["value","fecha"],["value","uuid"],["selected","",3,"value"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),ve("click",function(){return r.cambiarTabla(0)}),U(4,"Usuarios"),A(),O(5,"h1",4),U(6,"/"),A(),O(7,"h1",3),ve("click",function(){return r.cambiarTabla(1)}),U(8,"Admins"),A(),O(9,"h1",4),U(10,"/"),A(),O(11,"h1",3),ve("click",function(){return r.cambiarTabla(2)}),U(12,"T&C"),A()(),O(13,"div")(14,"button",5),ve("click",function(){return r.reporte()}),U(15,"Generar reporte"),A(),O(16,"button",6),ve("click",function(){return r.crearUser("tipo")}),U(17,"Agregar usuario"),A()()(),Ce(18,"div",7),_t(19,yne,70,9,"div",8)(20,xne,6,1,"div",8)(21,Ene,30,4,"div",8),A(),O(22,"div",9)(23,"div",10)(24,"div",11)(25,"i",12),ve("click",function(){return r.ver(-1)}),A()(),O(26,"div",2)(27,"div",13)(28,"span",14),U(29,"Nombre:"),A(),U(30),A(),O(31,"div",15)(32,"span",14),U(33,"CUIL/CUIT:"),A(),U(34),A()(),O(35,"div",2)(36,"div",13)(37,"span",14),U(38,"Mail:"),A(),U(39),A(),O(40,"div",15)(41,"span",14),U(42,"Telefono:"),A(),U(43),A()(),O(44,"div",2)(45,"div",13)(46,"span",14),U(47,"Pais:"),A(),U(48),A(),O(49,"div",15)(50,"span",14),U(51,"Provincia:"),A(),U(52),A()(),O(53,"div",2)(54,"div",13)(55,"span",14),U(56,"Ciudad:"),A(),U(57),A(),O(58,"div",15)(59,"span",14),U(60,"Codigo Postal:"),A(),U(61),A()(),O(62,"div",2)(63,"div",13)(64,"span",14),U(65,"Domicilio:"),A(),U(66),A(),O(67,"div",15)(68,"span",14),U(69,"Actividad:"),A(),U(70),A()(),O(71,"div",2)(72,"div",13)(73,"span",14),U(74,"Validado:"),A(),U(75),A(),O(76,"div",15)(77,"span",14),U(78,"Habilitado:"),A(),U(79),A()(),O(80,"div",2)(81,"div",16)(82,"span",14),U(83,"Como encontro:"),A(),U(84),A(),O(85,"div",17)(86,"span",14),U(87,"Grupo:"),A(),U(88),A()(),O(89,"div",2)(90,"div",13)(91,"span",14),U(92,"Tipo de cuenta:"),A(),U(93),A(),Ce(94,"div",15),A(),_t(95,Sne,9,2,"div",18),A()(),O(96,"div",9)(97,"div",10)(98,"div",11)(99,"i",12),ve("click",function(){return r.verCambio(-1,"")}),A()(),O(100,"div",2)(101,"div",19)(102,"span",14),U(103,"Nombre:"),A(),O(104,"div",20)(105,"input",21),Je("ngModelChange",function(s){return Qe(r.datoCambio.nombre,s)||(r.datoCambio.nombre=s),s}),A(),Ce(106,"span",22),A()(),O(107,"div",23)(108,"span",14),U(109,"CUIL/CUIT:"),A(),O(110,"div",20)(111,"input",21),Je("ngModelChange",function(s){return Qe(r.datoCambio.cuil_cuit,s)||(r.datoCambio.cuil_cuit=s),s}),A(),Ce(112,"span",22),A()()(),O(113,"div",2)(114,"div",24)(115,"span",14),U(116,"Mail:"),A(),O(117,"div",20)(118,"input",21),Je("ngModelChange",function(s){return Qe(r.datoCambio.mail,s)||(r.datoCambio.mail=s),s}),A(),Ce(119,"span",22),A()(),O(120,"div",23)(121,"span",14),U(122,"Telefono:"),A(),O(123,"div",20)(124,"input",21),Je("ngModelChange",function(s){return Qe(r.datoCambio.telefono,s)||(r.datoCambio.telefono=s),s}),A(),Ce(125,"span",22),A()()(),O(126,"div",2)(127,"div",24)(128,"span",14),U(129,"Pais:"),A(),O(130,"div",20)(131,"select",25),Je("ngModelChange",function(s){return Qe(r.datoCambio.pais,s)||(r.datoCambio.pais=s),s}),ve("change",function(){return r.getPais(!0)}),_t(132,Ane,3,2,"ng-container",26),A(),Ce(133,"span",22),A()(),O(134,"div",23)(135,"span",14),U(136,"Provincia:"),A(),O(137,"div",20)(138,"select",27),Je("ngModelChange",function(s){return Qe(r.datoCambio.provincia,s)||(r.datoCambio.provincia=s),s}),_t(139,Tne,3,2,"ng-container",26),A(),Ce(140,"span",22),A()()(),O(141,"div",2)(142,"div",24)(143,"span",14),U(144,"Ciudad:"),A(),O(145,"div",20)(146,"input",21),Je("ngModelChange",function(s){return Qe(r.datoCambio.ciudad,s)||(r.datoCambio.ciudad=s),s}),A(),Ce(147,"span",22),A()(),O(148,"div",23)(149,"span",14),U(150,"Codigo Postal:"),A(),O(151,"div",20)(152,"input",21),Je("ngModelChange",function(s){return Qe(r.datoCambio.postal,s)||(r.datoCambio.postal=s),s}),A(),Ce(153,"span",22),A()()(),O(154,"div",2)(155,"div",24)(156,"span",14),U(157,"Domicilio:"),A(),O(158,"div",20)(159,"input",21),Je("ngModelChange",function(s){return Qe(r.datoCambio.domicilio,s)||(r.datoCambio.domicilio=s),s}),A(),Ce(160,"span",22),A()(),O(161,"div",23)(162,"span",14),U(163,"Actividad:"),A(),O(164,"div",20)(165,"select",27),Je("ngModelChange",function(s){return Qe(r.datoCambio.actividad,s)||(r.datoCambio.actividad=s),s}),O(166,"option",28),U(167,"ACTIVIDADES ADMINISTRATIVAS Y SERVICIOS DE APOYO"),A(),O(168,"option",29),U(169,"ADMINISTRACION PUBLICA, DEFENSA Y SEGURIDAD SOCIAL OBLIGATORIA"),A(),O(170,"option",30),U(171,"AGRICULTURA, GANADER\xCDA, CAZA, SILVICULTURA Y PESCA"),A(),O(172,"option",31),U(173,"COMERCIO AL POR MAYOR Y AL POR MENOR; REPARACI\xD3N DE VEH\xCDCULOS AUTOMOTORES Y MOTOCICLETAS"),A(),O(174,"option",32),U(175,"CONSTRUCCI\xD3N"),A(),O(176,"option",33),U(177,"ENSE\xD1ANZA"),A(),O(178,"option",34),U(179,"EXPLOTACI\xD3N DE MINAS Y CANTERAS"),A(),O(180,"option",35),U(181,"INDUSTRIA MANUFACTURERA"),A(),O(182,"option",36),U(183,"INFORMACI\xD3N Y COMUNICACIONES"),A(),O(184,"option",37),U(185,"INTERMEDIACI\xD3N FINANCIERA Y SERVICIOS DE SEGUROS"),A(),O(186,"option",38),U(187,"SALUD HUMANA Y SERVICIOS SOCIALES"),A(),O(188,"option",39),U(189,"SERVICIOS ART\xCDSTICOS, CULTURALES, DEPORTIVOS Y DE ESPARCIMIENTO"),A(),O(190,"option",40),U(191,"SERVICIOS DE ALOJAMIENTO Y SERVICIOS DE COMIDA"),A(),O(192,"option",41),U(193,"SERVICIOS DE ASOCIACIONES Y SERVICIOS PERSONALES"),A(),O(194,"option",42),U(195,"SERVICIOS DE HOGARES PRIVADOS QUE CONTRATAN SERVICIO DOMESTICO"),A(),O(196,"option",43),U(197,"SERVICIOS DE ORGANIZACIONES Y \xD3RGANOS EXTRATERRITORIALES"),A(),O(198,"option",44),U(199,"SERVICIOS DE TRANSPORTE Y ALMACENAMIENTO"),A(),O(200,"option",45),U(201,"SERVICIOS INMOBILIARIOS"),A(),O(202,"option",46),U(203,"SERVICIOS PROFESIONALES, CIENT\xCDFICOS Y T\xC9CNICOS"),A(),O(204,"option",47),U(205,"SUMINISTRO DE AGUA, CLOACAS, GESTI\xD3N DE RESIDUOS Y RECUPERACI\xD3N DE MATERIALES Y SANEAMIENTO P\xDABLICO"),A(),O(206,"option",48),U(207,"SUMINISTRO DE ELECTRICIDAD, GAS, VAPOR Y AIRE ACONDICIONADO"),A(),O(208,"option",49),U(209,"OTRA"),A()(),Ce(210,"span",22),A()()(),O(211,"div",2)(212,"div",24)(213,"span",50),U(214,"Validado: "),A(),U(215),A(),O(216,"div",23)(217,"span",14),U(218,"Habilitado:"),A(),O(219,"div",20)(220,"select",25),Je("ngModelChange",function(s){return Qe(r.datoCambio.habilitado,s)||(r.datoCambio.habilitado=s),s}),ve("change",function(){return r.checkCambio("habilitado")}),O(221,"option",51),U(222,"Habilitado"),A(),O(223,"option",52),U(224,"Deshabilitado"),A()(),Ce(225,"span",22),A()()(),O(226,"div",2)(227,"div",53)(228,"span",14),U(229,"Como encontro:"),A(),O(230,"div",20)(231,"input",21),Je("ngModelChange",function(s){return Qe(r.datoCambio.como_encontro,s)||(r.datoCambio.como_encontro=s),s}),A(),Ce(232,"span",22),A()(),O(233,"div",54)(234,"span",14),U(235,"Grupo:"),A(),O(236,"div",20)(237,"select",27),Je("ngModelChange",function(s){return Qe(r.datoCambio.grupo,s)||(r.datoCambio.grupo=s),s}),O(238,"option",55),U(239,"General"),A(),O(240,"option",56),U(241,"Chocado"),A(),O(242,"option",57),U(243,"Desarmadero"),A(),O(244,"option",58),U(245,"Otro"),A()(),Ce(246,"span",22),A()()(),O(247,"div",2)(248,"div",53)(249,"span",14),U(250,"Contrase\xF1a:"),A(),O(251,"div",20)(252,"input",59),Je("ngModelChange",function(s){return Qe(r.passwordCambio,s)||(r.passwordCambio=s),s}),A(),Ce(253,"span",22),A()(),O(254,"div",54)(255,"span",14),U(256,"Repita contrase\xF1a:"),A(),O(257,"div",20)(258,"input",59),Je("ngModelChange",function(s){return Qe(r.passwordCambio2,s)||(r.passwordCambio2=s),s}),A(),Ce(259,"span",22),A()()(),O(260,"div",2)(261,"div",60)(262,"span",14),U(263,"Tipo de usuario:"),A(),O(264,"div",20)(265,"select",27),Je("ngModelChange",function(s){return Qe(r.datoCambio.tipo,s)||(r.datoCambio.tipo=s),s}),O(266,"option",61),U(267,"Usuario"),A(),O(268,"option",62),U(269,"Empresa"),A()(),Ce(270,"span",22),A()(),Ce(271,"div",63),A(),_t(272,Ine,13,10,"div",18),O(273,"div",2),Ce(274,"div",23),O(275,"div",64)(276,"button",65),ve("click",function(){return r.actualizar()}),U(277,"Actualizar"),A()()()()(),O(278,"div",9)(279,"div",10)(280,"div",11)(281,"i",12),ve("click",function(){return r.crearUser("tipo")}),A()(),O(282,"div",66)(283,"button",67),ve("click",function(){return r.crearUser("admin")}),U(284,"Crear usuario Admin"),A(),O(285,"button",67),ve("click",function(){return r.crearUser("normal")}),U(286,"Crear usuario Empresa / Persona"),A()()()(),O(287,"div",68)(288,"div",10)(289,"div",69)(290,"i",12),ve("click",function(){return r.crearUser("normal")}),A()(),Ce(291,"app-logreg"),A()(),O(292,"div",9)(293,"div",10)(294,"div",11)(295,"i",12),ve("click",function(){return r.crearUser("admin")}),A()(),O(296,"div",70)(297,"div",71)(298,"label",72),U(299,"Usuario "),A(),O(300,"input",73),Je("ngModelChange",function(s){return Qe(r.userAdmin,s)||(r.userAdmin=s),s}),A(),Ce(301,"span",22),A(),O(302,"div",71)(303,"label",72),U(304,"Contrase\xF1a"),A(),O(305,"input",73),Je("ngModelChange",function(s){return Qe(r.passwordAdmin,s)||(r.passwordAdmin=s),s}),A(),Ce(306,"span",22),A()(),O(307,"div",74)(308,"button",65),ve("click",function(){return r.crearAdmin()}),U(309,"Crear"),A()()()(),O(310,"div",9)(311,"div",10)(312,"div",11)(313,"i",12),ve("click",function(){return r.reporte()}),A()(),O(314,"div",66)(315,"button",67),ve("click",function(){return r.generarExcel(!0)}),U(316,"Reporte habilitados"),A(),O(317,"button",67),ve("click",function(){return r.generarExcel(!1)}),U(318,"Reporte NO habilitados"),A()()()()),i&2&&(ee(3),fe("ngClass",dn(80,yS,r.tabla==0,r.tabla!=0)),ee(4),fe("ngClass",dn(83,yS,r.tabla==1,r.tabla!=1)),ee(4),fe("ngClass",dn(86,yS,r.tabla==2,r.tabla!=2)),ee(8),fe("ngIf",r.tabla==0),ee(),fe("ngIf",r.tabla==1),ee(),fe("ngIf",r.tabla==2),ee(),fe("ngClass",dn(89,tg,!r.mostrar,r.mostrar)),ee(8),Ct(" ",r.datoMostrar.nombre," "),ee(4),Ct(" ",r.datoMostrar.cuil_cuit," "),ee(5),Ct(" ",r.datoMostrar.mail," "),ee(4),Ct(" ",r.datoMostrar.telefono," "),ee(5),Ct(" ",r.datoMostrar.pais," "),ee(4),Ct(" ",r.datoMostrar.provincia," "),ee(5),Ct(" ",r.datoMostrar.ciudad," "),ee(4),Ct(" ",r.datoMostrar.postal," "),ee(5),Ct(" ",r.datoMostrar.domicilio," "),ee(4),Ct(" ",r.datoMostrar.actividad," "),ee(5),Ct(" ",r.datoMostrar.validado?"validado":"invalidado"," "),ee(4),Ct(" ",r.datoMostrar.habilitado?"habilitado":"deshabilitado"," "),ee(5),Ct(" ",r.datoMostrar.como_encontro," "),ee(4),Ct(" ",r.datoMostrar.grupo," "),ee(5),Ct(" ",r.datoMostrar.tipo=="user"?"Usuario":r.datoMostrar.tipo=="emp"?"Empresa":"Necesita definir"," "),ee(2),fe("ngIf",r.datoMostrar.tipo=="emp"),ee(),fe("ngClass",dn(92,tg,!r.mostrarCambio,r.mostrarCambio)),ee(9),fe("value",r.datoCambio.nombre),Xe("ngModel",r.datoCambio.nombre),fe("ngClass",ht(95,Qo,r.datoCambio.nombre!=r.datoCambioCheck.nombre)),ee(6),fe("value",r.datoCambio.cuil_cuit),Xe("ngModel",r.datoCambio.cuil_cuit),fe("ngClass",ht(97,Qo,r.datoCambio.cuil_cuit!=r.datoCambioCheck.cuil_cuit)),ee(7),fe("value",r.datoCambio.mail),Xe("ngModel",r.datoCambio.mail),fe("ngClass",ht(99,Qo,r.datoCambio.mail!=r.datoCambioCheck.mail)),ee(6),fe("value",r.datoCambio.telefono),Xe("ngModel",r.datoCambio.telefono),fe("ngClass",ht(101,Qo,r.datoCambio.telefono!=r.datoCambioCheck.telefono)),ee(7),fe("value",r.datoCambio.pais),Xe("ngModel",r.datoCambio.pais),fe("ngClass",ht(103,Qo,r.datoCambio.pais!=r.datoCambioCheck.pais)),ee(),fe("ngForOf",r.Paises),ee(6),fe("value",r.datoCambio.provincia),Xe("ngModel",r.datoCambio.provincia),fe("ngClass",ht(105,Qo,r.datoCambio.provincia!=r.datoCambioCheck.provincia)),ee(),fe("ngForOf",r.Paises[r.paisI].states),ee(7),fe("value",r.datoCambio.ciudad),Xe("ngModel",r.datoCambio.ciudad),fe("ngClass",ht(107,Qo,r.datoCambio.ciudad!=r.datoCambioCheck.ciudad)),ee(6),fe("value",r.datoCambio.postal),Xe("ngModel",r.datoCambio.postal),fe("ngClass",ht(109,Qo,r.datoCambio.postal!=r.datoCambioCheck.postal)),ee(7),fe("value",r.datoCambio.domicilio),Xe("ngModel",r.datoCambio.domicilio),fe("ngClass",ht(111,Qo,r.datoCambio.domicilio!=r.datoCambioCheck.domicilio)),ee(6),fe("value",r.datoCambio.actividad),Xe("ngModel",r.datoCambio.actividad),fe("ngClass",ht(113,Qo,r.datoCambio.actividad!=r.datoCambioCheck.actividad)),ee(50),Ct(" ",r.datoCambio.validado?"validado":"invalidado"," "),ee(5),fe("value",r.datoCambio.habilitado),Xe("ngModel",r.datoCambio.habilitado),fe("ngClass",ht(115,Qo,r.flagH)),ee(11),fe("value",r.datoCambio.como_encontro),Xe("ngModel",r.datoCambio.como_encontro),fe("ngClass",ht(117,Qo,r.datoCambio.como_encontro!=r.datoCambioCheck.como_encontro)),ee(6),fe("value",r.datoCambio.grupo),Xe("ngModel",r.datoCambio.grupo),fe("ngClass",ht(119,Qo,r.datoCambio.grupo!=r.datoCambioCheck.grupo)),ee(15),Xe("ngModel",r.passwordCambio),fe("ngClass",ht(121,Qo,r.passwordCambio!="")),ee(6),Xe("ngModel",r.passwordCambio2),fe("ngClass",ht(123,Qo,r.passwordCambio2!="")),ee(7),fe("value",r.datoCambio.tipo),Xe("ngModel",r.datoCambio.tipo),fe("ngClass",ht(125,Qo,r.datoCambio.tipo!=r.datoCambioCheck.tipo)),ee(7),fe("ngIf",r.datoCambio.tipo=="emp"),ee(6),fe("ngClass",dn(127,tg,!r.mostrarCrear,r.mostrarCrear)),ee(9),fe("ngClass",dn(130,tg,!r.mostrarCrearNormal,r.mostrarCrearNormal)),ee(5),fe("ngClass",dn(133,tg,!r.mostrarCrearAdmin,r.mostrarCrearAdmin)),ee(8),Xe("ngModel",r.userAdmin),ee(5),Xe("ngModel",r.passwordAdmin),ee(5),fe("ngClass",dn(136,tg,!r.mostrarReporte,r.mostrarReporte)))},dependencies:[sn,Zn,Ti,Rn,Hn,Cr,kr,mi,ar,oi,ti,d_],styles:[".celda[_ngcontent-%COMP%]{border-right:1px solid rgb(48,131,220,.2);border-color:#3083dc33!important;width:16%;padding:1%;font-family:Avenir}.celda[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:2%}.linea[_ngcontent-%COMP%]{transition:all .5s linear}.linea[_ngcontent-%COMP%]:hover{background-color:#ff900033}.load[_ngcontent-%COMP%]{display:flex;align-items:center;width:20%;justify-content:space-around}.paginacion[_ngcontent-%COMP%]{height:2rem;width:6rem;font-size:medium}@media (max-width: 650px){.paginacion[_ngcontent-%COMP%]{width:3.5rem}}.paginacionof[_ngcontent-%COMP%]{height:2rem;width:8rem;font-size:medium}@media (max-width: 650px){.paginacionof[_ngcontent-%COMP%]{width:3.5rem}}.ibtn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:2rem}.ibtn[_ngcontent-%COMP%]:hover{cursor:pointer}.tooltip[_ngcontent-%COMP%]{position:relative}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;padding:.25em .5em;color:#fff;text-align:center;white-space:nowrap;position:absolute;z-index:1;top:-60%;left:-30%;transition-property:visibility;transition-delay:0s;font-family:avenir}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;transition-delay:.3s}.modal[_ngcontent-%COMP%]{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:7% auto;margin-top:7rem;padding:1%;border:1px solid var(--amarello);width:80%}@media (max-width: 1000px){.modal-content[_ngcontent-%COMP%]{width:97.5%!important}}.campoOferta[_ngcontent-%COMP%]{width:30rem}@media (max-width: 530px){.campoOferta[_ngcontent-%COMP%]{width:100%}}@media (max-width: 600px){.datoLote[_ngcontent-%COMP%]{font-size:smaller}}.icerrar[_ngcontent-%COMP%]{color:var(--amarello)}.icerrar[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--blue)}.borderAbajo[_ngcontent-%COMP%]{border-bottom:1px solid rgb(48,131,220,.2)}.marginCerrar[_ngcontent-%COMP%]{margin-right:5rem}@media (max-width: 1000px){.marginCerrar[_ngcontent-%COMP%]{margin-right:2rem}}.h1btn[_ngcontent-%COMP%]:hover{color:var(--amarello);cursor:pointer}.h1btn2[_ngcontent-%COMP%]{color:var(--amarello);text-decoration:underline}.none2[_ngcontent-%COMP%]{transform:scale3d(1,0,1);visibility:hidden;opacity:0}.campoUser[_ngcontent-%COMP%]{display:flex}@media (max-width: 650px){.campoUser[_ngcontent-%COMP%]{flex-wrap:wrap}.campoUser[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important}}"]})}return n})();var nc=(()=>{class n{api;router;constructor(t,i){this.api=t,this.router=i}canActivate(t,i){if(!localStorage.getItem("token"))return this.router.navigate(["/"]),!1;let r={token:localStorage.getItem("token"),tipo:3};this.api.checkTokenA(r).subscribe({next:o=>(this.api.setUserAdmin(o.user),o.ok),error:o=>(this.router.navigate(["/"]),!1)})}static \u0275fac=function(i){return new(i||n)(Tt(Un),Tt(Ro))};static \u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var f_=Qr(Eo());var PN=(n,e)=>({"fa-eye-slash bgblack":n,"fa-eye bgwhite":e}),DN=(()=>{class n{ruta;api;verificado=null;token=null;pass1="";pass2="";type="password";alertas="";constructor(t,i){this.ruta=t,this.api=i}mostrar(){this.type=this.type=="password"?"text":"password"}cambiar(){if(this.alertas=this.pass1!=this.pass2?"Las contrase\xF1as no coinciden":"",(this.pass2==""||this.pass1=="")&&(this.alertas="Complete los campos"),this.alertas==""){this.token=this.ruta.snapshot.paramMap.get("token");let t={token:this.token,pass:this.pass1,tipo:4};this.api.cambiarPass(t).subscribe({next:i=>{i.ok&&f_.default.fire({title:"Contrase\xF1a cambiada con exito",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),i.ok||f_.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})},error(i){f_.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}}static \u0275fac=function(i){return new(i||n)(ze(As),ze(Un))};static \u0275cmp=Lt({type:n,selectors:[["app-cambiar-pass"]],standalone:!0,features:[Ht],decls:24,vars:14,consts:[[1,"svh"],[1,"border","margin5","rounded","seccion",2,"height","70vh","width","100%","justify-content","center"],[1,"mitad",2,"display","flex","flex-direction","column"],[1,"col-3",2,"margin-bottom","2%"],["for","password"],[1,"msg"],[2,"display","flex"],["placeholder","Contrase\xF1a",1,"effect-1",2,"width","90%",3,"ngModelChange","type","ngModel"],[1,"fa-solid",3,"click","ngClass"],[1,"focus-border"],["for","password2"],["placeholder","Repita la Contrase\xF1a",1,"effect-1",2,"width","90%",3,"ngModelChange","type","ngModel"],[2,"text-align","end"],[1,"boton","border","rounded","botones",3,"click"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),U(5,"Nueva contrase\xF1a "),A(),O(6,"span",5),U(7),A(),O(8,"div",6)(9,"input",7),Je("ngModelChange",function(s){return Qe(r.pass1,s)||(r.pass1=s),s}),A(),O(10,"i",8),ve("click",function(){return r.mostrar()}),A(),Ce(11,"span",9),A()(),O(12,"div",3)(13,"label",10),U(14,"Repita nueva Contrase\xF1a "),A(),O(15,"span",5),U(16),A(),O(17,"div",6)(18,"input",11),Je("ngModelChange",function(s){return Qe(r.pass2,s)||(r.pass2=s),s}),A(),O(19,"i",8),ve("click",function(){return r.mostrar()}),A(),Ce(20,"span",9),A()(),O(21,"div",12)(22,"button",13),ve("click",function(){return r.cambiar()}),U(23,"Cambiar"),A()()()()()),i&2&&(ee(7),et(r.alertas),ee(2),In("type",r.type),Xe("ngModel",r.pass1),ee(),fe("ngClass",dn(8,PN,r.type=="password",r.type=="text")),ee(6),et(r.alertas),ee(2),In("type",r.type),Xe("ngModel",r.pass2),ee(),fe("ngClass",dn(11,PN,r.type=="password",r.type=="text")))},dependencies:[sn,Zn,Hn,mi,oi,ti],styles:[".cuadro[_ngcontent-%COMP%]{font-size:large;text-align:center;width:15rem;align-content:center;height:2rem;background-color:var(--white)}@media (max-width: 560px){.cuadro[_ngcontent-%COMP%]{font-size:small}}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;height:3rem}i[_ngcontent-%COMP%]{height:3rem;text-align:center;display:flex;align-items:center;justify-content:center;width:10%;cursor:pointer}i[_ngcontent-%COMP%]:hover{background-color:#4e4e4e;transition:all .2s linear}.bgblack[_ngcontent-%COMP%]{background-color:var(--black);color:var(--white)}.bgwhite[_ngcontent-%COMP%]{background-color:var(--white);color:var(--black)}.col-3[_ngcontent-%COMP%]{width:50%}@media (max-width: 1000px){.col-3[_ngcontent-%COMP%]{width:100%}}h1[_ngcontent-%COMP%]{text-decoration:underline;color:var(--blue)}@media (max-width: 500px){h1[_ngcontent-%COMP%]{font-size:x-large}}.mitad[_ngcontent-%COMP%]{width:50%}.mitad[_ngcontent-%COMP%]   .col-3[_ngcontent-%COMP%]{width:100%}@media (max-width: 1000px){.mitad[_ngcontent-%COMP%]{width:100%}}.boton2[_ngcontent-%COMP%]:hover{background-color:var(--blue)}.linea[_ngcontent-%COMP%]{display:flex;margin-bottom:2%}@media (max-width: 1000px){.linea[_ngcontent-%COMP%]{flex-direction:column}}.acceso[_ngcontent-%COMP%]{display:flex}@media (max-width: 1000px){.acceso[_ngcontent-%COMP%]{flex-direction:column}}"]})}return n})();var D1=Qr(Eo());var m_=n=>({changed:n}),ON=(()=>{class n{api;apiAdmin;campos=[{id:-10,texto:"",clase:!0},{id:-10,texto:"",clase:!0},{id:-10,texto:"",clase:!0},{id:-10,texto:"",clase:!0}];campos2=[{id:-10,texto:""},{id:-10,texto:""},{id:-10,texto:""},{id:-10,texto:""}];let="";constructor(t,i){this.api=t,this.apiAdmin=i}ngOnInit(){this.api.cargarWeb().subscribe({next:t=>{if(t.ok)for(let i=0;i<t.datos.length;i++)this.campos[i]=Object.assign({},t.datos[i]),this.campos[i].texto=this.campos[i].texto.replace(/\\n/g,`
`),this.campos[i].clase=!0,this.campos2[i]=Object.assign({},t.datos[i]),this.campos2[i].texto=this.campos2[i].texto.replace(/\\n/g,`
`)},error:t=>{D1.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}actualizar(t,i){if(this.campos[t].texto==this.campos2[t].texto&&this.campos[i].texto==this.campos2[i].texto){D1.default.fire({title:"Los datos no han cambiado",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"});return}let r={token:localStorage.getItem("token"),tipo:1,campo1:this.campos[t],campo2:this.campos[i]};this.apiAdmin.actualizarWeb(r).subscribe({next:o=>{o.ok&&D1.default.fire({title:"Datos cambiados con exito",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})},error:o=>{D1.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}static \u0275fac=function(i){return new(i||n)(ze(Un),ze(Xi))};static \u0275cmp=Lt({type:n,selectors:[["app-web"]],standalone:!0,features:[Ht],decls:35,vars:20,consts:[[1,"borderAzul","margin5","rounded",2,"display","flex","flex-direction","column","align-items","center"],[1,"colorBlue"],[1,"col-3",2,"margin-bottom","2%"],[2,"display","flex"],["type","text",1,"effect-1",3,"ngModelChange","ngModel","value","ngClass"],[1,"focus-border2"],[1,"effect-1",2,"width","100%","height","300px",3,"ngModelChange","ngModel","value","ngClass"],[1,"col-3",2,"text-align","end"],[1,"boton","boton2","border","rounded","botones",3,"click"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"h1",1),U(2,"\xBFComo registrarse?"),A(),O(3,"div",2)(4,"label"),U(5,"Titulo "),A(),O(6,"div",3)(7,"input",4),Je("ngModelChange",function(s){return Qe(r.campos[0].texto,s)||(r.campos[0].texto=s),s}),A(),Ce(8,"span",5),A()(),O(9,"div",2)(10,"label"),U(11,"Texto "),A(),O(12,"div",3)(13,"textarea",6),Je("ngModelChange",function(s){return Qe(r.campos[1].texto,s)||(r.campos[1].texto=s),s}),A(),Ce(14,"span",5),A()(),O(15,"div",7)(16,"button",8),ve("click",function(){return r.actualizar(0,1)}),U(17,"Actualizar"),A()(),O(18,"h1",1),U(19,"\xBFQuienes somos?"),A(),O(20,"div",2)(21,"label"),U(22,"Titulo "),A(),O(23,"div",3)(24,"input",4),Je("ngModelChange",function(s){return Qe(r.campos[2].texto,s)||(r.campos[2].texto=s),s}),A(),Ce(25,"span",5),A()(),O(26,"div",2)(27,"label"),U(28,"Texto "),A(),O(29,"div",3)(30,"textarea",6),Je("ngModelChange",function(s){return Qe(r.campos[3].texto,s)||(r.campos[3].texto=s),s}),A(),Ce(31,"span",5),A()(),O(32,"div",7)(33,"button",8),ve("click",function(){return r.actualizar(2,3)}),U(34,"Actualizar"),A()()()),i&2&&(ee(7),Xe("ngModel",r.campos[0].texto),fe("value",r.campos[0].texto)("ngClass",ht(12,m_,r.campos[0].texto!=r.campos2[0].texto)),ee(6),Xe("ngModel",r.campos[1].texto),fe("value",r.campos[1].texto)("ngClass",ht(14,m_,r.campos[1].texto!=r.campos2[1].texto)),ee(11),Xe("ngModel",r.campos[2].texto),fe("value",r.campos[2].texto)("ngClass",ht(16,m_,r.campos[2].texto!=r.campos2[2].texto)),ee(6),Xe("ngModel",r.campos[3].texto),fe("value",r.campos[3].texto)("ngClass",ht(18,m_,r.campos[3].texto!=r.campos2[3].texto)))},dependencies:[Hn,mi,oi,ti,sn,Zn],styles:[".cuadro[_ngcontent-%COMP%]{font-size:large;text-align:center;width:15rem;align-content:center;height:2rem;background-color:var(--white)}@media (max-width: 560px){.cuadro[_ngcontent-%COMP%]{font-size:small}}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;height:3rem}i[_ngcontent-%COMP%]{height:3rem;text-align:center;display:flex;align-items:center;justify-content:center;width:10%;cursor:pointer}i[_ngcontent-%COMP%]:hover{background-color:#4e4e4e;transition:all .2s linear}.bgblack[_ngcontent-%COMP%]{background-color:var(--black);color:var(--white)}.bgwhite[_ngcontent-%COMP%]{background-color:var(--white);color:var(--black)}.col-3[_ngcontent-%COMP%]{width:50%}@media (max-width: 1000px){.col-3[_ngcontent-%COMP%]{width:100%}}h1[_ngcontent-%COMP%]{text-decoration:underline;color:var(--blue)}@media (max-width: 500px){h1[_ngcontent-%COMP%]{font-size:x-large}}.mitad[_ngcontent-%COMP%]{width:50%}.mitad[_ngcontent-%COMP%]   .col-3[_ngcontent-%COMP%]{width:100%}@media (max-width: 1000px){.mitad[_ngcontent-%COMP%]{width:100%}}.boton2[_ngcontent-%COMP%]:hover{background-color:var(--blue)}.linea[_ngcontent-%COMP%]{display:flex;margin-bottom:2%}@media (max-width: 1000px){.linea[_ngcontent-%COMP%]{flex-direction:column}}.acceso[_ngcontent-%COMP%]{display:flex}@media (max-width: 1000px){.acceso[_ngcontent-%COMP%]{flex-direction:column}}"]})}return n})();var _S=(()=>{class n{api;router;route;textos=[];constructor(t,i,r){this.api=t,this.router=i,this.route=r,this.router.events.pipe(xr(o=>o instanceof yl),Pu(this.router)).subscribe(o=>{let s=o.url.toLowerCase().split("/")[1];s=="registro"&&(this.textos=this.api.getTextos(0)),s=="nosotros"&&(this.textos=this.api.getTextos(1))})}static \u0275fac=function(i){return new(i||n)(ze(Un),ze(Ro),ze(As))};static \u0275cmp=Lt({type:n,selectors:[["app-como-registro"]],standalone:!0,features:[Ht],decls:6,vars:2,consts:[[1,"svh"],[1,"border","margin5","rounded","seccion",2,"width","100%","justify-content","center"],[1,"margin5text",2,"white-space","pre-wrap","width","70%","font-family","Avenir"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"div",1)(2,"h1"),U(3),A(),O(4,"div",2),U(5),A()()()),i&2&&(ee(3),et(r.textos[0]),ee(2),et(r.textos[1]))},styles:[".cuadro[_ngcontent-%COMP%]{font-size:large;text-align:center;width:15rem;align-content:center;height:2rem;background-color:var(--white)}@media (max-width: 560px){.cuadro[_ngcontent-%COMP%]{font-size:small}}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;height:3rem}i[_ngcontent-%COMP%]{height:3rem;text-align:center;display:flex;align-items:center;justify-content:center;width:10%;cursor:pointer}i[_ngcontent-%COMP%]:hover{background-color:#4e4e4e;transition:all .2s linear}.bgblack[_ngcontent-%COMP%]{background-color:var(--black);color:var(--white)}.bgwhite[_ngcontent-%COMP%]{background-color:var(--white);color:var(--black)}.col-3[_ngcontent-%COMP%]{width:50%}@media (max-width: 1000px){.col-3[_ngcontent-%COMP%]{width:100%}}h1[_ngcontent-%COMP%]{text-decoration:underline;color:var(--blue)}@media (max-width: 500px){h1[_ngcontent-%COMP%]{font-size:x-large}}.mitad[_ngcontent-%COMP%]{width:50%}.mitad[_ngcontent-%COMP%]   .col-3[_ngcontent-%COMP%]{width:100%}@media (max-width: 1000px){.mitad[_ngcontent-%COMP%]{width:100%}}.boton2[_ngcontent-%COMP%]:hover{background-color:var(--blue)}.linea[_ngcontent-%COMP%]{display:flex;margin-bottom:2%}@media (max-width: 1000px){.linea[_ngcontent-%COMP%]{flex-direction:column}}.acceso[_ngcontent-%COMP%]{display:flex}@media (max-width: 1000px){.acceso[_ngcontent-%COMP%]{flex-direction:column}}"]})}return n})();var g_=Qr(Eo());var Mne=new jt("recaptcha-language"),Pne=new jt("recaptcha-base-url"),Dne=new jt("recaptcha-nonce-tag"),HMe=new jt("recaptcha-settings"),p_=new jt("recaptcha-v3-site-key"),One=new jt("recaptcha-loader-options");function Rne(n,e,t,{url:i,lang:r,nonce:o}={}){window.ng2recaptchaloaded=()=>{t(grecaptcha)};let s=document.createElement("script");s.innerHTML="";let{url:a,nonce:l}=e(new URL(i||"https://www.google.com/recaptcha/api.js"));a.searchParams.set("render",n==="explicit"?n:n.key),a.searchParams.set("onload","ng2recaptchaloaded"),a.searchParams.set("trustedtypes","true"),r&&a.searchParams.set("hl",r),s.src=a.href;let c=l||o;c&&s.setAttribute("nonce",c),s.async=!0,s.defer=!0,document.head.appendChild(s)}function Nne({v3SiteKey:n,onBeforeLoad:e,onLoaded:t}){let i=n?{key:n}:"explicit";RN.loadScript(i,e,t)}var RN={loadScript:Rne,newLoadScript:Nne};function Lne(n){return n.asObservable().pipe(xr(e=>e!==null))}var NN=(()=>{let e=class e{constructor(i,r,o,s,a,l){this.platformId=i,this.language=r,this.baseUrl=o,this.nonce=s,this.v3SiteKey=a,this.options=l;let c=this.init();this.ready=c?Lne(c):En()}init(){if(e.ready)return e.ready;if(!$b(this.platformId))return;let i=new go(null);return e.ready=i,RN.newLoadScript({v3SiteKey:this.v3SiteKey,onBeforeLoad:r=>{if(this.options?.onBeforeLoad)return this.options.onBeforeLoad(r);let o=new URL(this.baseUrl??r);return this.language&&o.searchParams.set("hl",this.language),{url:o,nonce:this.nonce}},onLoaded:r=>{let o=r;this.options?.onLoaded&&(o=this.options.onLoaded(r)),i.next(o)}}),i}};e.ready=null,e.\u0275fac=function(r){return new(r||e)(Tt(va),Tt(Mne,8),Tt(Pne,8),Tt(Dne,8),Tt(p_,8),Tt(One,8))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac});let n=e;return n})();var xS=(()=>{let e=class e{constructor(i,r,o){this.recaptchaLoader=r,this.zone=i,this.siteKey=o,this.init()}get onExecute(){return this.onExecuteSubject||(this.onExecuteSubject=new ji,this.onExecuteObservable=this.onExecuteSubject.asObservable()),this.onExecuteObservable}get onExecuteError(){return this.onExecuteErrorSubject||(this.onExecuteErrorSubject=new ji,this.onExecuteErrorObservable=this.onExecuteErrorSubject.asObservable()),this.onExecuteErrorObservable}execute(i){let r=new ji;return this.grecaptcha?this.executeActionWithSubject(i,r):(this.actionBacklog||(this.actionBacklog=[]),this.actionBacklog.push([i,r])),r.asObservable()}executeActionWithSubject(i,r){let o=s=>{this.zone.run(()=>{r.error(s),this.onExecuteErrorSubject&&this.onExecuteErrorSubject.next({action:i,error:s})})};this.zone.runOutsideAngular(()=>{try{this.grecaptcha.execute(this.siteKey,{action:i}).then(s=>{this.zone.run(()=>{r.next(s),r.complete(),this.onExecuteSubject&&this.onExecuteSubject.next({action:i,token:s})})},o)}catch(s){o(s)}})}init(){this.recaptchaLoader.ready.subscribe(i=>{this.grecaptcha=i,this.actionBacklog&&this.actionBacklog.length>0&&(this.actionBacklog.forEach(([r,o])=>this.executeActionWithSubject(r,o)),this.actionBacklog=void 0)})}};e.\u0275fac=function(r){return new(r||e)(Tt(fi),Tt(NN),Tt(p_))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac});let n=e;return n})(),LN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ui({type:e}),e.\u0275inj=zi({providers:[xS,NN]});let n=e;return n})();var FN=(()=>{class n{api;recaptchaV3Service;campos=["","","","Google",""];alertas=["","","","",""];flag=!0;constructor(t,i){this.api=t,this.recaptchaV3Service=i}send(t){if(t.invalid){for(let i of Object.keys(t.controls))t.controls[i].markAsTouched();return}this.recaptchaV3Service.execute("importantAction").subscribe(i=>{this.enviar()},i=>{})}enviar(){for(let t=0;t<this.campos.length;t++)this.campos[t]==""&&(this.flag=!1),this.alertas[t]=this.campos[t]==""?"El campo es obligatorio":"";if(this.flag){let t={nombre_apellido:this.campos[0],mail:this.campos[1],asunto:this.campos[2],como_encontro:this.campos[3],mensaje:this.campos[4],mensaje2:this.campos[4].replace(/\n/g,"<br>")};this.api.contacto(t).subscribe({next:i=>{i.ok&&g_.default.fire({title:"Mensaje enviado con exito",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),i.ok||g_.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})},error:i=>{g_.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}}static \u0275fac=function(i){return new(i||n)(ze(Un),ze(xS))};static \u0275cmp=Lt({type:n,selectors:[["app-contacto"]],standalone:!0,features:[Ht],decls:65,vars:9,consts:[["form","ngForm"],[1,"svh"],[1,"border","margin5","rounded","seccion",2,"width","100%"],[2,"width","100%"],[1,"colorBlue",2,"text-decoration","underline"],[1,"linea",2,"width","100%"],[1,"col-3",2,"margin-right","2%"],["for","nomapel"],[1,"msg"],["type","text","placeholder","Nombre y apellido",1,"effect-1",3,"ngModelChange","ngModel"],[1,"focus-border"],[1,"col-3"],["for","cuitcuil"],["type","text","placeholder","E-Mail",1,"effect-1",3,"ngModelChange","ngModel"],["type","text","placeholder","Asunto",1,"effect-1",3,"ngModelChange","ngModel"],["for","como"],[1,"effect-1",3,"ngModelChange","ngModel"],["value","Google","selected",""],["value","Facebook"],["value","Twitter"],["value","Instagram"],["value","Publicidad"],["value","Diario"],["value","Conocido-Amigo"],["value","Otro"],[1,"col-3",2,"margin-bottom","2%","width","100%"],[2,"display","flex"],["placeholder","Mensaje",1,"effect-1",2,"width","100%","height","300px",3,"ngModelChange","ngModel"],[2,"text-align","end","width","100%"],[1,"boton","border","rounded","botones",3,"click"]],template:function(i,r){if(i&1){let o=Ut();O(0,"div",1)(1,"div",2)(2,"h1"),U(3,"Contacto"),A(),O(4,"div",3)(5,"h2",4),U(6,"Formulario de contacto:"),A()(),O(7,"div",5)(8,"div",6)(9,"label",7),U(10,"Nombre y apellido "),A(),O(11,"span",8),U(12),A(),O(13,"input",9),Je("ngModelChange",function(a){return Pe(o),Qe(r.campos[0],a)||(r.campos[0]=a),De(a)}),A(),Ce(14,"span",10),A(),O(15,"div",11)(16,"label",12),U(17,"E-Mail "),A(),O(18,"span",8),U(19),A(),O(20,"input",13),Je("ngModelChange",function(a){return Pe(o),Qe(r.campos[1],a)||(r.campos[1]=a),De(a)}),A(),Ce(21,"span",10),A()(),O(22,"div",5)(23,"div",6)(24,"label",7),U(25,"Asunto "),A(),O(26,"span",8),U(27),A(),O(28,"input",14),Je("ngModelChange",function(a){return Pe(o),Qe(r.campos[2],a)||(r.campos[2]=a),De(a)}),A(),Ce(29,"span",10),A(),O(30,"div",11)(31,"label",15),U(32,"\xBFComo nos encontro? "),A(),O(33,"select",16),Je("ngModelChange",function(a){return Pe(o),Qe(r.campos[3],a)||(r.campos[3]=a),De(a)}),O(34,"option",17),U(35,"Google"),A(),O(36,"option",18),U(37,"Facebook"),A(),O(38,"option",19),U(39,"Twitter"),A(),O(40,"option",20),U(41,"Instagram"),A(),O(42,"option",21),U(43,"Publicidad"),A(),O(44,"option",22),U(45,"Diario"),A(),O(46,"option",23),U(47,"Conocido/Amigo"),A(),O(48,"option",24),U(49,"Otro"),A()(),Ce(50,"span",10),A()(),O(51,"div",5)(52,"div",25)(53,"label"),U(54,"Mensaje "),A(),O(55,"span",8),U(56),A(),O(57,"div",26)(58,"textarea",27),Je("ngModelChange",function(a){return Pe(o),Qe(r.campos[4],a)||(r.campos[4]=a),De(a)}),A(),Ce(59,"span",10),A()()(),O(60,"div",28)(61,"form",null,0)(63,"button",29),ve("click",function(){Pe(o);let a=vl(62);return De(r.send(a))}),U(64,"Enviar mensaje"),A()()()()()}i&2&&(ee(12),et(r.alertas[0]),ee(),Xe("ngModel",r.campos[0]),ee(6),et(r.alertas[1]),ee(),Xe("ngModel",r.campos[1]),ee(7),et(r.alertas[2]),ee(),Xe("ngModel",r.campos[2]),ee(5),Xe("ngModel",r.campos[3]),ee(23),et(r.alertas[4]),ee(2),Xe("ngModel",r.campos[4]))},dependencies:[Hn,lN,Cr,kr,mi,ar,oi,nN,ti,fS,LN],styles:[".cuadro[_ngcontent-%COMP%]{font-size:large;text-align:center;width:15rem;align-content:center;height:2rem;background-color:var(--white)}@media (max-width: 560px){.cuadro[_ngcontent-%COMP%]{font-size:small}}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;height:3rem}i[_ngcontent-%COMP%]{height:3rem;text-align:center;display:flex;align-items:center;justify-content:center;width:10%;cursor:pointer}i[_ngcontent-%COMP%]:hover{background-color:#4e4e4e;transition:all .2s linear}.bgblack[_ngcontent-%COMP%]{background-color:var(--black);color:var(--white)}.bgwhite[_ngcontent-%COMP%]{background-color:var(--white);color:var(--black)}.col-3[_ngcontent-%COMP%]{width:50%}@media (max-width: 1000px){.col-3[_ngcontent-%COMP%]{width:100%}}h1[_ngcontent-%COMP%]{text-decoration:underline;color:var(--blue)}@media (max-width: 500px){h1[_ngcontent-%COMP%]{font-size:x-large}}.mitad[_ngcontent-%COMP%]{width:50%}.mitad[_ngcontent-%COMP%]   .col-3[_ngcontent-%COMP%]{width:100%}@media (max-width: 1000px){.mitad[_ngcontent-%COMP%]{width:100%}}.boton2[_ngcontent-%COMP%]:hover{background-color:var(--blue)}.linea[_ngcontent-%COMP%]{display:flex;margin-bottom:2%}@media (max-width: 1000px){.linea[_ngcontent-%COMP%]{flex-direction:column}}.acceso[_ngcontent-%COMP%]{display:flex}@media (max-width: 1000px){.acceso[_ngcontent-%COMP%]{flex-direction:column}}"]})}return n})();var Ts=new Array(256).fill("").map((n,e)=>("0"+e.toString(16)).slice(-2));function BN(){let[n,e,t,i]=crypto.getRandomValues(new Uint32Array(4));return"e"+Ts[n>>0&255]+Ts[n>>8&255]+Ts[n>>16&255]+Ts[n>>24&255]+Ts[e>>0&255]+Ts[e>>8&255]+Ts[e>>16&255]+Ts[e>>24&255]+Ts[t>>0&255]+Ts[t>>8&255]+Ts[t>>16&255]+Ts[t>>24&255]+Ts[i>>0&255]+Ts[i>>8&255]+Ts[i>>16&255]+Ts[i>>24&255]}function Bne(n,e){}var CS="Lock from Angular integration (@ckeditor/ckeditor5-angular)",b_=(()=>{class n{elementRef;editor;config={};data="";tagName="div";watchdog;editorWatchdogConfig;disableTwoWayDataBinding=!1;set disabled(t){this.setDisabledState(t)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}ready=new tn;change=new tn;blur=new tn;focus=new tn;error=new tn;get editorInstance(){let t=this.editorWatchdog;return this.watchdog&&(t=this.watchdog._watchdogs.get(this.id)),t?t.editor:null}editorWatchdog;initiallyDisabled=!1;ngZone;cvaOnChange;cvaOnTouched;editorElement;isEditorSettingData=!1;id=BN();getId(){return this.id}constructor(t,i){this.ngZone=i,this.elementRef=t,this.checkVersion()}checkVersion(){let{CKEDITOR_VERSION:t}=window;if(!t)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');let[i]=t.split(".").map(Number);i>=42||t.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}ngOnChanges(t){Object.prototype.hasOwnProperty.call(t,"data")&&t.data&&!t.data.isFirstChange()&&this.writeValue(t.data.currentValue)}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){return gn(this,null,function*(){this.watchdog?yield this.watchdog.remove(this.id):this.editorWatchdog&&this.editorWatchdog.editor&&(yield this.editorWatchdog.destroy(),this.editorWatchdog=void 0)})}writeValue(t){t===null&&(t=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.data.set(t),this.isEditorSettingData=!1):(this.data=t,this.ready.pipe(sl()).subscribe(i=>{i.data.set(this.data)}))}registerOnChange(t){this.cvaOnChange=t}registerOnTouched(t){this.cvaOnTouched=t}setDisabledState(t){this.editorInstance&&(t?this.editorInstance.enableReadOnlyMode(CS):this.editorInstance.disableReadOnlyMode(CS)),this.initiallyDisabled=t}attachToWatchdog(){let t=(a,l)=>this.ngZone.runOutsideAngular(()=>gn(this,null,function*(){this.elementRef.nativeElement.appendChild(a);let c=yield this.editor.create(a,l);return this.initiallyDisabled&&c.enableReadOnlyMode(CS),this.ngZone.run(()=>{this.ready.emit(c)}),this.setUpEditorEvents(c),c})),i=a=>gn(this,null,function*(){yield a.destroy(),this.elementRef.nativeElement.removeChild(this.editorElement)}),r=a=>{Vne(this.error)&&this.ngZone.run(()=>this.error.emit(a))},o=document.createElement(this.tagName),s=this.getConfig();if(this.editorElement=o,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:t,destructor:i,sourceElementOrData:o,config:s}).catch(a=>{r(a)}),this.watchdog.on("itemError",(a,{itemId:l})=>{l===this.id&&r()});else{let a=new this.editor.EditorWatchdog(this.editor,this.editorWatchdogConfig);a.setCreator(t),a.setDestructor(i),a.on("error",r),this.editorWatchdog=a,this.ngZone.runOutsideAngular(()=>{a.create(o,s).catch(l=>{r(l)})})}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");let t=Be({},this.config),i=this.config.initialData||this.data;return i&&(t.initialData=i),t}setUpEditorEvents(t){let i=t.model.document,r=t.editing.view.document;i.on("change:data",o=>{this.ngZone.run(()=>{if(!this.disableTwoWayDataBinding){if(this.cvaOnChange&&!this.isEditorSettingData){let s=t.data.get();this.cvaOnChange(s)}this.change.emit({event:o,editor:t})}})}),r.on("focus",o=>{this.ngZone.run(()=>{this.focus.emit({event:o,editor:t})})}),r.on("blur",o=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:o,editor:t})})})}static \u0275fac=function(i){return new(i||n)(ze(qi),ze(fi))};static \u0275cmp=Lt({type:n,selectors:[["ckeditor"]],inputs:{editor:"editor",config:"config",data:"data",tagName:"tagName",watchdog:"watchdog",editorWatchdogConfig:"editorWatchdogConfig",disableTwoWayDataBinding:"disableTwoWayDataBinding",disabled:"disabled"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[ko([{provide:qu,useExisting:$s(()=>n),multi:!0}]),ba],decls:1,vars:0,template:function(i,r){i&1&&_t(0,Bne,0,0,"ng-template")},encapsulation:2})}return n})();function Vne(n){return n.observed||n.observers.length>0}var v_=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ui({type:n});static \u0275inj=zi({imports:[Hn,sn]})}return n})();var jne=typeof global=="object"&&global&&global.Object===Object&&global,w_=jne;var zne=typeof self=="object"&&self&&self.Object===Object&&self,Une=w_||zne||Function("return this")(),ao=Une;var Hne=ao.Symbol,Gs=Hne;var jN=Object.prototype,Wne=jN.hasOwnProperty,$ne=jN.toString,O1=Gs?Gs.toStringTag:void 0;function qne(n){var e=Wne.call(n,O1),t=n[O1];try{n[O1]=void 0;var i=!0}catch{}var r=$ne.call(n);return i&&(e?n[O1]=t:delete n[O1]),r}var zN=qne;var Gne=Object.prototype,Kne=Gne.toString;function Zne(n){return Kne.call(n)}var UN=Zne;var Yne="[object Null]",Xne="[object Undefined]",HN=Gs?Gs.toStringTag:void 0;function Jne(n){return n==null?n===void 0?Xne:Yne:HN&&HN in Object(n)?zN(n):UN(n)}var Ks=Jne;function Qne(n){return n!=null&&typeof n=="object"}var no=Qne;var eie="[object Symbol]";function tie(n){return typeof n=="symbol"||no(n)&&Ks(n)==eie}var yh=tie;function nie(n,e){for(var t=-1,i=n==null?0:n.length,r=Array(i);++t<i;)r[t]=e(n[t],t,n);return r}var WN=nie;var iie=Array.isArray,Kr=iie;var rie=1/0,$N=Gs?Gs.prototype:void 0,qN=$N?$N.toString:void 0;function GN(n){if(typeof n=="string")return n;if(Kr(n))return WN(n,GN)+"";if(yh(n))return qN?qN.call(n):"";var e=n+"";return e=="0"&&1/n==-rie?"-0":e}var KN=GN;var oie=/\s/;function sie(n){for(var e=n.length;e--&&oie.test(n.charAt(e)););return e}var ZN=sie;var aie=/^\s+/;function lie(n){return n&&n.slice(0,ZN(n)+1).replace(aie,"")}var YN=lie;function cie(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var ui=cie;var XN=NaN,uie=/^[-+]0x[0-9a-f]+$/i,die=/^0b[01]+$/i,hie=/^0o[0-7]+$/i,fie=parseInt;function mie(n){if(typeof n=="number")return n;if(yh(n))return XN;if(ui(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=ui(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=YN(n);var t=die.test(n);return t||hie.test(n)?fie(n.slice(2),t?2:8):uie.test(n)?XN:+n}var kS=mie;function pie(n){return n}var ng=pie;var gie="[object AsyncFunction]",bie="[object Function]",vie="[object GeneratorFunction]",wie="[object Proxy]";function yie(n){if(!ui(n))return!1;var e=Ks(n);return e==bie||e==vie||e==gie||e==wie}var Ba=yie;var _ie=ao["__core-js_shared__"],y_=_ie;var JN=function(){var n=/[^.]+$/.exec(y_&&y_.keys&&y_.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function xie(n){return!!JN&&JN in n}var QN=xie;var Cie=Function.prototype,kie=Cie.toString;function Eie(n){if(n!=null){try{return kie.call(n)}catch{}try{return n+""}catch{}}return""}var Gu=Eie;var Sie=/[\\^$.*+?()[\]{}|]/g,Aie=/^\[object .+?Constructor\]$/,Tie=Function.prototype,Iie=Object.prototype,Mie=Tie.toString,Pie=Iie.hasOwnProperty,Die=RegExp("^"+Mie.call(Pie).replace(Sie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Oie(n){if(!ui(n)||QN(n))return!1;var e=Ba(n)?Die:Aie;return e.test(Gu(n))}var e9=Oie;function Rie(n,e){return n?.[e]}var t9=Rie;function Nie(n,e){var t=t9(n,e);return e9(t)?t:void 0}var _a=Nie;var Lie=_a(ao,"WeakMap"),__=Lie;var n9=Object.create,Fie=function(){function n(){}return function(e){if(!ui(e))return{};if(n9)return n9(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}(),i9=Fie;function Bie(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var r9=Bie;function Vie(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}var x_=Vie;var jie=800,zie=16,Uie=Date.now;function Hie(n){var e=0,t=0;return function(){var i=Uie(),r=zie-(i-t);if(t=i,r>0){if(++e>=jie)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var o9=Hie;function Wie(n){return function(){return n}}var s9=Wie;var $ie=function(){try{var n=_a(Object,"defineProperty");return n({},"",{}),n}catch{}}(),ig=$ie;var qie=ig?function(n,e){return ig(n,"toString",{configurable:!0,enumerable:!1,value:s9(e),writable:!0})}:ng,a9=qie;var Gie=o9(a9),l9=Gie;function Kie(n,e){for(var t=-1,i=n==null?0:n.length;++t<i&&e(n[t],t,n)!==!1;);return n}var c9=Kie;var Zie=9007199254740991,Yie=/^(?:0|[1-9]\d*)$/;function Xie(n,e){var t=typeof n;return e=e??Zie,!!e&&(t=="number"||t!="symbol"&&Yie.test(n))&&n>-1&&n%1==0&&n<e}var _h=Xie;function Jie(n,e,t){e=="__proto__"&&ig?ig(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var xh=Jie;function Qie(n,e){return n===e||n!==n&&e!==e}var Yc=Qie;var ere=Object.prototype,tre=ere.hasOwnProperty;function nre(n,e,t){var i=n[e];(!(tre.call(n,e)&&Yc(i,t))||t===void 0&&!(e in n))&&xh(n,e,t)}var rg=nre;function ire(n,e,t,i){var r=!t;t||(t={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=i?i(t[a],n[a],a,t,n):void 0;l===void 0&&(l=n[a]),r?xh(t,a,l):rg(t,a,l)}return t}var Cl=ire;var u9=Math.max;function rre(n,e,t){return e=u9(e===void 0?n.length-1:e,0),function(){for(var i=arguments,r=-1,o=u9(i.length-e,0),s=Array(o);++r<o;)s[r]=i[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=i[r];return a[e]=t(s),r9(n,this,a)}}var d9=rre;function ore(n,e){return l9(d9(n,e,ng),n+"")}var h9=ore;var sre=9007199254740991;function are(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=sre}var og=are;function lre(n){return n!=null&&og(n.length)&&!Ba(n)}var Ch=lre;function cre(n,e,t){if(!ui(t))return!1;var i=typeof e;return(i=="number"?Ch(t)&&_h(e,t.length):i=="string"&&e in t)?Yc(t[e],n):!1}var f9=cre;function ure(n){return h9(function(e,t){var i=-1,r=t.length,o=r>1?t[r-1]:void 0,s=r>2?t[2]:void 0;for(o=n.length>3&&typeof o=="function"?(r--,o):void 0,s&&f9(t[0],t[1],s)&&(o=r<3?void 0:o,r=1),e=Object(e);++i<r;){var a=t[i];a&&n(e,a,i,o)}return e})}var C_=ure;var dre=Object.prototype;function hre(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||dre;return n===t}var sg=hre;function fre(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var m9=fre;var mre="[object Arguments]";function pre(n){return no(n)&&Ks(n)==mre}var ES=pre;var p9=Object.prototype,gre=p9.hasOwnProperty,bre=p9.propertyIsEnumerable,vre=ES(function(){return arguments}())?ES:function(n){return no(n)&&gre.call(n,"callee")&&!bre.call(n,"callee")},Yf=vre;function wre(){return!1}var g9=wre;var w9=typeof exports=="object"&&exports&&!exports.nodeType&&exports,b9=w9&&typeof module=="object"&&module&&!module.nodeType&&module,yre=b9&&b9.exports===w9,v9=yre?ao.Buffer:void 0,_re=v9?v9.isBuffer:void 0,xre=_re||g9,Ku=xre;var Cre="[object Arguments]",kre="[object Array]",Ere="[object Boolean]",Sre="[object Date]",Are="[object Error]",Tre="[object Function]",Ire="[object Map]",Mre="[object Number]",Pre="[object Object]",Dre="[object RegExp]",Ore="[object Set]",Rre="[object String]",Nre="[object WeakMap]",Lre="[object ArrayBuffer]",Fre="[object DataView]",Bre="[object Float32Array]",Vre="[object Float64Array]",jre="[object Int8Array]",zre="[object Int16Array]",Ure="[object Int32Array]",Hre="[object Uint8Array]",Wre="[object Uint8ClampedArray]",$re="[object Uint16Array]",qre="[object Uint32Array]",Lr={};Lr[Bre]=Lr[Vre]=Lr[jre]=Lr[zre]=Lr[Ure]=Lr[Hre]=Lr[Wre]=Lr[$re]=Lr[qre]=!0;Lr[Cre]=Lr[kre]=Lr[Lre]=Lr[Ere]=Lr[Fre]=Lr[Sre]=Lr[Are]=Lr[Tre]=Lr[Ire]=Lr[Mre]=Lr[Pre]=Lr[Dre]=Lr[Ore]=Lr[Rre]=Lr[Nre]=!1;function Gre(n){return no(n)&&og(n.length)&&!!Lr[Ks(n)]}var y9=Gre;function Kre(n){return function(e){return n(e)}}var ag=Kre;var _9=typeof exports=="object"&&exports&&!exports.nodeType&&exports,R1=_9&&typeof module=="object"&&module&&!module.nodeType&&module,Zre=R1&&R1.exports===_9,SS=Zre&&w_.process,Yre=function(){try{var n=R1&&R1.require&&R1.require("util").types;return n||SS&&SS.binding&&SS.binding("util")}catch{}}(),Zu=Yre;var x9=Zu&&Zu.isTypedArray,Xre=x9?ag(x9):y9,lg=Xre;var Jre=Object.prototype,Qre=Jre.hasOwnProperty;function eoe(n,e){var t=Kr(n),i=!t&&Yf(n),r=!t&&!i&&Ku(n),o=!t&&!i&&!r&&lg(n),s=t||i||r||o,a=s?m9(n.length,String):[],l=a.length;for(var c in n)(e||Qre.call(n,c))&&!(s&&(c=="length"||r&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||_h(c,l)))&&a.push(c);return a}var k_=eoe;function toe(n,e){return function(t){return n(e(t))}}var E_=toe;var noe=E_(Object.keys,Object),C9=noe;var ioe=Object.prototype,roe=ioe.hasOwnProperty;function ooe(n){if(!sg(n))return C9(n);var e=[];for(var t in Object(n))roe.call(n,t)&&t!="constructor"&&e.push(t);return e}var k9=ooe;function soe(n){return Ch(n)?k_(n):k9(n)}var Xc=soe;function aoe(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var E9=aoe;var loe=Object.prototype,coe=loe.hasOwnProperty;function uoe(n){if(!ui(n))return E9(n);var e=sg(n),t=[];for(var i in n)i=="constructor"&&(e||!coe.call(n,i))||t.push(i);return t}var S9=uoe;function doe(n){return Ch(n)?k_(n,!0):S9(n)}var kl=doe;var hoe=C_(function(n,e){Cl(e,kl(e),n)}),cg=hoe;var foe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,moe=/^\w*$/;function poe(n,e){if(Kr(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||yh(n)?!0:moe.test(n)||!foe.test(n)||e!=null&&n in Object(e)}var ug=poe;var goe=_a(Object,"create"),Yu=goe;function boe(){this.__data__=Yu?Yu(null):{},this.size=0}var A9=boe;function voe(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var T9=voe;var woe="__lodash_hash_undefined__",yoe=Object.prototype,_oe=yoe.hasOwnProperty;function xoe(n){var e=this.__data__;if(Yu){var t=e[n];return t===woe?void 0:t}return _oe.call(e,n)?e[n]:void 0}var I9=xoe;var Coe=Object.prototype,koe=Coe.hasOwnProperty;function Eoe(n){var e=this.__data__;return Yu?e[n]!==void 0:koe.call(e,n)}var M9=Eoe;var Soe="__lodash_hash_undefined__";function Aoe(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Yu&&e===void 0?Soe:e,this}var P9=Aoe;function dg(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}dg.prototype.clear=A9;dg.prototype.delete=T9;dg.prototype.get=I9;dg.prototype.has=M9;dg.prototype.set=P9;var AS=dg;function Toe(){this.__data__=[],this.size=0}var D9=Toe;function Ioe(n,e){for(var t=n.length;t--;)if(Yc(n[t][0],e))return t;return-1}var kh=Ioe;var Moe=Array.prototype,Poe=Moe.splice;function Doe(n){var e=this.__data__,t=kh(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():Poe.call(e,t,1),--this.size,!0}var O9=Doe;function Ooe(n){var e=this.__data__,t=kh(e,n);return t<0?void 0:e[t][1]}var R9=Ooe;function Roe(n){return kh(this.__data__,n)>-1}var N9=Roe;function Noe(n,e){var t=this.__data__,i=kh(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}var L9=Noe;function hg(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}hg.prototype.clear=D9;hg.prototype.delete=O9;hg.prototype.get=R9;hg.prototype.has=N9;hg.prototype.set=L9;var Eh=hg;var Loe=_a(ao,"Map"),Sh=Loe;function Foe(){this.size=0,this.__data__={hash:new AS,map:new(Sh||Eh),string:new AS}}var F9=Foe;function Boe(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var B9=Boe;function Voe(n,e){var t=n.__data__;return B9(e)?t[typeof e=="string"?"string":"hash"]:t.map}var Ah=Voe;function joe(n){var e=Ah(this,n).delete(n);return this.size-=e?1:0,e}var V9=joe;function zoe(n){return Ah(this,n).get(n)}var j9=zoe;function Uoe(n){return Ah(this,n).has(n)}var z9=Uoe;function Hoe(n,e){var t=Ah(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}var U9=Hoe;function fg(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}fg.prototype.clear=F9;fg.prototype.delete=V9;fg.prototype.get=j9;fg.prototype.has=z9;fg.prototype.set=U9;var Xf=fg;var Woe="Expected a function";function TS(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(Woe);var t=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=t.cache;if(o.has(r))return o.get(r);var s=n.apply(this,i);return t.cache=o.set(r,s)||o,s};return t.cache=new(TS.Cache||Xf),t}TS.Cache=Xf;var H9=TS;var $oe=500;function qoe(n){var e=H9(n,function(i){return t.size===$oe&&t.clear(),i}),t=e.cache;return e}var W9=qoe;var Goe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Koe=/\\(\\)?/g,Zoe=W9(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(Goe,function(t,i,r,o){e.push(r?o.replace(Koe,"$1"):i||t)}),e}),$9=Zoe;function Yoe(n){return n==null?"":KN(n)}var S_=Yoe;function Xoe(n,e){return Kr(n)?n:ug(n,e)?[n]:$9(S_(n))}var Th=Xoe;var Joe=1/0;function Qoe(n){if(typeof n=="string"||yh(n))return n;var e=n+"";return e=="0"&&1/n==-Joe?"-0":e}var El=Qoe;function ese(n,e){e=Th(e,n);for(var t=0,i=e.length;n!=null&&t<i;)n=n[El(e[t++])];return t&&t==i?n:void 0}var mg=ese;function tse(n,e,t){var i=n==null?void 0:mg(n,e);return i===void 0?t:i}var Ih=tse;function nse(n,e){for(var t=-1,i=e.length,r=n.length;++t<i;)n[r+t]=e[t];return n}var A_=nse;var ise=E_(Object.getPrototypeOf,Object),pg=ise;var rse="[object Object]",ose=Function.prototype,sse=Object.prototype,q9=ose.toString,ase=sse.hasOwnProperty,lse=q9.call(Object);function cse(n){if(!no(n)||Ks(n)!=rse)return!1;var e=pg(n);if(e===null)return!0;var t=ase.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&q9.call(t)==lse}var es=cse;function use(n,e,t){var i=-1,r=n.length;e<0&&(e=-e>r?0:r+e),t=t>r?r:t,t<0&&(t+=r),r=e>t?0:t-e>>>0,e>>>=0;for(var o=Array(r);++i<r;)o[i]=n[i+e];return o}var T_=use;function dse(n,e,t){var i=n.length;return t=t===void 0?i:t,!e&&t>=i?n:T_(n,e,t)}var G9=dse;var hse="\\ud800-\\udfff",fse="\\u0300-\\u036f",mse="\\ufe20-\\ufe2f",pse="\\u20d0-\\u20ff",gse=fse+mse+pse,bse="\\ufe0e\\ufe0f",vse="\\u200d",wse=RegExp("["+vse+hse+gse+bse+"]");function yse(n){return wse.test(n)}var I_=yse;function _se(n){return n.split("")}var K9=_se;var Z9="\\ud800-\\udfff",xse="\\u0300-\\u036f",Cse="\\ufe20-\\ufe2f",kse="\\u20d0-\\u20ff",Ese=xse+Cse+kse,Sse="\\ufe0e\\ufe0f",Ase="["+Z9+"]",IS="["+Ese+"]",MS="\\ud83c[\\udffb-\\udfff]",Tse="(?:"+IS+"|"+MS+")",Y9="[^"+Z9+"]",X9="(?:\\ud83c[\\udde6-\\uddff]){2}",J9="[\\ud800-\\udbff][\\udc00-\\udfff]",Ise="\\u200d",Q9=Tse+"?",eL="["+Sse+"]?",Mse="(?:"+Ise+"(?:"+[Y9,X9,J9].join("|")+")"+eL+Q9+")*",Pse=eL+Q9+Mse,Dse="(?:"+[Y9+IS+"?",IS,X9,J9,Ase].join("|")+")",Ose=RegExp(MS+"(?="+MS+")|"+Dse+Pse,"g");function Rse(n){return n.match(Ose)||[]}var tL=Rse;function Nse(n){return I_(n)?tL(n):K9(n)}var nL=Nse;function Lse(n){return function(e){e=S_(e);var t=I_(e)?nL(e):void 0,i=t?t[0]:e.charAt(0),r=t?G9(t,1).join(""):e.slice(1);return i[n]()+r}}var iL=Lse;var Fse=iL("toUpperCase"),PS=Fse;function Bse(){this.__data__=new Eh,this.size=0}var rL=Bse;function Vse(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var oL=Vse;function jse(n){return this.__data__.get(n)}var sL=jse;function zse(n){return this.__data__.has(n)}var aL=zse;var Use=200;function Hse(n,e){var t=this.__data__;if(t instanceof Eh){var i=t.__data__;if(!Sh||i.length<Use-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new Xf(i)}return t.set(n,e),this.size=t.size,this}var lL=Hse;function gg(n){var e=this.__data__=new Eh(n);this.size=e.size}gg.prototype.clear=rL;gg.prototype.delete=oL;gg.prototype.get=sL;gg.prototype.has=aL;gg.prototype.set=lL;var Jc=gg;function Wse(n,e){return n&&Cl(e,Xc(e),n)}var cL=Wse;function $se(n,e){return n&&Cl(e,kl(e),n)}var uL=$se;var mL=typeof exports=="object"&&exports&&!exports.nodeType&&exports,dL=mL&&typeof module=="object"&&module&&!module.nodeType&&module,qse=dL&&dL.exports===mL,hL=qse?ao.Buffer:void 0,fL=hL?hL.allocUnsafe:void 0;function Gse(n,e){if(e)return n.slice();var t=n.length,i=fL?fL(t):new n.constructor(t);return n.copy(i),i}var M_=Gse;function Kse(n,e){for(var t=-1,i=n==null?0:n.length,r=0,o=[];++t<i;){var s=n[t];e(s,t,n)&&(o[r++]=s)}return o}var pL=Kse;function Zse(){return[]}var P_=Zse;var Yse=Object.prototype,Xse=Yse.propertyIsEnumerable,gL=Object.getOwnPropertySymbols,Jse=gL?function(n){return n==null?[]:(n=Object(n),pL(gL(n),function(e){return Xse.call(n,e)}))}:P_,bg=Jse;function Qse(n,e){return Cl(n,bg(n),e)}var bL=Qse;var eae=Object.getOwnPropertySymbols,tae=eae?function(n){for(var e=[];n;)A_(e,bg(n)),n=pg(n);return e}:P_,D_=tae;function nae(n,e){return Cl(n,D_(n),e)}var vL=nae;function iae(n,e,t){var i=e(n);return Kr(n)?i:A_(i,t(n))}var O_=iae;function rae(n){return O_(n,Xc,bg)}var N1=rae;function oae(n){return O_(n,kl,D_)}var wL=oae;var sae=_a(ao,"DataView"),R_=sae;var aae=_a(ao,"Promise"),N_=aae;var lae=_a(ao,"Set"),L_=lae;var yL="[object Map]",cae="[object Object]",_L="[object Promise]",xL="[object Set]",CL="[object WeakMap]",kL="[object DataView]",uae=Gu(R_),dae=Gu(Sh),hae=Gu(N_),fae=Gu(L_),mae=Gu(__),Jf=Ks;(R_&&Jf(new R_(new ArrayBuffer(1)))!=kL||Sh&&Jf(new Sh)!=yL||N_&&Jf(N_.resolve())!=_L||L_&&Jf(new L_)!=xL||__&&Jf(new __)!=CL)&&(Jf=function(n){var e=Ks(n),t=e==cae?n.constructor:void 0,i=t?Gu(t):"";if(i)switch(i){case uae:return kL;case dae:return yL;case hae:return _L;case fae:return xL;case mae:return CL}return e});var Xu=Jf;var pae=Object.prototype,gae=pae.hasOwnProperty;function bae(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&gae.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var EL=bae;var vae=ao.Uint8Array,vg=vae;function wae(n){var e=new n.constructor(n.byteLength);return new vg(e).set(new vg(n)),e}var wg=wae;function yae(n,e){var t=e?wg(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var SL=yae;var _ae=/\w*$/;function xae(n){var e=new n.constructor(n.source,_ae.exec(n));return e.lastIndex=n.lastIndex,e}var AL=xae;var TL=Gs?Gs.prototype:void 0,IL=TL?TL.valueOf:void 0;function Cae(n){return IL?Object(IL.call(n)):{}}var ML=Cae;function kae(n,e){var t=e?wg(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var F_=kae;var Eae="[object Boolean]",Sae="[object Date]",Aae="[object Map]",Tae="[object Number]",Iae="[object RegExp]",Mae="[object Set]",Pae="[object String]",Dae="[object Symbol]",Oae="[object ArrayBuffer]",Rae="[object DataView]",Nae="[object Float32Array]",Lae="[object Float64Array]",Fae="[object Int8Array]",Bae="[object Int16Array]",Vae="[object Int32Array]",jae="[object Uint8Array]",zae="[object Uint8ClampedArray]",Uae="[object Uint16Array]",Hae="[object Uint32Array]";function Wae(n,e,t){var i=n.constructor;switch(e){case Oae:return wg(n);case Eae:case Sae:return new i(+n);case Rae:return SL(n,t);case Nae:case Lae:case Fae:case Bae:case Vae:case jae:case zae:case Uae:case Hae:return F_(n,t);case Aae:return new i;case Tae:case Pae:return new i(n);case Iae:return AL(n);case Mae:return new i;case Dae:return ML(n)}}var PL=Wae;function $ae(n){return typeof n.constructor=="function"&&!sg(n)?i9(pg(n)):{}}var B_=$ae;var qae="[object Map]";function Gae(n){return no(n)&&Xu(n)==qae}var DL=Gae;var OL=Zu&&Zu.isMap,Kae=OL?ag(OL):DL,RL=Kae;var Zae="[object Set]";function Yae(n){return no(n)&&Xu(n)==Zae}var NL=Yae;var LL=Zu&&Zu.isSet,Xae=LL?ag(LL):NL,FL=Xae;var Jae=1,Qae=2,ele=4,BL="[object Arguments]",tle="[object Array]",nle="[object Boolean]",ile="[object Date]",rle="[object Error]",VL="[object Function]",ole="[object GeneratorFunction]",sle="[object Map]",ale="[object Number]",jL="[object Object]",lle="[object RegExp]",cle="[object Set]",ule="[object String]",dle="[object Symbol]",hle="[object WeakMap]",fle="[object ArrayBuffer]",mle="[object DataView]",ple="[object Float32Array]",gle="[object Float64Array]",ble="[object Int8Array]",vle="[object Int16Array]",wle="[object Int32Array]",yle="[object Uint8Array]",_le="[object Uint8ClampedArray]",xle="[object Uint16Array]",Cle="[object Uint32Array]",Er={};Er[BL]=Er[tle]=Er[fle]=Er[mle]=Er[nle]=Er[ile]=Er[ple]=Er[gle]=Er[ble]=Er[vle]=Er[wle]=Er[sle]=Er[ale]=Er[jL]=Er[lle]=Er[cle]=Er[ule]=Er[dle]=Er[yle]=Er[_le]=Er[xle]=Er[Cle]=!0;Er[rle]=Er[VL]=Er[hle]=!1;function V_(n,e,t,i,r,o){var s,a=e&Jae,l=e&Qae,c=e&ele;if(t&&(s=r?t(n,i,r,o):t(n)),s!==void 0)return s;if(!ui(n))return n;var u=Kr(n);if(u){if(s=EL(n),!a)return x_(n,s)}else{var d=Xu(n),f=d==VL||d==ole;if(Ku(n))return M_(n,a);if(d==jL||d==BL||f&&!r){if(s=l||f?{}:B_(n),!a)return l?vL(n,uL(s,n)):bL(n,cL(s,n))}else{if(!Er[d])return r?n:{};s=PL(n,d,a)}}o||(o=new Jc);var h=o.get(n);if(h)return h;o.set(n,s),FL(n)?n.forEach(function(g){s.add(V_(g,e,t,g,n,o))}):RL(n)&&n.forEach(function(g,v){s.set(v,V_(g,e,t,v,n,o))});var m=c?l?wL:N1:l?kl:Xc,p=u?void 0:m(n);return c9(p||n,function(g,v){p&&(v=g,g=n[v]),rg(s,v,V_(g,e,t,v,n,o))}),s}var yg=V_;var kle=4;function Ele(n){return yg(n,kle)}var j_=Ele;var Sle=1,Ale=4;function Tle(n){return yg(n,Sle|Ale)}var xa=Tle;var Ile=1,Mle=4;function Ple(n,e){return e=typeof e=="function"?e:void 0,yg(n,Ile|Mle,e)}var Qf=Ple;var Dle="__lodash_hash_undefined__";function Ole(n){return this.__data__.set(n,Dle),this}var zL=Ole;function Rle(n){return this.__data__.has(n)}var UL=Rle;function z_(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Xf;++e<t;)this.add(n[e])}z_.prototype.add=z_.prototype.push=zL;z_.prototype.has=UL;var HL=z_;function Nle(n,e){for(var t=-1,i=n==null?0:n.length;++t<i;)if(e(n[t],t,n))return!0;return!1}var WL=Nle;function Lle(n,e){return n.has(e)}var $L=Lle;var Fle=1,Ble=2;function Vle(n,e,t,i,r,o){var s=t&Fle,a=n.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(n),u=o.get(e);if(c&&u)return c==e&&u==n;var d=-1,f=!0,h=t&Ble?new HL:void 0;for(o.set(n,e),o.set(e,n);++d<a;){var m=n[d],p=e[d];if(i)var g=s?i(p,m,d,e,n,o):i(m,p,d,n,e,o);if(g!==void 0){if(g)continue;f=!1;break}if(h){if(!WL(e,function(v,x){if(!$L(h,x)&&(m===v||r(m,v,t,i,o)))return h.push(x)})){f=!1;break}}else if(!(m===p||r(m,p,t,i,o))){f=!1;break}}return o.delete(n),o.delete(e),f}var U_=Vle;function jle(n){var e=-1,t=Array(n.size);return n.forEach(function(i,r){t[++e]=[r,i]}),t}var qL=jle;function zle(n){var e=-1,t=Array(n.size);return n.forEach(function(i){t[++e]=i}),t}var GL=zle;var Ule=1,Hle=2,Wle="[object Boolean]",$le="[object Date]",qle="[object Error]",Gle="[object Map]",Kle="[object Number]",Zle="[object RegExp]",Yle="[object Set]",Xle="[object String]",Jle="[object Symbol]",Qle="[object ArrayBuffer]",ece="[object DataView]",KL=Gs?Gs.prototype:void 0,DS=KL?KL.valueOf:void 0;function tce(n,e,t,i,r,o,s){switch(t){case ece:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case Qle:return!(n.byteLength!=e.byteLength||!o(new vg(n),new vg(e)));case Wle:case $le:case Kle:return Yc(+n,+e);case qle:return n.name==e.name&&n.message==e.message;case Zle:case Xle:return n==e+"";case Gle:var a=qL;case Yle:var l=i&Ule;if(a||(a=GL),n.size!=e.size&&!l)return!1;var c=s.get(n);if(c)return c==e;i|=Hle,s.set(n,e);var u=U_(a(n),a(e),i,r,o,s);return s.delete(n),u;case Jle:if(DS)return DS.call(n)==DS.call(e)}return!1}var ZL=tce;var nce=1,ice=Object.prototype,rce=ice.hasOwnProperty;function oce(n,e,t,i,r,o){var s=t&nce,a=N1(n),l=a.length,c=N1(e),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var f=a[d];if(!(s?f in e:rce.call(e,f)))return!1}var h=o.get(n),m=o.get(e);if(h&&m)return h==e&&m==n;var p=!0;o.set(n,e),o.set(e,n);for(var g=s;++d<l;){f=a[d];var v=n[f],x=e[f];if(i)var I=s?i(x,v,f,e,n,o):i(v,x,f,n,e,o);if(!(I===void 0?v===x||r(v,x,t,i,o):I)){p=!1;break}g||(g=f=="constructor")}if(p&&!g){var N=n.constructor,H=e.constructor;N!=H&&"constructor"in n&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof H=="function"&&H instanceof H)&&(p=!1)}return o.delete(n),o.delete(e),p}var YL=oce;var sce=1,XL="[object Arguments]",JL="[object Array]",H_="[object Object]",ace=Object.prototype,QL=ace.hasOwnProperty;function lce(n,e,t,i,r,o){var s=Kr(n),a=Kr(e),l=s?JL:Xu(n),c=a?JL:Xu(e);l=l==XL?H_:l,c=c==XL?H_:c;var u=l==H_,d=c==H_,f=l==c;if(f&&Ku(n)){if(!Ku(e))return!1;s=!0,u=!1}if(f&&!u)return o||(o=new Jc),s||lg(n)?U_(n,e,t,i,r,o):ZL(n,e,l,t,i,r,o);if(!(t&sce)){var h=u&&QL.call(n,"__wrapped__"),m=d&&QL.call(e,"__wrapped__");if(h||m){var p=h?n.value():n,g=m?e.value():e;return o||(o=new Jc),r(p,g,t,i,o)}}return f?(o||(o=new Jc),YL(n,e,t,i,r,o)):!1}var eF=lce;function tF(n,e,t,i,r){return n===e?!0:n==null||e==null||!no(n)&&!no(e)?n!==n&&e!==e:eF(n,e,t,i,tF,r)}var Mh=tF;var cce=1,uce=2;function dce(n,e,t,i){var r=t.length,o=r,s=!i;if(n==null)return!o;for(n=Object(n);r--;){var a=t[r];if(s&&a[2]?a[1]!==n[a[0]]:!(a[0]in n))return!1}for(;++r<o;){a=t[r];var l=a[0],c=n[l],u=a[1];if(s&&a[2]){if(c===void 0&&!(l in n))return!1}else{var d=new Jc;if(i)var f=i(c,u,l,n,e,d);if(!(f===void 0?Mh(u,c,cce|uce,i,d):f))return!1}}return!0}var nF=dce;function hce(n){return n===n&&!ui(n)}var W_=hce;function fce(n){for(var e=Xc(n),t=e.length;t--;){var i=e[t],r=n[i];e[t]=[i,r,W_(r)]}return e}var iF=fce;function mce(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}var $_=mce;function pce(n){var e=iF(n);return e.length==1&&e[0][2]?$_(e[0][0],e[0][1]):function(t){return t===n||nF(t,n,e)}}var rF=pce;function gce(n,e){return n!=null&&e in Object(n)}var oF=gce;function bce(n,e,t){e=Th(e,n);for(var i=-1,r=e.length,o=!1;++i<r;){var s=El(e[i]);if(!(o=n!=null&&t(n,s)))break;n=n[s]}return o||++i!=r?o:(r=n==null?0:n.length,!!r&&og(r)&&_h(s,r)&&(Kr(n)||Yf(n)))}var sF=bce;function vce(n,e){return n!=null&&sF(n,e,oF)}var aF=vce;var wce=1,yce=2;function _ce(n,e){return ug(n)&&W_(e)?$_(El(n),e):function(t){var i=Ih(t,n);return i===void 0&&i===e?aF(t,n):Mh(e,i,wce|yce)}}var lF=_ce;function xce(n){return function(e){return e?.[n]}}var cF=xce;function Cce(n){return function(e){return mg(e,n)}}var uF=Cce;function kce(n){return ug(n)?cF(El(n)):uF(n)}var dF=kce;function Ece(n){return typeof n=="function"?n:n==null?ng:typeof n=="object"?Kr(n)?lF(n[0],n[1]):rF(n):dF(n)}var hF=Ece;function Sce(n){return function(e,t,i){for(var r=-1,o=Object(e),s=i(e),a=s.length;a--;){var l=s[n?a:++r];if(t(o[l],l,o)===!1)break}return e}}var fF=Sce;var Ace=fF(),q_=Ace;function Tce(n,e){return n&&q_(n,e,Xc)}var mF=Tce;var Ice=function(){return ao.Date.now()},G_=Ice;var Mce="Expected a function",Pce=Math.max,Dce=Math.min;function Oce(n,e,t){var i,r,o,s,a,l,c=0,u=!1,d=!1,f=!0;if(typeof n!="function")throw new TypeError(Mce);e=kS(e)||0,ui(t)&&(u=!!t.leading,d="maxWait"in t,o=d?Pce(kS(t.maxWait)||0,e):o,f="trailing"in t?!!t.trailing:f);function h(F){var B=i,V=r;return i=r=void 0,c=F,s=n.apply(V,B),s}function m(F){return c=F,a=setTimeout(v,e),u?h(F):s}function p(F){var B=F-l,V=F-c,G=e-B;return d?Dce(G,o-V):G}function g(F){var B=F-l,V=F-c;return l===void 0||B>=e||B<0||d&&V>=o}function v(){var F=G_();if(g(F))return x(F);a=setTimeout(v,p(F))}function x(F){return a=void 0,f&&i?h(F):(i=r=void 0,s)}function I(){a!==void 0&&clearTimeout(a),c=0,i=l=r=a=void 0}function N(){return a===void 0?s:x(G_())}function H(){var F=G_(),B=g(F);if(i=arguments,r=this,l=F,B){if(a===void 0)return m(l);if(d)return clearTimeout(a),a=setTimeout(v,e),h(l)}return a===void 0&&(a=setTimeout(v,e)),s}return H.cancel=I,H.flush=N,H}var Ca=Oce;function Rce(n,e,t){(t!==void 0&&!Yc(n[e],t)||t===void 0&&!(e in n))&&xh(n,e,t)}var L1=Rce;function Nce(n){return no(n)&&Ch(n)}var pF=Nce;function Lce(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var F1=Lce;function Fce(n){return Cl(n,kl(n))}var gF=Fce;function Bce(n,e,t,i,r,o,s){var a=F1(n,t),l=F1(e,t),c=s.get(l);if(c){L1(n,t,c);return}var u=o?o(a,l,t+"",n,e,s):void 0,d=u===void 0;if(d){var f=Kr(l),h=!f&&Ku(l),m=!f&&!h&&lg(l);u=l,f||h||m?Kr(a)?u=a:pF(a)?u=x_(a):h?(d=!1,u=M_(l,!0)):m?(d=!1,u=F_(l,!0)):u=[]:es(l)||Yf(l)?(u=a,Yf(a)?u=gF(a):(!ui(a)||Ba(a))&&(u=B_(l))):d=!1}d&&(s.set(l,u),r(u,l,i,o,s),s.delete(l)),L1(n,t,u)}var bF=Bce;function vF(n,e,t,i,r){n!==e&&q_(e,function(o,s){if(r||(r=new Jc),ui(o))bF(n,e,s,t,vF,i,r);else{var a=i?i(F1(n,s),o,s+"",n,e,r):void 0;a===void 0&&(a=o),L1(n,s,a)}},kl)}var wF=vF;function Vce(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}var yF=Vce;var jce="[object String]";function zce(n){return typeof n=="string"||!Kr(n)&&no(n)&&Ks(n)==jce}var K_=zce;function Uce(n,e){return e.length<2?n:mg(n,T_(e,0,-1))}var _F=Uce;function Hce(n){return no(n)&&n.nodeType===1&&!es(n)}var Sl=Hce;function Wce(n,e){return Mh(n,e)}var Z_=Wce;function $ce(n,e,t){t=typeof t=="function"?t:void 0;var i=t?t(n,e):void 0;return i===void 0?Mh(n,e,void 0,t):!!i}var OS=$ce;function qce(n,e){var t={};return e=hF(e,3),mF(n,function(i,r,o){xh(t,r,e(i,r,o))}),t}var RS=qce;var Gce=C_(function(n,e,t){wF(n,e,t)}),_g=Gce;function Kce(n,e){return e=Th(e,n),n=_F(n,e),n==null||delete n[El(yF(e))]}var xF=Kce;function Zce(n,e,t,i){if(!ui(n))return n;e=Th(e,n);for(var r=-1,o=e.length,s=o-1,a=n;a!=null&&++r<o;){var l=El(e[r]),c=t;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(r!=s){var u=a[l];c=i?i(u,l,a):void 0,c===void 0&&(c=ui(u)?u:_h(e[r+1])?[]:{})}rg(a,l,c),a=a[l]}return n}var CF=Zce;function Yce(n,e,t){return n==null?n:CF(n,e,t)}var NS=Yce;var Xce="Expected a function";function Jce(n,e,t){var i=!0,r=!0;if(typeof n!="function")throw new TypeError(Xce);return ui(t)&&(i="leading"in t?!!t.leading:i,r="trailing"in t?!!t.trailing:r),Ca(n,e,{leading:i,maxWait:e,trailing:r})}var Ph=Jce;function Qce(n,e){return n==null?!0:xF(n,e)}var LS=Qce;var jS;try{jS={window,document}}catch{jS={window:{},document:{}}}var Kt=jS;function eue(){try{return navigator.userAgent.toLowerCase()}catch{return""}}var em=eue(),_n={isMac:FF(em),isWindows:tue(em),isGecko:nue(em),isSafari:iue(em),isiOS:rue(em),isAndroid:oue(em),isBlink:sue(em),get isMediaForcedColors(){return lue()},get isMotionReduced(){return cue()},features:{isRegExpUnicodePropertySupported:aue()}};function FF(n){return n.indexOf("macintosh")>-1}function tue(n){return n.indexOf("windows")>-1}function nue(n){return!!n.match(/gecko\/\d+/)}function iue(n){return n.indexOf(" applewebkit/")>-1&&n.indexOf("chrome")===-1}function rue(n){return!!n.match(/iphone|ipad/i)||FF(n)&&navigator.maxTouchPoints>0}function oue(n){return n.indexOf("android")>-1}function sue(n){return n.indexOf("chrome/")>-1&&n.indexOf("edge/")<0}function aue(){let n=!1;try{n="\u0107".search(new RegExp("[\\p{L}]","u"))===0}catch{}return n}function lue(){return Kt.window.matchMedia?Kt.window.matchMedia("(forced-colors: active)").matches:!1}function cue(){return Kt.window.matchMedia?Kt.window.matchMedia("(prefers-reduced-motion)").matches:!1}function qS(n,e,t,i){t=t||function(l,c){return l===c};let r=Array.isArray(n)?n:Array.prototype.slice.call(n),o=Array.isArray(e)?e:Array.prototype.slice.call(e),s=uue(r,o,t);return i?hue(s,o.length):due(o,s)}function uue(n,e,t){let i=kF(n,e,t);if(i===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};let r=EF(n,i),o=EF(e,i),s=kF(r,o,t),a=n.length-s,l=e.length-s;return{firstIndex:i,lastIndexOld:a,lastIndexNew:l}}function kF(n,e,t){for(let i=0;i<Math.max(n.length,e.length);i++)if(n[i]===void 0||e[i]===void 0||!t(n[i],e[i]))return i;return-1}function EF(n,e){return n.slice(e).reverse()}function due(n,e){let t=[],{firstIndex:i,lastIndexOld:r,lastIndexNew:o}=e;return o-i>0&&t.push({index:i,type:"insert",values:n.slice(i,o)}),r-i>0&&t.push({index:i+(o-i),type:"delete",howMany:r-i}),t}function hue(n,e){let{firstIndex:t,lastIndexOld:i,lastIndexNew:r}=n;if(t===-1)return Array(e).fill("equal");let o=[];return t>0&&(o=o.concat(Array(t).fill("equal"))),r-t>0&&(o=o.concat(Array(r-t).fill("insert"))),i-t>0&&(o=o.concat(Array(i-t).fill("delete"))),r<e&&(o=o.concat(Array(e-r).fill("equal"))),o}function Cg(n,e,t){t=t||function(p,g){return p===g};let i=n.length,r=e.length;if(i>200||r>200||i+r>300)return Cg.fastDiff(n,e,t,!0);let o,s;if(r<i){let p=n;n=e,e=p,o="delete",s="insert"}else o="insert",s="delete";let a=n.length,l=e.length,c=l-a,u={},d={};function f(p){let g=(d[p-1]!==void 0?d[p-1]:-1)+1,v=d[p+1]!==void 0?d[p+1]:-1,x=g>v?-1:1;u[p+x]&&(u[p]=u[p+x].slice(0)),u[p]||(u[p]=[]),u[p].push(g>v?o:s);let I=Math.max(g,v),N=I-p;for(;N<a&&I<l&&t(n[N],e[I]);)N++,I++,u[p].push("equal");return I}let h=0,m;do{for(m=-h;m<c;m++)d[m]=f(m);for(m=c+h;m>c;m--)d[m]=f(m);d[c]=f(c),h++}while(d[c]!==l);return u[c].slice(1)}Cg.fastDiff=qS;function SF(){return function n(){n.called=!0}}var ka=class{source;name;path;stop;off;return;constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=SF(),this.off=SF()}};var Is=new Array(256).fill("").map((n,e)=>("0"+e.toString(16)).slice(-2));function ts(){let[n,e,t,i]=crypto.getRandomValues(new Uint32Array(4));return"e"+Is[n>>0&255]+Is[n>>8&255]+Is[n>>16&255]+Is[n>>24&255]+Is[e>>0&255]+Is[e>>8&255]+Is[e>>16&255]+Is[e>>24&255]+Is[t>>0&255]+Is[t>>8&255]+Is[t>>16&255]+Is[t>>24&255]+Is[i>>0&255]+Is[i>>8&255]+Is[i>>16&255]+Is[i>>24&255]}var ic={get(n="normal"){return typeof n!="number"?this[n]||this.normal:n},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function GS(n,e){let t=ic.get(e.priority);for(let i=0;i<n.length;i++)if(ic.get(n[i].priority)<t){n.splice(i,0,e);return}n.push(e)}var fue="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html",Me=class n extends Error{context;data;constructor(e,t,i){super(mue(e,i)),this.name="CKEditorError",this.context=t,this.data=i}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;let i=new n(e.message,t);throw i.stack=e.stack,i}};function vi(n,e){console.warn(...pue(n,e))}function BF(n){return`
Read more: ${fue}#error-${n}`}function mue(n,e){let t=new WeakSet,r=e?` ${JSON.stringify(e,(s,a)=>{if(typeof a=="object"&&a!==null){if(t.has(a))return`[object ${a.constructor.name}]`;t.add(a)}return a})}`:"",o=BF(n);return n+r+o}function pue(n,e){let t=BF(n);return e?[n,e,t]:[n,t]}var gue="43.1.1",bue=new Date(2024,8,25);if(globalThis.CKEDITOR_VERSION)throw new Me("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=gue;var xg=Symbol("listeningTo"),zS=Symbol("emitterId"),Ju=Symbol("delegations"),VF=Fi(Object);function Fi(n){if(!n)return VF;class e extends n{on(i,r,o){this.listenTo(this,i,r,o)}once(i,r,o){let s=!1,a=(l,...c)=>{s||(s=!0,l.off(),r.call(this,l,...c))};this.listenTo(this,i,a,o)}off(i,r){this.stopListening(this,i,r)}listenTo(i,r,o,s={}){let a,l;this[xg]||(this[xg]={});let c=this[xg];FS(i)||jF(i);let u=FS(i);(a=c[u])||(a=c[u]={emitter:i,callbacks:{}}),(l=a.callbacks[r])||(l=a.callbacks[r]=[]),l.push(o),_ue(this,i,r,o,s)}stopListening(i,r,o){let s=this[xg],a=i&&FS(i),l=s&&a?s[a]:void 0,c=l&&r?l.callbacks[r]:void 0;if(!(!s||i&&!l||r&&!c))if(o)BS(this,i,r,o),c.indexOf(o)!==-1&&(c.length===1?delete l.callbacks[r]:BS(this,i,r,o));else if(c){for(;o=c.pop();)BS(this,i,r,o);delete l.callbacks[r]}else if(l){for(r in l.callbacks)this.stopListening(i,r);delete s[a]}else{for(a in s)this.stopListening(s[a].emitter);delete this[xg]}}fire(i,...r){try{let o=i instanceof ka?i:new ka(this,i),s=o.name,a=UF(this,s);if(o.path.push(this),a){let c=[o,...r];a=Array.from(a);for(let u=0;u<a.length&&(a[u].callback.apply(this,c),o.off.called&&(delete o.off.called,this._removeEventListener(s,a[u].callback)),!o.stop.called);u++);}let l=this[Ju];if(l){let c=l.get(s),u=l.get("*");c&&AF(c,o,r),u&&AF(u,o,r)}return o.return}catch(o){Me.rethrowUnexpectedError(o,this)}}delegate(...i){return{to:(r,o)=>{this[Ju]||(this[Ju]=new Map),i.forEach(s=>{let a=this[Ju].get(s);a?a.set(r,o):this[Ju].set(s,new Map([[r,o]]))})}}}stopDelegating(i,r){if(this[Ju])if(!i)this[Ju].clear();else if(!r)this[Ju].delete(i);else{let o=this[Ju].get(i);o&&o.delete(r)}}_addEventListener(i,r,o){yue(this,i);let s=US(this,i),a=ic.get(o.priority),l={callback:r,priority:a};for(let c of s)GS(c,l)}_removeEventListener(i,r){let o=US(this,i);for(let s of o)for(let a=0;a<s.length;a++)s[a].callback==r&&(s.splice(a,1),a--)}}return e}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(n=>{Fi[n]=VF.prototype[n]});function vue(n,e){let t=n[xg];return t&&t[e]?t[e].emitter:null}function jF(n,e){n[zS]||(n[zS]=e||ts())}function FS(n){return n[zS]}function zF(n){return n._events||Object.defineProperty(n,"_events",{value:{}}),n._events}function wue(){return{callbacks:[],childEvents:[]}}function yue(n,e){let t=zF(n);if(t[e])return;let i=e,r=null,o=[];for(;i!==""&&!t[i];)t[i]=wue(),o.push(t[i]),r&&t[i].childEvents.push(r),r=i,i=i.substr(0,i.lastIndexOf(":"));if(i!==""){for(let s of o)s.callbacks=t[i].callbacks.slice();t[i].childEvents.push(r)}}function US(n,e){let t=zF(n)[e];if(!t)return[];let i=[t.callbacks];for(let r=0;r<t.childEvents.length;r++){let o=US(n,t.childEvents[r]);i=i.concat(o)}return i}function UF(n,e){let t;return!n._events||!(t=n._events[e])||!t.callbacks.length?e.indexOf(":")>-1?UF(n,e.substr(0,e.lastIndexOf(":"))):null:t.callbacks}function AF(n,e,t){for(let[i,r]of n){r?typeof r=="function"&&(r=r(e.name)):r=e.name;let o=new ka(e.source,r);o.path=[...e.path],i.fire(o,...t)}}function _ue(n,e,t,i,r){e._addEventListener?e._addEventListener(t,i,r):n._addEventListener.call(e,t,i,r)}function BS(n,e,t,i){e._removeEventListener?e._removeEventListener(t,i):n._removeEventListener.call(e,t,i)}var B1=Symbol("observableProperties"),j1=Symbol("boundObservables"),V1=Symbol("boundProperties"),tm=Symbol("decoratedMethods"),TF=Symbol("decoratedOriginal"),HF=Oi(Fi());function Oi(n){if(!n)return HF;class e extends n{set(i,r){if(ui(i)){Object.keys(i).forEach(s=>{this.set(s,i[s])},this);return}VS(this);let o=this[B1];if(i in this&&!o.has(i))throw new Me("observable-set-cannot-override",this);Object.defineProperty(this,i,{enumerable:!0,configurable:!0,get(){return o.get(i)},set(s){let a=o.get(i),l=this.fire(`set:${i}`,i,s,a);l===void 0&&(l=s),(a!==l||!o.has(i))&&(o.set(i,l),this.fire(`change:${i}`,i,l,a))}}),this[i]=r}bind(...i){if(!i.length||!IF(i))throw new Me("observable-bind-wrong-properties",this);if(new Set(i).size!==i.length)throw new Me("observable-bind-duplicate-properties",this);VS(this);let r=this[V1];i.forEach(s=>{if(r.has(s))throw new Me("observable-bind-rebind",this)});let o=new Map;return i.forEach(s=>{let a={property:s,to:[]};r.set(s,a),o.set(s,a)}),{to:xue,toMany:Cue,_observable:this,_bindProperties:i,_to:[],_bindings:o}}unbind(...i){if(!this[B1])return;let r=this[V1],o=this[j1];if(i.length){if(!IF(i))throw new Me("observable-unbind-wrong-properties",this);i.forEach(s=>{let a=r.get(s);a&&(a.to.forEach(([l,c])=>{let u=o.get(l),d=u[c];d.delete(a),d.size||delete u[c],Object.keys(u).length||(o.delete(l),this.stopListening(l,"change"))}),r.delete(s))})}else o.forEach((s,a)=>{this.stopListening(a,"change")}),o.clear(),r.clear()}decorate(i){VS(this);let r=this[i];if(!r)throw new Me("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:i});this.on(i,(o,s)=>{o.return=r.apply(this,s)}),this[i]=function(...o){return this.fire(i,o)},this[i][TF]=r,this[tm]||(this[tm]=[]),this[tm].push(i)}stopListening(i,r,o){if(!i&&this[tm]){for(let s of this[tm])this[s]=this[s][TF];delete this[tm]}super.stopListening(i,r,o)}[B1];[tm];[V1];[j1]}return e}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(n=>{Oi[n]=HF.prototype[n]});function VS(n){n[B1]||(Object.defineProperty(n,B1,{value:new Map}),Object.defineProperty(n,j1,{value:new Map}),Object.defineProperty(n,V1,{value:new Map}))}function xue(...n){let e=Eue(...n),t=Array.from(this._bindings.keys()),i=t.length;if(!e.callback&&e.to.length>1)throw new Me("observable-bind-to-no-callback",this);if(i>1&&e.callback)throw new Me("observable-bind-to-extra-callback",this);e.to.forEach(r=>{if(r.properties.length&&r.properties.length!==i)throw new Me("observable-bind-to-properties-length",this);r.properties.length||(r.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),Tue(this._observable,this._to),Aue(this),this._bindProperties.forEach(r=>{WF(this._observable,r)})}function Cue(n,e,t){if(this._bindings.size>1)throw new Me("observable-bind-to-many-not-one-binding",this);this.to(...kue(n,e),t)}function kue(n,e){let t=n.map(i=>[i,e]);return Array.prototype.concat.apply([],t)}function IF(n){return n.every(e=>typeof e=="string")}function Eue(...n){if(!n.length)throw new Me("observable-bind-to-parse-error",null);let e={to:[]},t;return typeof n[n.length-1]=="function"&&(e.callback=n.pop()),n.forEach(i=>{if(typeof i=="string")t.properties.push(i);else if(typeof i=="object")t={observable:i,properties:[]},e.to.push(t);else throw new Me("observable-bind-to-parse-error",null)}),e}function Sue(n,e,t,i){let r=n[j1],o=r.get(t),s=o||{};s[i]||(s[i]=new Set),s[i].add(e),o||r.set(t,s)}function Aue(n){let e;n._bindings.forEach((t,i)=>{n._to.forEach(r=>{e=r.properties[t.callback?0:n._bindProperties.indexOf(i)],t.to.push([r.observable,e]),Sue(n._observable,t,r.observable,e)})})}function WF(n,e){let i=n[V1].get(e),r;i.callback?r=i.callback.apply(n,i.to.map(o=>o[0][o[1]])):(r=i.to[0],r=r[0][r[1]]),Object.prototype.hasOwnProperty.call(n,e)?n[e]=r:n.set(e,r)}function Tue(n,e){e.forEach(t=>{let i=n[j1],r;i.get(t.observable)||n.listenTo(t.observable,"change",(o,s)=>{r=i.get(t.observable)[s],r&&r.forEach(a=>{WF(n,a.property)})})})}var z1=class{_replacedElements;constructor(){this._replacedElements=[]}replace(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:t})=>{e.style.display="",t&&t.remove()}),this._replacedElements=[]}};function H1(n){let e=0;for(let t of n)e++;return e}function ps(n,e){let t=Math.min(n.length,e.length);for(let i=0;i<t;i++)if(n[i]!=e[i])return i;return n.length==e.length?"same":n.length<e.length?"prefix":"extension"}function Zs(n){return!!(n&&n[Symbol.iterator])}function gs(n,e,t={},i=[]){let r=t&&t.xmlns,o=r?n.createElementNS(r,e):n.createElement(e);for(let s in t)o.setAttribute(s,t[s]);(K_(i)||!Zs(i))&&(i=[i]);for(let s of i)K_(s)&&(s=n.createTextNode(s)),o.appendChild(s);return o}var U1=class{_config;constructor(e,t){this._config=Object.create(null),t&&this.define(MF(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(let e of Object.keys(this._config))yield e}_setToTarget(e,t,i,r=!1){if(es(t)){this._setObjectToTarget(e,t,r);return}let o=t.split(".");t=o.pop();for(let s of o)es(e[s])||(e[s]=Object.create(null)),e=e[s];if(es(i)){es(e[t])||(e[t]=Object.create(null)),e=e[t],this._setObjectToTarget(e,i,r);return}r&&typeof e[t]<"u"||(e[t]=i)}_getFromSource(e,t){let i=t.split(".");t=i.pop();for(let r of i){if(!es(e[r])){e=null;break}e=e[r]}return e?MF(e[t]):void 0}_setObjectToTarget(e,t,i){Object.keys(t).forEach(r=>{this._setToTarget(e,r,t[r],i)})}};function MF(n){return Qf(n,Iue)}function Iue(n){return Sl(n)||typeof n=="function"?n:void 0}function Qc(n){if(n){if(n.defaultView)return n instanceof n.defaultView.Document;if(n.ownerDocument&&n.ownerDocument.defaultView)return n instanceof n.ownerDocument.defaultView.Node}return!1}function X_(n){let e=Object.prototype.toString.apply(n);return e=="[object Window]"||e=="[object global]"}var $F=No(Fi());function No(n){if(!n)return $F;class e extends n{listenTo(i,r,o,s={}){if(Qc(i)||X_(i)){let a={capture:!!s.useCapture,passive:!!s.usePassive},l=this._getProxyEmitter(i,a)||new HS(i,a);this.listenTo(l,r,o,s)}else super.listenTo(i,r,o,s)}stopListening(i,r,o){if(Qc(i)||X_(i)){let s=this._getAllProxyEmitters(i);for(let a of s)this.stopListening(a,r,o)}else super.stopListening(i,r,o)}_getProxyEmitter(i,r){return vue(this,qF(i,r))}_getAllProxyEmitters(i){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(r=>this._getProxyEmitter(i,r)).filter(r=>!!r)}}return e}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(n=>{No[n]=$F.prototype[n]});var HS=class extends Fi(){_domNode;_options;constructor(e,t){super(),jF(this,qF(e,t)),this._domNode=e,this._options=t}_domListeners;attach(e){if(this._domListeners&&this._domListeners[e])return;let t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;this._domListeners[e]&&(!(t=this._events[e])||!t.callbacks.length)&&this._domListeners[e].removeListener()}_addEventListener(e,t,i){this.attach(e),Fi().prototype._addEventListener.call(this,e,t,i)}_removeEventListener(e,t){Fi().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){let t=i=>{this.fire(e,i)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}};function Mue(n){return n["data-ck-expando"]||(n["data-ck-expando"]=ts())}function qF(n,e){let t=Mue(n);for(let i of Object.keys(e).sort())e[i]&&(t+="-"+i);return t}function GF(n){let e=[],t=n;for(;t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}function kg(n){return n instanceof HTMLTextAreaElement?n.value:n.innerHTML}function KS(n){let e=n.ownerDocument.defaultView.getComputedStyle(n);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function ex(n){if(!n.target)return null;let e=n.target.ownerDocument,t=n.clientX,i=n.clientY,r=null;return e.caretRangeFromPoint&&e.caretRangeFromPoint(t,i)?r=e.caretRangeFromPoint(t,i):n.rangeParent&&(r=e.createRange(),r.setStart(n.rangeParent,n.rangeOffset),r.collapse(!0)),r}function Br(n){return Object.prototype.toString.call(n)=="[object Text]"}function W1(n){return Object.prototype.toString.apply(n)=="[object Range]"}function KF(n){return!n||!n.parentNode||n.offsetParent===Kt.document.body?null:n.offsetParent}var ZF=["top","right","bottom","left","width","height"],si=class n{top;right;bottom;left;width;height;_source;constructor(e){let t=W1(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),WS(e)||t)if(t){let i=n.getDomRangeRects(e);Y_(this,n.getBoundingRect(i))}else Y_(this,e.getBoundingClientRect());else if(X_(e)){let{innerWidth:i,innerHeight:r}=e;Y_(this,{top:0,right:i,bottom:r,left:0,width:i,height:r})}else Y_(this,e)}clone(){return new n(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){let t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0)return null;{let i=new n(t);return i._source=this._source,i}}getIntersectionArea(e){let t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){let e=this._source,t=this.clone();if(PF(e))return t;let i=e,r=e.parentNode||e.commonAncestorContainer,o;for(;r&&!PF(r);){let s=Pue(r)==="visible";i instanceof HTMLElement&&DF(i)==="absolute"&&(o=i);let a=DF(r);if(s||o&&(a==="relative"&&s||a!=="relative")){i=r,r=r.parentNode;continue}let l=new n(r),c=t.getIntersection(l);if(c)c.getArea()<t.getArea()&&(t=c);else return null;i=r,r=r.parentNode}return t}isEqual(e){for(let t of ZF)if(this[t]!==e[t])return!1;return!0}contains(e){let t=this.getIntersection(e);return!!(t&&t.isEqual(e))}toAbsoluteRect(){let{scrollX:e,scrollY:t}=Kt.window,i=this.clone().moveBy(e,t);if(WS(i._source)){let r=KF(i._source);r&&Due(i,r)}return i}excludeScrollbarsAndBorders(){let e=this._source,t,i,r;if(X_(e))t=e.innerWidth-e.document.documentElement.clientWidth,i=e.innerHeight-e.document.documentElement.clientHeight,r=e.getComputedStyle(e.document.documentElement).direction;else{let o=KS(e);t=e.offsetWidth-e.clientWidth-o.left-o.right,i=e.offsetHeight-e.clientHeight-o.top-o.bottom,r=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=o.left,this.top+=o.top,this.right-=o.right,this.bottom-=o.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,r==="ltr"?this.right-=t:this.left+=t,this.height-=i,this.bottom-=i,this}static getDomRangeRects(e){let t=[],i=Array.from(e.getClientRects());if(i.length)for(let r of i)t.push(new n(r));else{let r=e.startContainer;Br(r)&&(r=r.parentNode);let o=new n(r.getBoundingClientRect());o.right=o.left,o.width=0,t.push(o)}return t}static getBoundingRect(e){let t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0},i=0;for(let r of e)i++,t.left=Math.min(t.left,r.left),t.top=Math.min(t.top,r.top),t.right=Math.max(t.right,r.right),t.bottom=Math.max(t.bottom,r.bottom);return i==0?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new n(t))}};function Y_(n,e){for(let t of ZF)n[t]=e[t]}function PF(n){return WS(n)?n===n.ownerDocument.body:!1}function WS(n){return n!==null&&typeof n=="object"&&n.nodeType===1&&typeof n.getBoundingClientRect=="function"}function DF(n){return n instanceof HTMLElement?n.ownerDocument.defaultView.getComputedStyle(n).position:"static"}function Pue(n){return n instanceof HTMLElement?n.ownerDocument.defaultView.getComputedStyle(n).overflow:"visible"}function Due(n,e){let t=new si(e),i=KS(e),r=0,o=0;r-=t.left,o-=t.top,r+=e.scrollLeft,o+=e.scrollTop,r-=i.left,o-=i.top,n.moveBy(r,o)}var Eg=(()=>{class n{_element;_callback;static _observerInstance=null;static _elementCallbacks=null;constructor(t,i){n._observerInstance||n._createObserver(),this._element=t,this._callback=i,n._addElementCallback(t,i),n._observerInstance.observe(t)}get element(){return this._element}destroy(){n._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,i){n._elementCallbacks||(n._elementCallbacks=new Map);let r=n._elementCallbacks.get(t);r||(r=new Set,n._elementCallbacks.set(t,r)),r.add(i)}static _deleteElementCallback(t,i){let r=n._getElementCallbacks(t);r&&(r.delete(i),r.size||(n._elementCallbacks.delete(t),n._observerInstance.unobserve(t))),n._elementCallbacks&&!n._elementCallbacks.size&&(n._observerInstance=null,n._elementCallbacks=null)}static _getElementCallbacks(t){return n._elementCallbacks?n._elementCallbacks.get(t):null}static _createObserver(){n._observerInstance=new Kt.window.ResizeObserver(t=>{for(let i of t){let r=n._getElementCallbacks(i.target);if(r)for(let o of r)o(i)}})}}return n})();function tx(n,e){n instanceof HTMLTextAreaElement&&(n.value=e),n.innerHTML=e}function ed(n){return e=>e+n}function Sg(n){let e=0;for(;n.previousSibling;)n=n.previousSibling,e++;return e}function ZS(n,e,t){n.insertBefore(t,n.childNodes[e]||null)}function Ag(n){return n&&n.nodeType===Node.COMMENT_NODE}function YS(n){try{Kt.document.createAttribute(n)}catch{return!1}return!0}function rc(n){return n?Br(n)?rc(n.parentElement):n.getClientRects?!!n.getClientRects().length:!1:!1}function nx({element:n,target:e,positions:t,limiter:i,fitInViewport:r,viewportOffsetConfig:o}){Ba(e)&&(e=e()),Ba(i)&&(i=i());let s=KF(n),a=Oue(o),l=new si(n),c=OF(e,a),u;if(!c||!a.getIntersection(c))return null;let d={targetRect:c,elementRect:l,positionedElementAncestor:s,viewportRect:a};if(!i&&!r)u=new J_(t[0],d);else{if(i){let f=OF(i,a);f&&(d.limiterRect=f)}u=Rue(t,d)}return u}function OF(n,e){let t=new si(n).getVisible();return t?t.getIntersection(e):null}function Oue(n){n=Object.assign({top:0,bottom:0,left:0,right:0},n);let e=new si(Kt.window);return e.top+=n.top,e.height-=n.top,e.bottom-=n.bottom,e.height-=n.bottom,e}function Rue(n,e){let{elementRect:t}=e,i=t.getArea(),r=n.map(a=>new J_(a,e)).filter(a=>!!a.name),o=0,s=null;for(let a of r){let{limiterIntersectionArea:l,viewportIntersectionArea:c}=a;if(l===i)return a;let u=c**2+l**2;u>o&&(o=u,s=a)}return s}var J_=class{name;config;_positioningFunctionCoordinates;_options;_cachedRect;_cachedAbsoluteRect;constructor(e,t){let i=e(t.targetRect,t.elementRect,t.viewportRect,t.limiterRect);if(!i)return;let{left:r,top:o,name:s,config:a}=i;this.name=s,this.config=a,this._positioningFunctionCoordinates={left:r,top:o},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){let e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=this._rect.toAbsoluteRect(),this._cachedAbsoluteRect)}};function XS(n){let e=n.parentNode;e&&e.removeChild(n)}function JS({target:n,viewportOffset:e=0,ancestorOffset:t=0,alignToTop:i,forceScroll:r}){let o=QS(n),s=o,a=null;for(e=Fue(e);s;){let l;s==o?l=RF(n):l=RF(a),Lue({parent:l,getRect:()=>NF(n,s),alignToTop:i,ancestorOffset:t,forceScroll:r});let c=NF(n,s);if(Nue({window:s,rect:c,viewportOffset:e,alignToTop:i,forceScroll:r}),s.parent!=s){if(a=s.frameElement,s=s.parent,!a)return}else s=null}}function Nue({window:n,rect:e,alignToTop:t,forceScroll:i,viewportOffset:r}){let o=e.clone().moveBy(0,r.bottom),s=e.clone().moveBy(0,-r.top),a=new si(n).excludeScrollbarsAndBorders(),l=[s,o],c=t&&i,u=l.every(p=>a.contains(p)),{scrollX:d,scrollY:f}=n,h=d,m=f;c?f-=a.top-e.top+r.top:u||(XF(s,a)?f-=a.top-e.top+r.top:YF(o,a)&&(t?f+=e.top-a.top-r.top:f+=e.bottom-a.bottom+r.bottom)),u||(JF(e,a)?d-=a.left-e.left+r.left:QF(e,a)&&(d+=e.right-a.right+r.right)),(d!=h||f!==m)&&n.scrollTo(d,f)}function Lue({parent:n,getRect:e,alignToTop:t,forceScroll:i,ancestorOffset:r=0,limiterElement:o}){let s=QS(n),a=t&&i,l,c,u,d=o||s.document.body;for(;n!=d;)c=e(),l=new si(n).excludeScrollbarsAndBorders(),u=l.contains(c),a?n.scrollTop-=l.top-c.top+r:u||(XF(c,l)?n.scrollTop-=l.top-c.top+r:YF(c,l)&&(t?n.scrollTop+=c.top-l.top-r:n.scrollTop+=c.bottom-l.bottom+r)),u||(JF(c,l)?n.scrollLeft-=l.left-c.left+r:QF(c,l)&&(n.scrollLeft+=c.right-l.right+r)),n=n.parentNode}function YF(n,e){return n.bottom>e.bottom}function XF(n,e){return n.top<e.top}function JF(n,e){return n.left<e.left}function QF(n,e){return n.right>e.right}function QS(n){return W1(n)?n.startContainer.ownerDocument.defaultView:n.ownerDocument.defaultView}function RF(n){if(W1(n)){let e=n.commonAncestorContainer;return Br(e)&&(e=e.parentNode),e}else return n.parentNode}function NF(n,e){let t=QS(n),i=new si(n);if(t===e)return i;{let r=t;for(;r!=e;){let o=r.frameElement,s=new si(o).excludeScrollbarsAndBorders();i.moveBy(s.left,s.top),r=r.parent}}return i}function Fue(n){return typeof n=="number"?{top:n,bottom:n,left:n,right:n}:n}var Bue={ctrl:"\u2303",cmd:"\u2318",alt:"\u2325",shift:"\u21E7"},Vue={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},LF={37:"\u2190",38:"\u2191",39:"\u2192",40:"\u2193",9:"\u21E5",33:"Page Up",34:"Page Down"},Gn=Uue(),jue=Object.fromEntries(Object.entries(Gn).map(([n,e])=>{let t;return e in LF?t=LF[e]:t=n.charAt(0).toUpperCase()+n.slice(1),[e,t]}));function Qu(n){let e;if(typeof n=="string"){if(e=Gn[n.toLowerCase()],!e)throw new Me("keyboard-unknown-key",null,{key:n})}else e=n.keyCode+(n.altKey?Gn.alt:0)+(n.ctrlKey?Gn.ctrl:0)+(n.shiftKey?Gn.shift:0)+(n.metaKey?Gn.cmd:0);return e}function $1(n){return typeof n=="string"&&(n=Hue(n)),n.map(e=>typeof e=="string"?zue(e):e).reduce((e,t)=>t+e,0)}function q1(n){let e=$1(n);return Object.entries(_n.isMac||_n.isiOS?Bue:Vue).reduce((r,[o,s])=>(e&Gn[o]&&(e&=~Gn[o],r+=s),r),"")+(e?jue[e]:"")}function eB(n){return n==Gn.arrowright||n==Gn.arrowleft||n==Gn.arrowup||n==Gn.arrowdown}function Tg(n,e){let t=e==="ltr";switch(n){case Gn.arrowleft:return t?"left":"right";case Gn.arrowright:return t?"right":"left";case Gn.arrowup:return"up";case Gn.arrowdown:return"down"}}function zue(n){if(n.endsWith("!"))return Qu(n.slice(0,-1));let e=Qu(n);return(_n.isMac||_n.isiOS)&&e==Gn.ctrl?Gn.cmd:e}function tB(n,e){let t=Tg(n,e);return t==="down"||t==="right"}function Uue(){let n={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++){let t=String.fromCharCode(e);n[t.toLowerCase()]=e}for(let e=48;e<=57;e++)n[e-48]=e;for(let e=112;e<=123;e++)n["f"+(e-111)]=e;return Object.assign(n,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),n}function Hue(n){return n.split("+").map(e=>e.trim())}var Wue=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function $S(n){return Wue.includes(n)?"rtl":"ltr"}function Vr(n){return Array.isArray(n)?n:[n]}Kt.window.CKEDITOR_TRANSLATIONS||(Kt.window.CKEDITOR_TRANSLATIONS={});function $ue(n,e,t=1,i){if(typeof t!="number")throw new Me("translation-service-quantity-not-a-number",null,{quantity:t});let r=i||Kt.window.CKEDITOR_TRANSLATIONS,o=Kue(r);o===1&&(n=Object.keys(r)[0]);let s=e.id||e.string;if(o===0||!Gue(n,s,r))return t!==1?e.plural:e.string;let a=r[n].dictionary,l=r[n].getPluralForm||(d=>d===1?0:1),c=a[s];if(typeof c=="string")return c;let u=Number(l(t));return c[u]}function que(n){return Array.isArray(n)?n.reduce((e,t)=>_g(e,t)):n}function Gue(n,e,t){return!!t[n]&&!!t[n].dictionary[e]}function Kue(n){return Object.keys(n).length}var Q_=class{uiLanguage;uiLanguageDirection;contentLanguage;contentLanguageDirection;t;translations;constructor({uiLanguage:e="en",contentLanguage:t,translations:i}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=$S(this.uiLanguage),this.contentLanguageDirection=$S(this.contentLanguage),this.translations=que(i),this.t=(r,o)=>this._t(r,o)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t=[]){t=Vr(t),typeof e=="string"&&(e={string:e});let r=!!e.plural?t[0]:1,o=$ue(this.uiLanguage,e,r,this.translations);return Zue(o,t)}};function Zue(n,e){return n.replace(/%(\d+)/g,(t,i)=>i<e.length?e[i]:t)}var gr=class extends Fi(){_items;_itemMap;_idProperty;_bindToCollection;_bindToExternalToInternalMap;_bindToInternalToExternalMap;_skippedIndexesFromExternal;constructor(e={},t={}){super();let i=Zs(e);if(i||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],i)for(let r of e)this._items.push(r),this._itemMap.set(this._getItemIdBeforeAdding(r),r)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(t===void 0)t=this._items.length;else if(t>this._items.length||t<0)throw new Me("collection-add-item-invalid-index",this);let i=0;for(let r of e){let o=this._getItemIdBeforeAdding(r),s=t+i;this._items.splice(s,0,r),this._itemMap.set(o,r),this.fire("add",r,s),i++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if(typeof e=="string")t=this._itemMap.get(e);else if(typeof e=="number")t=this._items[e];else throw new Me("collection-get-invalid-arg",this);return t||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{let t=this._idProperty,i=e[t];return i&&this._itemMap.has(i)}}getIndex(e){let t;return typeof e=="string"?t=this._itemMap.get(e):t=e,t?this._items.indexOf(t):-1}remove(e){let[t,i]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:i}),t}map(e,t){return this._items.map(e,t)}forEach(e,t){this._items.forEach(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);let e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new Me("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(i=>new t(i))},using:t=>{typeof t=="function"?this._setUpBindToBinding(t):this._setUpBindToBinding(i=>i[t])}}}_setUpBindToBinding(e){let t=this._bindToCollection,i=(r,o,s)=>{let a=t._bindToCollection==this,l=t._bindToInternalToExternalMap.get(o);if(a&&l)this._bindToExternalToInternalMap.set(o,l),this._bindToInternalToExternalMap.set(l,o);else{let c=e(o);if(!c){this._skippedIndexesFromExternal.push(s);return}let u=s;for(let d of this._skippedIndexesFromExternal)s>d&&u--;for(let d of t._skippedIndexesFromExternal)u>=d&&u++;this._bindToExternalToInternalMap.set(o,c),this._bindToInternalToExternalMap.set(c,o),this.add(c,u);for(let d=0;d<t._skippedIndexesFromExternal.length;d++)u<=t._skippedIndexesFromExternal[d]&&t._skippedIndexesFromExternal[d]++}};for(let r of t)i(null,r,t.getIndex(r));this.listenTo(t,"add",i),this.listenTo(t,"remove",(r,o,s)=>{let a=this._bindToExternalToInternalMap.get(o);a&&this.remove(a),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((l,c)=>(s<c&&l.push(c-1),s>c&&l.push(c),l),[])})}_getItemIdBeforeAdding(e){let t=this._idProperty,i;if(t in e){if(i=e[t],typeof i!="string")throw new Me("collection-add-invalid-id",this);if(this.get(i))throw new Me("collection-add-item-already-exists",this)}else e[t]=i=ts();return i}_remove(e){let t,i,r,o=!1,s=this._idProperty;if(typeof e=="string"?(i=e,r=this._itemMap.get(i),o=!r,r&&(t=this._items.indexOf(r))):typeof e=="number"?(t=e,r=this._items[t],o=!r,r&&(i=r[s])):(r=e,i=r[s],t=this._items.indexOf(r),o=t==-1||!this._itemMap.get(i)),o)throw new Me("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(i);let a=this._bindToInternalToExternalMap.get(r);return this._bindToInternalToExternalMap.delete(r),this._bindToExternalToInternalMap.delete(a),this.fire("remove",r,t),[r,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}};function Ar(n){let e=n.next();return e.done?null:e.value}var Sr=class extends No(Oi()){_elements=new Set;_nextEventLoopTimeout=null;constructor(){super(),this.set("isFocused",!1),this.set("focusedElement",null)}get elements(){return Array.from(this._elements.values())}add(e){if(this._elements.has(e))throw new Me("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}},Fr=class{_listener;constructor(){this._listener=new(No())}listenTo(e){this._listener.listenTo(e,"keydown",(t,i)=>{this._listener.fire("_keydown:"+Qu(i),i)})}set(e,t,i={}){let r=$1(e),o=i.priority;this._listener.listenTo(this._listener,"_keydown:"+r,(s,a)=>{i.filter&&!i.filter(a)||(t(a,()=>{a.preventDefault(),a.stopPropagation(),s.stop()}),s.return=!0)},{priority:o})}press(e){return!!this._listener.fire("_keydown:"+Qu(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}};function Yue(n){let e=new Map;for(let t in n)e.set(t,n[t]);return e}function Ea(n){return Zs(n)?new Map(n):Yue(n)}var Xue=1e4;function nB(n,e,t,i){if(Math.max(e.length,n.length)>Xue)return n.slice(0,t).concat(e).concat(n.slice(t+i,n.length));{let r=Array.from(n);return r.splice(t,i,...e),r}}function Ig(n,e){let t;function i(...r){i.cancel(),t=setTimeout(()=>n(...r),e)}return i.cancel=()=>{clearTimeout(t)},i}function iB(n){function e(d){return d.length>=40&&d.length<=255?"VALID":"INVALID"}if(!n)return"INVALID";let t="";try{t=atob(n)}catch{return"INVALID"}let i=t.split("-"),r=i[0],o=i[1];if(!o)return e(n);try{atob(o)}catch{try{if(atob(r),!atob(r).length)return e(n)}catch{return e(n)}}if(r.length<40||r.length>255)return"INVALID";let s="";try{atob(r),s=atob(o)}catch{return"INVALID"}if(s.length!==8)return"INVALID";let a=Number(s.substring(0,4)),l=Number(s.substring(4,6))-1,c=Number(s.substring(6,8)),u=new Date(a,l,c);return u<bue||isNaN(Number(u))?"INVALID":"VALID"}function Jue(n){return!!n&&n.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n)}function Que(n){return!!n&&n.length==1&&/[\ud800-\udbff]/.test(n)}function ede(n){return!!n&&n.length==1&&/[\udc00-\udfff]/.test(n)}function G1(n,e){return Que(n.charAt(e-1))&&ede(n.charAt(e))}function K1(n,e){return Jue(n.charAt(e))}var tde=nde();function ix(n,e){let t=String(n).matchAll(tde);return Array.from(t).some(i=>i.index<e&&e<i.index+i[0].length)}function nde(){let n=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,t="(?:"+n.map(r=>r.source).join("|")+")",i=`${e}|${t}(?:\u200D${t})*`;return new RegExp(i,"ug")}var lx=new WeakMap,rB=!1;function id({view:n,element:e,text:t,isDirectHost:i=!0,keepOnFocus:r=!1}){let o=n.document;lx.has(o)||(lx.set(o,new Map),o.registerPostFixer(a=>eA(o,a)),o.on("change:isComposing",()=>{n.change(a=>eA(o,a))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(a,l,c)=>{s(c)}),e.placeholder?s(e.placeholder):t&&s(t),t&&rde();function s(a){lx.get(o).set(e,{text:a,isDirectHost:i,keepOnFocus:r,hostElement:i?e:null}),n.change(l=>eA(o,l))}}function WB(n,e){return e.hasClass("ck-placeholder")?!1:(n.addClass("ck-placeholder",e),!0)}function $B(n,e){return e.hasClass("ck-placeholder")?(n.removeClass("ck-placeholder",e),!0):!1}function qB(n,e){if(!n.isAttached()||Array.from(n.getChildren()).some(s=>!s.is("uiElement")))return!1;let i=n.document,o=i.selection.anchor;return i.isComposing&&o&&o.parent===n?!1:e||!i.isFocused?!0:!!o&&o.parent!==n}function eA(n,e){let t=lx.get(n),i=[],r=!1;for(let[o,s]of t)s.isDirectHost&&(i.push(o),oB(e,o,s)&&(r=!0));for(let[o,s]of t){if(s.isDirectHost)continue;let a=ide(o);a&&(i.includes(a)||(s.hostElement=a,oB(e,o,s)&&(r=!0)))}return r}function oB(n,e,t){let{text:i,isDirectHost:r,hostElement:o}=t,s=!1;return o.getAttribute("data-placeholder")!==i&&(n.setAttribute("data-placeholder",i,o),s=!0),(r||e.childCount==1)&&qB(o,t.keepOnFocus)?WB(n,o)&&(s=!0):$B(n,o)&&(s=!0),s}function ide(n){if(n.childCount){let e=n.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}function rde(){rB||vi("enableplaceholder-deprecated-text-option"),rB=!0}var hm=class{is(){throw new Error("is() method is abstract")}},fm=class extends Fi(hm){document;parent;constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new Me("view-node-not-found-in-parent",this);return e}get nextSibling(){let e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){let e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){let e=[],t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){let t=[],i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}getCommonAncestor(e,t={}){let i=this.getAncestors(t),r=e.getAncestors(t),o=0;for(;i[o]==r[o]&&i[o];)o++;return o===0?null:i[o-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;let t=this.getPath(),i=e.getPath(),r=ps(t,i);switch(r){case"prefix":return!0;case"extension":return!1;default:return t[r]<i[r]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){let e=j_(this);return delete e.parent,e}};fm.prototype.is=function(n){return n==="node"||n==="view:node"};var Zr=class lA extends fm{_textData;constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof lA?this===e||this.data===e.data:!1}_clone(){return new lA(this.document,this.data)}};Zr.prototype.is=function(n){return n==="$text"||n==="view:$text"||n==="text"||n==="view:text"||n==="node"||n==="view:node"};var tu=class extends hm{textNode;data;offsetInText;constructor(e,t,i){if(super(),this.textNode=e,t<0||t>e.data.length)throw new Me("view-textproxy-wrong-offsetintext",this);if(i<0||t+i>e.data.length)throw new Me("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+i),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){let t=[],i=e.includeSelf?this.textNode:this.parent;for(;i!==null;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}};tu.prototype.is=function(n){return n==="$textProxy"||n==="view:$textProxy"||n==="textProxy"||n==="view:textProxy"};var Al=class{_patterns=[];constructor(...e){this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(let t of e)for(let i of this._patterns){let r=sB(t,i);if(r)return{element:t,pattern:i,match:r}}return null}matchAll(...e){let t=[];for(let i of e)for(let r of this._patterns){let o=sB(i,r);o&&t.push({element:i,pattern:r,match:o})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;let e=this._patterns[0],t=e.name;return typeof e!="function"&&t&&!(t instanceof RegExp)?t:null}};function sB(n,e){if(typeof e=="function")return e(n);let t={};return e.name&&(t.name=ode(e.name,n.name),!t.name)||e.attributes&&(t.attributes=cde(e.attributes,n),!t.attributes)||e.classes&&(t.classes=ude(e.classes,n),!t.classes)||e.styles&&(t.styles=dde(e.styles,n),!t.styles)?null:t}function ode(n,e){return n instanceof RegExp?!!e.match(n):n===e}function HA(n,e,t){let i=sde(n),r=Array.from(e),o=[];if(i.forEach(([s,a])=>{r.forEach(l=>{ade(s,l)&&lde(a,l,t)&&o.push(l)})}),!(!i.length||o.length<i.length))return o}function sde(n){return Array.isArray(n)?n.map(e=>es(e)?((e.key===void 0||e.value===void 0)&&vi("matcher-pattern-missing-key-or-value",e),[e.key,e.value]):[e,!0]):es(n)?Object.entries(n):[[n,!0]]}function ade(n,e){return n===!0||n===e||n instanceof RegExp&&e.match(n)}function lde(n,e,t){if(n===!0)return!0;let i=t(e);return n===i||n instanceof RegExp&&!!String(i).match(n)}function cde(n,e){let t=new Set(e.getAttributeKeys());return es(n)?(n.style!==void 0&&vi("matcher-pattern-deprecated-attributes-style-key",n),n.class!==void 0&&vi("matcher-pattern-deprecated-attributes-class-key",n)):(t.delete("style"),t.delete("class")),HA(n,t,i=>e.getAttribute(i))}function ude(n,e){return HA(n,e.getClassNames(),()=>{})}function dde(n,e){return HA(n,e.getStyleNames(!0),t=>e.getStyle(t))}var Lg=class{_styles;_styleProcessor;constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();let t=hde(e);for(let[i,r]of t)this._styleProcessor.toNormalizedForm(i,r,this._styles)}has(e){if(this.isEmpty)return!1;let i=this._styleProcessor.getReducedForm(e,this._styles).find(([r])=>r===e);return Array.isArray(i)}set(e,t){if(ui(e))for(let[i,r]of Object.entries(e))this._styleProcessor.toNormalizedForm(i,r,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){let t=cA(e);LS(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!ui(this._styles[e]))return this._styles[e];let i=this._styleProcessor.getReducedForm(e,this._styles).find(([r])=>r===e);if(Array.isArray(i))return i[1]}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map(([i])=>i)}clear(){this._styles={}}getStylesEntries(){let e=[],t=Object.keys(this._styles);for(let i of t)e.push(...this._styleProcessor.getReducedForm(i,this._styles));return e}_cleanEmptyObjectsOnPath(e){let t=e.split(".");if(!(t.length>1))return;let r=t.splice(0,t.length-1).join("."),o=Ih(this._styles,r);if(!o)return;!Object.keys(o).length&&this.remove(r)}},Fg=class{_normalizers;_extractors;_reducers;_consumables;constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,i){if(ui(t)){tA(i,cA(e),t);return}if(this._normalizers.has(e)){let r=this._normalizers.get(e),{path:o,value:s}=r(t);tA(i,o,s)}else tA(i,e,t)}getNormalized(e,t){if(!e)return _g({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){let i=this._extractors.get(e);if(typeof i=="string")return Ih(t,i);let r=i(e,t);if(r)return r}return Ih(t,cA(e))}getReducedForm(e,t){let i=this.getNormalized(e,t);return i===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(i):[[e,i]]}getStyleNames(e){let t=Array.from(this._consumables.keys()).filter(r=>{let o=this.getNormalized(r,e);return o&&typeof o=="object"?Object.keys(o).length:o}),i=new Set([...t,...Object.keys(e)]);return Array.from(i)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(let i of t)this._mapStyleNames(i,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}};function hde(n){let e=null,t=0,i=0,r=null,o=new Map;if(n==="")return o;n.charAt(n.length-1)!=";"&&(n=n+";");for(let s=0;s<n.length;s++){let a=n.charAt(s);if(e===null)switch(a){case":":r||(r=n.substr(t,s-t),i=s+1);break;case'"':case"'":e=a;break;case";":{let l=n.substr(i,s-i);r&&o.set(r.trim(),l.trim()),r=null,t=s+1;break}}else a===e&&(e=null)}return o}function cA(n){return n.replace("-",".")}function tA(n,e,t){let i=t;ui(t)&&(i=_g({},Ih(n,e),t)),NS(n,e,i)}var nu=class GB extends fm{name;_unsafeAttributesToRender=[];_attrs;_children;_classes;_styles;_customProperties=new Map;constructor(e,t,i,r){if(super(e),this.name=t,this._attrs=fde(i),this._children=[],r&&this._insertChild(0,r),this._classes=new Set,this._attrs.has("class")){let o=this._attrs.get("class");aB(this._classes,o),this._attrs.delete("class")}this._styles=new Lg(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*_r(this._attrs.keys())}*getAttributes(){yield*_r(this._attrs.entries()),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){let t=this._styles.toString();return t==""?void 0:t}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof GB))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(let[t,i]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==i)return!1;for(let t of this._classes)if(!e._classes.has(t))return!1;for(let t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(let t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(let t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){let t=new Al(...e),i=this.parent;for(;i&&!i.is("documentFragment");){if(t.match(i))return i;i=i.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*_r(this._customProperties.entries())}getIdentity(){let e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),i=Array.from(this._attrs).map(r=>`${r[0]}="${r[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(i==""?"":` ${i}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){let t=[];if(e)for(let r of this.getChildren())t.push(r._clone(e));let i=new this.constructor(this.document,this.name,this._attrs,t);return i._classes=new Set(this._classes),i._styles.set(this._styles.getNormalized()),i._customProperties=new Map(this._customProperties),i.getFillerOffset=this.getFillerOffset,i._unsafeAttributesToRender=this._unsafeAttributesToRender,i}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let i=0,r=mde(this.document,t);for(let o of r)o.parent!==null&&o._remove(),o.parent=this,o.document=this.document,this._children.splice(e,0,o),e++,i++;return i}_removeChildren(e,t=1){this._fireChange("children",this);for(let i=e;i<e+t;i++)this._children[i].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){let i=String(t);this._fireChange("attributes",this),e=="class"?aB(this._classes,i):e=="style"?this._styles.setTo(i):this._attrs.set(e,i)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0?(this._classes.clear(),!0):!1:e=="style"?this._styles.isEmpty?!1:(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(let t of Vr(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(let t of Vr(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(let t of Vr(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}};nu.prototype.is=function(n,e){return e?e===this.name&&(n==="element"||n==="view:element"):n==="element"||n==="view:element"||n==="node"||n==="view:node"};function fde(n){let e=Ea(n);for(let[t,i]of e)i===null?e.delete(t):typeof i!="string"&&e.set(t,String(i));return e}function aB(n,e){let t=e.split(/\s+/);n.clear(),t.forEach(i=>n.add(i))}function mde(n,e){return typeof e=="string"?[new Zr(n,e)]:(Zs(e)||(e=[e]),Array.from(e).map(t=>typeof t=="string"?new Zr(n,t):t instanceof tu?new Zr(n,t.data):t))}var nd=class extends nu{constructor(e,t,i,r){super(e,t,i,r),this.getFillerOffset=KB}};nd.prototype.is=function(n,e){return e?e===this.name&&(n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function KB(){let n=[...this.getChildren()],e=n[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(let t of n)if(!t.is("uiElement"))return null;return this.childCount}var Bg=class extends Oi(nd){constructor(e,t,i,r){super(e,t,i,r),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",o=>o&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}};Bg.prototype.is=function(n,e){return e?e===this.name&&(n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};var lB=Symbol("rootName"),nv=class extends Bg{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(lB)}set rootName(e){this._setCustomProperty(lB,e)}set _name(e){this.name=e}};nv.prototype.is=function(n,e){return e?e===this.name&&(n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};var im=class{direction;boundaries;singleCharacters;shallow;ignoreElementEnd;_position;_boundaryStartParent;_boundaryEndParent;constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new Me("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new Me("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=Wt._createAt(e.startPosition):this._position=Wt._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,i;do i=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=i)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone(),t=this.position,i=e.parent;if(i.parent===null&&e.offset===i.childCount)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let r;if(i instanceof Zr){if(e.isAtEnd)return this._position=Wt._createAfter(i),this._next();r=i.data[e.offset]}else r=i.getChild(e.offset);if(r instanceof nu){if(!this.shallow)e=new Wt(r,0);else{if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}return this._position=e,this._formatReturnValue("elementStart",r,t,e,1)}if(r instanceof Zr){if(this.singleCharacters)return e=new Wt(r,0),this._position=e,this._next();let o=r.data.length,s;return r==this._boundaryEndParent?(o=this.boundaries.end.offset,s=new tu(r,0,o),e=Wt._createAfter(s)):(s=new tu(r,0,r.data.length),e.offset++),this._position=e,this._formatReturnValue("text",s,t,e,o)}if(typeof r=="string"){let o;this.singleCharacters?o=1:o=(i===this._boundaryEndParent?this.boundaries.end.offset:i.data.length)-e.offset;let s=new tu(i,e.offset,o);return e.offset+=o,this._position=e,this._formatReturnValue("text",s,t,e,o)}return e=Wt._createAfter(i),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",i,t,e)}_previous(){let e=this.position.clone(),t=this.position,i=e.parent;if(i.parent===null&&e.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let r;if(i instanceof Zr){if(e.isAtStart)return this._position=Wt._createBefore(i),this._previous();r=i.data[e.offset-1]}else r=i.getChild(e.offset-1);if(r instanceof nu)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",r,t,e,1)):(e=new Wt(r,r.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",r,t,e));if(r instanceof Zr){if(this.singleCharacters)return e=new Wt(r,r.data.length),this._position=e,this._previous();let o=r.data.length,s;if(r==this._boundaryStartParent){let a=this.boundaries.start.offset;s=new tu(r,a,r.data.length-a),o=s.data.length,e=Wt._createBefore(s)}else s=new tu(r,0,r.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",s,t,e,o)}if(typeof r=="string"){let o;if(this.singleCharacters)o=1;else{let a=i===this._boundaryStartParent?this.boundaries.start.offset:0;o=e.offset-a}e.offset-=o;let s=new tu(i,e.offset,o);return this._position=e,this._formatReturnValue("text",s,t,e,o)}return e=Wt._createBefore(i),this._position=e,this._formatReturnValue("elementStart",i,t,e,1)}_formatReturnValue(e,t,i,r,o){return t instanceof tu&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(r=Wt._createAfter(t.textNode),this._position=r):i=Wt._createAfter(t.textNode)),t.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(r=Wt._createBefore(t.textNode),this._position=r):i=Wt._createBefore(t.textNode))),{done:!1,value:{type:e,item:t,previousPosition:i,nextPosition:r,length:o}}}},Wt=class td extends hm{parent;offset;constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){let e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Bg);)if(e.parent)e=e.parent;else return null;return e}getShiftedBy(e){let t=td._createAt(this),i=t.offset+e;return t.offset=i<0?0:i,t}getLastMatchingPosition(e,t={}){t.startPosition=this;let i=new im(t);return i.skip(e),i.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){let t=this.getAncestors(),i=e.getAncestors(),r=0;for(;t[r]==i[r]&&t[r];)r++;return r===0?null:t[r-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";let t=this.parent.is("node")?this.parent.getPath():[],i=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),i.push(e.offset);let r=ps(t,i);switch(r){case"prefix":return"before";case"extension":return"after";default:return t[r]<i[r]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new im(e)}clone(){return new td(this.parent,this.offset)}static _createAt(e,t){if(e instanceof td)return new this(e.parent,e.offset);{let i=e;if(t=="end")t=i.is("$text")?i.data.length:i.childCount;else{if(t=="before")return this._createBefore(i);if(t=="after")return this._createAfter(i);if(t!==0&&!t)throw new Me("view-createpositionat-offset-required",i)}return new td(i,t)}}static _createAfter(e){if(e.is("$textProxy"))return new td(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new Me("view-position-after-root",e,{root:e});return new td(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new td(e.textNode,e.offsetInText);if(!e.parent)throw new Me("view-position-before-root",e,{root:e});return new td(e.parent,e.index)}};Wt.prototype.is=function(n){return n==="position"||n==="view:position"};var pi=class Dh extends hm{start;end;constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*_r(new im({boundaries:this,ignoreElementEnd:!0}))}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(rx,{direction:"backward"}),t=this.end.getLastMatchingPosition(rx);return e.parent.is("$text")&&e.isAtStart&&(e=Wt._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=Wt._createAfter(t.parent)),new Dh(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(rx);if(e.isAfter(this.end)||e.isEqual(this.end))return new Dh(e,e);let t=this.end.getLastMatchingPosition(rx,{direction:"backward"}),i=e.nodeAfter,r=t.nodeBefore;return i&&i.is("$text")&&(e=new Wt(i,0)),r&&r.is("$text")&&(t=new Wt(r,r.data.length)),new Dh(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);let i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),r=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&r}getDifference(e){let t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Dh(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Dh(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,i=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(i=e.end),new Dh(t,i)}return null}getWalker(e={}){return e.boundaries=this,new im(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new Dh(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;let t=new im(e);for(let i of t)yield i.item}*getPositions(e={}){e.boundaries=this;let t=new im(e);yield t.position;for(let i of t)yield i.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,i,r){return new this(new Wt(e,t),new Wt(i,r))}static _createFromPositionAndShift(e,t){let i=e,r=e.getShiftedBy(t);return t>0?new this(i,r):new this(r,i)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){let t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Wt._createBefore(e),t)}};pi.prototype.is=function(n){return n==="range"||n==="view:range"};function rx(n){return!!(n.item.is("attributeElement")||n.item.is("uiElement"))}var Nh=class ZB extends Fi(hm){_ranges;_lastRangeBackward;_isFake;_fakeSelectionLabel;constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;let e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;let e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(let e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(let t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?e.clone():null}getLastRange(){let e=null;for(let t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?e.clone():null}getFirstPosition(){let e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){let e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(let t of this._ranges){let i=!1;for(let r of e._ranges)if(t.isEqual(r)){i=!0;break}if(!i)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;let t=H1(this.getRanges()),i=H1(e.getRanges());if(t!=i)return!1;if(t==0)return!0;for(let r of this.getRanges()){r=r.getTrimmed();let o=!1;for(let s of e.getRanges())if(s=s.getTrimmed(),r.start.isEqual(s.start)&&r.end.isEqual(s.end)){o=!0;break}if(!o)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,i,r]=e;if(typeof i=="object"&&(r=i,i=void 0),t===null)this._setRanges([]),this._setFakeOptions(r);else if(t instanceof ZB||t instanceof mv)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof pi)this._setRanges([t],r&&r.backward),this._setFakeOptions(r);else if(t instanceof Wt)this._setRanges([new pi(t)]),this._setFakeOptions(r);else if(t instanceof fm){let o=!!r&&!!r.backward,s;if(i===void 0)throw new Me("view-selection-setto-required-second-parameter",this);i=="in"?s=pi._createIn(t):i=="on"?s=pi._createOn(t):s=new pi(Wt._createAt(t,i)),this._setRanges([s],o),this._setFakeOptions(r)}else if(Zs(t))this._setRanges(t,r&&r.backward),this._setFakeOptions(r);else throw new Me("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new Me("view-selection-setfocus-no-ranges",this);let i=Wt._createAt(e,t);if(i.compareWith(this.focus)=="same")return;let r=this.anchor;this._ranges.pop(),i.compareWith(r)=="before"?this._addRange(new pi(i,r),!0):this._addRange(new pi(r,i)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(let i of e)this._addRange(i);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof pi))throw new Me("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(let t of this._ranges)if(e.isIntersecting(t))throw new Me("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new pi(e.start,e.end))}};Nh.prototype.is=function(n){return n==="selection"||n==="view:selection"};var mv=class extends Fi(hm){_selection;constructor(...e){super(),this._selection=new Nh,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*_r(this._selection.getRanges())}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}};mv.prototype.is=function(n){return n==="selection"||n=="documentSelection"||n=="view:selection"||n=="view:documentSelection"};var iu=class extends ka{startRange;_eventPhase;_currentTarget;constructor(e,t,i){super(e,t),this.startRange=i,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}},nA=Symbol("bubbling contexts");function uA(n){class e extends n{fire(i,...r){try{let o=i instanceof ka?i:new ka(this,i),s=iA(this);if(!s.size)return;if(Z1(o,"capturing",this),Mg(s,"$capture",o,...r))return o.return;let a=o.startRange||this.selection.getFirstRange(),l=a?a.getContainedElement():null,c=l?!!YB(s,l):!1,u=l||pde(a);if(Z1(o,"atTarget",u),!c){if(Mg(s,"$text",o,...r))return o.return;Z1(o,"bubbling",u)}for(;u;){if(u.is("rootElement")){if(Mg(s,"$root",o,...r))return o.return}else if(u.is("element")&&Mg(s,u.name,o,...r))return o.return;if(Mg(s,u,o,...r))return o.return;u=u.parent,Z1(o,"bubbling",u)}return Z1(o,"bubbling",this),Mg(s,"$document",o,...r),o.return}catch(o){Me.rethrowUnexpectedError(o,this)}}_addEventListener(i,r,o){let s=Vr(o.context||"$document"),a=iA(this);for(let l of s){let c=a.get(l);c||(c=new(Fi()),a.set(l,c)),this.listenTo(c,i,r,o)}}_removeEventListener(i,r){let o=iA(this);for(let s of o.values())this.stopListening(s,i,r)}}return e}{let n=uA(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{uA[e]=n.prototype[e]})}function Z1(n,e,t){n instanceof iu&&(n._eventPhase=e,n._currentTarget=t)}function Mg(n,e,t,...i){let r=typeof e=="string"?n.get(e):YB(n,e);return r?(r.fire(t,...i),t.stop.called):!1}function YB(n,e){for(let[t,i]of n)if(typeof t=="function"&&t(e))return i;return null}function iA(n){return n[nA]||(n[nA]=new Map),n[nA]}function pde(n){if(!n)return null;let e=n.start.parent,t=n.end.parent,i=e.getPath(),r=t.getPath();return i.length>r.length?e:t}var vx=class extends uA(Oi()){selection;roots;stylesProcessor;_postFixers=new Set;constructor(e){super(),this.selection=new mv,this.roots=new gr({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(let i of this._postFixers)if(t=i(e),t)break;while(t)}},cB=10,rm=(()=>{class n extends nu{static DEFAULT_PRIORITY=cB;_priority=cB;_id=null;_clonesGroup=null;constructor(t,i,r,o){super(t,i,r,o),this.getFillerOffset=gde}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new Me("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(t){return this.id!==null||t.id!==null?this.id===t.id:super.isSimilar(t)&&this.priority==t.priority}_clone(t=!1){let i=super._clone(t);return i._priority=this._priority,i._id=this._id,i}}return n})();rm.prototype.is=function(n,e){return e?e===this.name&&(n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"):n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function gde(){if(rA(this))return null;let n=this.parent;for(;n&&n.is("attributeElement");){if(rA(n)>1)return null;n=n.parent}return!n||rA(n)>1?null:this.childCount}function rA(n){return Array.from(n.getChildren()).filter(e=>!e.is("uiElement")).length}var Vg=class extends nu{constructor(e,t,i,r){super(e,t,i,r),this.getFillerOffset=bde}_insertChild(e,t){if(t&&(t instanceof fm||Array.from(t).length>0))throw new Me("view-emptyelement-cannot-add",[this,t]);return 0}};Vg.prototype.is=function(n,e){return e?e===this.name&&(n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"):n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function bde(){return null}var am=class extends nu{constructor(e,t,i,r){super(e,t,i,r),this.getFillerOffset=wde}_insertChild(e,t){if(t&&(t instanceof fm||Array.from(t).length>0))throw new Me("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){let t=e.createElement(this.name);for(let i of this.getAttributeKeys())t.setAttribute(i,this.getAttribute(i));return t}};am.prototype.is=function(n,e){return e?e===this.name&&(n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"):n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function vde(n){n.document.on("arrowKey",(e,t)=>yde(e,t,n.domConverter),{priority:"low"})}function wde(){return null}function yde(n,e,t){if(e.keyCode==Gn.arrowright){let i=e.domTarget.ownerDocument.defaultView.getSelection(),r=i.rangeCount==1&&i.getRangeAt(0).collapsed;if(r||e.shiftKey){let o=i.focusNode,s=i.focusOffset,a=t.domPositionToView(o,s);if(a===null)return;let l=!1,c=a.getLastMatchingPosition(u=>(u.item.is("uiElement")&&(l=!0),!!(u.item.is("uiElement")||u.item.is("attributeElement"))));if(l){let u=t.viewPositionToDom(c);r?i.collapse(u.parent,u.offset):i.extend(u.parent,u.offset)}}}}var jg=class extends nu{constructor(e,t,i,r){super(e,t,i,r),this.getFillerOffset=_de}_insertChild(e,t){if(t&&(t instanceof fm||Array.from(t).length>0))throw new Me("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}};jg.prototype.is=function(n,e){return e?e===this.name&&(n==="rawElement"||n==="view:rawElement"||n==="element"||n==="view:element"):n==="rawElement"||n==="view:rawElement"||n===this.name||n==="view:"+this.name||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function _de(){return null}var om=class extends Fi(hm){document;_children=[];_customProperties=new Map;constructor(e,t){super(),this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*_r(this._customProperties.entries())}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let i=0,r=xde(this.document,t);for(let o of r)o.parent!==null&&o._remove(),o.parent=this,this._children.splice(e,0,o),e++,i++;return i}_removeChildren(e,t=1){this._fireChange("children",this);for(let i=e;i<e+t;i++)this._children[i].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}};om.prototype.is=function(n){return n==="documentFragment"||n==="view:documentFragment"};function xde(n,e){return typeof e=="string"?[new Zr(n,e)]:(Zs(e)||(e=[e]),Array.from(e).map(t=>typeof t=="string"?new Zr(n,t):t instanceof tu?new Zr(n,t.data):t))}var iv=class{document;_cloneGroups=new Map;_slotFactory=null;constructor(e){this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new om(this.document,e)}createText(e){return new Zr(this.document,e)}createAttributeElement(e,t,i={}){let r=new rm(this.document,e,t);return typeof i.priority=="number"&&(r._priority=i.priority),i.id&&(r._id=i.id),i.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),r}createContainerElement(e,t,i={},r={}){let o=null;es(i)?r=i:o=i;let s=new nd(this.document,e,t,o);return r.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),s}createEditableElement(e,t,i={}){let r=new Bg(this.document,e,t);return i.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),r}createEmptyElement(e,t,i={}){let r=new Vg(this.document,e,t);return i.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),r}createUIElement(e,t,i){let r=new am(this.document,e,t);return i&&(r.render=i),r}createRawElement(e,t,i,r={}){let o=new jg(this.document,e,t);return i&&(o.render=i),r.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),o}setAttribute(e,t,i){i._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,i){es(e)&&i===void 0?t._setStyle(e):i._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,i){i._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof Wt?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){let t=e.parent;if(!t.is("containerElement"))throw new Me("view-writer-break-non-container-element",this.document);if(!t.parent)throw new Me("view-writer-break-root",this.document);if(e.isAtStart)return Wt._createBefore(t);if(!e.isAtEnd){let i=t._clone(!1);this.insert(Wt._createAfter(t),i);let r=new pi(e,Wt._createAt(t,"end")),o=new Wt(i,0);this.move(r,o)}return Wt._createAfter(t)}mergeAttributes(e){let t=e.offset,i=e.parent;if(i.is("$text"))return e;if(i.is("attributeElement")&&i.childCount===0){let s=i.parent,a=i.index;return i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new Wt(s,a))}let r=i.getChild(t-1),o=i.getChild(t);if(!r||!o)return e;if(r.is("$text")&&o.is("$text"))return dB(r,o);if(r.is("attributeElement")&&o.is("attributeElement")&&r.isSimilar(o)){let s=r.childCount;return r._appendChild(o.getChildren()),o._remove(),this._removeFromClonedElementsGroup(o),this.mergeAttributes(new Wt(r,s))}return e}mergeContainers(e){let t=e.nodeBefore,i=e.nodeAfter;if(!t||!i||!t.is("containerElement")||!i.is("containerElement"))throw new Me("view-writer-merge-containers-invalid-position",this.document);let r=t.getChild(t.childCount-1),o=r instanceof Zr?Wt._createAt(r,"end"):Wt._createAt(t,"end");return this.move(pi._createIn(i),Wt._createAt(t,"end")),this.remove(pi._createOn(i)),o}insert(e,t){t=Zs(t)?[...t]:[t],XB(t,this.document);let i=t.reduce((s,a)=>{let l=s[s.length-1],c=!a.is("uiElement");return!l||l.breakAttributes!=c?s.push({breakAttributes:c,nodes:[a]}):l.nodes.push(a),s},[]),r=null,o=e;for(let{nodes:s,breakAttributes:a}of i){let l=this._insertNodes(o,s,a);r||(r=l.start),o=l.end}return r?new pi(r,o):new pi(e)}remove(e){let t=e instanceof pi?e:pi._createOn(e);if(Y1(t,this.document),t.isCollapsed)return new om(this.document);let{start:i,end:r}=this._breakAttributesRange(t,!0),o=i.parent,s=r.offset-i.offset,a=o._removeChildren(i.offset,s);for(let c of a)this._removeFromClonedElementsGroup(c);let l=this.mergeAttributes(i);return t.start=l,t.end=l.clone(),new om(this.document,a)}clear(e,t){Y1(e,this.document);let i=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(let r of i){let o=r.item,s;if(o.is("element")&&t.isSimilar(o))s=pi._createOn(o);else if(!r.nextPosition.isAfter(e.start)&&o.is("$textProxy")){let a=o.getAncestors().find(l=>l.is("element")&&t.isSimilar(l));a&&(s=pi._createIn(a))}s&&(s.end.isAfter(e.end)&&(s.end=e.end),s.start.isBefore(e.start)&&(s.start=e.start),this.remove(s))}}move(e,t){let i;if(t.isAfter(e.end)){t=this._breakAttributes(t,!0);let r=t.parent,o=r.childCount;e=this._breakAttributesRange(e,!0),i=this.remove(e),t.offset+=r.childCount-o}else i=this.remove(e);return this.insert(t,i)}wrap(e,t){if(!(t instanceof rm))throw new Me("view-writer-wrap-invalid-attribute",this.document);if(Y1(e,this.document),e.isCollapsed){let i=e.start;i.parent.is("element")&&!Cde(i.parent)&&(i=i.getLastMatchingPosition(o=>o.item.is("uiElement"))),i=this._wrapPosition(i,t);let r=this.document.selection;return r.isCollapsed&&r.getFirstPosition().isEqual(e.start)&&this.setSelection(i),new pi(i)}else return this._wrapRange(e,t)}unwrap(e,t){if(!(t instanceof rm))throw new Me("view-writer-unwrap-invalid-attribute",this.document);if(Y1(e,this.document),e.isCollapsed)return e;let{start:i,end:r}=this._breakAttributesRange(e,!0),o=i.parent,s=this._unwrapChildren(o,i.offset,r.offset,t),a=this.mergeAttributes(s.start);a.isEqual(s.start)||s.end.offset--;let l=this.mergeAttributes(s.end);return new pi(a,l)}rename(e,t){let i=new nd(this.document,e,t.getAttributes());return this.insert(Wt._createAfter(t),i),this.move(pi._createIn(t),Wt._createAt(i,0)),this.remove(pi._createOn(t)),i}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return Wt._createAt(e,t)}createPositionAfter(e){return Wt._createAfter(e)}createPositionBefore(e){return Wt._createBefore(e)}createRange(e,t){return new pi(e,t)}createRangeOn(e){return pi._createOn(e)}createRangeIn(e){return pi._createIn(e)}createSelection(...e){return new Nh(...e)}createSlot(e="children"){if(!this._slotFactory)throw new Me("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,i){let r;if(i?r=dA(e):r=e.parent.is("$text")?e.parent.parent:e.parent,!r)throw new Me("view-writer-invalid-position-container",this.document);let o;i?o=this._breakAttributes(e,!0):o=e.parent.is("$text")?oA(e):e;let s=r._insertChild(o.offset,t);for(let u of t)this._addToClonedElementsGroup(u);let a=o.getShiftedBy(s),l=this.mergeAttributes(o);l.isEqual(o)||a.offset--;let c=this.mergeAttributes(a);return new pi(l,c)}_wrapChildren(e,t,i,r){let o=t,s=[];for(;o<i;){let l=e.getChild(o),c=l.is("$text"),u=l.is("attributeElement");if(u&&this._wrapAttributeElement(r,l))s.push(new Wt(e,o));else if(c||!u||kde(r,l)){let d=r._clone();l._remove(),d._appendChild(l),e._insertChild(o,d),this._addToClonedElementsGroup(d),s.push(new Wt(e,o))}else this._wrapChildren(l,0,l.childCount,r);o++}let a=0;for(let l of s){if(l.offset-=a,l.offset==t)continue;this.mergeAttributes(l).isEqual(l)||(a++,i--)}return pi._createFromParentsAndOffsets(e,t,e,i)}_unwrapChildren(e,t,i,r){let o=t,s=[];for(;o<i;){let l=e.getChild(o);if(!l.is("attributeElement")){o++;continue}if(l.isSimilar(r)){let c=l.getChildren(),u=l.childCount;l._remove(),e._insertChild(o,c),this._removeFromClonedElementsGroup(l),s.push(new Wt(e,o),new Wt(e,o+u)),o+=u,i+=u-1;continue}if(this._unwrapAttributeElement(r,l)){s.push(new Wt(e,o),new Wt(e,o+1)),o++;continue}this._unwrapChildren(l,0,l.childCount,r),o++}let a=0;for(let l of s){if(l.offset-=a,l.offset==t||l.offset==i)continue;this.mergeAttributes(l).isEqual(l)||(a++,i--)}return pi._createFromParentsAndOffsets(e,t,e,i)}_wrapRange(e,t){let{start:i,end:r}=this._breakAttributesRange(e,!0),o=i.parent,s=this._wrapChildren(o,i.offset,r.offset,t),a=this.mergeAttributes(s.start);a.isEqual(s.start)||s.end.offset--;let l=this.mergeAttributes(s.end);return new pi(a,l)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return uB(e.clone());e.parent.is("$text")&&(e=oA(e));let i=this.createAttributeElement("_wrapPosition-fake-element");i._priority=Number.POSITIVE_INFINITY,i.isSimilar=()=>!1,e.parent._insertChild(e.offset,i);let r=new pi(e,e.getShiftedBy(1));this.wrap(r,t);let o=new Wt(i.parent,i.index);i._remove();let s=o.nodeBefore,a=o.nodeAfter;return s instanceof Zr&&a instanceof Zr?dB(s,a):uB(o)}_wrapAttributeElement(e,t){if(!hB(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(let i of e.getAttributeKeys())if(!(i==="class"||i==="style")&&t.hasAttribute(i)&&t.getAttribute(i)!==e.getAttribute(i))return!1;for(let i of e.getStyleNames())if(t.hasStyle(i)&&t.getStyle(i)!==e.getStyle(i))return!1;for(let i of e.getAttributeKeys())i==="class"||i==="style"||t.hasAttribute(i)||this.setAttribute(i,e.getAttribute(i),t);for(let i of e.getStyleNames())t.hasStyle(i)||this.setStyle(i,e.getStyle(i),t);for(let i of e.getClassNames())t.hasClass(i)||this.addClass(i,t);return!0}_unwrapAttributeElement(e,t){if(!hB(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(let i of e.getAttributeKeys())if(!(i==="class"||i==="style")&&(!t.hasAttribute(i)||t.getAttribute(i)!==e.getAttribute(i)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(let i of e.getStyleNames())if(!t.hasStyle(i)||t.getStyle(i)!==e.getStyle(i))return!1;for(let i of e.getAttributeKeys())i==="class"||i==="style"||this.removeAttribute(i,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){let i=e.start,r=e.end;if(Y1(e,this.document),e.isCollapsed){let l=this._breakAttributes(e.start,t);return new pi(l,l)}let o=this._breakAttributes(r,t),s=o.parent.childCount,a=this._breakAttributes(i,t);return o.offset+=o.parent.childCount-s,new pi(a,o)}_breakAttributes(e,t=!1){let i=e.offset,r=e.parent;if(e.parent.is("emptyElement"))throw new Me("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new Me("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new Me("view-writer-cannot-break-raw-element",this.document);if(!t&&r.is("$text")&&hA(r.parent)||hA(r))return e.clone();if(r.is("$text"))return this._breakAttributes(oA(e),t);let o=r.childCount;if(i==o){let s=new Wt(r.parent,r.index+1);return this._breakAttributes(s,t)}else if(i===0){let s=new Wt(r.parent,r.index);return this._breakAttributes(s,t)}else{let s=r.index+1,a=r._clone();r.parent._insertChild(s,a),this._addToClonedElementsGroup(a);let l=r.childCount-i,c=r._removeChildren(i,l);a._appendChild(c);let u=new Wt(r.parent,s);return this._breakAttributes(u,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(let r of e.getChildren())this._addToClonedElementsGroup(r);let t=e.id;if(!t)return;let i=this._cloneGroups.get(t);i||(i=new Set,this._cloneGroups.set(t,i)),i.add(e),e._clonesGroup=i}_removeFromClonedElementsGroup(e){if(e.is("element"))for(let r of e.getChildren())this._removeFromClonedElementsGroup(r);let t=e.id;if(!t)return;let i=this._cloneGroups.get(t);i&&i.delete(e)}};function Cde(n){return Array.from(n.getChildren()).some(e=>!e.is("uiElement"))}function dA(n){let e=n.parent;for(;!hA(e);){if(!e)return;e=e.parent}return e}function kde(n,e){return n.priority<e.priority?!0:n.priority>e.priority?!1:n.getIdentity()<e.getIdentity()}function uB(n){let e=n.nodeBefore;if(e&&e.is("$text"))return new Wt(e,e.data.length);let t=n.nodeAfter;return t&&t.is("$text")?new Wt(t,0):n}function oA(n){if(n.offset==n.parent.data.length)return new Wt(n.parent.parent,n.parent.index+1);if(n.offset===0)return new Wt(n.parent.parent,n.parent.index);let e=n.parent.data.slice(n.offset);return n.parent._data=n.parent.data.slice(0,n.offset),n.parent.parent._insertChild(n.parent.index+1,new Zr(n.root.document,e)),new Wt(n.parent.parent,n.parent.index+1)}function dB(n,e){let t=n.data.length;return n._data+=e.data,e._remove(),new Wt(n,t)}var Ede=[Zr,rm,nd,Vg,jg,am];function XB(n,e){for(let t of n){if(!Ede.some(i=>t instanceof i))throw new Me("view-writer-insert-invalid-node-type",e);t.is("$text")||XB(t.getChildren(),e)}}function hA(n){return n&&(n.is("containerElement")||n.is("documentFragment"))}function Y1(n,e){let t=dA(n.start),i=dA(n.end);if(!t||!i||t!==i)throw new Me("view-writer-invalid-range-container",e)}function hB(n,e){return n.id===null&&e.id===null}var JB=n=>n.createTextNode("\xA0"),QB=n=>{let e=n.createElement("span");return e.dataset.ckeFiller="true",e.innerText="\xA0",e},eV=n=>{let e=n.createElement("br");return e.dataset.ckeFiller="true",e},sc=7,rv="\u2060".repeat(sc);function Va(n){return typeof n=="string"?n.substr(0,sc)===rv:Br(n)&&n.data.substr(0,sc)===rv}function Dg(n){return n.data.length==sc&&Va(n)}function fB(n){let e=typeof n=="string"?n:n.data;return Va(n)?e.slice(sc):e}function Sde(n){n.document.on("arrowKey",Ade,{priority:"low"})}function Ade(n,e){if(e.keyCode==Gn.arrowleft){let t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){let i=t.getRangeAt(0).startContainer,r=t.getRangeAt(0).startOffset;Va(i)&&r<=sc&&t.collapse(i,0)}}}var cx=class extends Oi(){domDocuments=new Set;domConverter;markedAttributes=new Set;markedChildren=new Set;markedTexts=new Set;selection;_inlineFiller=null;_fakeSelectionContainer=null;constructor(e,t){super(),this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),_n.isBlink&&!_n.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else if(e==="children")this.markedChildren.add(t);else throw new Me("view-renderer-unknown-type",this)}}render(){if(this.isComposing&&!_n.isAndroid)return;let e=null,t=_n.isBlink&&!_n.isAndroid?!this.isSelecting:!0;for(let i of this.markedChildren)this._updateChildrenMappings(i);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Wt._createBefore(e.parent)));for(let i of this.markedAttributes)this._updateAttrs(i);for(let i of this.markedChildren)this._updateChildren(i,{inlineFillerPosition:e});for(let i of this.markedTexts)!this.markedChildren.has(i.parent)&&this.domConverter.mapViewToDom(i.parent)&&this._updateText(i,{inlineFillerPosition:e});if(t)if(e){let i=this.domConverter.viewPositionToDom(e),r=i.parent.ownerDocument;Va(i.parent)?this._inlineFiller=i.parent:this._inlineFiller=mB(r,i.parent,i.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){let t=this.domConverter.mapViewToDom(e);if(!t)return;let i=Array.from(t.childNodes),r=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),o=this._diffNodeLists(i,r),s=this._findUpdateActions(o,i,r,Ide);if(s.indexOf("update")!==-1){let a={equal:0,insert:0,delete:0};for(let l of s)if(l==="update"){let c=a.equal+a.insert,u=a.equal+a.delete,d=e.getChild(c);d&&!d.is("uiElement")&&!d.is("rawElement")&&this._updateElementMappings(d,i[u]),XS(r[c]),a.equal++}else a[l]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){let e=this.selection.getFirstPosition();return e.parent.is("$text")?Wt._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;let e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&Br(t.parent)&&Va(t.parent))}_removeInlineFiller(){let e=this._inlineFiller;if(!Va(e))throw new Me("view-renderer-filler-was-lost",this);Dg(e)?e.remove():e.data=e.data.substr(sc),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;let e=this.selection.getFirstPosition(),t=e.parent,i=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!Tde(t))return!1;let r=e.nodeBefore,o=e.nodeAfter;return!(r instanceof Zr||o instanceof Zr||i===t.getFillerOffset()&&(!r||!r.is("element","br"))||_n.isAndroid&&(r||o))}_updateText(e,t){let i=this.domConverter.findCorrespondingDomText(e),o=this.domConverter.viewToDom(e).data,s=t.inlineFillerPosition;s&&s.parent==e.parent&&s.offset==e.index&&(o=rv+o),this._updateTextNode(i,o)}_updateAttrs(e){let t=this.domConverter.mapViewToDom(e);if(!t)return;let i=Array.from(t.attributes).map(o=>o.name),r=e.getAttributeKeys();for(let o of r)this.domConverter.setDomElementAttribute(t,o,e.getAttribute(o),e);for(let o of i)e.hasAttribute(o)||this.domConverter.removeDomElementAttribute(t,o)}_updateChildren(e,t){let i=this.domConverter.mapViewToDom(e);if(!i)return;if(_n.isAndroid){let d=null;for(let f of Array.from(i.childNodes)){if(d&&Br(d)&&Br(f)){i.normalize();break}d=f}}let r=t.inlineFillerPosition,o=i.childNodes,s=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));r&&r.parent===e&&mB(i.ownerDocument,s,r.offset);let a=this._diffNodeLists(o,s),l=this._findUpdateActions(a,o,s,Mde),c=0,u=new Set;for(let d of l)d==="delete"?(u.add(o[c]),XS(o[c])):(d==="equal"||d==="update")&&c++;c=0;for(let d of l)d==="insert"?(ZS(i,c,s[c]),c++):d==="update"?(this._updateTextNode(o[c],s[c].data),c++):d==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(s[c])),c++);for(let d of u)d.parentNode||this.domConverter.unbindDomElement(d)}_diffNodeLists(e,t){return e=Ode(e,this._fakeSelectionContainer),Cg(e,t,Pde.bind(null,this.domConverter))}_findUpdateActions(e,t,i,r){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let o=[],s=[],a=[],l={equal:0,insert:0,delete:0};for(let c of e)c==="insert"?a.push(i[l.equal+l.insert]):c==="delete"?s.push(t[l.equal+l.delete]):(o=o.concat(Cg(s,a,r).map(u=>u==="equal"?"update":u)),o.push("equal"),s=[],a=[]),l[c]++;return o.concat(Cg(s,a,r).map(c=>c==="equal"?"update":c))}_updateTextNode(e,t){let i=e.data;i!=t&&(_n.isAndroid&&this.isComposing&&i.replace(/\u00A0/g," ")==t.replace(/\u00A0/g," ")||this._updateTextNodeInternal(e,t))}_updateTextNodeInternal(e,t){let i=qS(e.data,t);for(let r of i)r.type==="insert"?e.insertData(r.index,r.values.join("")):e.deleteData(r.index,r.howMany)}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(let t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(_n.isBlink&&!_n.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0){this._removeDomSelection(),this._removeFakeSelection();return}let e=this.domConverter.mapViewToDom(this.selection.editableElement);!this.isFocused||!e||(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&_n.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){let t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=Rde(t));let i=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(i,this.selection),!this._fakeSelectionNeedsUpdate(e))return;(!i.parentElement||i.parentElement!=e)&&e.appendChild(i),i.textContent=this.selection.fakeSelectionLabel||"\xA0";let r=t.getSelection(),o=t.createRange();r.removeAllRanges(),o.selectNodeContents(i),r.addRange(o)}_updateDomSelection(e){let t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;let i=this.domConverter.viewPositionToDom(this.selection.anchor),r=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(i.parent,i.offset,r.parent,r.offset),_n.isGecko&&Dde(r,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;let t=e&&this.domConverter.domSelectionToView(e);return!(t&&this.selection.isEqual(t)||!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){let t=this._fakeSelectionContainer,i=e.ownerDocument.getSelection();return!t||t.parentElement!==e||i.anchorNode!==t&&!t.contains(i.anchorNode)?!0:t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(let e of this.domDocuments){let t=e.getSelection();if(t.rangeCount){let i=e.activeElement,r=this.domConverter.mapDomToView(i);i&&r&&t.removeAllRanges()}}}_removeFakeSelection(){let e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){let e=this.selection.editableElement;e&&this.domConverter.focus(e)}}};function Tde(n){if(n.getAttribute("contenteditable")=="false")return!1;let e=n.findAncestor(t=>t.hasAttribute("contenteditable"));return!e||e.getAttribute("contenteditable")=="true"}function mB(n,e,t){let i=e instanceof Array?e:e.childNodes,r=i[t];if(Br(r))return r.data=rv+r.data,r;{let o=n.createTextNode(rv);return Array.isArray(e)?i.splice(t,0,o):ZS(e,t,o),o}}function Ide(n,e){return Qc(n)&&Qc(e)&&!Br(n)&&!Br(e)&&!Ag(n)&&!Ag(e)&&n.tagName.toLowerCase()===e.tagName.toLowerCase()}function Mde(n,e){return Qc(n)&&Qc(e)&&Br(n)&&Br(e)}function Pde(n,e,t){return e===t?!0:Br(e)&&Br(t)?e.data===t.data:!!(n.isBlockFiller(e)&&n.isBlockFiller(t))}function Dde(n,e){let t=n.parent,i=n.offset;if(Br(t)&&Dg(t)&&(i=Sg(t)+1,t=t.parentNode),t.nodeType!=Node.ELEMENT_NODE||i!=t.childNodes.length-1)return;let r=t.childNodes[i];r&&r.tagName=="BR"&&e.addRange(e.getRangeAt(0))}function Ode(n,e){let t=Array.from(n);return t.length==0||!e||t[t.length-1]==e&&t.pop(),t}function Rde(n){let e=n.createElement("div");return e.className="ck-fake-selection-container",Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent="\xA0",e}var Nde=eV(Kt.document),Lde=JB(Kt.document),Fde=QB(Kt.document),ox="data-ck-unsafe-attribute-",pB="data-ck-unsafe-element",lm=class{document;renderingMode;blockFillerMode;preElements;blockElements;inlineObjectElements;unsafeElements;_domDocument;_domToViewMapping=new WeakMap;_viewToDomMapping=new WeakMap;_fakeSelectionMapping=new WeakMap;_rawContentElementMatcher=new Al;_inlineObjectElementMatcher=new Al;_elementsWithTemporaryCustomProperties=new Set;constructor(e,{blockFillerMode:t,renderingMode:i="editing"}={}){this.document=e,this.renderingMode=i,this.blockFillerMode=t||(i==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?Kt.document:Kt.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new Nh(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){let t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(let i of Array.from(e.children))this.unbindDomElement(i)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,i){return this.renderingMode==="data"?!0:(e=e.toLowerCase(),e.startsWith("on")||e==="srcdoc"&&t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)?!1:i==="img"&&(e==="src"||e==="srcset")||i==="source"&&e==="srcset"?!0:!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data"){e.innerHTML=t;return}let i=new DOMParser().parseFromString(t,"text/html"),r=i.createDocumentFragment(),o=i.body.childNodes;for(;o.length>0;)r.appendChild(o[0]);let s=i.createTreeWalker(r,NodeFilter.SHOW_ELEMENT),a=[],l;for(;l=s.nextNode();)a.push(l);for(let c of a){for(let d of c.getAttributeNames())this.setDomElementAttribute(c,d,c.getAttribute(d));let u=c.tagName.toLowerCase();this._shouldRenameElement(u)&&(bB(u),c.replaceWith(this._createReplacementDomElement(u,c)))}for(;e.firstChild;)e.firstChild.remove();e.append(r)}viewToDom(e,t={}){if(e.is("$text")){let i=this._processDataFromViewText(e);return this._domDocument.createTextNode(i)}else{let i=e;if(this.mapViewToDom(i))if(i.getCustomProperty("editingPipeline:doNotReuseOnce"))this._elementsWithTemporaryCustomProperties.add(i);else return this.mapViewToDom(i);let r;if(i.is("documentFragment"))r=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(r,i);else{if(i.is("uiElement"))return i.name==="$comment"?r=this._domDocument.createComment(i.getCustomProperty("$rawContent")):r=i.render(this._domDocument,this),t.bind&&this.bindElements(r,i),r;this._shouldRenameElement(i.name)?(bB(i.name),r=this._createReplacementDomElement(i.name)):i.hasAttribute("xmlns")?r=this._domDocument.createElementNS(i.getAttribute("xmlns"),i.name):r=this._domDocument.createElement(i.name),i.is("rawElement")&&i.render(r,this),t.bind&&this.bindElements(r,i);for(let o of i.getAttributeKeys())this.setDomElementAttribute(r,o,i.getAttribute(o),i)}if(t.withChildren!==!1)for(let o of this.viewChildrenToDom(i,t))r instanceof HTMLTemplateElement?r.content.appendChild(o):r.appendChild(o);return r}}setDomElementAttribute(e,t,i,r){let o=this.shouldRenderAttribute(t,i,e.tagName.toLowerCase())||r&&r.shouldRenderUnsafeAttribute(t);if(o||vi("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:i}),!YS(t)){vi("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:i});return}e.hasAttribute(t)&&!o?e.removeAttribute(t):e.hasAttribute(ox+t)&&o&&e.removeAttribute(ox+t),e.setAttribute(o?t:ox+t,i)}removeDomElementAttribute(e,t){t!=pB&&(e.removeAttribute(t),e.removeAttribute(ox+t))}*viewChildrenToDom(e,t={}){let i=e.getFillerOffset&&e.getFillerOffset(),r=0;for(let o of e.getChildren()){i===r&&(yield this._getBlockFiller());let s=o.is("element")&&!!o.getCustomProperty("dataPipeline:transparentRendering")&&!Ar(o.getAttributes());if(s&&this.renderingMode=="data")if(o.is("rawElement")){let a=this._domDocument.createElement(o.name);o.render(a,this),yield*_r([...a.childNodes])}else yield*_r(this.viewChildrenToDom(o,t));else s&&vi("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:o}),yield this.viewToDom(o,t);r++}i===r&&(yield this._getBlockFiller())}viewRangeToDom(e){let t=this.viewPositionToDom(e.start),i=this.viewPositionToDom(e.end),r=this._domDocument.createRange();return r.setStart(t.parent,t.offset),r.setEnd(i.parent,i.offset),r}viewPositionToDom(e){let t=e.parent;if(t.is("$text")){let i=this.findCorrespondingDomText(t);if(!i)return null;let r=e.offset;return Va(i)&&(r+=sc),{parent:i,offset:r}}else{let i,r,o;if(e.offset===0){if(i=this.mapViewToDom(t),!i)return null;o=i.childNodes[0]}else{let a=e.nodeBefore;if(r=a.is("$text")?this.findCorrespondingDomText(a):this.mapViewToDom(a),!r)return null;i=r.parentNode,o=r.nextSibling}if(Br(o)&&Va(o))return{parent:o,offset:sc};let s=r?Sg(r)+1:0;return{parent:i,offset:s}}}domToView(e,t={}){let i=[],r=this._domToView(e,t,i),o=r.next().value;return!o||(r.next(),this._processDomInlineNodes(null,i,t),o.is("$text")&&o.data.length==0)?null:o}*domChildrenToView(e,t={},i=[]){let r=[];e instanceof HTMLTemplateElement?r=[...e.content.childNodes]:r=[...e.childNodes];for(let o=0;o<r.length;o++){let s=r[o],a=this._domToView(s,t,i),l=a.next().value;l!==null&&(this._isBlockViewElement(l)&&this._processDomInlineNodes(e,i,t),yield l,a.next())}this._processDomInlineNodes(e,i,t)}domSelectionToView(e){if(jde(e))return new Nh([]);if(e.rangeCount===1){let r=e.getRangeAt(0).startContainer;Br(r)&&(r=r.parentNode);let o=this.fakeSelectionToView(r);if(o)return o}let t=this.isDomSelectionBackward(e),i=[];for(let r=0;r<e.rangeCount;r++){let o=e.getRangeAt(r),s=this.domRangeToView(o);s&&i.push(s)}return new Nh(i,{backward:t})}domRangeToView(e){let t=this.domPositionToView(e.startContainer,e.startOffset),i=this.domPositionToView(e.endContainer,e.endOffset);return t&&i?new pi(t,i):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,Sg(e));let i=this.mapDomToView(e);if(i&&(i.is("uiElement")||i.is("rawElement")))return Wt._createBefore(i);if(Br(e)){if(Dg(e))return this.domPositionToView(e.parentNode,Sg(e));let r=this.findCorrespondingViewText(e),o=t;return r?(Va(e)&&(o-=sc,o=o<0?0:o),new Wt(r,o)):null}else{if(t===0){let r=this.mapDomToView(e);if(r)return new Wt(r,0)}else{let r=e.childNodes[t-1];if(Br(r)&&Dg(r)||r&&this.isBlockFiller(r))return this.domPositionToView(r.parentNode,Sg(r));let o=Br(r)?this.findCorrespondingViewText(r):this.mapDomToView(r);if(o&&o.parent)return new Wt(o.parent,o.index+1)}return null}}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Dg(e))return null;let t=this.getHostViewElement(e);if(t)return t;let i=e.previousSibling;if(i){if(!this.isElement(i))return null;let r=this.mapDomToView(i);if(r){let o=r.nextSibling;return o instanceof Zr?o:null}}else{let r=this.mapDomToView(e.parentNode);if(r){let o=r.getChild(0);return o instanceof Zr?o:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){let t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){let t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){let{scrollX:i,scrollY:r}=Kt.window,o=[];gB(t,s=>{let{scrollLeft:a,scrollTop:l}=s;o.push([a,l])}),t.focus(),gB(t,s=>{let[a,l]=o.shift();s.scrollLeft=a,s.scrollTop=l}),Kt.window.scrollTo(i,r)}}_clearDomSelection(){let e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;let t=e.ownerDocument.defaultView.getSelection(),i=this.domSelectionToView(t);i&&i.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(Nde):e.tagName==="BR"&&tV(e,this.blockElements)&&e.parentNode.childNodes.length===1?!0:e.isEqualNode(Fde)||Vde(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;let t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}let i=t.collapsed;return t.detach(),i}getHostViewElement(e){let t=GF(e);for(t.pop();t.length;){let i=t.pop(),r=this._domToViewMapping.get(i);if(r&&(r.is("uiElement")||r.is("rawElement")))return r}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(let e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return JB(this._domDocument);case"markedNbsp":return QB(this._domDocument);case"br":return eV(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(Br(e)&&Va(e)&&t<sc||this.isElement(e)&&Va(e.childNodes[t]))return!1;let i=this.mapDomToView(e);return!(i&&(i.is("uiElement")||i.is("rawElement")))}*_domToView(e,t,i){if(this.isBlockFiller(e))return null;let r=this.getHostViewElement(e);if(r)return r;if(Ag(e)&&t.skipComments)return null;if(Br(e)){if(Dg(e))return null;{let o=e.data;if(o==="")return null;let s=new Zr(this.document,o);return i.push(s),s}}else{let o=this.mapDomToView(e);if(o)return this._isInlineObjectElement(o)&&i.push(o),o;if(this.isDocumentFragment(e))o=new om(this.document),t.bind&&this.bindDocumentFragments(e,o);else{o=this._createViewElement(e,t),t.bind&&this.bindElements(e,o);let a=e.attributes;if(a)for(let l=a.length,c=0;c<l;c++)o._setAttribute(a[c].name,a[c].value);if(this._isViewElementWithRawContent(o,t))return o._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(o)||i.push(o),o;if(Ag(e))return o._setCustomProperty("$rawContent",e.data),o}yield o;let s=[];if(t.withChildren!==!1)for(let a of this.domChildrenToView(e,t,s))o._appendChild(a);if(this._isInlineObjectElement(o))i.push(o);else for(let a of s)i.push(a)}}_processDomInlineNodes(e,t,i){if(!t.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let r=!1;for(let o=0;o<t.length;o++){let s=t[o];if(!s.is("$text")){r=!1;continue}let a,l=!1;if(this._isPreFormatted(s))a=fB(s.data);else{a=s.data.replace(/[ \n\t\r]{1,}/g," "),l=/[^\S\u00A0]/.test(a.charAt(a.length-1));let c=o>0?t[o-1]:null,u=o+1<t.length?t[o+1]:null,d=!c||c.is("element")&&c.name=="br"||r,f=u?!1:!Va(s.data);i.withChildren!==!1&&(d&&(a=a.replace(/^ /,"")),f&&(a=a.replace(/ $/,""))),a=fB(a),a=a.replace(/ \u00A0/g,"  ");let h=u&&u.is("element")&&u.name!="br",m=u&&u.is("$text")&&u.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(a)||!u||h||m)&&(a=a.replace(/\u00A0$/," ")),(d||c&&c.is("element")&&c.name!="br")&&(a=a.replace(/^\u00A0/," "))}a.length==0&&s.parent?(s._remove(),t.splice(o,1),o--):(s._data=a,r=l)}t.length=0}_processDataFromViewText(e){let t=e.data;if(this._isPreFormatted(e))return t;if(t.charAt(0)==" "){let i=this._getTouchingInlineViewNode(e,!1);(i&&i.is("$textProxy")&&this._nodeEndsWithSpace(i)||!i)&&(t="\xA0"+t.substr(1))}if(t.charAt(t.length-1)==" "){let i=this._getTouchingInlineViewNode(e,!0),r=i&&i.is("$textProxy")&&i.data.charAt(0)==" ";(t.charAt(t.length-2)==" "||!i||r)&&(t=t.substr(0,t.length-1)+"\xA0")}return t.replace(/ {2}/g," \xA0")}_nodeEndsWithSpace(e){if(this._isPreFormatted(e))return!1;let t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_isPreFormatted(e){if(Bde(e,this.preElements))return!0;for(let t of e.getAncestors({parentFirst:!0}))if(!(!t.is("element")||!t.hasStyle("white-space")||t.getStyle("white-space")==="inherit"))return["pre","pre-wrap","break-spaces"].includes(t.getStyle("white-space"));return!1}_getTouchingInlineViewNode(e,t){let i=new im({startPosition:t?Wt._createAfter(e):Wt._createBefore(e),direction:t?"forward":"backward"});for(let{item:r}of i){if(r.is("$textProxy"))return r;if(r.is("element")&&r.getCustomProperty("dataPipeline:transparentRendering"))continue;if(r.is("element","br"))return null;if(this._isInlineObjectElement(r))return r;if(r.is("containerElement"))return null}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return e.is("element")?e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e):!1}_createViewElement(e,t){if(Ag(e))return new am(this.document,"$comment");let i=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new nu(this.document,i)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){let t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){let i=this._domDocument.createElement("span");if(i.setAttribute(pB,e),t){for(;t.firstChild;)i.appendChild(t.firstChild);for(let r of t.getAttributeNames())i.setAttribute(r,t.getAttribute(r))}return i}};function Bde(n,e){return n.getAncestors().some(t=>t.is("element")&&e.includes(t.name))}function gB(n,e){let t=n;for(;t;)e(t),t=t.parentElement}function Vde(n,e){return n.isEqualNode(Lde)&&tV(n,e)&&n.parentNode.childNodes.length===1}function tV(n,e){let t=n.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function bB(n){n==="script"&&vi("domconverter-unsafe-script-element-detected"),n==="style"&&vi("domconverter-unsafe-style-element-detected")}function jde(n){if(!_n.isGecko||!n.rangeCount)return!1;let e=n.getRangeAt(0).startContainer;try{Object.prototype.toString.call(e)}catch{return!0}return!1}var Ys=class extends No(){view;document;_isEnabled=!1;constructor(e){super(),this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!e||e.nodeType!==1?!1:e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}},ru=class{view;document;domEvent;domTarget;constructor(e,t,i){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,cg(this,i)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}},Ua=class extends Ys{useCapture=!1;observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(i=>{this.listenTo(e,i,(r,o)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(o.target)&&this.onDomEvent(o)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,t,i){this.isEnabled&&this.document.fire(e,new ru(this.view,t,i))}},fA=class extends Ua{domEventType=["keydown","keyup"];onDomEvent(e){let t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Qu(this)}};this.fire(e.type,e,t)}},mA=class extends Ys{_fireSelectionChangeDoneDebounced;constructor(e){super(e),this._fireSelectionChangeDoneDebounced=Ca(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){let e=this.document;e.on("arrowKey",(t,i)=>{e.selection.isFake&&this.isEnabled&&i.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,i)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(i.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){let t=this.document.selection,i=new Nh(t.getRanges(),{backward:t.isBackward,fake:!1});(e==Gn.arrowleft||e==Gn.arrowup)&&i.setTo(i.getFirstPosition()),(e==Gn.arrowright||e==Gn.arrowdown)&&i.setTo(i.getLastPosition());let r={oldSelection:t,newSelection:i,domSelection:null};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}},ux=class extends Ys{domConverter;_config;_domElements;_mutationObserver;constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(let t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(let e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;let t=this.domConverter,i=new Set,r=new Set;for(let s of e){let a=t.mapDomToView(s.target);a&&(a.is("uiElement")||a.is("rawElement")||s.type==="childList"&&!this._isBogusBrMutation(s)&&r.add(a))}for(let s of e){let a=t.mapDomToView(s.target);if(!(a&&(a.is("uiElement")||a.is("rawElement")))&&s.type==="characterData"){let l=t.findCorrespondingViewText(s.target);l&&!r.has(l.parent)?i.add(l):!l&&Va(s.target)&&r.add(t.mapDomToView(s.target.parentNode))}}let o=[];for(let s of i)o.push({type:"text",node:s});for(let s of r){let a=t.mapViewToDom(s),l=Array.from(s.getChildren()),c=Array.from(t.domChildrenToView(a,{withChildren:!1}));OS(l,c,zde)||o.push({type:"children",node:s})}o.length&&this.document.fire("mutations",{mutations:o})}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}};function zde(n,e){if(!Array.isArray(n))return n===e?!0:n.is("$text")&&e.is("$text")?n.data===e.data:!1}var cm=class extends Ua{_renderTimeoutId=null;_isFocusChanging=!1;domEventType=["focus","blur"];constructor(e){super(e),this.useCapture=!0;let t=this.document;t.on("focus",()=>this._handleFocus()),t.on("blur",(i,r)=>this._handleBlur(r)),t.on("beforeinput",()=>{t.isFocused||this._handleFocus()},{priority:"highest"})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._clearTimeout(),super.destroy()}_handleFocus(){this._clearTimeout(),this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this._renderTimeoutId=null,this.flush(),this.view.change(()=>{})},50)}_handleBlur(e){let t=this.document.selection.editableElement;(t===null||t===e.target)&&(this.document.isFocused=!1,this._isFocusChanging=!1,this.view.change(()=>{}))}_clearTimeout(){this._renderTimeoutId&&(clearTimeout(this._renderTimeoutId),this._renderTimeoutId=null)}},pA=class extends Ys{mutationObserver;focusObserver;selection;domConverter;_documents;_fireSelectionChangeDoneDebounced;_clearInfiniteLoopInterval;_documentIsSelectingInactivityTimeoutDebounced;_loopbackCounter;constructor(e){super(e),this.mutationObserver=e.getObserver(ux),this.focusObserver=e.getObserver(cm),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Ca(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Ca(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){let t=e.ownerDocument,i=()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},r=()=>{this.document.isSelecting&&(this._handleSelectionChange(t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",i,{priority:"highest"}),this.listenTo(e,"keydown",r,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",r,{priority:"highest",useCapture:!0}),!this._documents.has(t)&&(this.listenTo(t,"mouseup",r,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(o,s)=>{this.document.isComposing&&!_n.isAndroid||(this._handleSelectionChange(t),this._documentIsSelectingInactivityTimeoutDebounced())}),this.listenTo(this.view.document,"compositionstart",()=>{this._handleSelectionChange(t)},{priority:"lowest"}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e){if(!this.isEnabled)return;let t=e.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(t.anchorNode))return;this.mutationObserver.flush();let i=this.domConverter.domSelectionToView(t);if(i.rangeCount==0){this.view.hasDomSelection=!1;return}if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!(this.selection.isEqual(i)&&this.domConverter.isDomSelectionCorrect(t))){if(++this._loopbackCounter>60){this._reportInfiniteLoop();return}if(this.selection.isSimilar(i))this.view.forceRender();else{let r={oldSelection:this.selection,newSelection:i,domSelection:t};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}}_clearInfiniteLoop(){this._loopbackCounter=0}},gA=class extends Ua{domEventType=["compositionstart","compositionupdate","compositionend"];constructor(e){super(e);let t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}};var ov=class{_files;_native;constructor(e,t={}){this._files=t.cacheFiles?vB(e):null,this._native=e}get files(){return this._files||(this._files=vB(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,i){this._native.setDragImage(e,t,i)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}};function vB(n){let e=Array.from(n.files||[]),t=Array.from(n.items||[]);return e.length?e:t.filter(i=>i.kind==="file").map(i=>i.getAsFile())}var bA=class extends Ua{domEventType="beforeinput";onDomEvent(e){let t=e.getTargetRanges(),i=this.view,r=i.document,o=null,s=null,a=[];if(e.dataTransfer&&(o=new ov(e.dataTransfer)),e.data!==null?s=e.data:o&&(s=o.getData("text/plain")),r.selection.isFake)a=Array.from(r.selection.getRanges());else if(t.length)a=t.map(l=>{let c=i.domConverter.domPositionToView(l.startContainer,l.startOffset),u=i.domConverter.domPositionToView(l.endContainer,l.endOffset);if(c)return i.createRange(c,u);if(u)return i.createRange(u)}).filter(l=>!!l);else if(_n.isAndroid){let l=e.target.ownerDocument.defaultView.getSelection();a=Array.from(i.domConverter.domSelectionToView(l).getRanges())}if(_n.isAndroid&&e.inputType=="insertCompositionText"&&s&&s.endsWith(`
`)){this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[i.createRange(a[0].end)]});return}if(e.inputType=="insertText"&&s&&s.includes(`
`)){let l=s.split(/\n{1,2}/g),c=a;for(let u=0;u<l.length;u++){let d=l[u];d!=""&&(this.fire(e.type,e,{data:d,dataTransfer:o,targetRanges:c,inputType:e.inputType,isComposing:e.isComposing}),c=[r.selection.getFirstRange()]),u+1<l.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:c}),c=[r.selection.getFirstRange()])}return}this.fire(e.type,e,{data:s,dataTransfer:o,targetRanges:a,inputType:e.inputType,isComposing:e.isComposing})}},vA=class extends Ys{constructor(e){super(e),this.document.on("keydown",(t,i)=>{if(this.isEnabled&&eB(i.keyCode)){let r=new iu(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(r,i),r.stop.called&&t.stop()}})}observe(){}stopObserving(){}},wA=class extends Ys{constructor(e){super(e);let t=this.document;t.on("keydown",(i,r)=>{if(!this.isEnabled||r.keyCode!=Gn.tab||r.ctrlKey)return;let o=new iu(t,"tab",t.selection.getFirstRange());t.fire(o,r),o.stop.called&&i.stop()})}observe(){}stopObserving(){}},zg=class extends Oi(){document;domConverter;domRoots=new Map;_renderer;_initialDomRootAttributes=new WeakMap;_observers=new Map;_writer;_ongoingChange=!1;_postFixersInProgress=!1;_renderingDisabled=!1;_hasChangedSinceTheLastRendering=!1;constructor(e){super(),this.document=new vx(e),this.domConverter=new lm(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new cx(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new iv(this.document),this.addObserver(ux),this.addObserver(cm),this.addObserver(pA),this.addObserver(fA),this.addObserver(mA),this.addObserver(gA),this.addObserver(vA),this.addObserver(bA),this.addObserver(wA),Sde(this),vde(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),_n.isiOS&&this.listenTo(this.document,"blur",(t,i)=>{this.domConverter.mapDomToView(i.domEvent.relatedTarget)||this.domConverter._clearDomSelection()}),this.listenTo(this.document,"mutations",(t,{mutations:i})=>{i.forEach(r=>this._renderer.markToSync(r.type,r.node))},{priority:"low"}),this.listenTo(this.document,"mutations",()=>{this.forceRender()},{priority:"lowest"})}attachDomRoot(e,t="main"){let i=this.document.getRoot(t);i._name=e.tagName.toLowerCase();let r={};for(let{name:s,value:a}of Array.from(e.attributes))r[s]=a,s==="class"?this._writer.addClass(a.split(" "),i):i.hasAttribute(s)||this._writer.setAttribute(s,a,i);this._initialDomRootAttributes.set(e,r);let o=()=>{this._writer.setAttribute("contenteditable",(!i.isReadOnly).toString(),i),i.isReadOnly?this._writer.addClass("ck-read-only",i):this._writer.removeClass("ck-read-only",i)};o(),this.domRoots.set(t,e),this.domConverter.bindElements(e,i),this._renderer.markToSync("children",i),this._renderer.markToSync("attributes",i),this._renderer.domDocuments.add(e.ownerDocument),i.on("change:children",(s,a)=>this._renderer.markToSync("children",a)),i.on("change:attributes",(s,a)=>this._renderer.markToSync("attributes",a)),i.on("change:text",(s,a)=>this._renderer.markToSync("text",a)),i.on("change:isReadOnly",()=>this.change(o)),i.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(let s of this._observers.values())s.observe(e,t)}detachDomRoot(e){let t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:r})=>t.removeAttribute(r));let i=this._initialDomRootAttributes.get(t);for(let r in i)t.setAttribute(r,i[r]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(let r of this._observers.values())r.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(let[i,r]of this.domRoots)t.observe(r,i);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(let e of this._observers.values())e.disable()}enableObservers(){for(let e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:i=20,ancestorOffset:r=20}={}){let o=this.document.selection.getFirstRange();if(!o)return;let s=xa({alignToTop:e,forceScroll:t,viewportOffset:i,ancestorOffset:r});typeof i=="number"&&(i={top:i,bottom:i,left:i,right:i});let a={target:this.domConverter.viewRangeToDom(o),viewportOffset:i,ancestorOffset:r,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",a,s),JS(a)}focus(){if(!this.document.isFocused){let e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new Me("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;let t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){Me.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(cm).flush(),this.change(()=>{})}destroy(){for(let e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return Wt._createAt(e,t)}createPositionAfter(e){return Wt._createAfter(e)}createPositionBefore(e){return Wt._createBefore(e)}createRange(e,t){return new pi(e,t)}createRangeOn(e){return pi._createOn(e)}createRangeIn(e){return pi._createIn(e)}createSelection(...e){return new Nh(...e)}_disableRendering(e){this._renderingDisabled=e,e==!1&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}};var ou=class{is(){throw new Error("is() method is abstract")}},mm=class extends ou{parent=null;_attrs;constructor(e){super(),this._attrs=Ea(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new Me("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new Me("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){let e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){let e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent===null?!1:this.root.isAttached()}getPath(){let e=[],t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){let t=[],i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}getCommonAncestor(e,t={}){let i=this.getAncestors(t),r=e.getAncestors(t),o=0;for(;i[o]==r[o]&&i[o];)o++;return o===0?null:i[o-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;let t=this.getPath(),i=e.getPath(),r=ps(t,i);switch(r){case"prefix":return!0;case"extension":return!1;default:return t[r]<i[r]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){let e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,i)=>(t[i[0]]=i[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=Ea(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}};mm.prototype.is=function(n){return n==="node"||n==="model:node"};var sm=class{_nodes=[];constructor(e){e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){let t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){let t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((i,r)=>i+r.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;let t=this._nodes[e];if(!t)throw new Me("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(let i of this._nodes){if(e>=t&&e<t+i.offsetSize)return this.getNodeIndex(i);t+=i.offsetSize}if(t!=e)throw new Me("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(let i of t)if(!(i instanceof mm))throw new Me("model-nodelist-insertnodes-not-node",this);this._nodes=nB(this._nodes,Array.from(t),e,0)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}},br=class n extends mm{_data;constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){let e=super.toJSON();return e.data=this.data,e}_clone(){return new n(this.data,this.getAttributes())}static fromJSON(e){return new n(e.data,e.attributes)}};br.prototype.is=function(n){return n==="$text"||n==="model:$text"||n==="text"||n==="model:text"||n==="node"||n==="model:node"};var ja=class extends ou{textNode;data;offsetInText;constructor(e,t,i){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new Me("model-textproxy-wrong-offsetintext",this);if(i<0||t+i>e.offsetSize)throw new Me("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+i),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){let e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){let t=[],i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}};ja.prototype.is=function(n){return n==="$textProxy"||n==="model:$textProxy"||n==="textProxy"||n==="model:textProxy"};var lr=class n extends mm{name;_children=new sm;constructor(e,t,i){super(t),this.name=e,i&&this._insertChild(0,i)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(let i of e)t=t.getChild(t.offsetToIndex(i));return t}findAncestor(e,t={}){let i=t.includeSelf?this:this.parent;for(;i;){if(i.name===e)return i;i=i.parent}return null}toJSON(){let e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(let t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){let t=e?Array.from(this._children).map(i=>i._clone(!0)):void 0;return new n(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){let i=Ude(t);for(let r of i)r.parent!==null&&r._remove(),r.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,t=1){let i=this._children._removeNodes(e,t);for(let r of i)r.parent=null;return i}static fromJSON(e){let t;if(e.children){t=[];for(let i of e.children)i.name?t.push(n.fromJSON(i)):t.push(br.fromJSON(i))}return new n(e.name,e.attributes,t)}};lr.prototype.is=function(n,e){return e?e===this.name&&(n==="element"||n==="model:element"):n==="element"||n==="model:element"||n==="node"||n==="model:node"};function Ude(n){return typeof n=="string"?[new br(n)]:(Zs(n)||(n=[n]),Array.from(n).map(e=>typeof e=="string"?new br(e):e instanceof ja?new br(e.data,e.getAttributes()):e))}var za=class{direction;boundaries;singleCharacters;shallow;ignoreElementEnd;_position;_boundaryStartParent;_boundaryEndParent;_visitedParent;constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new Me("model-tree-walker-no-start-position",null);let t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new Me("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=kt._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,i,r,o;do r=this.position,o=this._visitedParent,{done:t,value:i}=this.next();while(!t&&e(i));t||(this._position=r,this._visitedParent=o)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position,t=this.position.clone(),i=this._visitedParent;if(i.parent===null&&t.offset===i.maxOffset)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let r=ev(t,i),o=r||nV(t,i,r);if(o instanceof lr){if(!this.shallow)t.path.push(0),this._visitedParent=o;else{if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}return this._position=t,nm("elementStart",o,e,t,1)}if(o instanceof br){let s;if(this.singleCharacters)s=1;else{let c=o.endOffset;this._boundaryEndParent==i&&this.boundaries.end.offset<c&&(c=this.boundaries.end.offset),s=c-t.offset}let a=t.offset-o.startOffset,l=new ja(o,a,s);return t.offset+=s,this._position=t,nm("text",l,e,t,s)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=i.parent,this.ignoreElementEnd?this._next():nm("elementEnd",i,e,t)}_previous(){let e=this.position,t=this.position.clone(),i=this._visitedParent;if(i.parent===null&&t.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let r=t.parent,o=ev(t,r),s=o||iV(t,r,o);if(s instanceof lr)return t.offset--,this.shallow?(this._position=t,nm("elementStart",s,e,t,1)):(t.path.push(s.maxOffset),this._position=t,this._visitedParent=s,this.ignoreElementEnd?this._previous():nm("elementEnd",s,e,t));if(s instanceof br){let a;if(this.singleCharacters)a=1;else{let u=s.startOffset;this._boundaryStartParent==i&&this.boundaries.start.offset>u&&(u=this.boundaries.start.offset),a=t.offset-u}let l=t.offset-s.startOffset,c=new ja(s,l-a,a);return t.offset-=a,this._position=t,nm("text",c,e,t,a)}return t.path.pop(),this._position=t,this._visitedParent=i.parent,nm("elementStart",i,e,t,1)}};function nm(n,e,t,i,r){return{done:!1,value:{type:n,item:e,previousPosition:t,nextPosition:i,length:r}}}var kt=class n extends ou{root;path;stickiness;constructor(e,t,i="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new Me("model-position-root-invalid",e);if(!(t instanceof Array)||t.length===0)throw new Me("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=i}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new Me("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new Me("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return ev(this,this.parent)}get nodeAfter(){let e=this.parent;return nV(this,e,ev(this,e))}get nodeBefore(){let e=this.parent;return iV(this,e,ev(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";let t=ps(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;let i=new za(t);return i.skip(e),i.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){let e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){let t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];let t=ps(this.path,e.path),i=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,i)}getCommonAncestor(e){let t=this.getAncestors(),i=e.getAncestors(),r=0;for(;t[r]==i[r]&&t[r];)r++;return r===0?null:t[r-1]}getShiftedBy(e){let t=this.clone(),i=t.offset+e;return t.offset=i<0?0:i,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;let t=Math.min(this.path.length,e.path.length);for(let i=0;i<t;i++){let r=this.path[i]-e.path[i];if(r<-1||r>1)return!1;if(r===1)return wB(e,this,i);if(r===-1)return wB(this,e,i)}return this.path.length===e.path.length?!0:this.path.length>e.path.length?yA(this.path,t):yA(e.path,t)}hasSameParentAs(e){if(this.root!==e.root)return!1;let t=this.getParentPath(),i=e.getParentPath();return ps(t,i)=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=n._createAt(this);break}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){let t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){let t=e.movedRange,i=t.containsPosition(this)||t.start.isEqual(this),r;return i?(r=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(r=r._getTransformedByDeletion(e.deletionPosition,1))):this.isEqual(e.deletionPosition)?r=n._createAt(e.deletionPosition):r=this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),r}_getTransformedByDeletion(e,t){let i=n._createAt(this);if(this.root!=e.root)return i;if(ps(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;i.offset-=t}}else if(ps(e.getParentPath(),this.getParentPath())=="prefix"){let r=e.path.length-1;if(e.offset<=this.path[r]){if(e.offset+t>this.path[r])return null;i.path[r]-=t}}return i}_getTransformedByInsertion(e,t){let i=n._createAt(this);if(this.root!=e.root)return i;if(ps(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(i.offset+=t);else if(ps(e.getParentPath(),this.getParentPath())=="prefix"){let r=e.path.length-1;e.offset<=this.path[r]&&(i.path[r]+=t)}return i}_getTransformedByMove(e,t,i){if(t=t._getTransformedByDeletion(e,i),e.isEqual(t))return n._createAt(this);let r=this._getTransformedByDeletion(e,i);return r===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(i).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):r._getTransformedByInsertion(t,i)}_getCombined(e,t){let i=e.path.length-1,r=n._createAt(t);return r.stickiness=this.stickiness,r.offset=r.offset+this.path[i]-e.offset,r.path=[...r.path,...this.path.slice(i+1)],r}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,i="toNone"){if(e instanceof n)return new n(e.root,e.path,e.stickiness);{let r=e;if(t=="end")t=r.maxOffset;else{if(t=="before")return this._createBefore(r,i);if(t=="after")return this._createAfter(r,i);if(t!==0&&!t)throw new Me("model-createpositionat-offset-required",[this,e])}if(!r.is("element")&&!r.is("documentFragment"))throw new Me("model-position-parent-incorrect",[this,e]);let o=r.getPath();return o.push(t),new this(r.root,o,i)}}static _createAfter(e,t){if(!e.parent)throw new Me("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new Me("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){let i=new n(t.graveyard,e.path);return i.stickiness=e.stickiness,i}if(!t.getRoot(e.root))throw new Me("model-position-fromjson-no-root",t,{rootName:e.root});return new n(t.getRoot(e.root),e.path,e.stickiness)}};kt.prototype.is=function(n){return n==="position"||n==="model:position"};function ev(n,e){let t=e.getChild(e.offsetToIndex(n.offset));return t&&t.is("$text")&&t.startOffset<n.offset?t:null}function nV(n,e,t){return t!==null?null:e.getChild(e.offsetToIndex(n.offset))}function iV(n,e,t){return t!==null?null:e.getChild(e.offsetToIndex(n.offset)-1)}function wB(n,e,t){return!(t+1===n.path.length||!yA(e.path,t+1)||!Hde(n,t+1))}function yA(n,e){for(;e<n.length;){if(n[e]!==0)return!1;e++}return!0}function Hde(n,e){let t=n.parent,i=n.path.length-1,r=0;for(;i>=e;){if(n.path[i]+r!==t.maxOffset)return!1;r=1,i--,t=t.parent}return!0}var nt=class n extends ou{start;end;constructor(e,t){super(),this.start=kt._createAt(e),this.end=t?kt._createAt(t):kt._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*_r(new za({boundaries:this,ignoreElementEnd:!0}))}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){let e=this.start.getParentPath(),t=this.end.getParentPath();return ps(e,t)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);let i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),r=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&r}containsItem(e){let t=kt._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){let t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new n(this.start,e.start)),this.containsPosition(e.end)&&t.push(new n(e.end,this.end))):t.push(new n(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,i=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(i=e.end),new n(t,i)}return null}getJoined(e,t=!1){let i=this.isIntersecting(e);if(i||(this.start.isBefore(e.start)?i=t?this.end.isTouching(e.start):this.end.isEqual(e.start):i=t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!i)return null;let r=this.start,o=this.end;return e.start.isBefore(r)&&(r=e.start),e.end.isAfter(o)&&(o=e.end),new n(r,o)}getMinimalFlatRanges(){let e=[],t=this.start.getCommonPath(this.end).length,i=kt._createAt(this.start),r=i.parent;for(;i.path.length>t+1;){let o=r.maxOffset-i.offset;o!==0&&e.push(new n(i,i.getShiftedBy(o))),i.path=i.path.slice(0,-1),i.offset++,r=r.parent}for(;i.path.length<=this.end.path.length;){let o=this.end.path[i.path.length-1],s=o-i.offset;s!==0&&e.push(new n(i,i.getShiftedBy(s))),i.offset=o,i.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new za(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;let t=new za(e);for(let i of t)yield i.item}*getPositions(e={}){e.boundaries=this;let t=new za(e);yield t.position;for(let i of t)yield i.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new n(this.start,this.end)]}getTransformedByOperations(e){let t=[new n(this.start,this.end)];for(let i of e)for(let r=0;r<t.length;r++){let o=t[r].getTransformedByOperation(i);t.splice(r,1,...o),r+=o.length-1}for(let i=0;i<t.length;i++){let r=t[i];for(let o=i+1;o<t.length;o++){let s=t[o];(r.containsRange(s)||s.containsRange(r)||r.isEqual(s))&&t.splice(o,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){let i=e.sourcePosition,r=e.howMany,o=e.targetPosition;return this._getTransformedByMove(i,o,r,t)}_getTransformedBySplitOperation(e){let t=this.start._getTransformedBySplitOperation(e),i=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(i=this.end.getShiftedBy(1)),t.root!=i.root&&(i=this.end.getShiftedBy(-1)),new n(t,i)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new n(this.start);let t=this.start._getTransformedByMergeOperation(e),i=this.end._getTransformedByMergeOperation(e);return t.root!=i.root&&(i=this.end.getShiftedBy(-1)),t.isAfter(i)?(e.sourcePosition.isBefore(e.targetPosition)?(t=kt._createAt(i),t.offset=0):(e.deletionPosition.isEqual(t)||(i=e.deletionPosition),t=e.targetPosition),new n(t,i)):new n(t,i)}_getTransformedByInsertion(e,t,i=!1){if(i&&this.containsPosition(e))return[new n(this.start,e),new n(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{let r=new n(this.start,this.end);return r.start=r.start._getTransformedByInsertion(e,t),r.end=r.end._getTransformedByInsertion(e,t),[r]}}_getTransformedByMove(e,t,i,r=!1){if(this.isCollapsed){let d=this.start._getTransformedByMove(e,t,i);return[new n(d)]}let o=n._createFromPositionAndShift(e,i),s=t._getTransformedByDeletion(e,i);if(this.containsPosition(t)&&!r&&(o.containsPosition(this.start)||o.containsPosition(this.end))){let d=this.start._getTransformedByMove(e,t,i),f=this.end._getTransformedByMove(e,t,i);return[new n(d,f)]}let a,l=this.getDifference(o),c=null,u=this.getIntersection(o);if(l.length==1?c=new n(l[0].start._getTransformedByDeletion(e,i),l[0].end._getTransformedByDeletion(e,i)):l.length==2&&(c=new n(this.start,this.end._getTransformedByDeletion(e,i))),c?a=c._getTransformedByInsertion(s,i,u!==null||r):a=[],u){let d=new n(u.start._getCombined(o.start,s),u.end._getCombined(o.start,s));a.length==2?a.splice(1,0,d):a.push(d)}return a}_getTransformedByDeletion(e,t){let i=this.start._getTransformedByDeletion(e,t),r=this.end._getTransformedByDeletion(e,t);return i==null&&r==null?null:(i==null&&(i=e),r==null&&(r=e),new n(i,r))}static _createFromPositionAndShift(e,t){let i=e,r=e.getShiftedBy(t);return t>0?new this(i,r):new this(r,i)}static _createIn(e){return new this(kt._createAt(e,0),kt._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(kt._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new Me("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();let t=e[0];e.sort((o,s)=>o.start.isAfter(s.start)?1:-1);let i=e.indexOf(t),r=new this(t.start,t.end);if(i>0)for(let o=i-1;e[o].end.isEqual(r.start);o++)r.start=kt._createAt(e[o].start);for(let o=i+1;o<e.length&&e[o].start.isEqual(r.end);o++)r.end=kt._createAt(e[o].end);return r}static fromJSON(e,t){return new this(kt.fromJSON(e.start,t),kt.fromJSON(e.end,t))}};nt.prototype.is=function(n){return n==="range"||n==="model:range"};var Ug=class extends Fi(){_modelToViewMapping=new WeakMap;_viewToModelMapping=new WeakMap;_viewToModelLengthCallbacks=new Map;_markerNameToElements=new Map;_elementToMarkerNames=new Map;_deferredBindingRemovals=new Map;_unboundMarkerNames=new Set;constructor(){super(),this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;let i=this._modelToViewMapping.get(t.modelPosition.parent);if(!i)throw new Me("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(i,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;let i=this.findMappedViewAncestor(t.viewPosition),r=this._viewToModelMapping.get(i),o=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,i);t.modelPosition=kt._createAt(r,o)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){let i=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(let r of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(r);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(i)==e&&this._modelToViewMapping.delete(i))}unbindModelElement(e){let t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){let i=this._markerNameToElements.get(t)||new Set;i.add(e);let r=this._elementToMarkerNames.get(e)||new Set;r.add(t),this._markerNameToElements.set(t,i),this._elementToMarkerNames.set(e,r)}unbindElementFromMarkerName(e,t){let i=this._markerNameToElements.get(t);i&&(i.delete(e),i.size==0&&this._markerNameToElements.delete(t));let r=this._elementToMarkerNames.get(e);r&&(r.delete(t),r.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){let e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(let[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new nt(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new pi(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){let t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){let i={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",i),i.viewPosition}markerNameToElements(e){let t=this._markerNameToElements.get(e);if(!t)return null;let i=new Set;for(let r of t)if(r.is("attributeElement"))for(let o of r.getElementsWithSameId())i.add(o);else i.add(r);return i}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,i){if(i!=e){let o=this._toModelOffset(e.parent,e.index,i),s=this._toModelOffset(e,t,e);return o+s}if(e.is("$text"))return t;let r=0;for(let o=0;o<t;o++)r+=this.getModelLength(e.getChild(o));return r}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(let i of e.getChildren())t+=this.getModelLength(i);return t}}findPositionIn(e,t){let i,r=0,o=0,s=0;if(e.is("$text"))return new Wt(e,t);for(;o<t;)i=e.getChild(s),r=this.getModelLength(i),o+=r,s++;return o==t?this._moveViewPositionToTextNode(new Wt(e,s)):this.findPositionIn(i,t-(o-r))}_moveViewPositionToTextNode(e){let t=e.nodeBefore,i=e.nodeAfter;return t instanceof Zr?new Wt(t,t.data.length):i instanceof Zr?new Wt(i,0):e}},_A=class{_consumable=new Map;_textProxyRegistry=new Map;add(e,t){t=sx(t),e instanceof ja&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=sx(t),e instanceof ja&&(e=this._getSymbolForTextProxy(e)),this.test(e,t)?(this._consumable.get(e).set(t,!1),!0):!1}test(e,t){t=sx(t),e instanceof ja&&(e=this._getSymbolForTextProxy(e));let i=this._consumable.get(e);if(i===void 0)return null;let r=i.get(t);return r===void 0?null:r}revert(e,t){t=sx(t),e instanceof ja&&(e=this._getSymbolForTextProxy(e));let i=this.test(e,t);return i===!1?(this._consumable.get(e).set(t,!0),!0):i===!0?!1:null}verifyAllConsumed(e){let t=[];for(let[i,r]of this._consumable)for(let[o,s]of r){let a=o.split(":")[0];s&&e==a&&t.push({event:o,item:i.name||i.description})}if(t.length)throw new Me("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null,i=this._textProxyRegistry.get(e.startOffset);if(i){let r=i.get(e.endOffset);r&&(t=r.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){let t=e.startOffset,i=e.endOffset,r=e.parent,o=Symbol("$textProxy:"+e.data),s,a;return s=this._textProxyRegistry.get(t),s||(s=new Map,this._textProxyRegistry.set(t,s)),a=s.get(i),a||(a=new Map,s.set(i,a)),a.set(r,o),o}};function sx(n){let e=n.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?n:e.length>1?e[0]+":"+e[1]:e[0]}var sv=class extends Fi(){_conversionApi;_firedEventsMap;constructor(e){super(),this._conversionApi=Be({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,t,i){let r=this._createConversionApi(i,e.getRefreshedItems());for(let s of e.getMarkersToRemove())this._convertMarkerRemove(s.name,s.range,r);let o=this._reduceChanges(e.getChanges());for(let s of o)s.type==="insert"?this._convertInsert(nt._createFromPositionAndShift(s.position,s.length),r):s.type==="reinsert"?this._convertReinsert(nt._createFromPositionAndShift(s.position,s.length),r):s.type==="remove"?this._convertRemove(s.position,s.length,s.name,r):this._convertAttribute(s.range,s.attributeKey,s.attributeOldValue,s.attributeNewValue,r);r.mapper.flushDeferredBindings();for(let s of r.mapper.flushUnboundMarkerNames()){let a=t.get(s).getRange();this._convertMarkerRemove(s,a,r),this._convertMarkerAdd(s,a,r)}for(let s of e.getMarkersToAdd())this._convertMarkerAdd(s.name,s.range,r);r.consumable.verifyAllConsumed("insert")}convert(e,t,i,r={}){let o=this._createConversionApi(i,void 0,r);this._convertInsert(e,o);for(let[s,a]of t)this._convertMarkerAdd(s,a,o);o.consumable.verifyAllConsumed("insert")}convertSelection(e,t,i){let r=this._createConversionApi(i);this.fire("cleanSelection",{selection:e},r);let o=e.getFirstPosition().root;if(!r.mapper.toViewElement(o))return;let s=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(r.consumable,e,s),this.fire("selection",{selection:e},r),!!e.isCollapsed){for(let a of s)if(r.consumable.test(e,"addMarker:"+a.name)){let l=a.getRange();if(!Wde(e.getFirstPosition(),a,r.mapper))continue;let c={item:e,markerName:a.name,markerRange:l};this.fire(`addMarker:${a.name}`,c,r)}for(let a of e.getAttributeKeys())if(r.consumable.test(e,"attribute:"+a)){let l={item:e,range:e.getFirstRange(),attributeKey:a,attributeOldValue:null,attributeNewValue:e.getAttribute(a)};this.fire(`attribute:${a}:$text`,l,r)}}}_convertInsert(e,t,i={}){i.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,e);for(let r of Array.from(e.getWalker({shallow:!0})).map(yB))this._testAndFire("insert",r,t)}_convertRemove(e,t,i,r){this.fire(`remove:${i}`,{position:e,length:t},r)}_convertAttribute(e,t,i,r,o){this._addConsumablesForRange(o.consumable,e,`attribute:${t}`);for(let s of e){let a={item:s.item,range:nt._createFromPositionAndShift(s.previousPosition,s.length),attributeKey:t,attributeOldValue:i,attributeNewValue:r};this._testAndFire(`attribute:${t}`,a,o)}}_convertReinsert(e,t){let i=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,i);for(let r of i.map(yB))this._testAndFire("insert",Xt(Be({},r),{reconversion:!0}),t)}_convertMarkerAdd(e,t,i){if(t.root.rootName=="$graveyard")return;let r=`addMarker:${e}`;if(i.consumable.add(t,r),this.fire(r,{markerName:e,markerRange:t},i),!!i.consumable.consume(t,r)){this._addConsumablesForRange(i.consumable,t,r);for(let o of t.getItems()){if(!i.consumable.test(o,r))continue;let s={item:o,range:nt._createOn(o),markerName:e,markerRange:t};this.fire(r,s,i)}}}_convertMarkerRemove(e,t,i){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},i)}_reduceChanges(e){let t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(let i of t){let r=i.item;if(e.test(r,"insert")===null){e.add(r,"insert");for(let o of r.getAttributeKeys())e.add(r,"attribute:"+o)}}return e}_addConsumablesForRange(e,t,i){for(let r of t.getItems())e.add(r,i);return e}_addConsumablesForSelection(e,t,i){e.add(t,"selection");for(let r of i)e.add(t,"addMarker:"+r.name);for(let r of t.getAttributeKeys())e.add(t,"attribute:"+r);return e}_testAndFire(e,t,i){let r=$de(e,t),o=t.item.is("$textProxy")?i.consumable._getSymbolForTextProxy(t.item):t.item,s=this._firedEventsMap.get(i),a=s.get(o);if(!a)s.set(o,new Set([r]));else if(!a.has(r))a.add(r);else return;this.fire(r,t,i)}_testAndFireAddAttributes(e,t){let i={item:e,range:nt._createOn(e)};for(let r of i.item.getAttributeKeys())i.attributeKey=r,i.attributeOldValue=null,i.attributeNewValue=i.item.getAttribute(r),this._testAndFire(`attribute:${r}`,i,t)}_createConversionApi(e,t=new Set,i={}){let r=Xt(Be({},this._conversionApi),{consumable:new _A,writer:e,options:i,convertItem:o=>this._convertInsert(nt._createOn(o),r),convertChildren:o=>this._convertInsert(nt._createIn(o),r,{doNotAddConsumables:!0}),convertAttributes:o=>this._testAndFireAddAttributes(o,r),canReuseView:o=>!t.has(r.mapper.toModelElement(o))});return this._firedEventsMap.set(r,new Map),r}};function Wde(n,e,t){let i=e.getRange(),r=Array.from(n.getAncestors());return r.shift(),r.reverse(),!r.some(s=>{if(i.containsItem(s))return!!t.toViewElement(s).getCustomProperty("addHighlight")})}function $de(n,e){let t=e.item.is("element")?e.item.name:"$text";return`${n}:${t}`}function yB(n){let e=n.item,t=nt._createFromPositionAndShift(n.previousPosition,n.length);return{item:e,range:t}}var is=class n extends Fi(ou){_lastRangeBackward=!1;_attrs=new Map;_ranges=[];constructor(...e){super(),e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){let e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){let e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(let t of this._ranges){let i=!1;for(let r of e._ranges)if(t.isEqual(r)){i=!0;break}if(!i)return!1}return!0}*getRanges(){for(let e of this._ranges)yield new nt(e.start,e.end)}getFirstRange(){let e=null;for(let t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?new nt(e.start,e.end):null}getLastRange(){let e=null;for(let t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?new nt(e.start,e.end):null}getFirstPosition(){let e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){let e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,i,r]=e;if(typeof i=="object"&&(r=i,i=void 0),t===null)this._setRanges([]);else if(t instanceof n)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof nt)this._setRanges([t],!!r&&!!r.backward);else if(t instanceof kt)this._setRanges([new nt(t)]);else if(t instanceof mm){let o=!!r&&!!r.backward,s;if(i=="in")s=nt._createIn(t);else if(i=="on")s=nt._createOn(t);else if(i!==void 0)s=new nt(kt._createAt(t,i));else throw new Me("model-selection-setto-required-second-parameter",[this,t]);this._setRanges([s],o)}else if(Zs(t))this._setRanges(t,r&&!!r.backward);else throw new Me("model-selection-setto-not-selectable",[this,t])}_setRanges(e,t=!1){let i=Array.from(e),r=i.some(o=>{if(!(o instanceof nt))throw new Me("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(s=>!s.isEqual(o))});i.length===this._ranges.length&&!r||(this._replaceAllRanges(i),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new Me("model-selection-setfocus-no-ranges",[this,e]);let i=kt._createAt(e,t);if(i.compareWith(this.focus)=="same")return;let r=this.anchor;this._ranges.length&&this._popRange(),i.compareWith(r)=="before"?(this._pushRange(new nt(i,r)),this._lastRangeBackward=!0):(this._pushRange(new nt(r,i)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){let e=new WeakSet;for(let t of this.getRanges()){let i=_B(t.start,e);Gde(i,t)&&(yield i);for(let o of t.getWalker()){let s=o.item;o.type=="elementEnd"&&qde(s,e,t)&&(yield s)}let r=_B(t.end,e);Kde(r,t)&&(yield r)}}containsEntireContent(e=this.anchor.root){let t=kt._createAt(e,0),i=kt._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&i.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new nt(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new Me("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(let t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}};is.prototype.is=function(n){return n==="selection"||n==="model:selection"};function rV(n,e){return e.has(n)?!1:(e.add(n),n.root.document.model.schema.isBlock(n)&&!!n.parent)}function qde(n,e,t){return rV(n,e)&&WA(n,t)}function _B(n,e){let i=n.parent.root.document.model.schema,r=n.parent.getAncestors({parentFirst:!0,includeSelf:!0}),o=!1,s=r.find(a=>o?!1:(o=i.isLimit(a),!o&&rV(a,e)));return r.forEach(a=>e.add(a)),s}function WA(n,e){let t=Zde(n);return t?!e.containsRange(nt._createOn(t),!0):!0}function Gde(n,e){return n?e.isCollapsed||n.isEmpty?!0:e.start.isTouching(kt._createAt(n,n.maxOffset))?!1:WA(n,e):!1}function Kde(n,e){return n?e.isCollapsed||n.isEmpty?!0:e.end.isTouching(kt._createAt(n,0))?!1:WA(n,e):!1}function Zde(n){let e=n.root.document.model.schema,t=n.parent;for(;t;){if(e.isBlock(t))return t;t=t.parent}}var bs=class n extends Fi(nt){constructor(e,t){super(e,t),Yde.call(this)}detach(){this.stopListening()}toRange(){return new nt(this.start,this.end)}static fromRange(e){return new n(e.start,e.end)}};bs.prototype.is=function(n){return n==="liveRange"||n==="model:liveRange"||n=="range"||n==="model:range"};function Yde(){this.listenTo(this.root.document.model,"applyOperation",(n,e)=>{let t=e[0];t.isDocumentOperation&&Xde.call(this,t)},{priority:"low"})}function Xde(n){let e=this.getTransformedByOperation(n),t=nt._createFromRanges(e),i=!t.isEqual(this),r=Jde(this,n),o=null;if(i){t.root.rootName=="$graveyard"&&(n.type=="remove"?o=n.sourcePosition:o=n.deletionPosition);let s=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",s,{deletionPosition:o})}else r&&this.fire("change:content",this.toRange(),{deletionPosition:o})}function Jde(n,e){switch(e.type){case"insert":return n.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return n.containsPosition(e.sourcePosition)||n.start.isEqual(e.sourcePosition)||n.containsPosition(e.targetPosition);case"split":return n.containsPosition(e.splitPosition)||n.containsPosition(e.insertionPosition)}return!1}var av="selection:",Xs=class extends Fi(ou){_selection;constructor(e){super(),this._selection=new xA(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return av+e}static _isStoreAttributeKey(e){return e.startsWith(av)}};Xs.prototype.is=function(n){return n==="selection"||n=="model:selection"||n=="documentSelection"||n=="model:documentSelection"};var xA=class extends is{markers=new gr({idProperty:"name"});_model;_document;_attributePriority=new Map;_selectionRestorePosition=null;_hasChangedRange=!1;_overriddenGravityRegister=new Set;_observedMarkers=new Set;constructor(e){super(),this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,i)=>{let r=i[0];!r.isDocumentOperation||r.type=="marker"||r.type=="rename"||r.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,i,r,o)=>{this._updateMarker(i,o)}),this.listenTo(this._document,"change",(t,i)=>{Qde(this._model,i)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*_r(super.getRanges()):yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){let i=[e];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){let t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){let e=ts();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new Me("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){let t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(let t of e)if(!this._document._validateSelectionRange(t))throw new Me("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;let t=bs.fromRange(e);return t.on("change:range",(i,r,o)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=o.deletionPosition;let s=this._ranges.indexOf(t);this._ranges.splice(s,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;let e=[],t=!1;for(let r of this._model.markers){let o=r.name.split(":",1)[0];if(!this._observedMarkers.has(o))continue;let s=r.getRange();for(let a of this.getRanges())s.containsRange(a,!a.isCollapsed)&&e.push(r)}let i=Array.from(this.markers);for(let r of e)this.markers.has(r)||(this.markers.add(r),t=!0);for(let r of Array.from(this.markers))e.includes(r)||(this.markers.remove(r),t=!0);t&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}_updateMarker(e,t){let i=e.name.split(":",1)[0];if(!this._observedMarkers.has(i))return;let r=!1,o=Array.from(this.markers),s=this.markers.has(e);if(!t)s&&(this.markers.remove(e),r=!0);else{let a=!1;for(let l of this.getRanges())if(t.containsRange(l,!l.isCollapsed)){a=!0;break}a&&!s?(this.markers.add(e),r=!0):!a&&s&&(this.markers.remove(e),r=!0)}r&&this.fire("change:marker",{oldMarkers:o,directChange:!1})}_updateAttributes(e){let t=Ea(this._getSurroundingAttributes()),i=Ea(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(let[o,s]of this._attributePriority)s=="low"&&(this._attrs.delete(o),this._attributePriority.delete(o));this._setAttributesTo(t);let r=[];for(let[o,s]of this.getAttributes())(!i.has(o)||i.get(o)!==s)&&r.push(o);for(let[o]of i)this.hasAttribute(o)||r.push(o);r.length>0&&this.fire("change:attribute",{attributeKeys:r,directChange:!1})}_setAttribute(e,t,i=!0){let r=i?"normal":"low";return r=="low"&&this._attributePriority.get(e)=="normal"||super.getAttribute(e)===t?!1:(this._attrs.set(e,t),this._attributePriority.set(e,r),!0)}_removeAttribute(e,t=!0){let i=t?"normal":"low";return i=="low"&&this._attributePriority.get(e)=="normal"||(this._attributePriority.set(e,i),!super.hasAttribute(e))?!1:(this._attrs.delete(e),!0)}_setAttributesTo(e){let t=new Set;for(let[i,r]of this.getAttributes())e.get(i)!==r&&this._removeAttribute(i,!1);for(let[i,r]of e)this._setAttribute(i,r,!1)&&t.add(i);return t}*getStoredAttributes(){let e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(let t of e.getAttributeKeys())t.startsWith(av)&&(yield[t.substr(av.length),e.getAttribute(t)])}_getSurroundingAttributes(){let e=this.getFirstPosition(),t=this._model.schema;if(e.root.rootName=="$graveyard")return null;let i=null;if(this.isCollapsed){let r=e.textNode?e.textNode:e.nodeBefore,o=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(i=X1(r,t)),i||(i=X1(o,t)),!this.isGravityOverridden&&!i){let s=r;for(;s&&!i;)s=s.previousSibling,i=X1(s,t)}if(!i){let s=o;for(;s&&!i;)s=s.nextSibling,i=X1(s,t)}i||(i=this.getStoredAttributes())}else{let r=this.getFirstRange();for(let o of r){if(o.item.is("element")&&t.isObject(o.item)){i=X1(o.item,t);break}if(o.type=="text"){i=o.item.getAttributes();break}}}return i}_fixGraveyardSelection(e){let t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}};function X1(n,e){if(!n)return null;if(n instanceof ja||n instanceof br)return n.getAttributes();if(!e.isInline(n))return null;if(!e.isObject(n))return[];let t=[];for(let[i,r]of n.getAttributes())e.checkAttribute("$text",i)&&e.getAttributeProperties(i).copyFromObject!==!1&&t.push([i,r]);return t}function Qde(n,e){let t=n.document.differ;for(let i of t.getChanges()){if(i.type!="insert")continue;let r=i.position.parent;i.length===r.maxOffset&&n.enqueueChange(e,s=>{let a=Array.from(r.getAttributeKeys()).filter(l=>l.startsWith(av));for(let l of a)s.removeAttribute(l,r)})}}var dx=class{_dispatchers;constructor(e){this._dispatchers=e}add(e){for(let t of this._dispatchers)e(t);return this}},CA=class extends dx{elementToElement(e){return this.add(hhe(e))}elementToStructure(e){return this.add(fhe(e))}attributeToElement(e){return this.add(mhe(e))}attributeToAttribute(e){return this.add(phe(e))}markerToElement(e){return this.add(ghe(e))}markerToHighlight(e){return this.add(vhe(e))}markerToData(e){return this.add(bhe(e))}};function $A(){return(n,e,t)=>{if(!t.consumable.consume(e.item,n.name))return;let i=t.writer,r=t.mapper.toViewPosition(e.range.start),o=i.createText(e.item.data);i.insert(r,o)}}function qA(){return(n,e,t)=>{t.convertAttributes(e.item),!e.reconversion&&e.item.is("element")&&!e.item.isEmpty&&t.convertChildren(e.item)}}function ehe(){return(n,e,t)=>{let i=t.mapper.toViewPosition(e.position),r=e.position.getShiftedBy(e.length),o=t.mapper.toViewPosition(r,{isPhantom:!0}),s=t.writer.createRange(i,o),a=t.writer.remove(s.getTrimmed());for(let l of t.writer.createRangeIn(a).getItems())t.mapper.unbindViewElement(l,{defer:!0})}}function oV(n,e){let t=n.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function sV(){return(n,e,t)=>{let i=e.selection;if(i.isCollapsed||!t.consumable.consume(i,"selection"))return;let r=[];for(let o of i.getRanges())r.push(t.mapper.toViewRange(o));t.writer.setSelection(r,{backward:i.isBackward})}}function aV(){return(n,e,t)=>{let i=e.selection;if(!i.isCollapsed||!t.consumable.consume(i,"selection"))return;let r=t.writer,o=i.getFirstPosition(),s=t.mapper.toViewPosition(o),a=r.breakAttributes(s);r.setSelection(a)}}function the(){return(n,e,t)=>{let i=t.writer,r=i.document.selection;for(let o of r.getRanges())o.isCollapsed&&o.end.parent.isAttached()&&t.writer.mergeAttributes(o.start);i.setSelection(null)}}function lV(n){return(e,t,i)=>{if(!i.consumable.test(t.item,e.name))return;let r=n(t.attributeOldValue,i,t),o=n(t.attributeNewValue,i,t);if(!r&&!o)return;i.consumable.consume(t.item,e.name);let s=i.writer,a=s.document.selection;if(t.item instanceof is||t.item instanceof Xs)s.wrap(a.getFirstRange(),o);else{let l=i.mapper.toViewRange(t.range);t.attributeOldValue!==null&&r&&(l=s.unwrap(l,r)),t.attributeNewValue!==null&&o&&s.wrap(l,o)}}}function cV(n,e=Ehe){return(t,i,r)=>{if(!e(i.item,r.consumable,{preflight:!0}))return;let o=n(i.item,r,i);if(!o)return;e(i.item,r.consumable);let s=r.mapper.toViewPosition(i.range.start);r.mapper.bindElements(i.item,o),r.writer.insert(s,o),r.convertAttributes(i.item),pV(o,i.item.getChildren(),r,{reconversion:i.reconversion})}}function nhe(n,e){return(t,i,r)=>{if(!e(i.item,r.consumable,{preflight:!0}))return;let o=new Map;r.writer._registerSlotFactory(_he(i.item,o,r));let s=n(i.item,r,i);if(r.writer._clearSlotFactory(),!s)return;xhe(i.item,o,r),e(i.item,r.consumable);let a=r.mapper.toViewPosition(i.range.start);r.mapper.bindElements(i.item,s),r.writer.insert(a,s),r.convertAttributes(i.item),Che(s,o,r,{reconversion:i.reconversion})}}function uV(n){return(e,t,i)=>{t.isOpening=!0;let r=n(t,i);t.isOpening=!1;let o=n(t,i);if(!r||!o)return;let s=t.markerRange;if(s.isCollapsed&&!i.consumable.consume(s,e.name))return;for(let c of s)if(!i.consumable.consume(c.item,e.name))return;let a=i.mapper,l=i.writer;l.insert(a.toViewPosition(s.start),r),i.mapper.bindElementToMarker(r,t.markerName),s.isCollapsed||(l.insert(a.toViewPosition(s.end),o),i.mapper.bindElementToMarker(o,t.markerName)),e.stop()}}function ihe(){return(n,e,t)=>{let i=t.mapper.markerNameToElements(e.markerName);if(i){for(let r of i)t.mapper.unbindElementFromMarkerName(r,e.markerName),t.writer.clear(t.writer.createRangeOn(r),r);t.writer.clearClonedElementsGroup(e.markerName),n.stop()}}}function rhe(n){return(e,t,i)=>{let r=n(t.markerName,i);if(!r)return;let o=t.markerRange;i.consumable.consume(o,e.name)&&(xB(o,!1,i,t,r),xB(o,!0,i,t,r),e.stop())}}function xB(n,e,t,i,r){let o=e?n.start:n.end,s=o.nodeAfter&&o.nodeAfter.is("element")?o.nodeAfter:null,a=o.nodeBefore&&o.nodeBefore.is("element")?o.nodeBefore:null;if(s||a){let c,u;e&&s||!e&&!a?(c=s,u=!0):(c=a,u=!1);let d=t.mapper.toViewElement(c);if(d){ohe(d,e,u,t,i,r);return}}let l=t.mapper.toViewPosition(o);she(l,e,t,i,r)}function ohe(n,e,t,i,r,o){let s=`data-${o.group}-${e?"start":"end"}-${t?"before":"after"}`,a=n.hasAttribute(s)?n.getAttribute(s).split(","):[];a.unshift(o.name),i.writer.setAttribute(s,a.join(","),n),i.mapper.bindElementToMarker(n,r.markerName)}function she(n,e,t,i,r){let o=`${r.group}-${e?"start":"end"}`,s=r.name?{name:r.name}:null,a=t.writer.createUIElement(o,s);t.writer.insert(n,a),t.mapper.bindElementToMarker(a,i.markerName)}function ahe(n){return(e,t,i)=>{let r=n(t.markerName,i);if(!r)return;let o=i.mapper.markerNameToElements(t.markerName);if(!o)return;for(let a of o)i.mapper.unbindElementFromMarkerName(a,t.markerName),a.is("containerElement")?(s(`data-${r.group}-start-before`,a),s(`data-${r.group}-start-after`,a),s(`data-${r.group}-end-before`,a),s(`data-${r.group}-end-after`,a)):i.writer.clear(i.writer.createRangeOn(a),a);i.writer.clearClonedElementsGroup(t.markerName),e.stop();function s(a,l){if(l.hasAttribute(a)){let c=new Set(l.getAttribute(a).split(","));c.delete(r.name),c.size==0?i.writer.removeAttribute(a,l):i.writer.setAttribute(a,Array.from(c).join(","),l)}}}}function lhe(n){return(e,t,i)=>{if(!i.consumable.test(t.item,e.name))return;let r=n(t.attributeOldValue,i,t),o=n(t.attributeNewValue,i,t);if(!r&&!o)return;i.consumable.consume(t.item,e.name);let s=i.mapper.toViewElement(t.item),a=i.writer;if(!s)throw new Me("conversion-attribute-to-attribute-on-text",i.dispatcher,t);if(t.attributeOldValue!==null&&r)if(r.key=="class"){let l=typeof r.value=="string"?r.value.split(/\s+/):r.value;for(let c of l)a.removeClass(c,s)}else if(r.key=="style")if(typeof r.value=="string"){let l=new Lg(a.document.stylesProcessor);l.setTo(r.value);for(let[c]of l.getStylesEntries())a.removeStyle(c,s)}else{let l=Object.keys(r.value);for(let c of l)a.removeStyle(c,s)}else a.removeAttribute(r.key,s);if(t.attributeNewValue!==null&&o)if(o.key=="class"){let l=typeof o.value=="string"?o.value.split(/\s+/):o.value;for(let c of l)a.addClass(c,s)}else if(o.key=="style")if(typeof o.value=="string"){let l=new Lg(a.document.stylesProcessor);l.setTo(o.value);for(let[c,u]of l.getStylesEntries())a.setStyle(c,u,s)}else{let l=Object.keys(o.value);for(let c of l)a.setStyle(c,o.value[c],s)}else a.setAttribute(o.key,o.value,s)}}function che(n){return(e,t,i)=>{if(!t.item||!(t.item instanceof is||t.item instanceof Xs)&&!t.item.is("$textProxy"))return;let r=GA(n,t,i);if(!r||!i.consumable.consume(t.item,e.name))return;let o=i.writer,s=oV(o,r),a=o.document.selection;if(t.item instanceof is||t.item instanceof Xs)o.wrap(a.getFirstRange(),s);else{let l=i.mapper.toViewRange(t.range),c=o.wrap(l,s);for(let u of c.getItems())if(u.is("attributeElement")&&u.isSimilar(s)){i.mapper.bindElementToMarker(u,t.markerName);break}}}}function uhe(n){return(e,t,i)=>{if(!t.item||!(t.item instanceof lr))return;let r=GA(n,t,i);if(!r||!i.consumable.test(t.item,e.name))return;let o=i.mapper.toViewElement(t.item);if(o&&o.getCustomProperty("addHighlight")){i.consumable.consume(t.item,e.name);for(let a of nt._createIn(t.item))i.consumable.consume(a.item,e.name);o.getCustomProperty("addHighlight")(o,r,i.writer),i.mapper.bindElementToMarker(o,t.markerName)}}}function dhe(n){return(e,t,i)=>{if(t.markerRange.isCollapsed)return;let r=GA(n,t,i);if(!r)return;let o=oV(i.writer,r),s=i.mapper.markerNameToElements(t.markerName);if(s){for(let a of s)i.mapper.unbindElementFromMarkerName(a,t.markerName),a.is("attributeElement")?i.writer.unwrap(i.writer.createRangeOn(a),o):a.getCustomProperty("removeHighlight")(a,r.id,i.writer);i.writer.clearClonedElementsGroup(t.markerName),e.stop()}}}function hhe(n){let e=dV(n.model),t=lv(n.view,"container");return e.attributes.length&&(e.children=!0),i=>{i.on(`insert:${e.name}`,cV(t,mV(e)),{priority:n.converterPriority||"normal"}),(e.children||e.attributes.length)&&i.on("reduceChanges",fV(e),{priority:"low"})}}function fhe(n){let e=dV(n.model),t=lv(n.view,"container");return e.children=!0,i=>{if(i._conversionApi.schema.checkChild(e.name,"$text"))throw new Me("conversion-element-to-structure-disallowed-text",i,{elementName:e.name});i.on(`insert:${e.name}`,nhe(t,mV(e)),{priority:n.converterPriority||"normal"}),i.on("reduceChanges",fV(e),{priority:"low"})}}function mhe(n){n=xa(n);let e=n.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(let r of e.values)n.view[r]=lv(n.view[r],"attribute");else n.view=lv(n.view,"attribute");let i=hV(n);return r=>{r.on(t,lV(i),{priority:n.converterPriority||"normal"})}}function phe(n){n=xa(n);let e=n.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(let r of e.values)n.view[r]=CB(n.view[r]);else n.view=CB(n.view);let i=hV(n);return r=>{r.on(t,lhe(i),{priority:n.converterPriority||"normal"})}}function ghe(n){let e=lv(n.view,"ui");return t=>{t.on(`addMarker:${n.model}`,uV(e),{priority:n.converterPriority||"normal"}),t.on(`removeMarker:${n.model}`,ihe(),{priority:n.converterPriority||"normal"})}}function bhe(n){n=xa(n);let e=n.model,t=n.view;return t||(t=i=>({group:e,name:i.substr(n.model.length+1)})),i=>{i.on(`addMarker:${e}`,rhe(t),{priority:n.converterPriority||"normal"}),i.on(`removeMarker:${e}`,ahe(t),{priority:n.converterPriority||"normal"})}}function vhe(n){return e=>{e.on(`addMarker:${n.model}`,che(n.view),{priority:n.converterPriority||"normal"}),e.on(`addMarker:${n.model}`,uhe(n.view),{priority:n.converterPriority||"normal"}),e.on(`removeMarker:${n.model}`,dhe(n.view),{priority:n.converterPriority||"normal"})}}function dV(n){return typeof n=="string"&&(n={name:n}),{name:n.name,attributes:n.attributes?Vr(n.attributes):[],children:!!n.children}}function lv(n,e){return typeof n=="function"?n:(t,i)=>whe(n,i,e)}function whe(n,e,t){typeof n=="string"&&(n={name:n});let i,r=e.writer,o=Object.assign({},n.attributes);if(t=="container")i=r.createContainerElement(n.name,o);else if(t=="attribute"){let s={priority:n.priority||rm.DEFAULT_PRIORITY};i=r.createAttributeElement(n.name,o,s)}else i=r.createUIElement(n.name,o);if(n.styles){let s=Object.keys(n.styles);for(let a of s)r.setStyle(a,n.styles[a],i)}if(n.classes){let s=n.classes;if(typeof s=="string")r.addClass(s,i);else for(let a of s)r.addClass(a,i)}return i}function hV(n){return n.model.values?(e,t,i)=>{let r=n.view[e];return r?r(e,t,i):null}:n.view}function CB(n){return typeof n=="string"?e=>({key:n,value:e}):typeof n=="object"?n.value?()=>n:e=>({key:n.key,value:e}):n}function GA(n,e,t){let i=typeof n=="function"?n(e,t):n;return i?(i.priority||(i.priority=10),i.id||(i.id=e.markerName),i):null}function yhe(n){return(e,t)=>{if(!e.is("element",n.name))return!1;if(t.type=="attribute"){if(n.attributes.includes(t.attributeKey))return!0}else{if(n.children)return!0}return!1}}function fV(n){let e=yhe(n);return(t,i)=>{let r=[];i.reconvertedElements||(i.reconvertedElements=new Set);for(let o of i.changes){let s=o.type=="attribute"?o.range.start.nodeAfter:o.position.parent;if(!s||!e(s,o)){r.push(o);continue}if(!i.reconvertedElements.has(s)){i.reconvertedElements.add(s);let a=kt._createBefore(s),l=r.length;for(let c=r.length-1;c>=0;c--){let u=r[c],f=(u.type=="attribute"?u.range.start:u.position).compareWith(a);if(f=="before"||u.type=="remove"&&f=="same")break;l=c}r.splice(l,0,{type:"remove",name:s.name,position:a,length:1},{type:"reinsert",name:s.name,position:a,length:1})}}i.changes=r}}function mV(n){return(e,t,i={})=>{let r=["insert"];for(let o of n.attributes)e.hasAttribute(o)&&r.push(`attribute:${o}`);return r.every(o=>t.test(e,o))?(i.preflight||r.forEach(o=>t.consume(e,o)),!0):!1}}function _he(n,e,t){return(i,r)=>{let o=i.createContainerElement("$slot"),s=null;if(r==="children")s=Array.from(n.getChildren());else if(typeof r=="function")s=Array.from(n.getChildren()).filter(a=>r(a));else throw new Me("conversion-slot-mode-unknown",t.dispatcher,{modeOrFilter:r});return e.set(o,s),o}}function xhe(n,e,t){let i=Array.from(e.values()).flat(),r=new Set(i);if(r.size!=i.length)throw new Me("conversion-slot-filter-overlap",t.dispatcher,{element:n});if(r.size!=n.childCount)throw new Me("conversion-slot-filter-incomplete",t.dispatcher,{element:n})}function Che(n,e,t,i){t.mapper.on("modelToViewPosition",s,{priority:"highest"});let r=null,o=null;for([r,o]of e)pV(n,o,t,i),t.writer.move(t.writer.createRangeIn(r),t.writer.createPositionBefore(r)),t.writer.remove(r);t.mapper.off("modelToViewPosition",s);function s(a,l){let c=l.modelPosition.nodeAfter,u=o.indexOf(c);u<0||(l.viewPosition=l.mapper.findPositionIn(r,u))}}function pV(n,e,t,i){for(let r of e)khe(n.root,r,t,i)||t.convertItem(r)}function khe(n,e,t,i){let{writer:r,mapper:o}=t;if(!i.reconversion)return!1;let s=o.toViewElement(e);return!s||s.root==n||!t.canReuseView(s)?!1:(r.move(r.createRangeOn(s),o.toViewPosition(kt._createBefore(e))),!0)}function Ehe(n,e,{preflight:t}={}){return t?e.test(n,"insert"):e.consume(n,"insert")}function gV(n){let{schema:e,document:t}=n.model;for(let i of t.getRoots())if(i.isEmpty&&!e.checkChild(i,"$text")&&e.checkChild(i,"paragraph"))return n.insertElement("paragraph",i),!0;return!1}function bV(n,e,t){let i=t.createContext(n);return!(!t.checkChild(i,"paragraph")||!t.checkChild(i.push("paragraph"),e))}function vV(n,e){let t=e.createElement("paragraph");return e.insert(t,n),e.createPositionAt(t,0)}var kA=class extends dx{elementToElement(e){return this.add(wV(e))}elementToAttribute(e){return this.add(The(e))}attributeToAttribute(e){return this.add(Ihe(e))}elementToMarker(e){return this.add(Mhe(e))}dataToMarker(e){return this.add(Phe(e))}};function kB(){return(n,e,t)=>{if(!e.modelRange&&t.consumable.consume(e.viewItem,{name:!0})){let{modelRange:i,modelCursor:r}=t.convertChildren(e.viewItem,e.modelCursor);e.modelRange=i,e.modelCursor=r}}}function She(){return(n,e,{schema:t,consumable:i,writer:r})=>{let o=e.modelCursor;if(!i.test(e.viewItem))return;if(!t.checkChild(o,"$text")){if(!bV(o,"$text",t)||e.viewItem.data.trim().length==0)return;o=vV(o,r)}i.consume(e.viewItem);let s=r.createText(e.viewItem.data);r.insert(s,o),e.modelRange=r.createRange(o,o.getShiftedBy(s.offsetSize)),e.modelCursor=e.modelRange.end}}function Ahe(n,e){return(t,i)=>{let r=i.newSelection,o=[];for(let a of r.getRanges())o.push(e.toModelRange(a));let s=n.createSelection(o,{backward:r.isBackward});s.isEqual(n.document.selection)||n.change(a=>{a.setSelection(s)})}}function wV(n){n=xa(n);let e=EA(n),t=KA(n.view),i=t?`element:${t}`:"element";return r=>{r.on(i,e,{priority:n.converterPriority||"normal"})}}function The(n){n=xa(n),yV(n);let e=_V(n,!1),t=KA(n.view),i=t?`element:${t}`:"element";return r=>{r.on(i,e,{priority:n.converterPriority||"low"})}}function Ihe(n){n=xa(n);let e=null;(typeof n.view=="string"||n.view.key)&&(e=Rhe(n)),yV(n,e);let t=_V(n,!0);return i=>{i.on("element",t,{priority:n.converterPriority||"low"})}}function Mhe(n){let e=Fhe(n.model);return wV(Xt(Be({},n),{model:e}))}function Phe(n){n=xa(n),n.model||(n.model=r=>r?n.view+":"+r:n.view);let e={view:n.view,model:n.model},t=EA(EB(e,"start")),i=EA(EB(e,"end"));return r=>{r.on(`element:${n.view}-start`,t,{priority:n.converterPriority||"normal"}),r.on(`element:${n.view}-end`,i,{priority:n.converterPriority||"normal"});let o=ic.low,s=ic.highest,a=ic.get(n.converterPriority)/s;r.on("element",Dhe(e),{priority:o+a})}}function Dhe(n){return(e,t,i)=>{let r=`data-${n.view}`;if(!i.consumable.test(t.viewItem,{attributes:r+"-end-after"})&&!i.consumable.test(t.viewItem,{attributes:r+"-start-after"})&&!i.consumable.test(t.viewItem,{attributes:r+"-end-before"})&&!i.consumable.test(t.viewItem,{attributes:r+"-start-before"}))return;t.modelRange||Object.assign(t,i.convertChildren(t.viewItem,t.modelCursor)),i.consumable.consume(t.viewItem,{attributes:r+"-end-after"})&&o(t.modelRange.end,t.viewItem.getAttribute(r+"-end-after").split(",")),i.consumable.consume(t.viewItem,{attributes:r+"-start-after"})&&o(t.modelRange.end,t.viewItem.getAttribute(r+"-start-after").split(",")),i.consumable.consume(t.viewItem,{attributes:r+"-end-before"})&&o(t.modelRange.start,t.viewItem.getAttribute(r+"-end-before").split(",")),i.consumable.consume(t.viewItem,{attributes:r+"-start-before"})&&o(t.modelRange.start,t.viewItem.getAttribute(r+"-start-before").split(","));function o(s,a){for(let l of a){let c=n.model(l,i),u=i.writer.createElement("$marker",{"data-name":c});i.writer.insert(u,s),t.modelCursor.isEqual(s)?t.modelCursor=t.modelCursor.getShiftedBy(1):t.modelCursor=t.modelCursor._getTransformedByInsertion(s,1),t.modelRange=t.modelRange._getTransformedByInsertion(s,1)[0]}}}}function KA(n){return typeof n=="string"?n:typeof n=="object"&&typeof n.name=="string"?n.name:null}function EA(n){let e=new Al(n.view);return(t,i,r)=>{let o=e.match(i.viewItem);if(!o)return;let s=o.match;if(s.name=!0,!r.consumable.test(i.viewItem,s))return;let a=Ohe(n.model,i.viewItem,r);a&&r.safeInsert(a,i.modelCursor)&&(r.consumable.consume(i.viewItem,s),r.convertChildren(i.viewItem,a),r.updateConversionResult(a,i))}}function Ohe(n,e,t){return n instanceof Function?n(e,t):t.writer.createElement(n)}function Rhe(n){typeof n.view=="string"&&(n.view={key:n.view});let e=n.view.key,t=typeof n.view.value>"u"?/[\s\S]*/:n.view.value,i;return e=="class"||e=="style"?i={[e=="class"?"classes":"styles"]:t}:i={attributes:{[e]:t}},n.view.name&&(i.name=n.view.name),n.view=i,e}function yV(n,e=null){let t=e===null?!0:o=>o.getAttribute(e),i=typeof n.model!="object"?n.model:n.model.key,r=typeof n.model!="object"||typeof n.model.value>"u"?t:n.model.value;n.model={key:i,value:r}}function _V(n,e){let t=new Al(n.view);return(i,r,o)=>{if(!r.modelRange&&e)return;let s=t.match(r.viewItem);if(!s||(Nhe(n.view,r.viewItem)?s.match.name=!0:delete s.match.name,!o.consumable.test(r.viewItem,s.match)))return;let a=n.model.key,l=typeof n.model.value=="function"?n.model.value(r.viewItem,o):n.model.value;if(l===null)return;r.modelRange||Object.assign(r,o.convertChildren(r.viewItem,r.modelCursor)),Lhe(r.modelRange,{key:a,value:l},e,o)&&(o.consumable.test(r.viewItem,{name:!0})&&(s.match.name=!0),o.consumable.consume(r.viewItem,s.match))}}function Nhe(n,e){let t=typeof n=="function"?n(e):n;return typeof t=="object"&&!KA(t)?!1:!t.classes&&!t.attributes&&!t.styles}function Lhe(n,e,t,i){let r=!1;for(let o of Array.from(n.getItems({shallow:t})))i.schema.checkAttribute(o,e.key)&&(r=!0,!o.hasAttribute(e.key)&&i.writer.setAttribute(e.key,e.value,o));return r}function Fhe(n){return(e,t)=>{let i=typeof n=="string"?n:n(e,t);return t.writer.createElement("$marker",{"data-name":i})}}function EB(n,e){let t=(i,r)=>{let o=i.getAttribute("name"),s=n.model(o,r);return r.writer.createElement("$marker",{"data-name":s})};return{view:`${n.view}-${e}`,model:t}}function Bhe(n){n.document.registerPostFixer(e=>Vhe(e,n))}function Vhe(n,e){let t=e.document.selection,i=e.schema,r=[],o=!1;for(let s of t.getRanges()){let a=xV(s,i);a&&!a.isEqual(s)?(r.push(a),o=!0):r.push(s)}return o&&n.setSelection(Hhe(r),{backward:t.isBackward}),!1}function xV(n,e){return n.isCollapsed?jhe(n,e):zhe(n,e)}function jhe(n,e){let t=n.start,i=e.getNearestSelectionRange(t);if(!i){let o=t.getAncestors().reverse().find(s=>e.isObject(s));return o?nt._createOn(o):null}if(!i.isCollapsed)return i;let r=i.start;return t.isEqual(r)?null:new nt(r)}function zhe(n,e){let{start:t,end:i}=n,r=e.checkChild(t,"$text"),o=e.checkChild(i,"$text"),s=e.getLimitElement(t),a=e.getLimitElement(i);if(s===a){if(r&&o)return null;if(Uhe(t,i,e)){let d=t.nodeAfter&&e.isSelectable(t.nodeAfter)?null:e.getNearestSelectionRange(t,"forward"),h=i.nodeBefore&&e.isSelectable(i.nodeBefore)?null:e.getNearestSelectionRange(i,"backward"),m=d?d.start:t,p=h?h.end:i;return new nt(m,p)}}let l=s&&!s.is("rootElement"),c=a&&!a.is("rootElement");if(l||c){let u=t.nodeAfter&&i.nodeBefore&&t.nodeAfter.parent===i.nodeBefore.parent,d=l&&(!u||!AB(t.nodeAfter,e)),f=c&&(!u||!AB(i.nodeBefore,e)),h=t,m=i;return d&&(h=kt._createBefore(SB(s,e))),f&&(m=kt._createAfter(SB(a,e))),new nt(h,m)}return null}function SB(n,e){let t=n,i=t;for(;e.isLimit(i)&&i.parent;)t=i,i=i.parent;return t}function Uhe(n,e,t){let i=n.nodeAfter&&!t.isLimit(n.nodeAfter)||t.checkChild(n,"$text"),r=e.nodeBefore&&!t.isLimit(e.nodeBefore)||t.checkChild(e,"$text");return i||r}function Hhe(n){let e=[...n],t=new Set,i=1;for(;i<e.length;){let o=e[i],s=e.slice(0,i);for(let[a,l]of s.entries())if(!t.has(a)){if(o.isEqual(l))t.add(a);else if(o.isIntersecting(l)){t.add(a),t.add(i);let c=o.getJoined(l);e.push(c)}}i++}return e.filter((o,s)=>!t.has(s))}function AB(n,e){return n&&e.isSelectable(n)}var hx=class extends Oi(){model;view;mapper;downcastDispatcher;constructor(e,t){super(),this.model=e,this.view=new zg(t),this.mapper=new Ug,this.downcastDispatcher=new sv({mapper:this.mapper,schema:e.schema});let i=this.model.document,r=i.selection,o=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(i,"change",()=>{this.view.change(s=>{this.downcastDispatcher.convertChanges(i.differ,o,s),this.downcastDispatcher.convertSelection(r,o,s)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",Ahe(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",Whe(this.mapper,this.model.schema,this.view),{priority:"high"}),this.downcastDispatcher.on("insert:$text",$A(),{priority:"lowest"}),this.downcastDispatcher.on("insert",qA(),{priority:"lowest"}),this.downcastDispatcher.on("remove",ehe(),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",the()),this.downcastDispatcher.on("selection",sV(),{priority:"low"}),this.downcastDispatcher.on("selection",aV(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(s=>{if(s.rootName=="$graveyard")return null;let a=new nv(this.view.document,s.name);return a.rootName=s.rootName,this.mapper.bindElements(s,a),a})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){let t=typeof e=="string"?e:e.name,i=this.model.markers.get(t);if(!i)throw new Me("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(i)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}};function Whe(n,e,t){return(i,r)=>{if(!(t.document.isComposing&&!_n.isAndroid))for(let o=0;o<r.targetRanges.length;o++){let s=r.targetRanges[o],a=n.toModelRange(s),l=xV(a,e);!l||l.isEqual(a)||(r.targetRanges[o]=n.toViewRange(l))}}}var SA=class n{_consumables=new Map;add(e,t){let i;if(e.is("$text")||e.is("documentFragment")){this._consumables.set(e,!0);return}this._consumables.has(e)?i=this._consumables.get(e):(i=new AA(e),this._consumables.set(e,i)),i.add(t)}test(e,t){let i=this._consumables.get(e);return i===void 0?null:e.is("$text")||e.is("documentFragment")?i:i.test(t)}consume(e,t){return this.test(e,t)?(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0):!1}revert(e,t){let i=this._consumables.get(e);i!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):i.revert(t))}static consumablesFromElement(e){let t={element:e,name:!0,attributes:[],classes:[],styles:[]},i=e.getAttributeKeys();for(let s of i)s=="style"||s=="class"||t.attributes.push(s);let r=e.getClassNames();for(let s of r)t.classes.push(s);let o=e.getStyleNames();for(let s of o)t.styles.push(s);return t}static createFrom(e,t){if(t||(t=new n),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,n.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(let i of e.getChildren())t=n.createFrom(i,t);return t}},ax=["attributes","classes","styles"],AA=class{element;_canConsumeName;_consumables;constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(let t of ax)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(let t of ax)if(t in e){let i=this._test(t,e[t]);if(i!==!0)return i}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(let t of ax)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(let t of ax)t in e&&this._revert(t,e[t])}_add(e,t){let i=Vr(t),r=this._consumables[e];for(let o of i){if(e==="attributes"&&(o==="class"||o==="style"))throw new Me("viewconsumable-invalid-attribute",this);if(r.set(o,!0),e==="styles")for(let s of this.element.document.stylesProcessor.getRelatedStyles(o))r.set(s,!0)}}_test(e,t){let i=Vr(t),r=this._consumables[e];for(let o of i)if(e==="attributes"&&(o==="class"||o==="style")){let s=o=="class"?"classes":"styles",a=this._test(s,[...this._consumables[s].keys()]);if(a!==!0)return a}else{let s=r.get(o);if(s===void 0)return null;if(!s)return!1}return!0}_consume(e,t){let i=Vr(t),r=this._consumables[e];for(let o of i)if(e==="attributes"&&(o==="class"||o==="style")){let s=o=="class"?"classes":"styles";this._consume(s,[...this._consumables[s].keys()])}else if(r.set(o,!1),e=="styles")for(let s of this.element.document.stylesProcessor.getRelatedStyles(o))r.set(s,!1)}_revert(e,t){let i=Vr(t),r=this._consumables[e];for(let o of i)if(e==="attributes"&&(o==="class"||o==="style")){let s=o=="class"?"classes":"styles";this._revert(s,[...this._consumables[s].keys()])}else r.get(o)===!1&&r.set(o,!0)}},TA=class extends Oi(){_sourceDefinitions={};_attributeProperties=Object.create(null);_customChildChecks=new Map;_customAttributeChecks=new Map;_genericCheckSymbol=Symbol("$generic");_compiledDefinitions;constructor(){super(),this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new Rg(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new Rg(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new Me("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new Me("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return typeof e=="string"?t=e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?t="$text":t=e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){let t=this.getDefinition(e);return!!(t&&t.isBlock)}isLimit(e){let t=this.getDefinition(e);return t?!!(t.isLimit||t.isObject):!1}isObject(e){let t=this.getDefinition(e);return t?!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent):!1}isInline(e){let t=this.getDefinition(e);return!!(t&&t.isInline)}isSelectable(e){let t=this.getDefinition(e);return t?!!(t.isSelectable||t.isObject):!1}isContent(e){let t=this.getDefinition(e);return t?!!(t.isContent||t.isObject):!1}checkChild(e,t){return t?this._checkContextMatch(e,t):!1}checkAttribute(e,t){let i=this.getDefinition(e.last);if(!i)return!1;let r=this._evaluateAttributeChecks(e,t);return r!==void 0?r:i.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof kt){let i=e.nodeBefore,r=e.nodeAfter;if(!(i instanceof lr))throw new Me("schema-check-merge-no-element-before",this);if(!(r instanceof lr))throw new Me("schema-check-merge-no-element-after",this);return this.checkMerge(i,r)}if(this.isLimit(e)||this.isLimit(t))return!1;for(let i of t.getChildren())if(!this.checkChild(e,i))return!1;return!0}addChildCheck(e,t){let i=t!==void 0?t:this._genericCheckSymbol,r=this._customChildChecks.get(i)||[];r.push(e),this._customChildChecks.set(i,r)}addAttributeCheck(e,t){let i=t!==void 0?t:this._genericCheckSymbol,r=this._customAttributeChecks.get(i)||[];r.push(e),this._customAttributeChecks.set(i,r)}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||Object.create(null)}getLimitElement(e){let t;for(e instanceof kt?t=e.parent:t=(e instanceof nt?[e]:Array.from(e.getRanges())).reduce((r,o)=>{let s=o.getCommonAncestor();return r?r.getCommonAncestor(s,{includeSelf:!0}):s},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){let r=[...e.getFirstPosition().getAncestors(),new br("",e.getAttributes())];return this.checkAttribute(r,t)}else{let i=e.getRanges();for(let r of i)for(let o of r)if(this.checkAttribute(o.item,t))return!0}return!1}*getValidRanges(e,t){e=sfe(e);for(let i of e)yield*_r(this._getValidRangesForRange(i,t))}getNearestSelectionRange(e,t="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new nt(e);let i,r,o=e.getAncestors().reverse().find(s=>this.isLimit(s))||e.root;(t=="both"||t=="backward")&&(i=new za({boundaries:nt._createIn(o),startPosition:e,direction:"backward"})),(t=="both"||t=="forward")&&(r=new za({boundaries:nt._createIn(o),startPosition:e}));for(let s of ofe(i,r)){let a=s.walker==i?"elementEnd":"elementStart",l=s.value;if(l.type==a&&this.isObject(l.item))return nt._createOn(l.item);if(this.checkChild(l.nextPosition,"$text"))return new nt(l.nextPosition)}return null}findAllowedParent(e,t){let i=e.parent;for(;i;){if(this.checkChild(i,t))return i;if(this.isLimit(i))return null;i=i.parent}return null}setAllowedAttributes(e,t,i){let r=i.model;for(let[o,s]of Object.entries(t))r.schema.checkAttribute(e,o)&&i.setAttribute(o,s,e)}removeDisallowedAttributes(e,t){for(let i of e)if(i.is("$text"))TB(this,i,t);else{let o=nt._createIn(i).getPositions();for(let s of o){let a=s.nodeBefore||s.parent;TB(this,a,t)}}}getAttributesWithProperty(e,t,i){let r={};for(let[o,s]of e.getAttributes()){let a=this.getAttributeProperties(o);a[t]!==void 0&&(i===void 0||i===a[t])&&(r[o]=s)}return r}createContext(e){return new Rg(e)}_clearCache(){this._compiledDefinitions=null}_compile(){let e={},t=this._sourceDefinitions,i=Object.keys(t);for(let o of i)e[o]=$he(t[o],o);let r=Object.values(e);for(let o of r)qhe(e,o),Ghe(e,o),Khe(e,o),Zhe(e,o);for(let o of r)Yhe(e,o);for(let o of r)Xhe(e,o);for(let o of r)Jhe(e,o);for(let o of r)efe(e,o);for(let o of r)tfe(e,o);this._compiledDefinitions=Qhe(e)}_checkContextMatch(e,t){let i=e.last,r=this._evaluateChildChecks(e,t);if(r=r!==void 0?r:t.allowIn.includes(i.name),!r)return!1;let o=this.getDefinition(i),s=e.trimLast();return o?s.length==0?!0:this._checkContextMatch(s,o):!1}_evaluateChildChecks(e,t){let i=this._customChildChecks.get(this._genericCheckSymbol)||[],r=this._customChildChecks.get(t.name)||[];for(let o of[...i,...r]){let s=o(e,t);if(s!==void 0)return s}}_evaluateAttributeChecks(e,t){let i=this._customAttributeChecks.get(this._genericCheckSymbol)||[],r=this._customAttributeChecks.get(t)||[];for(let o of[...i,...r]){let s=o(e,t);if(s!==void 0)return s}}*_getValidRangesForRange(e,t){let i=e.start,r=e.start;for(let o of e.getItems({shallow:!0}))o.is("element")&&(yield*_r(this._getValidRangesForRange(nt._createIn(o),t))),this.checkAttribute(o,t)||(i.isEqual(r)||(yield new nt(i,r)),i=kt._createAfter(o)),r=kt._createAfter(o);i.isEqual(r)||(yield new nt(i,r))}findOptimalInsertionRange(e,t){let i=e.getSelectedElement();if(i&&this.isObject(i)&&!this.isInline(i))return t=="before"||t=="after"?new nt(kt._createAt(i,t)):nt._createOn(i);let r=Ar(e.getSelectedBlocks());if(!r)return new nt(e.focus);if(r.isEmpty)return new nt(kt._createAt(r,0));let o=kt._createAfter(r);return e.focus.isTouching(o)?new nt(o):new nt(kt._createBefore(r))}},Rg=class n{_items;constructor(e){if(e instanceof n)return e;let t;typeof e=="string"?t=[e]:Array.isArray(e)?t=e:t=e.getAncestors({includeSelf:!0}),this._items=t.map(rfe)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){let t=new n([e]);return t._items=[...this._items,...t._items],t}trimLast(){let e=new n([]);return e._items=this._items.slice(0,-1),e}getItem(e){return this._items[e]}*getNames(){yield*_r(this._items.map(e=>e.name))}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}};function $he(n,e){let t={name:e,allowIn:new Set,allowChildren:new Set,disallowIn:new Set,disallowChildren:new Set,allowContentOf:new Set,allowWhere:new Set,allowAttributes:new Set,disallowAttributes:new Set,allowAttributesOf:new Set,inheritTypesFrom:new Set};return nfe(n,t),eu(n,t,"allowIn"),eu(n,t,"allowChildren"),eu(n,t,"disallowIn"),eu(n,t,"disallowChildren"),eu(n,t,"allowContentOf"),eu(n,t,"allowWhere"),eu(n,t,"allowAttributes"),eu(n,t,"disallowAttributes"),eu(n,t,"allowAttributesOf"),eu(n,t,"inheritTypesFrom"),ife(n,t),t}function qhe(n,e){for(let t of e.allowIn){let i=n[t];i?i.allowChildren.add(e.name):e.allowIn.delete(t)}}function Ghe(n,e){for(let t of e.allowChildren){let i=n[t];i?i.allowIn.add(e.name):e.allowChildren.delete(t)}}function Khe(n,e){for(let t of e.disallowIn){let i=n[t];i?i.disallowChildren.add(e.name):e.disallowIn.delete(t)}}function Zhe(n,e){for(let t of e.disallowChildren){let i=n[t];i?i.disallowIn.add(e.name):e.disallowChildren.delete(t)}}function Yhe(n,e){for(let t of e.disallowChildren)e.allowChildren.delete(t);for(let t of e.disallowIn)e.allowIn.delete(t);for(let t of e.disallowAttributes)e.allowAttributes.delete(t)}function Xhe(n,e){for(let t of e.allowContentOf){let i=n[t];i&&(i.disallowChildren.forEach(r=>{e.allowChildren.has(r)||(e.disallowChildren.add(r),n[r].disallowIn.add(e.name))}),i.allowChildren.forEach(r=>{e.disallowChildren.has(r)||(e.allowChildren.add(r),n[r].allowIn.add(e.name))}))}}function Jhe(n,e){for(let t of e.allowWhere){let i=n[t];i&&(i.disallowIn.forEach(r=>{e.allowIn.has(r)||(e.disallowIn.add(r),n[r].disallowChildren.add(e.name))}),i.allowIn.forEach(r=>{e.disallowIn.has(r)||(e.allowIn.add(r),n[r].allowChildren.add(e.name))}))}}function Qhe(n){let e={};for(let t of Object.values(n))e[t.name]={name:t.name,isBlock:!!t.isBlock,isContent:!!t.isContent,isInline:!!t.isInline,isLimit:!!t.isLimit,isObject:!!t.isObject,isSelectable:!!t.isSelectable,allowIn:Array.from(t.allowIn).filter(i=>!!n[i]),allowChildren:Array.from(t.allowChildren).filter(i=>!!n[i]),allowAttributes:Array.from(t.allowAttributes)};return e}function efe(n,e){for(let t of e.allowAttributesOf){let i=n[t];if(!i)return;i.allowAttributes.forEach(r=>{e.disallowAttributes.has(r)||e.allowAttributes.add(r)})}}function tfe(n,e){for(let t of e.inheritTypesFrom){let i=n[t];if(i){let r=Object.keys(i).filter(o=>o.startsWith("is"));for(let o of r)o in e||(e[o]=i[o])}}}function nfe(n,e){for(let t of n){let i=Object.keys(t).filter(r=>r.startsWith("is"));for(let r of i)e[r]=!!t[r]}}function eu(n,e,t){for(let i of n){let r=i[t];typeof r=="string"&&(r=[r]),Array.isArray(r)&&r.forEach(o=>e[t].add(o))}}function ife(n,e){for(let t of n){let i=t.inheritAllFrom;i&&(e.allowContentOf.add(i),e.allowWhere.add(i),e.allowAttributesOf.add(i),e.inheritTypesFrom.add(i))}}function rfe(n){return typeof n=="string"||n.is("documentFragment")?{name:typeof n=="string"?n:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:n.is("element")?n.name:"$text",*getAttributeKeys(){yield*_r(n.getAttributeKeys())},getAttribute(e){return n.getAttribute(e)}}}function*ofe(n,e){let t=!1;for(;!t;){if(t=!0,n){let i=n.next();i.done||(t=!1,yield{walker:n,value:i.value})}if(e){let i=e.next();i.done||(t=!1,yield{walker:e,value:i.value})}}}function*sfe(n){for(let e of n)yield*_r(e.getMinimalFlatRanges())}function TB(n,e,t){for(let i of e.getAttributeKeys())n.checkAttribute(e,i)||t.removeAttribute(i,e)}var fx=class extends Fi(){conversionApi;_splitParts=new Map;_cursorParents=new Map;_modelCursor=null;_emptyElementsToKeep=new Set;constructor(e){super(),this.conversionApi=Xt(Be({},e),{consumable:null,writer:null,store:null,convertItem:(t,i)=>this._convertItem(t,i),convertChildren:(t,i)=>this._convertChildren(t,i),safeInsert:(t,i)=>this._safeInsert(t,i),updateConversionResult:(t,i)=>this._updateConversionResult(t,i),splitToAllowedParent:(t,i)=>this._splitToAllowedParent(t,i),getSplitParts:t=>this._getSplitParts(t),keepEmptyElement:t=>this._keepEmptyElement(t)})}convert(e,t,i=["$root"]){this.fire("viewCleanup",e),this._modelCursor=lfe(i,t),this.conversionApi.writer=t,this.conversionApi.consumable=SA.createFrom(e),this.conversionApi.store={};let{modelRange:r}=this._convertItem(e,this._modelCursor),o=t.createDocumentFragment();if(r){this._removeEmptyElements();for(let s of Array.from(this._modelCursor.parent.getChildren()))t.append(s,o);o.markers=afe(o,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,o}_convertItem(e,t){let i={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,i,this.conversionApi):e.is("$text")?this.fire("text",i,this.conversionApi):this.fire("documentFragment",i,this.conversionApi),i.modelRange&&!(i.modelRange instanceof nt))throw new Me("view-conversion-dispatcher-incorrect-result",this);return{modelRange:i.modelRange,modelCursor:i.modelCursor}}_convertChildren(e,t){let i=t.is("position")?t:kt._createAt(t,0),r=new nt(i);for(let o of Array.from(e.getChildren())){let s=this._convertItem(o,i);s.modelRange instanceof nt&&(r.end=s.modelRange.end,i=s.modelCursor)}return{modelRange:r,modelCursor:i}}_safeInsert(e,t){let i=this._splitToAllowedParent(e,t);return i?(this.conversionApi.writer.insert(e,i.position),!0):!1}_updateConversionResult(e,t){let i=this._getSplitParts(e),r=this.conversionApi.writer;t.modelRange||(t.modelRange=r.createRange(r.createPositionBefore(e),r.createPositionAfter(i[i.length-1])));let o=this._cursorParents.get(e);o?t.modelCursor=r.createPositionAt(o,0):t.modelCursor=t.modelRange.end}_splitToAllowedParent(e,t){let{schema:i,writer:r}=this.conversionApi,o=i.findAllowedParent(t,e);if(o){if(o===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(o)&&(o=null)}if(!o)return bV(t,e,i)?{position:vV(t,r)}:null;let s=this.conversionApi.writer.split(t,o),a=[];for(let c of s.range.getWalker())if(c.type=="elementEnd")a.push(c.item);else{let u=a.pop(),d=c.item;this._registerSplitPair(u,d)}let l=s.range.end.parent;return this._cursorParents.set(e,l),{position:s.position,cursorParent:l}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);let i=this._splitParts.get(e);this._splitParts.set(t,i),i.push(t)}_getSplitParts(e){let t;return this._splitParts.has(e)?t=this._splitParts.get(e):t=[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(let t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}};function afe(n,e){let t=new Set,i=new Map,r=nt._createIn(n).getItems();for(let o of r)o.is("element","$marker")&&t.add(o);for(let o of t){let s=o.getAttribute("data-name"),a=e.createPositionBefore(o);i.has(s)?i.get(s).end=a.clone():i.set(s,new nt(a.clone())),e.remove(o)}return i}function lfe(n,e){let t;for(let i of new Rg(n)){let r={};for(let s of i.getAttributeKeys())r[s]=i.getAttribute(s);let o=e.createElement(i.name,r);t&&e.insert(o,t),t=kt._createAt(o,0)}return t}var mx=class{getHtml(e){let i=Kt.document.implementation.createHTMLDocument("").createElement("div");return i.appendChild(e),i.innerHTML}},cv=class{domParser;domConverter;htmlWriter;skipComments=!0;constructor(e){this.domParser=new DOMParser,this.domConverter=new lm(e,{renderingMode:"data"}),this.htmlWriter=new mx}toData(e){let t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){let t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){/<(?:html|body|head|meta)(?:\s[^>]*)?>/i.test(e.trim().slice(0,1e4))||(e=`<body>${e}</body>`);let t=this.domParser.parseFromString(e,"text/html"),i=t.createDocumentFragment(),r=t.body.childNodes;for(;r.length>0;)i.appendChild(r[0]);return i}},px=class extends Fi(){model;mapper;downcastDispatcher;upcastDispatcher;viewDocument;stylesProcessor;htmlProcessor;processor;_viewWriter;constructor(e,t){super(),this.model=e,this.mapper=new Ug,this.downcastDispatcher=new sv({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",$A(),{priority:"lowest"}),this.downcastDispatcher.on("insert",qA(),{priority:"lowest"}),this.upcastDispatcher=new fx({schema:e.schema}),this.viewDocument=new vx(t),this.stylesProcessor=t,this.htmlProcessor=new cv(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new iv(this.viewDocument),this.upcastDispatcher.on("text",She(),{priority:"lowest"}),this.upcastDispatcher.on("element",kB(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",kB(),{priority:"lowest"}),Oi().prototype.decorate.call(this,"init"),Oi().prototype.decorate.call(this,"set"),Oi().prototype.decorate.call(this,"get"),Oi().prototype.decorate.call(this,"toView"),Oi().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},gV)},{priority:"lowest"})}get(e={}){let{rootName:t="main",trim:i="empty"}=e;if(!this._checkIfRootsExists([t]))throw new Me("datacontroller-get-non-existent-root",this);let r=this.model.document.getRoot(t);return r.isAttached()||vi("datacontroller-get-detached-root",this),i==="empty"&&!this.model.hasContent(r,{ignoreWhitespaces:!0})?"":this.stringify(r,e)}stringify(e,t={}){let i=this.toView(e,t);return this.processor.toData(i)}toView(e,t={}){let i=this.viewDocument,r=this._viewWriter;this.mapper.clearBindings();let o=nt._createIn(e),s=new om(i);this.mapper.bindElements(e,s);let a=e.is("documentFragment")?e.markers:cfe(e);return this.downcastDispatcher.convert(o,a,r,t),s}init(e){if(this.model.document.version)throw new Me("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new Me("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},i=>{for(let r of Object.keys(t)){let o=this.model.document.getRoot(r);i.insert(this.parse(t[r],o),o,0)}}),Promise.resolve()}set(e,t={}){let i={};if(typeof e=="string"?i.main=e:i=e,!this._checkIfRootsExists(Object.keys(i)))throw new Me("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},r=>{r.setSelection(null),r.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(let o of Object.keys(i)){let s=this.model.document.getRoot(o);r.remove(r.createRangeIn(s)),r.insert(this.parse(i[o],s),s,0)}})}parse(e,t="$root"){let i=this.processor.toView(e);return this.toModel(i,t)}toModel(e,t="$root"){return this.model.change(i=>this.upcastDispatcher.convert(e,i,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(let t of e)if(!this.model.document.getRoot(t))return!1;return!0}};function cfe(n){let e=[],t=n.root.document;if(!t)return new Map;let i=nt._createIn(n);for(let r of t.model.markers){let o=r.getRange(),s=o.isCollapsed,a=o.start.isEqual(i.start)||o.end.isEqual(i.end);if(s&&a)e.push([r.name,o]);else{let l=i.getIntersection(o);l&&e.push([r.name,l])}}return e.sort(([r,o],[s,a])=>{if(o.end.compareWith(a.start)!=="after")return 1;if(o.start.compareWith(a.end)!=="before")return-1;switch(o.start.compareWith(a.start)){case"before":return 1;case"after":return-1;default:switch(o.end.compareWith(a.end)){case"before":return 1;case"after":return-1;default:return s.localeCompare(r)}}}),new Map(e)}var gx=class{_helpers=new Map;_downcast;_upcast;constructor(e,t){this._downcast=Vr(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Vr(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){let i=this._downcast.includes(t);if(!this._upcast.includes(t)&&!i)throw new Me("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:i})}for(e){if(!this._helpers.has(e))throw new Me("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(let{model:t,view:i}of sA(e))this.for("upcast").elementToElement({model:t,view:i,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(let{model:t,view:i}of sA(e))this.for("upcast").elementToAttribute({view:i,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(let{model:t,view:i}of sA(e))this.for("upcast").attributeToAttribute({view:i,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:i}){if(this._helpers.has(e))throw new Me("conversion-group-exists",this);let r=i?new CA(t):new kA(t);this._helpers.set(e,r)}};function*sA(n){if(n.model.values)for(let e of n.model.values){let t={key:n.model.key,value:e},i=n.view[e],r=n.upcastAlso?n.upcastAlso[e]:void 0;yield*_r(IB(t,i,r))}else yield*_r(IB(n.model,n.view,n.upcastAlso))}function*IB(n,e,t){if(yield{model:n,view:e},t)for(let i of Vr(t))yield{model:n,view:i}}var IA=class{namespaces;domParser;domConverter;htmlWriter;skipComments=!0;constructor(e,t={}){this.namespaces=t.namespaces||[],this.domParser=new DOMParser,this.domConverter=new lm(e,{renderingMode:"data"}),this.htmlWriter=new mx}toData(e){let t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){let t=this._toDom(e);return this.domConverter.domToView(t,{keepOriginalCase:!0,skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e=`<xml ${this.namespaces.map(a=>`xmlns:${a}="nsp"`).join(" ")}>${e}</xml>`;let i=this.domParser.parseFromString(e,"text/xml"),r=i.querySelector("parsererror");if(r)throw new Error("Parse error - "+r.textContent);let o=i.createDocumentFragment(),s=i.documentElement.childNodes;for(;s.length>0;)o.appendChild(s[0]);return o}};var Js=class{baseVersion;isDocumentOperation;batch;constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){let e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}};function ZA(n,e){let t=kV(e),i=t.reduce((s,a)=>s+a.offsetSize,0),r=n.parent;hv(n);let o=n.index;return r._insertChild(o,t),dv(r,o+t.length),dv(r,o),new nt(n,n.getShiftedBy(i))}function CV(n){if(!n.isFlat)throw new Me("operation-utils-remove-range-not-flat",this);let e=n.start.parent;hv(n.start),hv(n.end);let t=e._removeChildren(n.start.index,n.end.index-n.start.index);return dv(e,n.start.index),t}function uv(n,e){if(!n.isFlat)throw new Me("operation-utils-move-range-not-flat",this);let t=CV(n);return e=e._getTransformedByDeletion(n.start,n.end.offset-n.start.offset),ZA(e,t)}function ufe(n,e,t){hv(n.start),hv(n.end);for(let i of n.getItems({shallow:!0})){let r=i.is("$textProxy")?i.textNode:i;t!==null?r._setAttribute(e,t):r._removeAttribute(e),dv(r.parent,r.index)}dv(n.end.parent,n.end.index)}function kV(n){let e=[];function t(i){if(typeof i=="string")e.push(new br(i));else if(i instanceof ja)e.push(new br(i.data,i.getAttributes()));else if(i instanceof mm)e.push(i);else if(Zs(i))for(let r of i)t(r)}t(n);for(let i=1;i<e.length;i++){let r=e[i],o=e[i-1];r instanceof br&&o instanceof br&&EV(r,o)&&(e.splice(i-1,2,new br(o.data+r.data,o.getAttributes())),i--)}return e}function dv(n,e){let t=n.getChild(e-1),i=n.getChild(e);if(t&&i&&t.is("$text")&&i.is("$text")&&EV(t,i)){let r=new br(t.data+i.data,t.getAttributes());n._removeChildren(e-1,2),n._insertChild(e-1,r)}}function hv(n){let e=n.textNode,t=n.parent;if(e){let i=n.offset-e.startOffset,r=e.index;t._removeChildren(r,1);let o=new br(e.data.substr(0,i),e.getAttributes()),s=new br(e.data.substr(i),e.getAttributes());t._insertChild(r,[o,s])}}function EV(n,e){let t=n.getAttributes(),i=e.getAttributes();for(let r of t){if(r[1]!==e.getAttribute(r[0]))return!1;i.next()}return i.next().done}var Bi=class n extends Js{sourcePosition;howMany;targetPosition;constructor(e,t,i,r){super(r),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[nt._createFromPositionAndShift(this.sourcePosition,this.howMany),nt._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new n(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){let e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new n(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){let e=this.sourcePosition.parent,t=this.targetPosition.parent,i=this.sourcePosition.offset,r=this.targetPosition.offset;if(i+this.howMany>e.maxOffset)throw new Me("move-operation-nodes-do-not-exist",this);if(e===t&&i<r&&r<i+this.howMany)throw new Me("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&ps(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){let o=this.sourcePosition.path.length-1;if(this.targetPosition.path[o]>=i&&this.targetPosition.path[o]<i+this.howMany)throw new Me("move-operation-node-into-itself",this)}}_execute(){uv(nt._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){let e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){let i=kt.fromJSON(e.sourcePosition,t),r=kt.fromJSON(e.targetPosition,t);return new this(i,e.howMany,r,e.baseVersion)}},vs=class n extends Js{position;nodes;shouldReceiveAttributes;constructor(e,t,i){super(i),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new sm(kV(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){let e=new sm([...this.nodes].map(i=>i._clone(!0))),t=new n(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){let e=this.position.root.document.graveyard,t=new kt(e,[0]);return new Bi(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){let e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new Me("insert-operation-position-invalid",this)}_execute(){let e=this.nodes;this.nodes=new sm([...e].map(t=>t._clone(!0))),ZA(this.position,e)}toJSON(){let e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){let i=[];for(let o of e.nodes)o.name?i.push(lr.fromJSON(o)):i.push(br.fromJSON(o));let r=new n(kt.fromJSON(e.position,t),i,e.baseVersion);return r.shouldReceiveAttributes=e.shouldReceiveAttributes,r}},cr=class n extends Js{splitPosition;howMany;insertionPosition;graveyardPosition;constructor(e,t,i,r,o){super(o),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=i,this.graveyardPosition=r?r.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){let e=this.insertionPosition.path.slice();return e.push(0),new kt(this.insertionPosition.root,e)}get movedRange(){let e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new nt(this.splitPosition,e)}get affectedSelectable(){let e=[nt._createFromPositionAndShift(this.splitPosition,0),nt._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(nt._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new n(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){let e=this.splitPosition.root.document.graveyard,t=new kt(e,[0]);return new lo(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){let e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new Me("split-operation-position-invalid",this);if(e.parent){if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new Me("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new Me("split-operation-graveyard-position-invalid",this)}else throw new Me("split-operation-split-in-root",this)}_execute(){let e=this.splitPosition.parent;if(this.graveyardPosition)uv(nt._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{let i=e._clone();ZA(this.insertionPosition,i)}let t=new nt(kt._createAt(e,this.splitPosition.offset),kt._createAt(e,e.maxOffset));uv(t,this.moveTargetPosition)}toJSON(){let e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){let t=e.path.slice(0,-1);return t[t.length-1]++,new kt(e.root,t,"toPrevious")}static fromJSON(e,t){let i=kt.fromJSON(e.splitPosition,t),r=kt.fromJSON(e.insertionPosition,t),o=e.graveyardPosition?kt.fromJSON(e.graveyardPosition,t):null;return new this(i,e.howMany,r,o,e.baseVersion)}},lo=class n extends Js{sourcePosition;howMany;targetPosition;graveyardPosition;constructor(e,t,i,r,o){super(o),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=r.clone()}get type(){return"merge"}get deletionPosition(){return new kt(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){let e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new nt(this.sourcePosition,e)}get affectedSelectable(){let e=this.sourcePosition.parent;return[nt._createOn(e),nt._createFromPositionAndShift(this.targetPosition,0),nt._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new n(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){let e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),i=new kt(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new cr(e,this.howMany,i,this.graveyardPosition,this.baseVersion+1)}_validate(){let e=this.sourcePosition.parent,t=this.targetPosition.parent;if(e.parent)if(t.parent){if(this.howMany!=e.maxOffset)throw new Me("merge-operation-how-many-invalid",this)}else throw new Me("merge-operation-target-position-invalid",this);else throw new Me("merge-operation-source-position-invalid",this)}_execute(){let e=this.sourcePosition.parent,t=nt._createIn(e);uv(t,this.targetPosition),uv(nt._createOn(e),this.graveyardPosition)}toJSON(){let e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){let i=kt.fromJSON(e.sourcePosition,t),r=kt.fromJSON(e.targetPosition,t),o=kt.fromJSON(e.graveyardPosition,t);return new this(i,e.howMany,r,o,e.baseVersion)}},Tl=class n extends Js{name;oldRange;newRange;affectsData;_markers;constructor(e,t,i,r,o,s){super(s),this.name=e,this.oldRange=t?t.clone():null,this.newRange=i?i.clone():null,this.affectsData=o,this._markers=r}get type(){return"marker"}get affectedSelectable(){let e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new n(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new n(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){let e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new n(e.name,e.oldRange?nt.fromJSON(e.oldRange,t):null,e.newRange?nt.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}},Lo=class n extends Js{range;key;oldValue;newValue;constructor(e,t,i,r,o){super(o),this.range=e.clone(),this.key=t,this.oldValue=i===void 0?null:i,this.newValue=r===void 0?null:r}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new n(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new n(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){let e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new Me("attribute-operation-range-not-flat",this);for(let e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!Z_(e.getAttribute(this.key),this.oldValue))throw new Me("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new Me("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){Z_(this.oldValue,this.newValue)||ufe(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new n(nt.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}},So=class n extends Js{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new n(this.baseVersion)}getReversed(){return new n(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}},Il=class n extends Js{position;oldName;newName;constructor(e,t,i,r){super(r),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=i}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new n(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new n(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){let e=this.position.nodeAfter;if(e instanceof lr){if(e.name!==this.oldName)throw new Me("rename-operation-wrong-name",this)}else throw new Me("rename-operation-wrong-position",this)}_execute(){let e=this.position.nodeAfter;e.name=this.newName}toJSON(){let e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new n(kt.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}},um=class n extends Js{root;key;oldValue;newValue;constructor(e,t,i,r,o){super(o),this.root=e,this.key=t,this.oldValue=i===void 0?null:i,this.newValue=r===void 0?null:r}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new n(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new n(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new Me("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new Me("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new Me("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){let e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new Me("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new n(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}},Lh=class n extends Js{rootName;elementName;isAdd;_document;constructor(e,t,i,r,o){if(super(o),this.rootName=e,this.elementName=t,this.isAdd=i,this._document=r,!this._document.getRoot(this.rootName)){let s=this._document.createRoot(this.elementName,this.rootName);s._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new n(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new n(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){let e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new n(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}},Ml={};Ml[Lo.className]=Lo;Ml[vs.className]=vs;Ml[Tl.className]=Tl;Ml[Bi.className]=Bi;Ml[So.className]=So;Ml[Js.className]=Js;Ml[Il.className]=Il;Ml[um.className]=um;Ml[Lh.className]=Lh;Ml[cr.className]=cr;Ml[lo.className]=lo;var MA=class{static fromJSON(e,t){return Ml[e.__className].fromJSON(e,t)}},PA=new Map;function Ri(n,e,t){let i=PA.get(n);i||(i=new Map,PA.set(n,i)),i.set(e,t)}function dfe(n,e){let t=PA.get(n);return t&&t.has(e)?t.get(e):hfe}function hfe(n){return[n]}function MB(n,e,t={}){let i=dfe(n.constructor,e.constructor);try{return n=n.clone(),i(n,e,t)}catch(r){throw r}}function SV(n,e,t){n=n.slice(),e=e.slice();let i=new DA(t.document,t.useRelations,t.forceWeakRemove);i.setOriginalOperations(n),i.setOriginalOperations(e);let r=i.originalOperations;if(n.length==0||e.length==0)return{operationsA:n,operationsB:e,originalOperations:r};let o=new WeakMap;for(let l of n)o.set(l,0);let s={nextBaseVersionA:n[n.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:n.length,originalOperationsBCount:e.length},a=0;for(;a<n.length;){let l=n[a],c=o.get(l);if(c==e.length){a++;continue}let u=e[c],d=MB(l,u,i.getContext(l,u,!0)),f=MB(u,l,i.getContext(u,l,!1));i.updateRelation(l,u),i.setOriginalOperations(d,l),i.setOriginalOperations(f,u);for(let h of d)o.set(h,c+f.length);n.splice(a,1,...d),e.splice(c,1,...f)}if(t.padWithNoOps){let l=n.length-s.originalOperationsACount,c=e.length-s.originalOperationsBCount;DB(n,c-l),DB(e,l-c)}return PB(n,s.nextBaseVersionB),PB(e,s.nextBaseVersionA),{operationsA:n,operationsB:e,originalOperations:r}}var DA=class{originalOperations;_history;_useRelations;_forceWeakRemove;_relations;constructor(e,t,i=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!i,this._relations=new Map}setOriginalOperations(e,t=null){let i=t?this.originalOperations.get(t):null;for(let r of e)this.originalOperations.set(r,i||r)}updateRelation(e,t){if(e instanceof Bi)t instanceof lo?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof Bi&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof cr){if(t instanceof lo)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof Bi)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{let i=nt._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.splitPosition)){let r=i.end.offset-e.splitPosition.offset,o=e.splitPosition.offset-i.start.offset;this._setRelation(e,t,{howMany:r,offset:o})}}}else if(e instanceof lo)t instanceof lo?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof cr?e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource"):t instanceof Bi&&t.howMany>0&&(e.sourcePosition.isEqual(t.sourcePosition.getShiftedBy(t.howMany))&&this._setRelation(e,t,"mergeSourceAffected"),e.targetPosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeTargetWasBefore"));else if(e instanceof Tl){let i=e.newRange;if(!i)return;if(t instanceof Bi){let r=nt._createFromPositionAndShift(t.sourcePosition,t.howMany),o=r.containsPosition(i.start)||r.start.isEqual(i.start),s=r.containsPosition(i.end)||r.end.isEqual(i.end);(o||s)&&!r.containsRange(i)&&this._setRelation(e,t,{side:o?"left":"right",path:o?i.start.path.slice():i.end.path.slice()})}else if(t instanceof lo){let r=i.start.isEqual(t.targetPosition),o=i.start.isEqual(t.deletionPosition),s=i.end.isEqual(t.deletionPosition),a=i.end.isEqual(t.sourcePosition);(r||o||s||a)&&this._setRelation(e,t,{wasInLeftElement:r,wasStartBeforeMergedElement:o,wasEndBeforeMergedElement:s,wasInRightElement:a})}}}getContext(e,t,i){return{aIsStrong:i,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){let t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){let i=this.originalOperations.get(t),r=this._history.getUndoneOperation(i);if(!r)return null;let o=this.originalOperations.get(e),s=this._relations.get(o);return s&&s.get(r)||null}_setRelation(e,t,i){let r=this.originalOperations.get(e),o=this.originalOperations.get(t),s=this._relations.get(r);s||(s=new Map,this._relations.set(r,s)),s.set(o,i)}};function PB(n,e){for(let t of n)t.baseVersion=e++}function DB(n,e){for(let t=0;t<e;t++)n.push(new So(0))}Ri(Lo,Lo,(n,e,t)=>{if(n.key===e.key&&n.range.start.hasSameParentAs(e.range.start)){let i=n.range.getDifference(e.range).map(o=>new Lo(o,n.key,n.oldValue,n.newValue,0)),r=n.range.getIntersection(e.range);return r&&t.aIsStrong&&i.push(new Lo(r,e.key,e.newValue,n.newValue,0)),i.length==0?[new So(0)]:i}else return[n]});Ri(Lo,vs,(n,e)=>{if(n.range.start.hasSameParentAs(e.position)&&n.range.containsPosition(e.position)){let i=n.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(r=>new Lo(r,n.key,n.oldValue,n.newValue,n.baseVersion));if(e.shouldReceiveAttributes){let r=AV(e,n.key,n.oldValue);r&&i.unshift(r)}return i}return n.range=n.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[n]});function AV(n,e,t){let r=n.nodes.getNode(0).getAttribute(e);if(r==t)return null;let o=new nt(n.position,n.position.getShiftedBy(n.howMany));return new Lo(o,e,r,t,0)}Ri(Lo,lo,(n,e)=>{let t=[];n.range.start.hasSameParentAs(e.deletionPosition)&&(n.range.containsPosition(e.deletionPosition)||n.range.start.isEqual(e.deletionPosition))&&t.push(nt._createFromPositionAndShift(e.graveyardPosition,1));let i=n.range._getTransformedByMergeOperation(e);return i.isCollapsed||t.push(i),t.map(r=>new Lo(r,n.key,n.oldValue,n.newValue,n.baseVersion))});Ri(Lo,Bi,(n,e)=>ffe(n.range,e).map(i=>new Lo(i,n.key,n.oldValue,n.newValue,n.baseVersion)));function ffe(n,e){let t=nt._createFromPositionAndShift(e.sourcePosition,e.howMany),i=null,r=[];t.containsRange(n,!0)?i=n:n.start.hasSameParentAs(t.start)?(r=n.getDifference(t),i=n.getIntersection(t)):r=[n];let o=[];for(let s of r){s=s._getTransformedByDeletion(e.sourcePosition,e.howMany);let a=e.getMovedRangeStart(),l=s.start.hasSameParentAs(a),c=s._getTransformedByInsertion(a,e.howMany,l);o.push(...c)}return i&&o.push(i._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),o}Ri(Lo,cr,(n,e)=>{if(n.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||n.range.end.offset++,[n];if(n.range.start.hasSameParentAs(e.splitPosition)&&n.range.containsPosition(e.splitPosition)){let t=n.clone();return t.range=new nt(e.moveTargetPosition.clone(),n.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),n.range.end=e.splitPosition.clone(),n.range.end.stickiness="toPrevious",[n,t]}return n.range=n.range._getTransformedBySplitOperation(e),[n]});Ri(vs,Lo,(n,e)=>{let t=[n];if(n.shouldReceiveAttributes&&n.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(n.position)){let i=AV(n,e.key,e.newValue);i&&t.push(i)}return t});Ri(vs,vs,(n,e,t)=>n.position.isEqual(e.position)&&t.aIsStrong?[n]:(n.position=n.position._getTransformedByInsertOperation(e),[n]));Ri(vs,Bi,(n,e)=>(n.position=n.position._getTransformedByMoveOperation(e),[n]));Ri(vs,cr,(n,e)=>(n.position=n.position._getTransformedBySplitOperation(e),[n]));Ri(vs,lo,(n,e)=>(n.position=n.position._getTransformedByMergeOperation(e),[n]));Ri(Tl,vs,(n,e)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByInsertOperation(e)[0]),n.newRange&&(n.newRange=n.newRange._getTransformedByInsertOperation(e)[0]),[n]));Ri(Tl,Tl,(n,e,t)=>{if(n.name==e.name)if(t.aIsStrong)n.oldRange=e.newRange?e.newRange.clone():null;else return[new So(0)];return[n]});Ri(Tl,lo,(n,e)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByMergeOperation(e)),n.newRange&&(n.newRange=n.newRange._getTransformedByMergeOperation(e)),[n]));Ri(Tl,Bi,(n,e,t)=>{if(n.oldRange&&(n.oldRange=nt._createFromRanges(n.oldRange._getTransformedByMoveOperation(e))),n.newRange){if(t.abRelation){let i=nt._createFromRanges(n.newRange._getTransformedByMoveOperation(e));if(t.abRelation.side=="left"&&e.targetPosition.isEqual(n.newRange.start))return n.newRange.end=i.end,n.newRange.start.path=t.abRelation.path,[n];if(t.abRelation.side=="right"&&e.targetPosition.isEqual(n.newRange.end))return n.newRange.start=i.start,n.newRange.end.path=t.abRelation.path,[n]}n.newRange=nt._createFromRanges(n.newRange._getTransformedByMoveOperation(e))}return[n]});Ri(Tl,cr,(n,e,t)=>{if(n.oldRange&&(n.oldRange=n.oldRange._getTransformedBySplitOperation(e)),n.newRange){if(t.abRelation){let i=n.newRange._getTransformedBySplitOperation(e);return n.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?n.newRange.start=kt._createAt(e.insertionPosition):n.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(n.newRange.start=kt._createAt(e.moveTargetPosition)),n.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?n.newRange.end=kt._createAt(e.moveTargetPosition):n.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?n.newRange.end=kt._createAt(e.insertionPosition):n.newRange.end=i.end,[n]}n.newRange=n.newRange._getTransformedBySplitOperation(e)}return[n]});Ri(lo,vs,(n,e)=>(n.sourcePosition.hasSameParentAs(e.position)&&(n.howMany+=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByInsertOperation(e),n.targetPosition=n.targetPosition._getTransformedByInsertOperation(e),[n]));Ri(lo,lo,(n,e,t)=>{if(n.sourcePosition.isEqual(e.sourcePosition)&&n.targetPosition.isEqual(e.targetPosition))if(t.bWasUndone){let i=e.graveyardPosition.path.slice();return i.push(0),n.sourcePosition=new kt(e.graveyardPosition.root,i),n.howMany=0,[n]}else return[new So(0)];if(n.sourcePosition.isEqual(e.sourcePosition)&&!n.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){let i=n.targetPosition.root.rootName=="$graveyard",r=e.targetPosition.root.rootName=="$graveyard";if(r&&!i||!(i&&!r)&&t.aIsStrong){let l=e.targetPosition._getTransformedByMergeOperation(e),c=n.targetPosition._getTransformedByMergeOperation(e);return[new Bi(l,n.howMany,c,0)]}else return[new So(0)]}return n.sourcePosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByMergeOperation(e),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),(!n.graveyardPosition.isEqual(e.graveyardPosition)||!t.aIsStrong)&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(e)),[n]});Ri(lo,Bi,(n,e,t)=>{let i=nt._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&n.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(n.sourcePosition)?[new So(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(n.sourcePosition)?n.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(n.sourcePosition)&&t.abRelation=="mergeSourceAffected"?n.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(n.targetPosition)?(n.targetPosition.stickiness="toNone",n.howMany-=e.howMany):e.targetPosition.isEqual(n.targetPosition)&&t.abRelation=="mergeTargetWasBefore"?(n.targetPosition.stickiness="toPrevious",n.howMany+=e.howMany):(n.sourcePosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.sourcePosition.hasSameParentAs(e.sourcePosition)&&(n.howMany-=e.howMany)),n.sourcePosition=n.sourcePosition._getTransformedByMoveOperation(e),n.targetPosition=n.targetPosition._getTransformedByMoveOperation(e),n.sourcePosition.stickiness="toPrevious",n.targetPosition.stickiness="toNext",n.graveyardPosition.isEqual(e.targetPosition)||(n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(e)),[n])});Ri(lo,cr,(n,e,t)=>{if(e.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),n.deletionPosition.isEqual(e.graveyardPosition)&&(n.howMany=e.howMany)),n.targetPosition.isEqual(e.splitPosition)){let i=e.howMany!=0,r=e.graveyardPosition&&n.deletionPosition.isEqual(e.graveyardPosition);if(i||r||t.abRelation=="mergeTargetNotMoved")return n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(e),[n]}if(n.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return n.howMany=0,n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n];if(t.abRelation=="mergeSameElement"||n.sourcePosition.offset>0)return n.sourcePosition=e.moveTargetPosition.clone(),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n]}return n.sourcePosition.hasSameParentAs(e.splitPosition)&&(n.howMany=e.splitPosition.offset),n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(e),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n]});Ri(Bi,vs,(n,e)=>{let i=nt._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByInsertOperation(e,!1)[0];return n.sourcePosition=i.start,n.howMany=i.end.offset-i.start.offset,n.targetPosition.isEqual(e.position)||(n.targetPosition=n.targetPosition._getTransformedByInsertOperation(e)),[n]});Ri(Bi,Bi,(n,e,t)=>{let i=nt._createFromPositionAndShift(n.sourcePosition,n.howMany),r=nt._createFromPositionAndShift(e.sourcePosition,e.howMany),o=t.aIsStrong,s=!t.aIsStrong;t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?s=!0:(t.abRelation=="insertAfter"||t.baRelation=="insertBefore")&&(s=!1);let a;if(n.targetPosition.isEqual(e.targetPosition)&&s?a=n.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):a=n.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),OB(n,e)&&OB(e,n))return[e.getReversed()];if(i.containsPosition(e.targetPosition)&&i.containsRange(r,!0))return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Og([i],a);if(r.containsPosition(n.targetPosition)&&r.containsRange(i,!0))return i.start=i.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),i.end=i.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Og([i],a);let u=ps(n.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(u=="prefix"||u=="extension")return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Og([i],a);n.type=="remove"&&e.type!="remove"&&!t.aWasUndone&&!t.forceWeakRemove?o=!0:n.type!="remove"&&e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&(o=!1);let d=[],f=i.getDifference(r);for(let m of f){m.start=m.start._getTransformedByDeletion(e.sourcePosition,e.howMany),m.end=m.end._getTransformedByDeletion(e.sourcePosition,e.howMany);let p=ps(m.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",g=m._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,p);d.push(...g)}let h=i.getIntersection(r);return h!==null&&o&&(h.start=h.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),h.end=h.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),d.length===0?d.push(h):d.length==1?r.start.isBefore(i.start)||r.start.isEqual(i.start)?d.unshift(h):d.push(h):d.splice(1,0,h)),d.length===0?[new So(n.baseVersion)]:Og(d,a)});Ri(Bi,cr,(n,e,t)=>{let i=n.targetPosition.clone();(!n.targetPosition.isEqual(e.insertionPosition)||!e.graveyardPosition||t.abRelation=="moveTargetAfter")&&(i=n.targetPosition._getTransformedBySplitOperation(e));let r=nt._createFromPositionAndShift(n.sourcePosition,n.howMany);if(r.end.isEqual(e.insertionPosition))return e.graveyardPosition||n.howMany++,n.targetPosition=i,[n];if(r.start.hasSameParentAs(e.splitPosition)&&r.containsPosition(e.splitPosition)){let a=new nt(e.splitPosition,r.end);a=a._getTransformedBySplitOperation(e);let l=[new nt(r.start,e.splitPosition),a];return Og(l,i)}n.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(i=e.moveTargetPosition),n.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(i=n.targetPosition);let s=[r._getTransformedBySplitOperation(e)];if(e.graveyardPosition){let a=r.start.isEqual(e.graveyardPosition)||r.containsPosition(e.graveyardPosition);n.howMany>1&&a&&!t.aWasUndone&&s.push(nt._createFromPositionAndShift(e.insertionPosition,1))}return Og(s,i)});Ri(Bi,lo,(n,e,t)=>{let i=nt._createFromPositionAndShift(n.sourcePosition,n.howMany);if(e.deletionPosition.hasSameParentAs(n.sourcePosition)&&i.containsPosition(e.sourcePosition)){if(n.type=="remove"&&!t.forceWeakRemove){if(!t.aWasUndone){let s=[],a=e.graveyardPosition.clone(),l=e.targetPosition._getTransformedByMergeOperation(e);n.howMany>1&&(s.push(new Bi(n.sourcePosition,n.howMany-1,n.targetPosition,0)),a=a._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany-1),l=l._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany-1));let c=e.deletionPosition._getCombined(n.sourcePosition,n.targetPosition),u=new Bi(a,1,c,0),d=u.getMovedRangeStart().path.slice();d.push(0);let f=new kt(u.targetPosition.root,d);l=l._getTransformedByMove(a,c,1);let h=new Bi(l,e.howMany,f,0);return s.push(u),s.push(h),s}}else if(n.howMany==1)return t.bWasUndone?(n.sourcePosition=e.graveyardPosition.clone(),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),[n]):[new So(0)]}let o=nt._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByMergeOperation(e);return n.sourcePosition=o.start,n.howMany=o.end.offset-o.start.offset,n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),[n]});Ri(Il,vs,(n,e)=>(n.position=n.position._getTransformedByInsertOperation(e),[n]));Ri(Il,lo,(n,e)=>n.position.isEqual(e.deletionPosition)?(n.position=e.graveyardPosition.clone(),n.position.stickiness="toNext",[n]):(n.position=n.position._getTransformedByMergeOperation(e),[n]));Ri(Il,Bi,(n,e)=>(n.position=n.position._getTransformedByMoveOperation(e),[n]));Ri(Il,Il,(n,e,t)=>{if(n.position.isEqual(e.position))if(t.aIsStrong)n.oldName=e.newName;else return[new So(0)];return[n]});Ri(Il,cr,(n,e)=>{let t=n.position.path,i=e.splitPosition.getParentPath();if(ps(t,i)=="same"&&!e.graveyardPosition){let r=new Il(n.position.getShiftedBy(1),n.oldName,n.newName,0);return[n,r]}return n.position=n.position._getTransformedBySplitOperation(e),[n]});Ri(um,um,(n,e,t)=>{if(n.root===e.root&&n.key===e.key){if(!t.aIsStrong||n.newValue===e.newValue)return[new So(0)];n.oldValue=e.newValue}return[n]});Ri(Lh,Lh,(n,e)=>n.rootName===e.rootName&&n.isAdd===e.isAdd?[new So(0)]:[n]);Ri(cr,vs,(n,e)=>(n.splitPosition.hasSameParentAs(e.position)&&n.splitPosition.offset<e.position.offset&&(n.howMany+=e.howMany),n.splitPosition=n.splitPosition._getTransformedByInsertOperation(e),n.insertionPosition=n.insertionPosition._getTransformedByInsertOperation(e),[n]));Ri(cr,lo,(n,e,t)=>{if(!n.graveyardPosition&&!t.bWasUndone&&n.splitPosition.hasSameParentAs(e.sourcePosition)){let i=e.graveyardPosition.path.slice();i.push(0);let r=new kt(e.graveyardPosition.root,i),o=cr.getInsertionPosition(new kt(e.graveyardPosition.root,i)),s=new cr(r,0,o,null,0);return n.splitPosition=n.splitPosition._getTransformedByMergeOperation(e),n.insertionPosition=cr.getInsertionPosition(n.splitPosition),n.graveyardPosition=s.insertionPosition.clone(),n.graveyardPosition.stickiness="toNext",[s,n]}return n.splitPosition.hasSameParentAs(e.deletionPosition)&&!n.splitPosition.isAfter(e.deletionPosition)&&n.howMany--,n.splitPosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.splitPosition=n.splitPosition._getTransformedByMergeOperation(e),n.insertionPosition=cr.getInsertionPosition(n.splitPosition),n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(e)),[n]});Ri(cr,Bi,(n,e,t)=>{let i=nt._createFromPositionAndShift(e.sourcePosition,e.howMany);if(n.graveyardPosition){let o=i.start.isEqual(n.graveyardPosition)||i.containsPosition(n.graveyardPosition);if(!t.bWasUndone&&o){let s=n.splitPosition._getTransformedByMoveOperation(e),a=n.graveyardPosition._getTransformedByMoveOperation(e),l=a.path.slice();l.push(0);let c=new kt(a.root,l);return[new Bi(s,n.howMany,c,0)]}n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(e)}let r=n.splitPosition.isEqual(e.targetPosition);if(r&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return n.howMany+=e.howMany,n.splitPosition=n.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),n.insertionPosition=cr.getInsertionPosition(n.splitPosition),[n];if(r&&t.abRelation&&t.abRelation.howMany){let{howMany:o,offset:s}=t.abRelation;return n.howMany+=o,n.splitPosition=n.splitPosition.getShiftedBy(s),[n]}if(n.splitPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(n.splitPosition)){let o=e.howMany-(n.splitPosition.offset-e.sourcePosition.offset);return n.howMany-=o,n.splitPosition.hasSameParentAs(e.targetPosition)&&n.splitPosition.offset<e.targetPosition.offset&&(n.howMany+=e.howMany),n.splitPosition=e.sourcePosition.clone(),n.insertionPosition=cr.getInsertionPosition(n.splitPosition),[n]}return e.sourcePosition.isEqual(e.targetPosition)||(n.splitPosition.hasSameParentAs(e.sourcePosition)&&n.splitPosition.offset<=e.sourcePosition.offset&&(n.howMany-=e.howMany),n.splitPosition.hasSameParentAs(e.targetPosition)&&n.splitPosition.offset<e.targetPosition.offset&&(n.howMany+=e.howMany)),n.splitPosition.stickiness="toNone",n.splitPosition=n.splitPosition._getTransformedByMoveOperation(e),n.splitPosition.stickiness="toNext",n.graveyardPosition?n.insertionPosition=n.insertionPosition._getTransformedByMoveOperation(e):n.insertionPosition=cr.getInsertionPosition(n.splitPosition),[n]});Ri(cr,cr,(n,e,t)=>{if(n.splitPosition.isEqual(e.splitPosition)){if(!n.graveyardPosition&&!e.graveyardPosition)return[new So(0)];if(n.graveyardPosition&&e.graveyardPosition&&n.graveyardPosition.isEqual(e.graveyardPosition))return[new So(0)];if(t.abRelation=="splitBefore")return n.howMany=0,n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(e),[n]}if(n.graveyardPosition&&e.graveyardPosition&&n.graveyardPosition.isEqual(e.graveyardPosition)){let i=n.splitPosition.root.rootName=="$graveyard",r=e.splitPosition.root.rootName=="$graveyard";if(r&&!i||!(i&&!r)&&t.aIsStrong){let l=[];return e.howMany&&l.push(new Bi(e.moveTargetPosition,e.howMany,e.splitPosition,0)),n.howMany&&l.push(new Bi(n.splitPosition,n.howMany,n.moveTargetPosition,0)),l}else return[new So(0)]}if(n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(e)),n.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return n.howMany++,[n];if(e.splitPosition.isEqual(n.insertionPosition)&&t.baRelation=="splitBefore"){let i=e.insertionPosition.path.slice();i.push(0);let r=new kt(e.insertionPosition.root,i),o=new Bi(n.insertionPosition,1,r,0);return[n,o]}return n.splitPosition.hasSameParentAs(e.splitPosition)&&n.splitPosition.offset<e.splitPosition.offset&&(n.howMany-=e.howMany),n.splitPosition=n.splitPosition._getTransformedBySplitOperation(e),n.insertionPosition=cr.getInsertionPosition(n.splitPosition),[n]});function OB(n,e){return n.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function Og(n,e){let t=[];for(let i=0;i<n.length;i++){let r=n[i],o=new Bi(r.start,r.end.offset-r.start.offset,e,0);t.push(o);for(let s=i+1;s<n.length;s++)n[s]=n[s]._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)[0];e=e._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)}return t}var ns=class extends Fi(kt){constructor(e,t,i="toNone"){if(super(e,t,i),!this.root.is("rootElement"))throw new Me("model-liveposition-root-not-rootelement",e);mfe.call(this)}detach(){this.stopListening()}toPosition(){return new kt(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}};ns.prototype.is=function(n){return n==="livePosition"||n==="model:livePosition"||n=="position"||n==="model:position"};function mfe(){this.listenTo(this.root.document.model,"applyOperation",(n,e)=>{let t=e[0];t.isDocumentOperation&&pfe.call(this,t)},{priority:"low"})}function pfe(n){let e=this.getTransformedByOperation(n);if(!this.isEqual(e)){let t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}var Oh=class{operations;isUndoable;isLocal;isUndo;isTyping;constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},vi("batch-constructor-deprecated-string-type"));let{isUndoable:t=!0,isLocal:i=!0,isUndo:r=!1,isTyping:o=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=i,this.isUndo=r,this.isTyping=o}get type(){return vi("batch-type-deprecated"),"default"}get baseVersion(){for(let e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}},OA=class n{static _statesPriority=[void 0,"refresh","rename","move"];_markerCollection;_changesInElement=new Map;_elementsSnapshots=new Map;_elementChildrenSnapshots=new Map;_elementState=new Map;_changedMarkers=new Map;_changedRoots=new Map;_changeCount=0;_cachedChanges=null;_cachedChangesWithGraveyard=null;_refreshedItems=new Set;constructor(e){this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){let t=e;switch(t.type){case"insert":{if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(let i of t.range.getItems({shallow:!0}))this._isInInsertedElement(i.parent)||this._markAttribute(i);break}case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;let i=this._isInInsertedElement(t.sourcePosition.parent),r=this._isInInsertedElement(t.targetPosition.parent);i||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),r||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);let o=nt._createFromPositionAndShift(t.sourcePosition,t.howMany);for(let s of o.getItems({shallow:!0}))this._setElementState(s,"move");break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);let i=nt._createFromPositionAndShift(t.position,1);for(let r of this._markerCollection.getMarkersIntersectingRange(i)){let o=r.getData();this.bufferMarkerChange(r.name,o,o)}this._setElementState(t.position.nodeAfter,"rename");break}case"split":{let i=t.splitPosition.parent;if(!this._isInInsertedElement(i)){this._markRemove(i,t.splitPosition.offset,t.howMany);let r=nt._createFromPositionAndShift(t.splitPosition,t.howMany);for(let o of r.getItems({shallow:!0}))this._setElementState(o,"move")}this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&(this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1),this._setElementState(t.graveyardPosition.nodeAfter,"move"));break}case"merge":{let i=t.sourcePosition.parent;this._isInInsertedElement(i.parent)||this._markRemove(i.parent,i.startOffset,1);let r=t.graveyardPosition.parent;this._markInsert(r,t.graveyardPosition.offset,1),this._setElementState(i,"move");let o=t.targetPosition.parent;if(!this._isInInsertedElement(o)){this._markInsert(o,t.targetPosition.offset,i.maxOffset);let s=nt._createFromPositionAndShift(t.sourcePosition,t.howMany);for(let a of s.getItems({shallow:!0}))this._setElementState(a,"move")}break}case"detachRoot":case"addRoot":{let i=t.affectedSelectable;if(!i._isLoaded||i.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;let i=t.root.rootName;this._bufferRootAttributeChange(i,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,i){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),i.range&&i.range.root.is("rootElement")&&!i.range.root._isLoaded&&(i.range=null);let r=this._changedMarkers.get(e);r?r.newMarkerData=i:(r={newMarkerData:i,oldMarkerData:t},this._changedMarkers.set(e,r)),r.oldMarkerData.range==null&&i.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){let e=[];for(let[t,i]of this._changedMarkers)i.oldMarkerData.range!=null&&e.push({name:t,range:i.oldMarkerData.range});return e}getMarkersToAdd(){let e=[];for(let[t,i]of this._changedMarkers)i.newMarkerData.range!=null&&e.push({name:t,range:i.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(let{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){let i=e.range&&!t.range,r=!e.range&&t.range,o=e.range&&t.range&&!e.range.isEqual(t.range);if(i||r||o)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(let i of this._changesInElement.keys()){let r=this._changesInElement.get(i).sort((u,d)=>u.offset===d.offset?u.type!=d.type?u.type=="remove"?-1:1:0:u.offset<d.offset?-1:1),o=this._elementChildrenSnapshots.get(i),s=NB(i.getChildren()),a=gfe(o.length,r),l=0,c=0;for(let u of a)if(u==="i"){let d=this._getDiffActionForNode(s[l].node,"insert"),f=this._elementsSnapshots.get(s[l].node),h=this._getInsertDiff(i,l,d,s[l],f);t.push(h),l++}else if(u==="r"){let d=this._getDiffActionForNode(o[c].node,"remove"),f=this._getRemoveDiff(i,l,d,o[c]);t.push(f),c++}else if(u==="a"){let d=o[c].attributes,f=s[l].attributes,h;if(s[l].name=="$text")h=new nt(kt._createAt(i,l),kt._createAt(i,l+1));else{let p=i.offsetToIndex(l);h=new nt(kt._createAt(i,l),kt._createAt(i.getChild(p),0))}let m=this._getAttributesDiff(h,d,f);t.push(...m),l++,c++}else l++,c++}t.sort((i,r)=>i.position.root!=r.position.root?i.position.root.rootName<r.position.root.rootName?-1:1:i.position.isEqual(r.position)?i.changeCount-r.changeCount:i.position.isBefore(r.position)?-1:1);for(let i=1,r=0;i<t.length;i++){let o=t[r],s=t[i],a=o.type=="remove"&&s.type=="remove"&&o.name=="$text"&&s.name=="$text"&&o.position.isEqual(s.position),l=o.type=="insert"&&s.type=="insert"&&o.name=="$text"&&s.name=="$text"&&o.position.parent==s.position.parent&&o.position.offset+o.length==s.position.offset,c=o.type=="attribute"&&s.type=="attribute"&&o.position.parent==s.position.parent&&o.range.isFlat&&s.range.isFlat&&o.position.offset+o.length==s.position.offset&&o.attributeKey==s.attributeKey&&o.attributeOldValue==s.attributeOldValue&&o.attributeNewValue==s.attributeNewValue;a||l||c?(o.length++,c&&(o.range.end=o.range.end.getShiftedBy(1)),t[i]=null):r=i}t=t.filter(i=>i);for(let i of t)delete i.changeCount,i.type=="attribute"&&(delete i.position,delete i.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(bfe),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{let t=Be({},e);return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementChildrenSnapshots.clear(),this._elementsSnapshots.clear(),this._elementState.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems.clear(),this._cachedChanges=null}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e),this._setElementState(e,"refresh");let t=nt._createOn(e);for(let i of this._markerCollection.getMarkersIntersectingRange(t)){let r=i.getData();this.bufferMarkerChange(i.name,r,r)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(let t of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,t,null,e.getAttribute(t));for(let t of this._markerCollection)if(t.getRange().root==e){let i=t.getData();this.bufferMarkerChange(t.name,Xt(Be({},i),{range:null}),i)}}}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e)){this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});return}let i=this._changedRoots.get(e);i.state!==void 0?(delete i.state,i.attributes===void 0&&this._changedRoots.delete(e)):i.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,i,r){let o=this._changedRoots.get(e)||{name:e},s=o.attributes||{};if(s[t]){let a=s[t];r===a.oldValue?delete s[t]:a.newValue=r}else s[t]={oldValue:i,newValue:r};Object.entries(s).length===0?(delete o.attributes,o.state===void 0&&this._changedRoots.delete(e)):(o.attributes=s,this._changedRoots.set(e,o))}_markInsert(e,t,i){if(e.root.is("rootElement")&&!e.root._isLoaded)return;let r={type:"insert",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,r)}_markRemove(e,t,i){if(e.root.is("rootElement")&&!e.root._isLoaded)return;let r={type:"remove",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,r),this._removeAllNestedChanges(e,t,i)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;let t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshots(e);let i=this._getChangesForElement(e);this._handleChange(t,i),i.push(t);for(let r=0;r<i.length;r++)i[r].howMany<1&&(i.splice(r,1),r--)}_setElementState(e,t){if(!e.is("element"))return;let i=n._statesPriority.indexOf(this._elementState.get(e));n._statesPriority.indexOf(t)>i&&this._elementState.set(e,t)}_getDiffActionForNode(e,t){if(!e.is("element")||!this._elementsSnapshots.has(e))return t;let i=this._elementState.get(e);return!i||i=="move"?t:i}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshots(e){if(this._elementChildrenSnapshots.has(e))return;let t=NB(e.getChildren());this._elementChildrenSnapshots.set(e,t);for(let i of t)this._elementsSnapshots.set(i.node,i)}_handleChange(e,t){e.nodesToHandle=e.howMany;for(let i of t){let r=e.offset+e.howMany,o=i.offset+i.howMany;if(e.type=="insert"&&(i.type=="insert"&&(e.offset<=i.offset?i.offset+=e.howMany:e.offset<o&&(i.howMany+=e.nodesToHandle,e.nodesToHandle=0)),i.type=="remove"&&e.offset<i.offset&&(i.offset+=e.howMany),i.type=="attribute")){if(e.offset<=i.offset)i.offset+=e.howMany;else if(e.offset<o){let s=i.howMany;i.howMany=e.offset-i.offset,t.unshift({type:"attribute",offset:r,howMany:s-i.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(i.type=="insert"){if(r<=i.offset)i.offset-=e.howMany;else if(r<=o)if(e.offset<i.offset){let s=r-i.offset;i.offset=e.offset,i.howMany-=s,e.nodesToHandle-=s}else i.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=i.offset)e.nodesToHandle-=i.howMany,i.howMany=0;else if(e.offset<o){let s=o-e.offset;i.howMany-=s,e.nodesToHandle-=s}}if(i.type=="remove"&&(r<=i.offset?i.offset-=e.howMany:e.offset<i.offset&&(e.nodesToHandle+=i.howMany,i.howMany=0)),i.type=="attribute"){if(r<=i.offset)i.offset-=e.howMany;else if(e.offset<i.offset){let s=r-i.offset;i.offset=e.offset,i.howMany-=s}else if(e.offset<o)if(r<=o){let s=i.howMany;i.howMany=e.offset-i.offset;let a=s-i.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:a,count:this._changeCount++})}else i.howMany-=o-e.offset}}if(e.type=="attribute"){if(i.type=="insert")if(e.offset<i.offset&&r>i.offset){if(r>o){let s={type:"attribute",offset:o,howMany:r-o,count:this._changeCount++};this._handleChange(s,t),t.push(s)}e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=i.offset&&e.offset<o&&(r>o?(e.nodesToHandle=r-o,e.offset=o):e.nodesToHandle=0);if(i.type=="remove"&&e.offset<i.offset&&r>i.offset){let s={type:"attribute",offset:i.offset,howMany:r-i.offset,count:this._changeCount++};this._handleChange(s,t),t.push(s),e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}i.type=="attribute"&&(e.offset>=i.offset&&r<=o?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=i.offset&&r>=o&&(i.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,i,r,o){let s={type:"insert",position:kt._createAt(e,t),name:r.name,attributes:new Map(r.attributes),length:1,changeCount:this._changeCount++,action:i};return i!="insert"&&o&&(s.before={name:o.name,attributes:new Map(o.attributes)}),s}_getRemoveDiff(e,t,i,r){return{type:"remove",action:i,position:kt._createAt(e,t),name:r.name,attributes:new Map(r.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,i){let r=[];i=new Map(i);for(let[o,s]of t){let a=i.has(o)?i.get(o):null;a!==s&&r.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:o,attributeOldValue:s,attributeNewValue:a,changeCount:this._changeCount++}),i.delete(o)}for(let[o,s]of i)r.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:o,attributeOldValue:null,attributeNewValue:s,changeCount:this._changeCount++});return r}_isInInsertedElement(e){let t=e.parent;if(!t)return!1;let i=this._changesInElement.get(t),r=e.startOffset;if(i){for(let o of i)if(o.type=="insert"&&r>=o.offset&&r<o.offset+o.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,i){let r=new nt(kt._createAt(e,t),kt._createAt(e,t+i));for(let o of r.getItems({shallow:!0}))o.is("element")&&(this._changesInElement.delete(o),this._removeAllNestedChanges(o,0,o.maxOffset))}};function RB(n){return{node:n,name:n.is("$text")?"$text":n.name,attributes:new Map(n.getAttributes())}}function NB(n){let e=[];for(let t of n)if(t.is("$text"))for(let i=0;i<t.data.length;++i)e.push(RB(t));else e.push(RB(t));return e}function gfe(n,e){let t=[],i=0,r=0;for(let o of e){if(o.offset>i){for(let s=0;s<o.offset-i;s++)t.push("e");r+=o.offset-i}if(o.type=="insert"){for(let s=0;s<o.howMany;s++)t.push("i");i=o.offset+o.howMany}else if(o.type=="remove"){for(let s=0;s<o.howMany;s++)t.push("r");i=o.offset,r+=o.howMany}else{if(o.howMany>1500)for(let s=0;s<o.howMany;s++)t.push("a");else t.push(..."a".repeat(o.howMany).split(""));i=o.offset+o.howMany,r+=o.howMany}}if(r<n)for(let o=0;o<n-r-i;o++)t.push("e");return t}function bfe(n){let e="position"in n&&n.position.root.rootName=="$graveyard",t="range"in n&&n.range.root.rootName=="$graveyard";return!e&&!t}var RA=class{_operations=[];_undoPairs=new Map;_undoneOperations=new Set;_baseVersionToOperationIndex=new Map;_version=0;_gaps=new Map;get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new Me("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];let i=this._operations[0];e===void 0&&(e=i.baseVersion);let r=t-1;for(let[a,l]of this._gaps)e>a&&e<l&&(e=l),r>a&&r<l&&(r=a-1);if(r<i.baseVersion||e>this.lastOperation.baseVersion)return[];let o=this._baseVersionToOperationIndex.get(e);o===void 0&&(o=0);let s=this._baseVersionToOperationIndex.get(r);return s===void 0&&(s=this._operations.length-1),this._operations.slice(o,s+1)}getOperation(e){let t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}},dm=class extends lr{rootName;_document;_isAttached=!0;_isLoaded=!0;constructor(e,t,i="main"){super(t),this._document=e,this.rootName=i}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}};dm.prototype.is=function(n,e){return e?e===this.name&&(n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"):n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"||n==="node"||n==="model:node"};var LB="$graveyard",NA=class extends Fi(){model;history;selection;roots;differ;isReadOnly;_postFixers;_hasSelectionChangedFromTheLastChangeBlock;constructor(e){super(),this.model=e,this.history=new RA,this.selection=new Xs(this),this.roots=new gr({idProperty:"rootName"}),this.differ=new OA(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",LB),this.listenTo(e,"applyOperation",(t,i)=>{let r=i[0];r.isDocumentOperation&&this.differ.bufferOperation(r)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,i)=>{let r=i[0];r.isDocumentOperation&&this.history.addOperation(r)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,i,r,o,s)=>{let a=Xt(Be({},i.getData()),{range:o});this.differ.bufferMarkerChange(i.name,s,a),r===null&&i.on("change",(l,c)=>{let u=i.getData();this.differ.bufferMarkerChange(i.name,Xt(Be({},u),{range:c}),u)})}),this.registerPostFixer(t=>{let i=!1;for(let r of this.roots)!r.isAttached()&&!r.isEmpty&&(t.remove(t.createRangeIn(r)),i=!0);for(let r of this.model.markers)r.getRange().root.isAttached()||(t.removeMarker(r),i=!0);return i})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(LB)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new Me("model-document-createroot-name-exists",this,{name:t});let i=new dm(this,e,t);return this.roots.add(i),i}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(t=>t.rootName)}getRoots(e=!1){return this.roots.filter(t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){let e=j_(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){let e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){let e=this._getDefaultRoot(),t=this.model,i=t.schema,r=t.createPositionFromPath(e,[0]);return i.getNearestSelectionRange(r)||t.createRange(r)}_validateSelectionRange(e){return FB(e.start)&&FB(e.end)}_callPostFixers(e){let t=!1;do for(let i of this._postFixers)if(this.selection.refresh(),t=i(e),t)break;while(t)}};function FB(n){let e=n.textNode;if(e){let t=e.data,i=n.offset-e.startOffset;return!G1(t,i)&&!K1(t,i)}return!0}var LA=class extends Fi(){_markers=new Map;[Symbol.iterator](){return this._markers.values()}has(e){let t=e instanceof Rh?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,i=!1,r=!1){let o=e instanceof Rh?e.name:e;if(o.includes(","))throw new Me("markercollection-incorrect-marker-name",this);let s=this._markers.get(o);if(s){let c=s.getData(),u=s.getRange(),d=!1;return u.isEqual(t)||(s._attachLiveRange(bs.fromRange(t)),d=!0),i!=s.managedUsingOperations&&(s._managedUsingOperations=i,d=!0),typeof r=="boolean"&&r!=s.affectsData&&(s._affectsData=r,d=!0),d&&this.fire(`update:${o}`,s,u,t,c),s}let a=bs.fromRange(t),l=new Rh(o,a,i,r);return this._markers.set(o,l),this.fire(`update:${o}`,l,null,t,Xt(Be({},l.getData()),{range:null})),l}_remove(e){let t=e instanceof Rh?e.name:e,i=this._markers.get(t);return i?(this._markers.delete(t),this.fire(`update:${t}`,i,i.getRange(),null,i.getData()),this._destroyMarker(i),!0):!1}_refresh(e){let t=e instanceof Rh?e.name:e,i=this._markers.get(t);if(!i)throw new Me("markercollection-refresh-marker-not-exists",this);let r=i.getRange();this.fire(`update:${t}`,i,r,r,i.getData())}*getMarkersAtPosition(e){for(let t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(let t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(let e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(let t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}},Rh=class extends Fi(ou){name;_managedUsingOperations;_affectsData;_liveRange;constructor(e,t,i,r){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=i,this._affectsData=r}get managedUsingOperations(){if(!this._liveRange)throw new Me("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new Me("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new Me("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new Me("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new Me("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}};Rh.prototype.is=function(n){return n==="marker"||n==="model:marker"};var FA=class extends Js{sourcePosition;howMany;constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){let e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new Me("detach-operation-on-document-node",this)}_execute(){CV(nt._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}},oc=class n extends ou{markers=new Map;_children=new sm;constructor(e){super(),e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(let i of e)t=t.getChild(t.offsetToIndex(i));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){let e=[];for(let t of this._children)e.push(t.toJSON());return e}static fromJSON(e){let t=[];for(let i of e)i.name?t.push(lr.fromJSON(i)):t.push(br.fromJSON(i));return new n(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){let i=vfe(t);for(let r of i)r.parent!==null&&r._remove(),r.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,t=1){let i=this._children._removeNodes(e,t);for(let r of i)r.parent=null;return i}};oc.prototype.is=function(n){return n==="documentFragment"||n==="model:documentFragment"};function vfe(n){return typeof n=="string"?[new br(n)]:(Zs(n)||(n=[n]),Array.from(n).map(e=>typeof e=="string"?new br(e):e instanceof ja?new br(e.data,e.getAttributes()):e))}var BA=class{model;batch;constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new br(e,t)}createElement(e,t){return new lr(e,t)}createDocumentFragment(){return new oc}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,i=0){if(this._assertWriterUsedCorrectly(),e instanceof br&&e.data=="")return;let r=kt._createAt(t,i);if(e.parent)if(jB(e.root,r.root)){this.move(nt._createOn(e),r);return}else{if(e.root.document)throw new Me("model-writer-insert-forbidden-move",this);this.remove(e)}let o=r.root.document?r.root.document.version:null,s=new vs(r,e,o);if(e instanceof br&&(s.shouldReceiveAttributes=!0),this.batch.addOperation(s),this.model.applyOperation(s),e instanceof oc)for(let[a,l]of e.markers){let c=kt._createAt(l.root,0),d={range:new nt(l.start._getCombined(c,r),l.end._getCombined(c,r)),usingOperation:!0,affectsData:!0};this.model.markers.has(a)?this.updateMarker(a,d):this.addMarker(a,d)}}insertText(e,t,i,r){t instanceof oc||t instanceof lr||t instanceof kt?this.insert(this.createText(e),t,i):this.insert(this.createText(e,t),i,r)}insertElement(e,t,i,r){t instanceof oc||t instanceof lr||t instanceof kt?this.insert(this.createElement(e),t,i):this.insert(this.createElement(e,t),i,r)}append(e,t){this.insert(e,t,"end")}appendText(e,t,i){t instanceof oc||t instanceof lr?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),i,"end")}appendElement(e,t,i){t instanceof oc||t instanceof lr?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),i,"end")}setAttribute(e,t,i){if(this._assertWriterUsedCorrectly(),i instanceof nt){let r=i.getMinimalFlatRanges();for(let o of r)BB(this,e,t,o)}else VB(this,e,t,i)}setAttributes(e,t){for(let[i,r]of Ea(e))this.setAttribute(i,r,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof nt){let i=t.getMinimalFlatRanges();for(let r of i)BB(this,e,null,r)}else VB(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();let t=i=>{for(let r of i.getAttributeKeys())this.removeAttribute(r,i)};if(!(e instanceof nt))t(e);else for(let i of e.getItems())t(i)}move(e,t,i){if(this._assertWriterUsedCorrectly(),!(e instanceof nt))throw new Me("writer-move-invalid-range",this);if(!e.isFlat)throw new Me("writer-move-range-not-flat",this);let r=kt._createAt(t,i);if(r.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!jB(e.root,r.root))throw new Me("writer-move-different-document",this);let o=e.root.document?e.root.document.version:null,s=new Bi(e.start,e.end.offset-e.start.offset,r,o);this.batch.addOperation(s),this.model.applyOperation(s)}remove(e){this._assertWriterUsedCorrectly();let i=(e instanceof nt?e:nt._createOn(e)).getMinimalFlatRanges().reverse();for(let r of i)this._addOperationForAffectedMarkers("move",r),wfe(r.start,r.end.offset-r.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();let t=e.nodeBefore,i=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof lr))throw new Me("writer-merge-no-element-before",this);if(!(i instanceof lr))throw new Me("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,i){return this.model.createPositionFromPath(e,t,i)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){let t=e.nodeBefore,i=e.nodeAfter;this.move(nt._createIn(i),kt._createAt(t,"end")),this.remove(i)}_merge(e){let t=kt._createAt(e.nodeBefore,"end"),i=kt._createAt(e.nodeAfter,0),r=e.root.document.graveyard,o=new kt(r,[0]),s=e.root.document.version,a=new lo(i,e.nodeAfter.maxOffset,t,o,s);this.batch.addOperation(a),this.model.applyOperation(a)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof lr))throw new Me("writer-rename-not-element-instance",this);let i=e.root.document?e.root.document.version:null,r=new Il(kt._createBefore(e),e.name,t,i);this.batch.addOperation(r),this.model.applyOperation(r)}split(e,t){this._assertWriterUsedCorrectly();let i=e.parent;if(!i.parent)throw new Me("writer-split-element-no-parent",this);if(t||(t=i.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new Me("writer-split-invalid-limit-element",this);let r,o;do{let s=i.root.document?i.root.document.version:null,a=i.maxOffset-e.offset,l=cr.getInsertionPosition(e),c=new cr(e,a,l,null,s);this.batch.addOperation(c),this.model.applyOperation(c),!r&&!o&&(r=i,o=e.parent.nextSibling),e=this.createPositionAfter(e.parent),i=e.parent}while(i!==t);return{position:e,range:new nt(kt._createAt(r,"end"),kt._createAt(o,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new Me("writer-wrap-range-not-flat",this);let i=t instanceof lr?t:new lr(t);if(i.childCount>0)throw new Me("writer-wrap-element-not-empty",this);if(i.parent!==null)throw new Me("writer-wrap-element-attached",this);this.insert(i,e.start);let r=new nt(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(r,kt._createAt(i,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new Me("writer-unwrap-element-no-parent",this);this.move(nt._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new Me("writer-addmarker-no-usingoperation",this);let i=t.usingOperation,r=t.range,o=t.affectsData===void 0?!1:t.affectsData;if(this.model.markers.has(e))throw new Me("writer-addmarker-marker-exists",this);if(!r)throw new Me("writer-addmarker-no-range",this);return i?(J1(this,e,null,r,o),this.model.markers.get(e)):this.model.markers._set(e,r,i,o)}updateMarker(e,t){this._assertWriterUsedCorrectly();let i=typeof e=="string"?e:e.name,r=this.model.markers.get(i);if(!r)throw new Me("writer-updatemarker-marker-not-exists",this);if(!t){vi("writer-updatemarker-reconvert-using-editingcontroller",{markerName:i}),this.model.markers._refresh(r);return}let o=typeof t.usingOperation=="boolean",s=typeof t.affectsData=="boolean",a=s?t.affectsData:r.affectsData;if(!o&&!t.range&&!s)throw new Me("writer-updatemarker-wrong-options",this);let l=r.getRange(),c=t.range?t.range:l;if(o&&t.usingOperation!==r.managedUsingOperations){t.usingOperation?J1(this,i,null,c,a):(J1(this,i,l,null,a),this.model.markers._set(i,c,void 0,a));return}r.managedUsingOperations?J1(this,i,l,c,a):this.model.markers._set(i,c,void 0,a)}removeMarker(e){this._assertWriterUsedCorrectly();let t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new Me("writer-removemarker-no-marker",this);let i=this.model.markers.get(t);if(!i.managedUsingOperations){this.model.markers._remove(t);return}let r=i.getRange();J1(this,t,r,null,i.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();let i=this.model.document.getRoot(e);if(i&&i.isAttached())throw new Me("writer-addroot-root-exists",this);let r=this.model.document,o=new Lh(e,t,!0,r,r.version);return this.batch.addOperation(o),this.model.applyOperation(o),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();let t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new Me("writer-detachroot-no-root",this);for(let o of this.model.markers)o.getRange().root===t&&this.removeMarker(o);for(let o of t.getAttributeKeys())this.removeAttribute(o,t);this.remove(this.createRangeIn(t));let i=this.model.document,r=new Lh(t.rootName,t.name,!1,i,i.version);this.batch.addOperation(r),this.model.applyOperation(r)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(let[i,r]of Ea(e))this._setSelectionAttribute(i,r)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(let t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){let i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){let r=Xs._getStoreAttributeKey(e);this.setAttribute(r,t,i.anchor.parent)}i._setAttribute(e,t)}_removeSelectionAttribute(e){let t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){let i=Xs._getStoreAttributeKey(e);this.removeAttribute(i,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new Me("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(let i of this.model.markers){if(!i.managedUsingOperations)continue;let r=i.getRange(),o=!1;if(e==="move"){let s=t;o=s.containsPosition(r.start)||s.start.isEqual(r.start)||s.containsPosition(r.end)||s.end.isEqual(r.end)}else{let s=t,a=s.nodeBefore,l=s.nodeAfter,c=r.start.parent==a&&r.start.isAtEnd,u=r.end.parent==l&&r.end.offset==0,d=r.end.nodeAfter==l,f=r.start.nodeAfter==l;o=c||u||d||f}o&&this.updateMarker(i.name,{range:r})}}};function BB(n,e,t,i){let r=n.model,o=r.document,s=i.start,a,l,c;for(let d of i.getWalker({shallow:!0}))c=d.item.getAttribute(e),a&&l!=c&&(l!=t&&u(),s=a),a=d.nextPosition,l=c;a instanceof kt&&a!=s&&l!=t&&u();function u(){let d=new nt(s,a),f=d.root.document?o.version:null,h=new Lo(d,e,l,t,f);n.batch.addOperation(h),r.applyOperation(h)}}function VB(n,e,t,i){let r=n.model,o=r.document,s=i.getAttribute(e),a,l;if(s!=t){if(i.root===i){let u=i.document?o.version:null;l=new um(i,e,s,t,u)}else{a=new nt(kt._createBefore(i),n.createPositionAfter(i));let u=a.root.document?o.version:null;l=new Lo(a,e,s,t,u)}n.batch.addOperation(l),r.applyOperation(l)}}function J1(n,e,t,i,r){let o=n.model,s=o.document,a=new Tl(e,t,i,o.markers,!!r,s.version);n.batch.addOperation(a),o.applyOperation(a)}function wfe(n,e,t,i){let r;if(n.root.document){let o=i.document,s=new kt(o.graveyard,[0]);r=new Bi(n,e,s,o.version)}else r=new FA(n,e);t.addOperation(r),i.applyOperation(r)}function jB(n,e){return n===e||n instanceof dm&&e instanceof dm}function yfe(n,e,t={}){if(e.isCollapsed)return;let i=e.getFirstRange();if(i.root.rootName=="$graveyard")return;let r=n.schema;n.change(o=>{if(!t.doNotResetEntireContent&&Ife(r,e)){Tfe(o,e);return}let s={};if(!t.doNotAutoparagraph){let c=e.getSelectedElement();c&&Object.assign(s,r.getAttributesWithProperty(c,"copyOnReplace",!0))}let[a,l]=_fe(i);a.isTouching(l)||o.remove(o.createRange(a,l)),t.leaveUnmerged||(Cfe(o,a,l),r.removeDisallowedAttributes(a.parent.getChildren(),o)),PV(o,e,a),!t.doNotAutoparagraph&&Sfe(r,a)&&MV(o,a,e,s),a.detach(),l.detach()})}function _fe(n){let e=n.root.document.model,t=n.start,i=n.end;if(e.hasContent(n,{ignoreMarkers:!0})){let r=xfe(i);if(r&&i.isTouching(e.createPositionAt(r,0))){let o=e.createSelection(n);e.modifySelection(o,{direction:"backward"});let s=o.getLastPosition(),a=e.createRange(s,i);e.hasContent(a,{ignoreMarkers:!0})||(i=s)}}return[ns.fromPosition(t,"toPrevious"),ns.fromPosition(i,"toNext")]}function xfe(n){let e=n.parent,t=e.root.document.model.schema,i=e.getAncestors({parentFirst:!0,includeSelf:!0});for(let r of i){if(t.isLimit(r))return null;if(t.isBlock(r))return r}}function Cfe(n,e,t){let i=n.model;if(!YA(n.model.schema,e,t))return;let[r,o]=Efe(e,t);!r||!o||(!i.hasContent(r,{ignoreMarkers:!0})&&i.hasContent(o,{ignoreMarkers:!0})?IV(n,e,t,r.parent):TV(n,e,t,r.parent))}function TV(n,e,t,i){let r=e.parent,o=t.parent;if(!(r==i||o==i)){for(e=n.createPositionAfter(r),t=n.createPositionBefore(o),t.isEqual(e)||n.insert(o,e),n.merge(e);t.parent.isEmpty;){let s=t.parent;t=n.createPositionBefore(s),n.remove(s)}YA(n.model.schema,e,t)&&TV(n,e,t,i)}}function IV(n,e,t,i){let r=e.parent,o=t.parent;if(!(r==i||o==i)){for(e=n.createPositionAfter(r),t=n.createPositionBefore(o),t.isEqual(e)||n.insert(r,t);e.parent.isEmpty;){let s=e.parent;e=n.createPositionBefore(s),n.remove(s)}t=n.createPositionBefore(o),kfe(n,t),YA(n.model.schema,e,t)&&IV(n,e,t,i)}}function kfe(n,e){let t=e.nodeBefore,i=e.nodeAfter;t.name!=i.name&&n.rename(t,i.name),n.clearAttributes(t),n.setAttributes(Object.fromEntries(i.getAttributes()),t),n.merge(e)}function YA(n,e,t){let i=e.parent,r=t.parent;return i==r||n.isLimit(i)||n.isLimit(r)?!1:Afe(e,t,n)}function Efe(n,e){let t=n.getAncestors(),i=e.getAncestors(),r=0;for(;t[r]&&t[r]==i[r];)r++;return[t[r],i[r]]}function Sfe(n,e){let t=n.checkChild(e,"$text"),i=n.checkChild(e,"paragraph");return!t&&i}function Afe(n,e,t){let i=new nt(n,e);for(let r of i.getWalker())if(t.isLimit(r.item))return!1;return!0}function MV(n,e,t,i={}){let r=n.createElement("paragraph");n.model.schema.setAllowedAttributes(r,i,n),n.insert(r,e),PV(n,t,n.createPositionAt(r,0))}function Tfe(n,e){let t=n.model.schema.getLimitElement(e);n.remove(n.createRangeIn(t)),MV(n,n.createPositionAt(t,0),e)}function Ife(n,e){let t=n.getLimitElement(e);if(!e.containsEntireContent(t))return!1;let i=e.getFirstRange();return i.start.parent==i.end.parent?!1:n.checkChild(t,"paragraph")}function PV(n,e,t){e instanceof Xs?n.setSelection(t):e.setTo(t)}function Mfe(n,e){return n.change(t=>{let i=t.createDocumentFragment(),r=e.getFirstRange();if(!r||r.isCollapsed)return i;let o=r.start.root,s=r.start.getCommonPath(r.end),a=o.getNodeByPath(s),l;r.start.parent==r.end.parent?l=r:l=t.createRange(t.createPositionAt(a,r.start.path[s.length]),t.createPositionAt(a,r.end.path[s.length]+1));let c=l.end.offset-l.start.offset;for(let u of l.getItems({shallow:!0}))u.is("$textProxy")?t.appendText(u.data,u.getAttributes(),i):t.append(t.cloneElement(u,!0),i);if(l!=r){let u=r._getTransformedByMove(l.start,t.createPositionAt(i,0),c)[0],d=t.createRange(t.createPositionAt(i,0),u.start),f=t.createRange(u.end,t.createPositionAt(i,"end"));zB(f,t),zB(d,t)}return i})}function zB(n,e){let t=[];Array.from(n.getItems({direction:"backward"})).map(i=>e.createRangeOn(i)).filter(i=>(i.start.isAfter(n.start)||i.start.isEqual(n.start))&&(i.end.isBefore(n.end)||i.end.isEqual(n.end))).forEach(i=>{t.push(i.start.parent),e.remove(i)}),t.forEach(i=>{let r=i;for(;r.parent&&r.isEmpty;){let o=e.createRangeOn(r);r=r.parent,e.remove(o)}})}function Pfe(n,e,t){return n.change(i=>{let r=t||n.document.selection;r.isCollapsed||n.deleteContent(r,{doNotAutoparagraph:!0});let o=new VA(n,i,r.anchor),s=[],a;if(e.is("documentFragment")){if(e.markers.size){let u=[];for(let[d,f]of e.markers){let{start:h,end:m}=f,p=h.isEqual(m);u.push({position:h,name:d,isCollapsed:p},{position:m,name:d,isCollapsed:p})}u.sort(({position:d},{position:f})=>d.isBefore(f)?1:-1);for(let{position:d,name:f,isCollapsed:h}of u){let m=null,p=null,g=d.parent===e&&d.isAtStart,v=d.parent===e&&d.isAtEnd;!g&&!v?(m=i.createElement("$marker"),i.insert(m,d)):h&&(p=g?"start":"end"),s.push({name:f,element:m,collapsed:p})}}a=e.getChildren()}else a=[e];o.handleNodes(a);let l=o.getSelectionRange();if(e.is("documentFragment")&&s.length){let u=l?bs.fromRange(l):null,d={};for(let f=s.length-1;f>=0;f--){let{name:h,element:m,collapsed:p}=s[f],g=!d[h];if(g&&(d[h]=[]),m){let v=i.createPositionAt(m,"before");d[h].push(v),i.remove(m)}else{let v=o.getAffectedRange();if(!v){p&&d[h].push(o.position);continue}p?d[h].push(v[p]):d[h].push(g?v.start:v.end)}}for(let[f,[h,m]]of Object.entries(d))h&&m&&h.root===m.root&&h.root.document&&!i.model.markers.has(f)&&i.addMarker(f,{usingOperation:!0,affectsData:!0,range:new nt(h,m)});u&&(l=u.toRange(),u.detach())}l&&(r instanceof Xs?i.setSelection(l):r.setTo(l));let c=o.getAffectedRange()||n.createRange(r.anchor);return o.destroy(),c})}var VA=class{model;writer;position;canMergeWith;schema;_documentFragment;_documentFragmentPosition;_firstNode=null;_lastNode=null;_lastAutoParagraph=null;_filterAttributesOf=[];_affectedStart=null;_affectedEnd=null;_nodeToSelect=null;constructor(e,t,i){this.model=e,this.writer=t,this.position=i,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(let t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){let t=this.writer.createPositionAfter(this._lastNode),i=this.writer.createPositionAfter(e);if(i.isAfter(t)){this._lastNode=e;if(this.position.parent!=e||!this.position.isAtEnd)throw new Me("insertcontent-invalid-insertion-position",this);this.position=i,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?nt._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new nt(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(!this._checkAndSplitToAllowedPosition(e)){this.schema.isObject(e)||this._handleDisallowedNode(e);return}this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;let e=ns.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleDisallowedNode(e){e.is("element")&&this.handleNodes(e.getChildren())}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new Me("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=ns.fromPosition(e,"toPrevious")),(!this._affectedEnd||this._affectedEnd.isBefore(e))&&(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=ns.fromPosition(e,"toNext"))}_mergeOnLeft(){let e=this._firstNode;if(!(e instanceof lr)||!this._canMergeLeft(e))return;let t=ns._createBefore(e);t.stickiness="toNext";let i=ns.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=ns._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=ns._createAt(t.nodeBefore,"end","toNext")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){let e=this._lastNode;if(!(e instanceof lr)||!this._canMergeRight(e))return;let t=ns._createAfter(e);t.stickiness="toNext";if(!this.position.isEqual(t))throw new Me("insertcontent-invalid-insertion-position",this);this.position=kt._createAt(t.nodeBefore,"end");let i=ns.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=ns._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=ns._createAt(t.nodeBefore,0,"toPrevious")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){let t=e.previousSibling;return t instanceof lr&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){let t=e.nextSibling;return t instanceof lr&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_insertAutoParagraph(){this._insertPartialFragment();let e=this.writer.createElement("paragraph");this.writer.insert(e,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=e,this.position=this.writer.createPositionAt(e,0)}_checkAndSplitToAllowedPosition(e){let t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){let i=this.position.parent;this.position=this.writer.createPositionBefore(i),i.isEmpty&&i.parent===t&&this.writer.remove(i)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{let i=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=i,this.canMergeWith.add(this.position.nodeAfter)}return this.schema.checkChild(this.position.parent,e)||this._insertAutoParagraph(),!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)||this.schema.checkChild(e,"paragraph")&&this.schema.checkChild("paragraph",t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}};function Dfe(n,e,t,i={}){if(!n.schema.isObject(e))throw new Me("insertobject-element-not-an-object",n,{object:e});let r=t||n.document.selection,o=r;i.findOptimalPosition&&n.schema.isBlock(e)&&(o=n.createSelection(n.schema.findOptimalInsertionRange(r,i.findOptimalPosition)));let s=Ar(r.getSelectedBlocks()),a={};return s&&Object.assign(a,n.schema.getAttributesWithProperty(s,"copyOnReplace",!0)),n.change(l=>{o.isCollapsed||n.deleteContent(o,{doNotAutoparagraph:!0});let c=e,u=o.anchor.parent;!n.schema.checkChild(u,e)&&n.schema.checkChild(u,"paragraph")&&n.schema.checkChild("paragraph",e)&&(c=l.createElement("paragraph"),l.insert(e,c)),n.schema.setAllowedAttributes(c,a,l);let d=n.insertContent(c,o);return d.isCollapsed||i.setSelection&&Ofe(l,e,i.setSelection,a),d})}function Ofe(n,e,t,i){let r=n.model;if(t=="on"){n.setSelection(e,"on");return}if(t!="after")throw new Me("insertobject-invalid-place-parameter-value",r);let o=e.nextSibling;if(r.schema.isInline(e)){n.setSelection(e,"after");return}!(o&&r.schema.checkChild(o,"$text"))&&r.schema.checkChild(e.parent,"paragraph")&&(o=n.createElement("paragraph"),r.schema.setAllowedAttributes(o,i,n),r.insertContent(o,n.createPositionAfter(e))),o&&n.setSelection(o,0)}var Rfe=' ,.?!:;"-()';function Nfe(n,e,t={}){let i=n.schema,r=t.direction!="backward",o=t.unit?t.unit:"character",s=!!t.treatEmojiAsSingleUnit,a=e.focus,l=new za({boundaries:Vfe(a,r),singleCharacters:!0,direction:r?"forward":"backward"}),c={walker:l,schema:i,isForward:r,unit:o,treatEmojiAsSingleUnit:s},u;for(;u=l.next();){if(u.done)return;let d=Lfe(c,u.value);if(d){e instanceof Xs?n.change(f=>{f.setSelectionFocus(d)}):e.setFocus(d);return}}}function Lfe(n,e){let{isForward:t,walker:i,unit:r,schema:o,treatEmojiAsSingleUnit:s}=n,{type:a,item:l,nextPosition:c}=e;if(a=="text")return n.unit==="word"?Bfe(i,t):Ffe(i,r,s);if(a==(t?"elementStart":"elementEnd")){if(o.isSelectable(l))return kt._createAt(l,t?"after":"before");if(o.checkChild(c,"$text"))return c}else{if(o.isLimit(l)){i.skip(()=>!0);return}if(o.checkChild(c,"$text"))return c}}function Ffe(n,e,t){let i=n.position.textNode;if(i){let r=i.data,o=n.position.offset-i.startOffset;for(;G1(r,o)||e=="character"&&K1(r,o)||t&&ix(r,o);)n.next(),o=n.position.offset-i.startOffset}return n.position}function Bfe(n,e){let t=n.position.textNode;for(t||(t=e?n.position.nodeAfter:n.position.nodeBefore);t&&t.is("$text");){let i=n.position.offset-t.startOffset;if(zfe(t,i,e))t=e?n.position.nodeAfter:n.position.nodeBefore;else{if(jfe(t.data,i,e))break;n.next()}}return n.position}function Vfe(n,e){let t=n.root,i=kt._createAt(t,e?"end":0);return e?new nt(n,i):new nt(i,n)}function jfe(n,e,t){let i=e+(t?0:-1);return Rfe.includes(n.charAt(i))}function zfe(n,e,t){return e===(t?n.offsetSize:0)}var Fh=class extends Oi(){markers;document;schema;_pendingChanges;_currentWriter;constructor(){super(),this.markers=new LA,this.document=new NA(this),this.schema=new TA,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck(()=>!0,"$marker"),Bhe(this),this.document.registerPostFixer(gV),this.on("insertContent",(e,[t,i])=>{e.return=Pfe(this,t,i)}),this.on("insertObject",(e,[t,i,r])=>{e.return=Dfe(this,t,i,r)}),this.on("canEditAt",e=>{let t=!this.document.isReadOnly;e.return=t,t||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Oh,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){Me.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new Oh):e instanceof Oh||(e=new Oh(e)):e=new Oh,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(i){Me.rethrowUnexpectedError(i,this)}}applyOperation(e){e._execute()}insertContent(e,t,i,...r){let o=aA(t,i);return this.fire("insertContent",[e,o,i,...r])}insertObject(e,t,i,r,...o){let s=aA(t,i);return this.fire("insertObject",[e,s,r,r,...o])}deleteContent(e,t){yfe(this,e,t)}modifySelection(e,t){Nfe(this,e,t)}getSelectedContent(e){return Mfe(this,e)}hasContent(e,t={}){let i=e instanceof nt?e:nt._createIn(e);if(i.isCollapsed)return!1;let{ignoreWhitespaces:r=!1,ignoreMarkers:o=!1}=t;if(!o){for(let s of this.markers.getMarkersIntersectingRange(i))if(s.affectsData)return!0}for(let s of i.getItems())if(this.schema.isContent(s))if(s.is("$textProxy"))if(r){if(s.data.search(/\S/)!==-1)return!0}else return!0;else return!0;return!1}canEditAt(e){let t=aA(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,i){return new kt(e,t,i)}createPositionAt(e,t){return kt._createAt(e,t)}createPositionAfter(e){return kt._createAfter(e)}createPositionBefore(e){return kt._createBefore(e)}createRange(e,t){return new nt(e,t)}createRangeIn(e){return nt._createIn(e)}createRangeOn(e){return nt._createOn(e)}createSelection(...e){return new is(...e)}createBatch(e){return new Oh(e)}createOperationFromJSON(e){return MA.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){let e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){let t=this._pendingChanges[0].batch;this._currentWriter=new BA(this,t);let i=this._pendingChanges[0].callback(this._currentWriter);e.push(i),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}};function aA(n,e){if(n)return n instanceof is||n instanceof Xs?n:n instanceof mm?e||e===0?new is(n,e):n.is("rootElement")?new is(n,"in"):new is(n,"on"):new is(n)}var bx=class extends Ua{domEventType="click";onDomEvent(e){this.fire(e.type,e)}},Bh=class extends Ua{domEventType=["mousedown","mouseup","mouseover","mouseout"];onDomEvent(e){this.fire(e.type,e)}};var Ufe=/\w+\((?:[^()]|\([^()]*\))*\)|\S+/gi;function Hfe(n=""){if(n==="")return{top:void 0,right:void 0,bottom:void 0,left:void 0};let e=Gfe(n),t=e[0],i=e[2]||t,r=e[1]||t,o=e[3]||r;return{top:t,bottom:i,right:r,left:o}}function Wfe(n){return e=>{let{top:t,right:i,bottom:r,left:o}=e,s=[];return[t,i,o,r].every(a=>!!a)?s.push([n,$fe(e)]):(t&&s.push([n+"-top",t]),i&&s.push([n+"-right",i]),r&&s.push([n+"-bottom",r]),o&&s.push([n+"-left",o])),s}}function $fe({top:n,right:e,bottom:t,left:i}){let r=[];return i!==e?r.push(n,e,t,i):t!==n?r.push(n,e,t):e!==n?r.push(n,e):r.push(n),r.join(" ")}function qfe(n){return e=>({path:n,value:Hfe(e)})}function Gfe(n){let e=n.trim().slice(0,1500).matchAll(Ufe);return Array.from(e).map(t=>t[0])}function DV(n){n.setNormalizer("margin",qfe("margin")),n.setNormalizer("margin-top",e=>({path:"margin.top",value:e})),n.setNormalizer("margin-right",e=>({path:"margin.right",value:e})),n.setNormalizer("margin-bottom",e=>({path:"margin.bottom",value:e})),n.setNormalizer("margin-left",e=>({path:"margin.left",value:e})),n.setReducer("margin",Wfe("margin")),n.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"])}var Ng="[",tv="]",Pg="{",Q1="}",fv={container:nd,attribute:rm,empty:Vg,ui:am,raw:jg},Kfe={setContentOf:(n,e)=>{n.innerHTML=e}};function jA(n,e={}){if(!(n instanceof zg))throw new TypeError("View needs to be an instance of module:engine/view/view~View.");let t=n.document,i=!!e.withoutSelection,r=e.rootName||"main",o=t.getRoot(r),s={showType:e.showType,showPriority:e.showPriority,renderUIElements:e.renderUIElements,renderRawElements:e.renderRawElements,ignoreRoot:!0,domConverter:e.domConverter};return i?jA._stringify(o,null,s):jA._stringify(o,t.selection,s)}jA._stringify=RV;function OV(n,e,t={}){if(!(n instanceof zg))throw new TypeError("View needs to be an instance of module:engine/view/view~View.");let i=n.document,r=t.rootName||"main",o=i.getRoot(r);n.change(s=>{let a=OV._parse(e,{rootElement:o});a.view&&a.selection&&s.setSelection(a.selection)})}OV._parse=NV;function RV(n,e=null,t={}){let i;return e instanceof Wt||e instanceof pi?i=new mv(e):i=e,new UA(n,i,t).stringify()}function NV(n,e={}){let t=new vx(new Fg);e.order=e.order||[];let i=new zA({sameSelectionCharacters:e.sameSelectionCharacters}),r=new IA(t,{namespaces:Object.keys(fv)});e.inlineObjectElements&&r.domConverter.inlineObjectElements.push(...e.inlineObjectElements);let o=r.toView(n);if(o=LV(o),e.rootElement){let a=e.rootElement,l=o._removeChildren(0,o.childCount);a._removeChildren(0,a.childCount),a._appendChild(l),o=a}let s=i.parse(o,e.order);if(o.is("documentFragment")&&o.childCount===1&&(o=o.getChild(0)),s.length){let a=new mv(s,{backward:!!e.lastRangeBackward});return{view:o,selection:a}}return o.parent&&o._remove(),o}var zA=class{sameSelectionCharacters;_positions;constructor(e){this.sameSelectionCharacters=!!e.sameSelectionCharacters}parse(e,t){this._positions=[],this._getPositions(e);let i=this._createRanges();if(t.length){if(t.length!=i.length)throw new Error(`Parse error - there are ${i.length} ranges found, but ranges order array contains ${t.length} elements.`);i=this._sortRanges(i,t)}return i}_getPositions(e){if(e.is("documentFragment")||e.is("element")){let t=[...e.getChildren()];for(let i of t)this._getPositions(i)}if(e.is("$text")){let t=new RegExp(`[${Pg}${Q1}\\${tv}\\${Ng}]`,"g"),i=e.data,r,o=0,s=[];for(;r=t.exec(i);){let c=r.index,u=r[0];s.push({bracket:u,textOffset:c-o}),o++}i=i.replace(t,""),e._data=i;let a=e.index,l=e.parent;i||e._remove();for(let c of s)if(i)if(this.sameSelectionCharacters||!this.sameSelectionCharacters&&(c.bracket==Pg||c.bracket==Q1))this._positions.push({bracket:c.bracket,position:new Wt(e,c.textOffset)});else{if(!this.sameSelectionCharacters&&c.textOffset!==0&&c.textOffset!==i.length)throw new Error(`Parse error - range delimiter '${c.bracket}' is placed inside text node.`);let u=c.textOffset===0?a:a+1;this._positions.push({bracket:c.bracket,position:new Wt(l,u)})}else{if(!this.sameSelectionCharacters&&c.bracket==Pg||c.bracket==Q1)throw new Error(`Parse error - text range delimiter '${c.bracket}' is placed inside empty text node. `);this._positions.push({bracket:c.bracket,position:new Wt(l,a)})}}}_sortRanges(e,t){let i=[],r=0;for(let o of t){if(e[o-1]===void 0)throw new Error("Parse error - provided ranges order is invalid.");i[o-1]=e[r],r++}return i}_createRanges(){let e=[],t=null;for(let i of this._positions){if(!t&&(i.bracket==tv||i.bracket==Q1))throw new Error(`Parse error - end of range was found '${i.bracket}' but range was not started before.`);if(t&&(i.bracket==Ng||i.bracket==Pg))throw new Error(`Parse error - start of range was found '${i.bracket}' but one range is already started.`);i.bracket==Ng||i.bracket==Pg?t=new pi(i.position,i.position):(t.end=i.position,e.push(t),t=null)}if(t!==null)throw new Error("Parse error - range was started but no end delimiter was found.");return e}},UA=class{root;selection;ranges;showType;showPriority;showAttributeElementId;ignoreRoot;sameSelectionCharacters;renderUIElements;renderRawElements;domConverter;constructor(e,t,i){this.root=e,this.selection=t,this.ranges=[],t&&(this.ranges=[...t.getRanges()]),this.showType=!!i.showType,this.showPriority=!!i.showPriority,this.showAttributeElementId=!!i.showAttributeElementId,this.ignoreRoot=!!i.ignoreRoot,this.sameSelectionCharacters=!!i.sameSelectionCharacters,this.renderUIElements=!!i.renderUIElements,this.renderRawElements=!!i.renderRawElements,this.domConverter=i.domConverter||Kfe}stringify(){let e="";return this._walkView(this.root,t=>{e+=t}),e}_walkView(e,t){let i=this.ignoreRoot&&this.root===e;if(e.is("element")||e.is("documentFragment")){if(e.is("element")&&!i&&t(this._stringifyElementOpen(e)),this.renderUIElements&&e.is("uiElement"))t(e.render(document,this.domConverter).innerHTML);else if(this.renderRawElements&&e.is("rawElement")){let r=document.createElement("div");e.render(r,this.domConverter),t(r.innerHTML)}else{let r=0;t(this._stringifyElementRanges(e,r));for(let o of e.getChildren())this._walkView(o,t),r++,t(this._stringifyElementRanges(e,r))}e.is("element")&&!i&&t(this._stringifyElementClose(e))}e.is("$text")&&t(this._stringifyTextRanges(e))}_stringifyElementRanges(e,t){let i="",r="",o="";for(let s of this.ranges)s.start.parent==e&&s.start.offset===t&&(s.isCollapsed?o+=Ng+tv:i+=Ng),s.end.parent===e&&s.end.offset===t&&!s.isCollapsed&&(r+=tv);return r+o+i}_stringifyTextRanges(e){let t=e.data.length,i=e.data.split(""),r,o;this.sameSelectionCharacters?(r=Ng,o=tv):(r=Pg,o=Q1),i[t]="";let s=i.map(a=>({letter:a,start:"",end:"",collapsed:""}));for(let a of this.ranges){let l=a.start,c=a.end;l.parent==e&&l.offset>=0&&l.offset<=t&&(a.isCollapsed?s[c.offset].collapsed+=r+o:s[l.offset].start+=r),c.parent==e&&c.offset>=0&&c.offset<=t&&!a.isCollapsed&&(s[c.offset].end+=o)}return s.map(a=>a.end+a.collapsed+a.start+a.letter).join("")}_stringifyElementOpen(e){let t=this._stringifyElementPriority(e),i=this._stringifyElementId(e),o=[this._stringifyElementType(e),e.name].filter(l=>l!=="").join(":"),s=this._stringifyElementAttributes(e);return`<${[o,t,i,s].filter(l=>l!=="").join(" ")}>`}_stringifyElementClose(e){return`</${[this._stringifyElementType(e),e.name].filter(r=>r!=="").join(":")}>`}_stringifyElementType(e){if(this.showType){for(let t in fv)if(e instanceof fv[t])return t}return""}_stringifyElementPriority(e){return this.showPriority&&e.is("attributeElement")?`view-priority="${e.priority}"`:""}_stringifyElementId(e){return this.showAttributeElementId&&e.is("attributeElement")&&e.id?`view-id="${e.id}"`:""}_stringifyElementAttributes(e){let t=[],i=[...e.getAttributeKeys()].sort();for(let r of i){let o;r==="class"?o=[...e.getClassNames()].sort().join(" "):r==="style"?o=[...e.getStyleNames()].sort().map(s=>`${s}:${e.getStyle(s).replace(/"/g,"&quot;")}`).join(";"):o=e.getAttribute(r),t.push(`${r}="${o}"`)}return t.join(" ")}};function LV(n){if(n.is("element")||n.is("documentFragment")){let e=n.is("documentFragment")?new om(n.document):Zfe(n.document,n);for(let t of[...n.getChildren()]){if(e.is("emptyElement"))throw new Error("Parse error - cannot parse inside EmptyElement.");if(e.is("uiElement"))throw new Error("Parse error - cannot parse inside UIElement.");if(e.is("rawElement"))throw new Error("Parse error - cannot parse inside RawElement.");e._appendChild(LV(t))}return e}return n}function Zfe(n,e){let t=Yfe(e),i=fv[t.type],r=i?new i(n,t.name):new nu(n,t.name);r.is("attributeElement")&&(t.priority!==null&&(r._priority=t.priority),t.id!==null&&(r._id=t.id));for(let o of e.getAttributeKeys())r._setAttribute(o,e.getAttribute(o));return r}function Yfe(n){let e=n.name.split(":"),t=Jfe(n.getAttribute("view-priority")),i=n.hasAttribute("view-id")?n.getAttribute("view-id"):null;if(n._removeAttribute("view-priority"),n._removeAttribute("view-id"),e.length==1)return{name:e[0],type:t!==null?"attribute":null,priority:t,id:i};let r=Xfe(e[0]);if(r)return{name:e[1],type:r,priority:t,id:i};throw new Error(`Parse error - cannot parse element's name: ${n.name}.`)}function Xfe(n){return n in fv?n:null}function Jfe(n){let e=parseInt(n,10);return isNaN(e)?null:e}function FV(n,e={}){if(!(n instanceof Fh))throw new TypeError("Model needs to be an instance of module:engine/model/model~Model.");let t=e.rootName||"main",i=n.document.getRoot(t);return FV._stringify(i,e.withoutSelection?null:n.document.selection,e.convertMarkers?n.markers:null)}FV._stringify=Qfe;function BV(n,e,t={}){if(!(n instanceof Fh))throw new TypeError("Model needs to be an instance of module:engine/model/model~Model.");let i,r=null,o=n.document.getRoot(t.rootName||"main"),s=BV._parse(e,n.schema,{lastRangeBackward:t.lastRangeBackward,selectionAttributes:t.selectionAttributes,context:[o.name],inlineObjectElements:t.inlineObjectElements});"model"in s?(i=s.model,r=s.selection):i=s,t.batchType!==void 0?n.enqueueChange(t.batchType,a):n.change(a);function a(l){if(l.remove(l.createRangeIn(o)),l.insert(i,o),l.setSelection(null),l.removeSelectionAttribute(n.document.selection.getAttributeKeys()),r){let c=[];for(let u of r.getRanges()){let d=new kt(o,u.start.path),f=new kt(o,u.end.path);c.push(new nt(d,f))}l.setSelection(c,{backward:r.isBackward}),t.selectionAttributes&&l.setSelectionAttribute(r.getAttributes())}}}BV._parse=eme;function Qfe(n,e=null,t=null){let i=new Fh,r=new Ug,o=null,s;if(n instanceof dm||n instanceof oc)s=i.createRangeIn(n);else if(n.parent)s=new nt(i.createPositionBefore(n),i.createPositionAfter(n));else{let p=new oc(n);s=i.createRangeIn(p)}e instanceof is||e instanceof Xs?o=e:e instanceof nt?o=new is(e):e instanceof kt&&(o=new is(e));let a=new Fg,l=new zg(a),c=l.document,u=new nv(c,"div");u.rootName="main",c.roots.add(u);let d=new sv({mapper:r,schema:i.schema});r.bindElements(n.root,u),d.on("insert:$text",$A()),d.on("insert",qA(),{priority:"lowest"}),d.on("attribute",(p,g,v)=>{(g.item instanceof is||g.item instanceof Xs||g.item.is("$textProxy"))&&lV((I,{writer:N})=>N.createAttributeElement("model-text-with-attributes",{[g.attributeKey]:HB(I)}))(p,g,v)}),d.on("insert",cV(p=>{let g=XA(p.getAttributes(),HB);return new nd(c,p.name,g)})),d.on("selection",sV()),d.on("selection",aV()),d.on("addMarker",uV((p,{writer:g})=>{let v=p.markerName+":"+(p.isOpening?"start":"end");return g.createUIElement(v)}));let f=new Map;if(t)for(let p of Array.from(t).sort((g,v)=>g.name<v.name?1:-1))f.set(p.name,p.getRange());let h=l._writer;d.convert(s,f,h),o&&d.convertSelection(o,t||i.markers,h);let m=RV(u,c.selection,{sameSelectionCharacters:!0});return m=m.substr(5,m.length-11),l.destroy(),m.replace(new RegExp("model-text-with-attributes","g"),"$text")}function eme(n,e,t={}){let i=new Ug;n=n.replace(new RegExp("\\$text","g"),"model-text-with-attributes");let r=NV(n,{sameSelectionCharacters:!0,lastRangeBackward:!!t.lastRangeBackward,inlineObjectElements:t.inlineObjectElements}),o,s=null,a=null;"view"in r&&"selection"in r?(o=r.view,s=r.selection):o=r;let l=new Fh,c=new fx({schema:e});c.on("documentFragment",tme(i)),c.on("element:model-text-with-attributes",UB()),c.on("element",nme(i)),c.on("text",UB());let u=l.change(d=>c.convert(o.root,d,t.context||"$root"));if(i.bindElements(u,o.root),u.childCount==1&&(u=u.getChild(0)),s){let d=[];for(let f of s.getRanges())d.push(i.toModelRange(f));a=new is(d,{backward:s.isBackward});for(let[f,h]of Ea(t.selectionAttributes||[]))a.setAttribute(f,h)}return a?{model:u,selection:a}:u}function tme(n){return(e,t,i)=>{let r=i.convertChildren(t.viewItem,t.modelCursor);n.bindElements(t.modelCursor.parent,t.viewItem),t=Object.assign(t,r),e.stop()}}function nme(n){return(e,t,i)=>{let r=t.viewItem.name;if(!i.schema.checkChild(t.modelCursor,r))throw new Error(`Element '${r}' was not allowed in given position.`);let o=XA(t.viewItem.getAttributes(),VV),s=i.writer.createElement(t.viewItem.name,o);i.writer.insert(s,t.modelCursor),n.bindElements(s,t.viewItem),i.convertChildren(t.viewItem,s),t.modelRange=nt._createOn(s),t.modelCursor=t.modelRange.end,e.stop()}}function UB(){return(n,e,t)=>{if(!t.schema.checkChild(e.modelCursor,"$text"))throw new Error("Text was not allowed in given position.");let i;if(e.viewItem.is("element")){let r=XA(e.viewItem.getAttributes(),VV),o=e.viewItem.getChild(0);i=t.writer.createText(o.data,r)}else i=t.writer.createText(e.viewItem.data);t.writer.insert(i,e.modelCursor),e.modelRange=nt._createFromPositionAndShift(e.modelCursor,i.offsetSize),e.modelCursor=e.modelRange.end,n.stop()}}function VV(n){try{return JSON.parse(n)}catch{return n}}function HB(n){return es(n)?JSON.stringify(n):n}function*XA(n,e){for(let[t,i]of n)yield[t,e(i)]}var wx=class{crashes=[];state="initializing";_crashNumberLimit;_now=Date.now;_minimumNonErrorTimePeriod;_boundErrorHandler;_listeners;constructor(e){if(this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{let i="error"in t?t.error:t.reason;i instanceof Error&&this._handleError(i,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter(i=>i!==t)}_fire(e,...t){let i=this._listeners[e]||[];for(let r of i)r.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});let i=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:i}),i?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;let e=this.crashes[this.crashes.length-1].date,t=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(e-t)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}};function JA(n,e=new Set){let t=[n],i=new Set,r=0;for(;t.length>r;){let o=t[r++];if(!(i.has(o)||!ime(o)||e.has(o)))if(i.add(o),Symbol.iterator in o)try{for(let s of o)t.push(s)}catch{}else for(let s in o)s!=="defaultValue"&&t.push(o[s])}return i}function ime(n){let e=Object.prototype.toString.call(n),t=typeof n;return!(t==="number"||t==="boolean"||t==="string"||t==="symbol"||t==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||n===void 0||n===null||n._watchdogExcluded||n instanceof EventTarget||n instanceof Event)}function zV(n,e,t=new Set){if(n===e&&rme(n))return!0;let i=JA(n,t),r=JA(e,t);for(let o of i)if(r.has(o))return!0;return!1}function rme(n){return typeof n=="object"&&n!==null}var gv=class extends wx{_editor=null;_lifecyclePromise=null;_throttledSave;_data;_lastDocumentVersion;_elementOrData;_initUsingData=!0;_editables={};_config;_excludedProps;constructor(e,t={}){super(t),this._throttledSave=Ph(this._save.bind(this),typeof t.saveInterval=="number"?t.saveInterval:5e3),e&&(this._creator=(i,r)=>e.create(i,r)),this._destructor=i=>i.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{let e={},t=[],i=this._config.rootsAttributes||{},r={};for(let[s,a]of Object.entries(this._data.roots))a.isLoaded?(e[s]="",r[s]=i[s]||{}):t.push(s);let o=Xt(Be({},this._config),{extraPlugins:this._config.extraPlugins||[],lazyRoots:t,rootsAttributes:r,_watchdogInitialData:this._data});return delete o.initialData,o.extraPlugins.push(QA),this._initUsingData?this.create(e,o,o.context):Sl(this._elementOrData)?this.create(this._elementOrData,o,o.context):this.create(this._editables,o,o.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,t=this._config,i){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(t)||{},this._config.context=i,this._creator(e,this._config))).then(r=>{this._editor=r,r.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=r.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();let e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){let e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){let e=this._editor,t=e.model.document.roots.filter(a=>a.isAttached()&&a.rootName!="$graveyard"),{plugins:i}=e,r=i.has("CommentsRepository")&&i.get("CommentsRepository"),o=i.has("TrackChanges")&&i.get("TrackChanges"),s={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};t.forEach(a=>{s.roots[a.rootName]={content:JSON.stringify(Array.from(a.getChildren())),attributes:JSON.stringify(Array.from(a.getAttributes())),isLoaded:a._isLoaded}});for(let a of e.model.markers)a._affectsData&&(s.markers[a.name]={rangeJSON:a.getRange().toJSON(),usingOperation:a._managedUsingOperations,affectsData:a._affectsData});return r&&(s.commentThreads=JSON.stringify(r.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),o&&(s.suggestions=JSON.stringify(o.getSuggestions({toJSON:!0,skipNotAttached:!0}))),s}_getEditables(){let e={};for(let t of this.editor.model.document.getRootNames()){let i=this.editor.ui.getEditableElement(t);i&&(e[t]=i)}return e}_isErrorComingFromThisItem(e){return zV(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return Qf(e,(t,i)=>{if(Sl(t)||i==="context")return t})}},QA=class{editor;_data;constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},t=>{this._restoreCollaborationData(),this._restoreEditorData(t)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,t){if("name"in t){let i=e.createElement(t.name,t.attributes);if(t.children)for(let r of t.children)i._appendChild(this._createNode(e,r));return i}else return e.createText(t.data,t.attributes)}_restoreEditorData(e){let t=this.editor;Object.entries(this._data.roots).forEach(([i,{content:r,attributes:o}])=>{let s=JSON.parse(r),a=JSON.parse(o),l=t.model.document.getRoot(i);for(let[c,u]of a)e.setAttribute(c,u,l);for(let c of s){let u=this._createNode(e,c);e.insert(u,l,"end")}}),Object.entries(this._data.markers).forEach(([i,r])=>{let{document:o}=t.model,h=r,{rangeJSON:{start:s,end:a}}=h,l=Au(h,["rangeJSON"]),c=o.getRoot(s.root),u=e.createPositionFromPath(c,s.path,s.stickiness),d=e.createPositionFromPath(c,a.path,a.stickiness),f=e.createRange(u,d);e.addMarker(i,Be({range:f},l))})}_restoreCollaborationData(){let e=JSON.parse(this._data.commentThreads),t=JSON.parse(this._data.suggestions);e.forEach(i=>{let r=this.editor.config.get("collaboration.channelId"),o=this.editor.plugins.get("CommentsRepository");o.hasCommentThread(i.threadId)&&o.getCommentThread(i.threadId).remove(),o.addCommentThread(Be({channelId:r},i))}),t.forEach(i=>{let r=this.editor.plugins.get("TrackChangesEditing");if(r.hasSuggestion(i.id)){let o=r.getSuggestion(i.id);o.attributes=i.attributes}else r.addSuggestionData(i)})}};var pv=Symbol("MainQueueId"),yx=class extends wx{_watchdogs=new Map;_watchdogConfig;_context=null;_contextProps=new Set;_actionQueues=new e4;_contextConfig;_item;constructor(e,t={}){super(t),this._watchdogConfig=t,this._creator=i=>e.create(i),this._destructor=i=>i.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(pv,()=>(this._contextConfig=e,this._create()))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){let t=jV(e);return Promise.all(t.map(i=>this._actionQueues.enqueue(i.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let r;if(this._watchdogs.has(i.id))throw new Error(`Item with the given id is already added: '${i.id}'.`);if(i.type==="editor")return r=new gv(null,this._watchdogConfig),r.setCreator(i.creator),r._setExcludedProperties(this._contextProps),i.destructor&&r.setDestructor(i.destructor),this._watchdogs.set(i.id,r),r.on("error",(o,{error:s,causesRestart:a})=>{this._fire("itemError",{itemId:i.id,error:s}),a&&this._actionQueues.enqueue(i.id,()=>new Promise(l=>{let c=()=>{r.off("restart",c),this._fire("itemRestart",{itemId:i.id}),l()};r.on("restart",c)}))}),r.create(i.sourceElementOrData,i.config,this._context);throw new Error(`Not supported item type: '${i.type}'.`)})))}remove(e){let t=jV(e);return Promise.all(t.map(i=>this._actionQueues.enqueue(i,()=>{let r=this._getWatchdog(i);return this._watchdogs.delete(i),r.destroy()})))}destroy(){return this._actionQueues.enqueue(pv,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(pv,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(e=>{console.error("An error happened during destroying the context or items.",e)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(e=>(this._context=e,this._contextProps=JA(this._context),Promise.all(Array.from(this._watchdogs.values()).map(t=>(t._setExcludedProperties(this._contextProps),t.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();let e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(t=>t.destroy())).then(()=>this._destructor(e))})}_getWatchdog(e){let t=this._watchdogs.get(e);if(!t)throw new Error(`Item with the given id was not registered: ${e}.`);return t}_isErrorComingFromThisItem(e){for(let t of this._watchdogs.values())if(t._isErrorComingFromThisItem(e))return!1;return zV(this._context,e.context)}},e4=class{_onEmptyCallbacks=[];_queues=new Map;_activeActions=0;onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){let i=e===pv;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());let o=(i?Promise.all(this._queues.values()):Promise.all([this._queues.get(pv),this._queues.get(e)])).then(t),s=o.catch(()=>{});return this._queues.set(e,s),o.finally(()=>{this._activeActions--,this._queues.get(e)===s&&this._activeActions===0&&this._onEmptyCallbacks.forEach(a=>a())})}};function jV(n){return Array.isArray(n)?n:[n]}var yt=class extends Oi(){editor;_disableStack=new Set;constructor(e){super(),this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",UV,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",UV),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}};function UV(n){n.return=!1,n.stop()}var bn=class extends Oi(){editor;_isEnabledBasedOnSelection;_affectsData;_disableStack;constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",t=>{if(!this.affectsData)return;let i=e.model.document.selection,o=!(i.getFirstPosition().root.rootName=="$graveyard")&&e.model.canEditAt(i);(e.isReadOnly||this._isEnabledBasedOnSelection&&!o)&&(t.return=!1,t.stop())},{priority:"highest"}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",HV,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",HV),this.refresh())}execute(...e){}destroy(){this.stopListening()}};function HV(n){n.return=!1,n.stop()}var bv=class extends bn{_childCommandsDefinitions=[];refresh(){}execute(...e){let t=this._getFirstEnabledCommand();return!!t&&t.execute(e)}registerChildCommand(e,t={}){GS(this._childCommandsDefinitions,{command:e,priority:t.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){let e=this._childCommandsDefinitions.find(({command:t})=>t.isEnabled);return e&&e.command}},_x=class extends Fi(){_context;_plugins=new Map;_availablePlugins;_contextPlugins;constructor(e,t=[],i=[]){super(),this._context=e,this._availablePlugins=new Map;for(let r of t)r.pluginName&&this._availablePlugins.set(r.pluginName,r);this._contextPlugins=new Map;for(let[r,o]of i)this._contextPlugins.set(r,o),this._contextPlugins.set(o,r),r.pluginName&&this._availablePlugins.set(r.pluginName,r)}*[Symbol.iterator](){for(let e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){let t=this._plugins.get(e);if(!t){let i=e;throw typeof e=="function"&&(i=e.pluginName||e.name),new Me("plugincollection-plugin-not-loaded",this._context,{plugin:i})}return t}has(e){return this._plugins.has(e)}init(e,t=[],i=[]){let r=this,o=this._context;h(e),p(e);let s=e.filter(F=>!d(F,t)),a=[...m(s)];H(a,i);let l=I(a);return N(l,"init").then(()=>N(l,"afterInit")).then(()=>l);function c(F){return typeof F=="function"}function u(F){return c(F)&&!!F.isContextPlugin}function d(F,B){return B.some(V=>V===F||f(F)===V||f(V)===F)}function f(F){return c(F)?F.pluginName||F.name:F}function h(F,B=new Set){F.forEach(V=>{c(V)&&(B.has(V)||(B.add(V),V.pluginName&&!r._availablePlugins.has(V.pluginName)&&r._availablePlugins.set(V.pluginName,V),V.requires&&h(V.requires,B)))})}function m(F,B=new Set){return F.map(V=>c(V)?V:r._availablePlugins.get(V)).reduce((V,G)=>B.has(G)?V:(B.add(G),G.requires&&(p(G.requires,G),m(G.requires,B).forEach(W=>V.add(W))),V.add(G)),new Set)}function p(F,B=null){F.map(V=>c(V)?V:r._availablePlugins.get(V)||V).forEach(V=>{g(V,B),v(V,B),x(V,B)})}function g(F,B){if(!c(F))throw B?new Me("plugincollection-soft-required",o,{missingPlugin:F,requiredBy:f(B)}):new Me("plugincollection-plugin-not-found",o,{plugin:F})}function v(F,B){if(u(B)&&!u(F))throw new Me("plugincollection-context-required",o,{plugin:f(F),requiredBy:f(B)})}function x(F,B){if(B&&d(F,t))throw new Me("plugincollection-required",o,{plugin:f(F),requiredBy:f(B)})}function I(F){return F.map(B=>{let V=r._contextPlugins.get(B);return V=V||new B(o),r._add(B,V),V})}function N(F,B){return F.reduce((V,G)=>!G[B]||r._contextPlugins.has(G)?V:V.then(G[B].bind(G)),Promise.resolve())}function H(F,B){for(let V of B){if(typeof V!="function")throw new Me("plugincollection-replace-plugin-invalid-type",null,{pluginItem:V});let G=V.pluginName;if(!G)throw new Me("plugincollection-replace-plugin-missing-name",null,{pluginItem:V});if(V.requires&&V.requires.length)throw new Me("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:G});let W=r._availablePlugins.get(G);if(!W)throw new Me("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:G});let k=F.indexOf(W);if(k===-1){if(r._contextPlugins.has(W))return;throw new Me("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:G})}if(W.requires&&W.requires.length)throw new Me("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:G});F.splice(k,1,V),r._availablePlugins.set(G,V)}}}destroy(){let e=[];for(let[,t]of this)typeof t.destroy=="function"&&!this._contextPlugins.has(t)&&e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);let i=e.pluginName;if(i){if(this._plugins.has(i))throw new Me("plugincollection-plugin-name-conflict",null,{pluginName:i,plugin1:this._plugins.get(i).constructor,plugin2:e});this._plugins.set(i,t)}}},WV=(()=>{class n{config;plugins;locale;t;editors;static defaultConfig;static builtinPlugins;_contextOwner=null;constructor(t){let a=t||{},{translations:i}=a,r=Au(a,["translations"]);this.config=new U1(r,this.constructor.defaultConfig);let o=this.constructor.builtinPlugins;this.config.define("plugins",o),this.plugins=new _x(this,o);let s=this.config.get("language")||{};this.locale=new Q_({uiLanguage:typeof s=="string"?s:s.ui,contentLanguage:this.config.get("language.content"),translations:i}),this.t=this.locale.t,this.editors=new gr}initPlugins(){let t=this.config.get("plugins")||[],i=this.config.get("substitutePlugins")||[];for(let r of t.concat(i)){if(typeof r!="function")throw new Me("context-initplugins-constructor-only",null,{Plugin:r});if(r.isContextPlugin!==!0)throw new Me("context-initplugins-invalid-plugin",null,{Plugin:r})}return this.plugins.init(t,[],i)}destroy(){return Promise.all(Array.from(this.editors,t=>t.destroy())).then(()=>this.plugins.destroy())}_addEditor(t,i){if(this._contextOwner)throw new Me("context-addeditor-private-context");this.editors.add(t),i&&(this._contextOwner=t)}_removeEditor(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}_getEditorConfig(){let t={};for(let i of this.config.names())["plugins","removePlugins","extraPlugins"].includes(i)||(t[i]=this.config.get(i));return t}static create(t){return new Promise(i=>{let r=new this(t);i(r.initPlugins().then(()=>r))})}}return n})(),vv=class extends Oi(){context;constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}},n4=class{_commands;constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){let i=this.get(e);if(!i)throw new Me("commandcollection-command-not-found",this,{commandName:e});return i.execute(...t)}*names(){yield*_r(this._commands.keys())}*commands(){yield*_r(this._commands.values())}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(let e of this.commands())e.destroy()}},i4=class extends Fr{editor;constructor(e){super(),this.editor=e}set(e,t,i={}){if(typeof t=="string"){let r=t;t=(o,s)=>{this.editor.execute(r),s()}}super.set(e,t,i)}},t4="contentEditing",$V="common",r4=class{keystrokeInfos=new Map;_editor;constructor(e){this._editor=e;let t=e.config.get("menuBar.isVisible"),i=e.locale.t;this.addKeystrokeInfoCategory({id:t4,label:i("Content editing keystrokes"),description:i("These keyboard shortcuts allow for quick access to content editing features.")});let r=[{label:i("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:i("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:i("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:i("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:i("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:i("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];t&&r.push({label:i("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:i("User interface and content navigation keystrokes"),description:i("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:r}]})}addKeystrokeInfoCategory({id:e,label:t,description:i,groups:r}){this.keystrokeInfos.set(e,{id:e,label:t,description:i,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:e,id:$V}),r&&r.forEach(o=>{this.addKeystrokeInfoGroup(Be({categoryId:e},o))})}addKeystrokeInfoGroup({categoryId:e=t4,id:t,label:i,keystrokes:r}){let o=this.keystrokeInfos.get(e);if(!o)throw new Me("accessibility-unknown-keystroke-info-category",this._editor,{groupId:t,categoryId:e});o.groups.set(t,{id:t,label:i,keystrokes:r||[]})}addKeystrokeInfos({categoryId:e=t4,groupId:t=$V,keystrokes:i}){if(!this.keystrokeInfos.has(e))throw new Me("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:e,keystrokes:i});let r=this.keystrokeInfos.get(e);if(!r.groups.has(t))throw new Me("accessibility-unknown-keystroke-info-group",this._editor,{groupId:t,categoryId:e,keystrokes:i});r.groups.get(t).keystrokes.push(...i)}},Hg=(()=>{class n extends Oi(){accessibility;commands;config;conversion;data;editing;locale;model;plugins;keystrokes;t;static defaultConfig;static builtinPlugins;_context;_readOnlyLocks;constructor(t={}){if(super(),"sanitizeHtml"in t)throw new Me("editor-config-sanitizehtml-not-supported");let i=this.constructor,d=i.defaultConfig||{},{translations:r}=d,o=Au(d,["translations"]),f=t,{translations:s=r}=f,a=Au(f,["translations"]),l=t.language||o.language;this._context=t.context||new WV({language:l,translations:s}),this._context._addEditor(this,!t.context);let c=Array.from(i.builtinPlugins||[]);this.config=new U1(a,o),this.config.define("plugins",c),this.config.define(this._context._getEditorConfig()),this.plugins=new _x(this,c,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new n4,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new Fh,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});let u=new Fg;this.data=new px(this.model,u),this.editing=new hx(this.model,u),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new gx([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new i4(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new r4(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(t){throw new Me("editor-isreadonly-has-no-setter")}enableReadOnlyMode(t){if(typeof t!="string"&&typeof t!="symbol")throw new Me("editor-read-only-lock-id-invalid",null,{lockId:t});this._readOnlyLocks.has(t)||(this._readOnlyLocks.add(t),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(t){if(typeof t!="string"&&typeof t!="symbol")throw new Me("editor-read-only-lock-id-invalid",null,{lockId:t});this._readOnlyLocks.has(t)&&(this._readOnlyLocks.delete(t),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(t){this.data.set(t)}getData(t){return this.data.get(t)}initPlugins(){let t=this.config,i=t.get("plugins"),r=t.get("removePlugins")||[],o=t.get("extraPlugins")||[],s=t.get("substitutePlugins")||[];return this.plugins.init(i.concat(o),r,s)}destroy(){let t=Promise.resolve();return this.state=="initializing"&&(t=new Promise(i=>this.once("ready",i))),t.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(t,...i){try{return this.commands.execute(t,...i)}catch(r){Me.rethrowUnexpectedError(r,this)}}focus(){this.editing.view.focus()}static create(...t){throw new Error("This is an abstract method.")}static Context=WV;static EditorWatchdog=gv;static ContextWatchdog=yx}return n})();function xx(n){if(!Ba(n.updateSourceElement))throw new Me("attachtoform-missing-elementapi-interface",n);let e=n.sourceElement;if(ome(e)&&e.form){let t,i=e.form,r=()=>n.updateSourceElement();Ba(i.submit)&&(t=i.submit,i.submit=()=>{r(),t.apply(i)}),i.addEventListener("submit",r),n.on("destroy",()=>{i.removeEventListener("submit",r),t&&(i.submit=t)})}}function ome(n){return!!n&&n.tagName.toLowerCase()==="textarea"}function pm(n){class e extends n{sourceElement;updateSourceElement(i){if(!this.sourceElement)throw new Me("editor-missing-sourceelement",this);let r=this.config.get("updateSourceElementOnDestroy"),o=this.sourceElement instanceof HTMLTextAreaElement;if(!r&&!o){tx(this.sourceElement,"");return}let s=typeof i=="string"?i:this.data.get();tx(this.sourceElement,s)}}return e}pm.updateSourceElement=pm(Object).prototype.updateSourceElement;var Vh=class extends vv{_actions;static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new gr({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new Me("pendingactions-add-invalid-message",this);let t=new(Oi());return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}},sme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',ame='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',lme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',ume='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>',dme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',hme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',fme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',mme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',pme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',gme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',bme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',vme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',wme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',yme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',_me='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.401 5.401 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023c.449.131.887.32 1.307.573l.058.033c.046.028.09.057.135.086V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.118 2.118 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.647.647 0 0 0-.096.492.664.664 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.741 1.741 0 0 1 2.478-.463 1.869 1.869 0 0 1 .476 2.55.637.637 0 0 0-.071.5.646.646 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.228 3.228 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.626.626 0 0 0 .092-.475.638.638 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.741 1.741 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236l1.268-1.907Z"/></svg>',xme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',Cme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',kme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',Eme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',Sme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',Ame='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',Tme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',Ime='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',Mme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',Pme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',Dme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',Ome='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',Rme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',Nme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',Lme='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',Fme='<svg xmlns="http://www.w3.org/2000/svg" xmlns:v="https://vecta.io/nano" viewBox="0 0 20 20"><path d="M.95 1.43a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h.75v6.3H.95a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-.65h1.932l1.539-1.5H5v-.95a.95.95 0 0 0-.95-.95H3.2v-6.3h.85A.95.95 0 0 0 5 5.48v-.55h10v.55a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-3.1a.95.95 0 0 0-.95-.95h-3.1a.95.95 0 0 0-.95.95v1.05H5V2.38a.95.95 0 0 0-.95-.95H.95zm.55 3.5v-2h2v2h-2zm0 9.3v2h2v-2h-2zm15-11.3v2h2v-2h-2z"/><path d="M8.139 20.004v-2.388l7.045-7.048 2.391 2.391-7.046 7.046h-2.39zm11.421-9.101a.64.64 0 0 1-.138.206l-1.165 1.168-2.391-2.391 1.167-1.163a.63.63 0 0 1 .206-.138.635.635 0 0 1 .243-.049.63.63 0 0 1 .449.187l1.491 1.488c.059.059.108.129.138.206s.049.16.049.243a.6.6 0 0 1-.049.243z"/></svg>',Bme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2ZM13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7h11Z"/></svg>',Vme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2ZM7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11h5Z"/></svg>',jme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2ZM10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9h8Z"/></svg>',zme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',Ume='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',Hme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',Wme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',$me='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',qme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',Gme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',Kme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',Zme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',Yme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',Xme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',Jme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',Qme='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',epe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',tpe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',npe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',ipe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',rpe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',ope='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',spe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',ape='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',lpe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',cpe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>',upe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',dpe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',hpe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',fpe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',mpe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>',Mn={bold:qme,cancel:sme,caption:ame,check:lme,cog:cme,colorPalette:ume,eraser:dme,history:hme,image:vme,imageUpload:wme,imageAssetManager:yme,imageUrl:_me,lowVision:fme,textAlternative:mme,loupe:pme,previousArrow:gme,nextArrow:bme,importExport:Yme,paragraph:Gme,plus:Kme,text:Zme,alignBottom:xme,alignMiddle:Cme,alignTop:kme,alignLeft:Eme,alignCenter:Sme,alignRight:Ame,alignJustify:Tme,objectLeft:Rme,objectCenter:Mme,objectRight:Nme,objectFullWidth:Dme,objectInline:Ome,objectBlockLeft:Ime,objectBlockRight:Pme,objectSizeCustom:Fme,objectSizeFull:Lme,objectSizeLarge:Bme,objectSizeSmall:Vme,objectSizeMedium:jme,pencil:zme,pilcrow:Ume,quote:Hme,threeVerticalDots:Wme,dragIndicator:$me,redo:Xme,undo:Jme,bulletedList:Qme,numberedList:epe,todoList:tpe,codeBlock:npe,browseFiles:ipe,heading1:rpe,heading2:ope,heading3:spe,heading4:ape,heading5:lpe,heading6:cpe,horizontalLine:upe,html:dpe,indent:hpe,outdent:fpe,table:mpe};var ppe=Qr(GV(),1);var DVe=Qr(tj(),1);var ws=class extends gr{_parentElement;constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(t,i,r)=>{this._renderViewIntoCollectionParent(i,r)}),this.on("remove",(t,i)=>{i.element&&this._parentElement&&i.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(let t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!Spe(e))throw new Me("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(let i of this)for(let r of e)i.delegate(r).to(t);this.on("add",(i,r)=>{for(let o of e)r.delegate(o).to(t)}),this.on("remove",(i,r)=>{for(let o of e)r.stopDelegating(o,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}};function Spe(n){return n.every(e=>typeof e=="string")}var Ape="http://www.w3.org/1999/xhtml",Qs=class extends Fi(){ns;tag;text;attributes;children;eventListeners;_isRendered;_revertData;constructor(e){super(),Object.assign(this,ij(nj(e))),this._isRendered=!1,this._revertData=null}render(){let e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData=sj(),this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new Me("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(t){if(t.children)for(let i of t.children)Ix(i)?yield i:j4(i)&&(yield*_r(e(i)))}yield*_r(e(this))}static bind(e,t){return{to(i,r){return new f4({eventNameOrFunction:i,attribute:i,observable:e,emitter:t,callback:r})},if(i,r,o){return new Tx({observable:e,emitter:t,attribute:i,valueIfTrue:r,callback:o})}}}static extend(e,t){if(e._isRendered)throw new Me("template-extend-render",[this,e]);kj(e,ij(nj(t)))}_renderNode(e){let t;if(e.node?t=this.tag&&this.text:t=this.tag?this.text:!this.text,t)throw new Me("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||Ape,this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),Sx(this.text)?this._bindToObservable({schema:this.text,updater:Ipe(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;let t=e.node,i=e.revertData;for(let r in this.attributes){let o=t.getAttribute(r),s=this.attributes[r];i&&(i.attributes[r]=o);let a=oj(s)?s[0].ns:null;if(Sx(s)){let l=oj(s)?s[0].value:s;i&&aj(r)&&l.unshift(o),this._bindToObservable({schema:l,updater:Mpe(t,r,a),data:e})}else if(r=="style"&&typeof s[0]!="string")this._renderStyleAttribute(s[0],e);else{i&&o&&aj(r)&&s.unshift(o);let l=s.map(c=>c&&(c.value||c)).reduce((c,u)=>c.concat(u),[]).reduce(Cj,"");Kg(l)||t.setAttributeNS(a,r,l)}}}_renderStyleAttribute(e,t){let i=t.node;for(let r in e){let o=e[r];Sx(o)?this._bindToObservable({schema:[o],updater:Ppe(i,r),data:t}):i.style[r]=o}}_renderElementChildren(e){let t=e.node,i=e.intoFragment?document.createDocumentFragment():t,r=e.isApplying,o=0;for(let s of this.children)if(z4(s)){if(!r){s.setParent(t);for(let a of s)i.appendChild(a.element)}}else if(Ix(s))r||(s.isRendered||s.render(),i.appendChild(s.element));else if(Qc(s))i.appendChild(s);else if(r){let a=e.revertData,l=sj();a.children.push(l),s._renderNode({intoFragment:!1,node:i.childNodes[o++],isApplying:!0,revertData:l})}else i.appendChild(s.render());e.intoFragment&&t.appendChild(i)}_setUpListeners(e){if(this.eventListeners)for(let t in this.eventListeners){let i=this.eventListeners[t].map(r=>{let[o,s]=t.split("@");return r.activateDomEventListener(o,s,e)});e.revertData&&e.revertData.bindings.push(i)}}_bindToObservable({schema:e,updater:t,data:i}){let r=i.revertData;_j(e,t,i);let o=e.filter(s=>!Kg(s)).filter(s=>s.observable).map(s=>s.activateAttributeListener(e,t,i));r&&r.bindings.push(o)}_revertTemplateFromNode(e,t){for(let r of t.bindings)for(let o of r)o();if(t.text){e.textContent=t.text;return}let i=e;for(let r in t.attributes){let o=t.attributes[r];o===null?i.removeAttribute(r):i.setAttribute(r,o)}for(let r=0;r<t.children.length;++r)this._revertTemplateFromNode(i.childNodes[r],t.children[r])}},gm=class{attribute;observable;emitter;callback;constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){let t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,i){let r=()=>_j(e,t,i);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,r),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,r)}}},f4=class extends gm{eventNameOrFunction;constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,i){let r=(o,s)=>{(!t||s.target.matches(t))&&(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(s):this.observable.fire(this.eventNameOrFunction,s))};return this.emitter.listenTo(i.node,e,r),()=>{this.emitter.stopListening(i.node,e,r)}}},Tx=class extends gm{valueIfTrue;constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){let t=super.getValue(e);return Kg(t)?!1:this.valueIfTrue||!0}};function Sx(n){return n?(n.value&&(n=n.value),Array.isArray(n)?n.some(Sx):n instanceof gm):!1}function Tpe(n,e){return n.map(t=>t instanceof gm?t.getValue(e):t)}function _j(n,e,{node:t}){let i=Tpe(n,t),r;n.length==1&&n[0]instanceof Tx?r=i[0]:r=i.reduce(Cj,""),Kg(r)?e.remove():e.set(r)}function Ipe(n){return{set(e){n.textContent=e},remove(){n.textContent=""}}}function Mpe(n,e,t){return{set(i){n.setAttributeNS(t,e,i)},remove(){n.removeAttributeNS(t,e)}}}function Ppe(n,e){return{set(t){n.style[e]=t},remove(){n.style[e]=null}}}function nj(n){return Qf(n,t=>{if(t&&(t instanceof gm||j4(t)||Ix(t)||z4(t)))return t})}function ij(n){if(typeof n=="string"?n=Rpe(n):n.text&&Npe(n),n.on&&(n.eventListeners=Ope(n.on),delete n.on),!n.text){n.attributes&&Dpe(n.attributes);let e=[];if(n.children)if(z4(n.children))e.push(n.children);else for(let t of n.children)j4(t)||Ix(t)||Qc(t)?e.push(t):e.push(new Qs(t));n.children=e}return n}function Dpe(n){for(let e in n)n[e].value&&(n[e].value=Vr(n[e].value)),xj(n,e)}function Ope(n){for(let e in n)xj(n,e);return n}function Rpe(n){return{text:[n]}}function Npe(n){n.text=Vr(n.text)}function xj(n,e){n[e]=Vr(n[e])}function Cj(n,e){return Kg(e)?n:Kg(n)?e:`${n} ${e}`}function rj(n,e){for(let t in e)n[t]?n[t].push(...e[t]):n[t]=e[t]}function kj(n,e){if(e.attributes&&(n.attributes||(n.attributes={}),rj(n.attributes,e.attributes)),e.eventListeners&&(n.eventListeners||(n.eventListeners={}),rj(n.eventListeners,e.eventListeners)),e.text&&n.text.push(...e.text),e.children&&e.children.length){if(n.children.length!=e.children.length)throw new Me("ui-template-extend-children-mismatch",n);let t=0;for(let i of e.children)kj(n.children[t++],i)}}function Kg(n){return!n&&n!==0}function Ix(n){return n instanceof nn}function j4(n){return n instanceof Qs}function z4(n){return n instanceof ws}function oj(n){return ui(n[0])&&n[0].ns}function sj(){return{children:[],bindings:[],attributes:{}}}function aj(n){return n=="class"||n=="style"}var nn=class extends No(Oi()){element;isRendered;locale;t;template;_viewCollections;_unboundChildren;_bindTemplate;constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new gr,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,i)=>{i.locale=e,i.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Qs.bind(this,this)}createCollection(e){let t=new ws(e);return this._viewCollections.add(t),t}registerChild(e){Zs(e)||(e=[e]);for(let t of e)this._unboundChildren.add(t)}deregisterChild(e){Zs(e)||(e=[e]);for(let t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new Qs(e)}extendTemplate(e){Qs.extend(this.template,e)}render(){if(this.isRendered)throw new Me("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}};function wm({emitter:n,activator:e,callback:t,contextElements:i,listenerOptions:r}){n.listenTo(document,"mousedown",(o,s)=>{if(!e())return;let a=typeof s.composedPath=="function"?s.composedPath():[],l=typeof i=="function"?i():i;for(let c of l)if(c.contains(s.target)||a.includes(c))return;t()},r)}function xv(n){class e extends n{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...i){super(...i),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}return e}function Yg({view:n}){n.listenTo(n.element,"submit",(e,t)=>{t.preventDefault(),n.fire("submit")},{useCapture:!0})}function Xg({keystrokeHandler:n,focusTracker:e,gridItems:t,numberOfColumns:i,uiLanguageDirection:r}){let o=typeof i=="number"?()=>i:i;n.set("arrowright",s((c,u)=>r==="rtl"?l(c,u.length):a(c,u.length))),n.set("arrowleft",s((c,u)=>r==="rtl"?a(c,u.length):l(c,u.length))),n.set("arrowup",s((c,u)=>{let d=c-o();return d<0&&(d=c+o()*Math.floor(u.length/o()),d>u.length-1&&(d-=o())),d})),n.set("arrowdown",s((c,u)=>{let d=c+o();return d>u.length-1&&(d=c%o()),d}));function s(c){return u=>{let d=t.find(m=>m.element===e.focusedElement),f=t.getIndex(d),h=c(f,t);t.get(h).focus(),u.stopPropagation(),u.preventDefault()}}function a(c,u){return c===u-1?0:c+1}function l(c,u){return c===0?u-1:c-1}}var sd=(()=>{class n extends nn{static presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];constructor(){super();let t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",t.if("isVisible","ck-hidden",i=>!i),"ck-reset_all-excluded",t.if("isColorInherited","ck-icon_inherit-color")],viewBox:t.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){let i=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),r=i.getAttribute("viewBox");r&&(this.viewBox=r);for(let{name:o,value:s}of Array.from(i.attributes))n.presentationalAttributeNames.includes(o)&&this.element.setAttribute(o,s);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;i.childNodes.length>0;)this.element.appendChild(i.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(t=>{t.style.fill=this.fillColor})}}return n})(),Mx=class extends nn{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});let e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}},Sn=class extends nn{children;labelView;iconView;keystrokeView;_focusDelayed=null;constructor(e,t=new Mx){super(e);let i=this.bindTemplate,r=ts();this.set("_ariaPressed",!1),this.set("_ariaChecked",!1),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${r}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(t),this.iconView=new sd,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));let o={tag:"button",attributes:{class:["ck","ck-button",i.to("class"),i.if("isEnabled","ck-disabled",s=>!s),i.if("isVisible","ck-hidden",s=>!s),i.to("isOn",s=>s?"ck-on":"ck-off"),i.if("withText","ck-button_with-text"),i.if("withKeystroke","ck-button_with-keystroke")],role:i.to("role"),type:i.to("type",s=>s||"button"),tabindex:i.to("tabindex"),"aria-checked":i.to("_ariaChecked"),"aria-pressed":i.to("_ariaPressed"),"aria-label":i.to("ariaLabel"),"aria-labelledby":i.to("ariaLabelledBy"),"aria-disabled":i.if("isEnabled",!0,s=>!s),"data-cke-tooltip-text":i.to("_tooltipString"),"data-cke-tooltip-position":i.to("tooltipPosition")},children:this.children,on:{click:i.to(s=>{this.isEnabled?this.fire("execute"):s.preventDefault()})}};this.bind("_ariaPressed").to(this,"isOn",this,"isToggleable",this,"role",(s,a,l)=>!a||lj(l)?!1:String(!!s)),this.bind("_ariaChecked").to(this,"isOn",this,"isToggleable",this,"role",(s,a,l)=>!a||!lj(l)?!1:String(!!s)),_n.isSafari&&(this._focusDelayed||(this._focusDelayed=Ig(()=>this.focus(),0)),o.on.mousedown=i.to(()=>{this._focusDelayed()}),o.on.mouseup=i.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(o)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){let e=new nn;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>q1(t))}]}),e}_getTooltipString(e,t,i){return e?typeof e=="string"?e:(i&&(i=q1(i)),e instanceof Function?e(t,i):`${t}${i?` (${i})`:""}`):""}};function lj(n){switch(n){case"radio":case"checkbox":case"option":case"switch":case"menuitemcheckbox":case"menuitemradio":return!0;default:return!1}}var yv=class extends nn{children;iconView;constructor(e,t={}){super(e);let i=this.bindTemplate;this.set("label",t.label||""),this.set("class",t.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",i.to("class")]},children:this.children}),t.icon&&(this.iconView=new sd,this.iconView.content=t.icon,this.children.add(this.iconView));let r=new nn(e);r.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:i.to("label")}]}),this.children.add(r)}},ys=class extends Fi(){focusables;focusTracker;keystrokeHandler;actions;constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(let t in e.actions){let i=e.actions[t];typeof i=="string"&&(i=[i]);for(let r of i)e.keystrokeHandler.set(r,(o,s)=>{this[t](),s()},e.keystrokeHandlerOptions)}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(l4)||null}get last(){return this.focusables.filter(l4).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((t,i)=>{let r=t.element===this.focusTracker.focusedElement;return r&&(e=i),r}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){let e=this.next;if(e&&this.focusables.getIndex(e)===this.current){this.fire("forwardCycle");return}e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){let e=this.previous;if(e&&this.focusables.getIndex(e)===this.current){this.fire("backwardCycle");return}e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}chain(e){let t=()=>this.current===null?null:this.focusables.get(this.current);this.listenTo(e,"forwardCycle",i=>{let r=t();this.focusNext(),r!==t()&&i.stop()},{priority:"low"}),this.listenTo(e,"backwardCycle",i=>{let r=t();this.focusPrevious(),r!==t()&&i.stop()},{priority:"low"})}unchain(e){this.stopListening(e)}_focus(e,t){e&&this.focusTracker.focusedElement!==e.element&&e.focus(t)}_getDomFocusableItem(e){let t=this.focusables.length;if(!t)return null;let i=this.current;if(i===null)return this[e===1?"first":"last"];let r=this.focusables.get(i),o=(i+t+e)%t;do{let s=this.focusables.get(o);if(l4(s)){r=s;break}o=(o+t+e)%t}while(o!==i);return r}};function l4(n){return Cv(n)&&rc(n.element)}function Cv(n){return"focus"in n&&typeof n.focus=="function"}function Lpe(n){return Cv(n)&&"focusCycler"in n&&n.focusCycler instanceof ys}function Fpe(n){class e extends n{_onDragBound=this._onDrag.bind(this);_onDragEndBound=this._onDragEnd.bind(this);_lastDraggingCoordinates={x:0,y:0};constructor(...i){super(...i),this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(Kt.document,"mouseup",this._onDragEndBound),this.listenTo(Kt.document,"touchend",this._onDragEndBound),this.listenTo(Kt.document,"mousemove",this._onDragBound),this.listenTo(Kt.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(Kt.document,"mouseup",this._onDragEndBound),this.stopListening(Kt.document,"touchend",this._onDragEndBound),this.stopListening(Kt.document,"mousemove",this._onDragBound),this.stopListening(Kt.document,"touchmove",this._onDragBound)}_onDragStart(i,r){if(!this._isHandleElementPressed(r))return;this._attachDragListeners();let o=0,s=0;r instanceof MouseEvent?(o=r.clientX,s=r.clientY):(o=r.touches[0].clientX,s=r.touches[0].clientY),this._lastDraggingCoordinates={x:o,y:s},this.isDragging=!0}_onDrag(i,r){if(!this.isDragging){this._detachDragListeners();return}let o=0,s=0;r instanceof MouseEvent?(o=r.clientX,s=r.clientY):(o=r.touches[0].clientX,s=r.touches[0].clientY),r.preventDefault(),this.fire("drag",{deltaX:Math.round(o-this._lastDraggingCoordinates.x),deltaY:Math.round(s-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:o,y:s}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(i){return this.dragHandleElement?this.dragHandleElement===i.target||i.target instanceof HTMLElement&&this.dragHandleElement.contains(i.target):!1}}return e}var m4=class extends nn{children;keystrokes;focusCycler;_focusTracker;_focusables;constructor(e){super(e),this.children=this.createCollection(),this.keystrokes=new Fr,this._focusTracker=new Sr,this._focusables=new ws,this.focusCycler=new ys({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(let t of e){let i=new Sn(this.locale),r;i.on("execute",()=>t.onExecute()),t.onCreate&&t.onCreate(i);for(r in t)r!="onExecute"&&r!="onCreate"&&i.set(r,t[r]);this.children.add(i)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}},p4=class extends nn{children;constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}},Sa={SCREEN_CENTER:"screen-center",EDITOR_CENTER:"editor-center",EDITOR_TOP_SIDE:"editor-top-side",EDITOR_TOP_CENTER:"editor-top-center",EDITOR_BOTTOM_CENTER:"editor-bottom-center",EDITOR_ABOVE_CENTER:"editor-above-center",EDITOR_BELOW_CENTER:"editor-below-center"},cj=ed("px"),Lx=(()=>{class n extends Fpe(nn){parts;headerView;closeButtonView;actionsView;static defaultOffset=15;contentView;keystrokes;focusTracker;wasMoved=!1;_getCurrentDomRoot;_getViewportOffset;_focusables;_focusCycler;constructor(t,{getCurrentDomRoot:i,getViewportOffset:r}){super(t);let o=this.bindTemplate,s=t.t;this.set("className",""),this.set("ariaLabel",s("Editor dialog")),this.set("isModal",!1),this.set("position",Sa.SCREEN_CENTER),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=i,this._getViewportOffset=r,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new Fr,this.focusTracker=new Sr,this._focusables=new ws,this._focusCycler=new ys({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",o.if("isModal","ck-dialog-overlay__transparent",a=>!a),o.if("_isVisible","ck-hidden",a=>!a)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",o.to("className")],role:"dialog","aria-label":o.to("ariaLabel"),style:{top:o.to("_top",a=>cj(a)),left:o.to("_left",a=>cj(a)),visibility:o.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(t,i)=>{this.fire("close",{source:"escKeyPress"}),i()}),this.on("drag",(t,{deltaX:i,deltaY:r})=>{this.wasMoved=!0,this.moveBy(i,r)}),this.listenTo(Kt.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(Kt.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(t,i,r)=>{r&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:t,title:i,hasCloseButton:r=!0,content:o,actionButtons:s}){i&&(this.headerView=new yv(this.locale,{icon:t}),r&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=i,this.ariaLabel=i,this.parts.add(this.headerView,0)),o&&(o instanceof nn&&(o=[o]),this.contentView=new p4(this.locale),this.contentView.children.addMany(o),this.parts.add(this.contentView)),s&&(this.actionsView=new m4(this.locale),this.actionsView.setButtons(s),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(t,i){let r=this._getViewportRect(),o=this._getDialogRect();t+o.width>r.right&&(t=r.right-o.width),t<r.left&&(t=r.left),i<r.top&&(i=r.top),this._moveTo(t,i)}_moveTo(t,i){this._left=t,this._top=i}moveBy(t,i){this.moveTo(this._left+t,this._top+i)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;let t=this._getViewportRect(),i=this.position,r;this._getCurrentDomRoot()?r=this._getVisibleDomRootRect(t):i=Sa.SCREEN_CENTER;let o=n.defaultOffset,s=this._getDialogRect();switch(i){case Sa.EDITOR_TOP_SIDE:{if(r){let a=this.locale.contentLanguageDirection==="ltr"?r.right-s.width-o:r.left+o;this.moveTo(a,r.top+o)}else this._moveOffScreen();break}case Sa.EDITOR_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-s.width/2),Math.round(r.top+r.height/2-s.height/2)):this._moveOffScreen();break}case Sa.SCREEN_CENTER:{this.moveTo(Math.round((t.width-s.width)/2),Math.round((t.height-s.height)/2));break}case Sa.EDITOR_TOP_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-s.width/2),r.top+o):this._moveOffScreen();break}case Sa.EDITOR_BOTTOM_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-s.width/2),r.bottom-s.height-o):this._moveOffScreen();break}case Sa.EDITOR_ABOVE_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-s.width/2),r.top-s.height-o):this._moveOffScreen();break}case Sa.EDITOR_BELOW_CENTER:{r?this.moveTo(Math.round(r.left+r.width/2-s.width/2),r.bottom+o):this._moveOffScreen();break}}}_getVisibleDomRootRect(t){let i=new si(this._getCurrentDomRoot()).getVisible();if(i){if(i=t.getIntersection(i),!i)return null}else return null;return i}_getDialogRect(){return new si(this.element.firstElementChild)}_getViewportRect(){return Bpe(this._getViewportOffset())}_updateFocusCyclableItems(){let t=[];if(this.contentView)for(let i of this.contentView.children)Cv(i)&&t.push(i);this.actionsView&&t.push(this.actionsView),this.closeButtonView&&t.push(this.closeButtonView),t.forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element),Lpe(i)&&this._focusCycler.chain(i.focusCycler)})}_createCloseButton(){let t=new Sn(this.locale),i=this.locale.t;return t.set({label:i("Close"),tooltip:!0,icon:Mn.cancel}),t.on("execute",()=>this.fire("close",{source:"closeButton"})),t}}return n})();function Bpe(n){n=Object.assign({top:0,bottom:0,left:0,right:0},n);let e=new si(Kt.window);return e.top+=n.top,e.height-=n.top,e.bottom-=n.bottom,e.height-=n.bottom,e.left+=n.left,e.right-=n.right,e.width-=n.left+n.right,e}var Jg=(()=>{class n extends yt{view;static _visibleDialogPlugin;_onHide;static get pluginName(){return"Dialog"}constructor(t){super(t);let i=t.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set({id:null,isOpen:!1}),t.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:i("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}_initShowHideListeners(){this.on("show",(t,i)=>{this._show(i)}),this.on("show",(t,i)=>{i.onShow&&i.onShow(this)},{priority:"low"}),this.on("hide",()=>{n._visibleDialogPlugin&&n._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){let t=this.editor;t.keystrokes.set("Ctrl+F6",(i,r)=>{!this.isOpen||this.view.isModal||(this.view.focusTracker.isFocused?t.editing.view.focus():this.view.focus(),r())})}_initMultiRootIntegration(){let t=this.editor.model;t.document.on("change:data",()=>{if(!this.view)return;let i=t.document.differ.getChangedRoots();for(let r of i)r.state&&this.view.updatePosition()})}show(t){this.hide(),this.fire(`show:${t.id}`,t)}_show({id:t,icon:i,title:r,hasCloseButton:o=!0,content:s,actionButtons:a,className:l,isModal:c,position:u,onHide:d}){let f=this.editor;this.view=new Lx(f.locale,{getCurrentDomRoot:()=>f.editing.view.getDomRoot(f.model.document.selection.anchor.root.rootName),getViewportOffset:()=>f.ui.viewportOffset});let h=this.view;h.on("close",()=>{this.hide()}),f.ui.view.body.add(h),f.keystrokes.listenTo(h.element),u||(u=c?Sa.SCREEN_CENTER:Sa.EDITOR_CENTER),h.set({position:u,_isVisible:!0,className:l,isModal:c}),h.setupParts({icon:i,title:r,hasCloseButton:o,content:s,actionButtons:a}),this.id=t,d&&(this._onHide=d),this.isOpen=!0,n._visibleDialogPlugin=this}hide(){n._visibleDialogPlugin&&n._visibleDialogPlugin.fire(`hide:${n._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;let t=this.editor,i=this.view;i.contentView&&i.contentView.reset(),t.ui.view.body.remove(i),t.ui.focusTracker.remove(i.element),t.keystrokes.stopListening(i.element),i.destroy(),t.editing.view.focus(),this.id=null,this.isOpen=!1,n._visibleDialogPlugin=null}}return n})(),zh=class extends Sn{_checkIconHolderView=new g4;constructor(e,t=new Mx){super(e,t),this.set({hasCheckSpace:!1,_hasCheck:this.isToggleable});let i=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-list-item-button",i.if("isToggleable","ck-list-item-button_toggleable")]}}),this.bind("_hasCheck").to(this,"hasCheckSpace",this,"isToggleable",(r,o)=>r||o)}render(){super.render(),this._hasCheck&&this.children.add(this._checkIconHolderView,0),this._watchCheckIconHolderMount()}_watchCheckIconHolderMount(){this._checkIconHolderView.bind("isOn").to(this,"isOn",e=>this.isToggleable&&e),this.on("change:_hasCheck",(e,t,i)=>{let{children:r,_checkIconHolderView:o}=this;i?r.add(o,0):r.remove(o)})}},g4=class extends nn{children;_checkIconView=this._createCheckIconView();constructor(){super();let e=this.bindTemplate;this.children=this.createCollection(),this.set("isOn",!1),this.setTemplate({tag:"span",children:this.children,attributes:{class:["ck","ck-list-item-button__check-holder",e.to("isOn",t=>t?"ck-on":"ck-off")]}})}render(){super.render(),this.isOn&&this.children.add(this._checkIconView,0),this._watchCheckIconMount()}_watchCheckIconMount(){this.on("change:isOn",(e,t,i)=>{let{children:r,_checkIconView:o}=this;i&&!r.has(o)?r.add(o):!i&&r.has(o)&&r.remove(o)})}_createCheckIconView(){let e=new sd;return e.content=Mn.check,e.extendTemplate({attributes:{class:"ck-list-item-button__check-icon"}}),e}},gi=class extends zh{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}},Uh=class extends nn{id;constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${ts()}`;let t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}},b4=class extends nn{constructor(e,t){super(e);let i=e.t,r=new Uh;r.text=i("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":r.id,role:"document",tabindex:-1},children:[gs(document,"p",{},i("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(t.values())),r]})}focus(){this.element.focus()}_createCategories(e){return e.map(t=>{let i=[gs(document,"h3",{},t.label),...Array.from(t.groups.values()).map(r=>this._createGroup(r)).flat()];return t.description&&i.splice(1,0,gs(document,"p",{},t.description)),gs(document,"section",{},i)})}_createGroup(e){let t=e.keystrokes.sort((r,o)=>r.label.localeCompare(o.label)).map(r=>this._createGroupRow(r)).flat(),i=[gs(document,"dl",{},t)];return e.label&&i.unshift(gs(document,"h4",{},e.label)),i}_createGroupRow(e){let t=this.locale.t,i=gs(document,"dt"),r=gs(document,"dd"),o=jpe(e.keystroke),s=[];for(let a of o)s.push(a.map(Vpe).join(""));return i.innerHTML=e.label,r.innerHTML=s.join(", ")+(e.mayRequireFn&&_n.isMac?` ${t("(may require <kbd>Fn</kbd>)")}`:""),[i,r]}};function Vpe(n){return q1(n).split("+").map(e=>`<kbd>${e}</kbd>`).join("+")}function jpe(n){return typeof n=="string"?[[n]]:typeof n[0]=="string"?[n]:n}var uj='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>',Hh=class extends yt{contentView=null;static get requires(){return[Jg]}static get pluginName(){return"AccessibilityHelp"}init(){let e=this.editor,t=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",()=>{let i=this._createButton(Sn);return i.set({tooltip:!0,withText:!1,label:t("Accessibility help")}),i}),e.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{let i=this._createButton(gi);return i.label=t("Accessibility"),i}),e.keystrokes.set("Alt+0",(i,r)=>{this._toggleDialog(),r()}),this._setupRootLabels()}_createButton(e){let t=this.editor,i=t.plugins.get("Dialog"),r=t.locale,o=new e(r);return o.set({keystroke:"Alt+0",icon:uj,isToggleable:!0}),o.on("execute",()=>this._toggleDialog()),o.bind("isOn").to(i,"id",s=>s==="accessibilityHelp"),o}_setupRootLabels(){let e=this.editor,t=e.editing.view,i=e.t;e.ui.on("ready",()=>{t.change(o=>{for(let s of t.document.roots)r(o,s)}),e.on("addRoot",(o,s)=>{let a=e.editing.view.document.getRoot(s.rootName);t.change(l=>r(l,a))},{priority:"low"})});function r(o,s){let l=[s.getAttribute("aria-label"),i("Press %0 for help.",[q1("Alt+0")])].filter(c=>c).join(". ");o.setAttribute("aria-label",l,s)}}_toggleDialog(){let e=this.editor,t=e.plugins.get("Dialog"),i=e.locale.t;this.contentView||(this.contentView=new b4(e.locale,e.accessibility.keystrokeInfos)),t.id==="accessibilityHelp"?t.hide():t.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:i("Accessibility help"),icon:uj,hasCloseButton:!0,content:this.contentView})}},v4=class extends ws{locale;_bodyCollectionContainer;constructor(e,t=[]){super(t),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Qs({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection,role:"application"},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=gs(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();let e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}},su=class extends Sn{toggleSwitchView;constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){let e=new nn;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}};var w4=class extends zpe(zh){};function zpe(n){class e extends n{buttonView;_fileInputView;constructor(...i){super(...i),this.buttonView=this,this._fileInputView=new y4(this.locale),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}return e}var y4=class extends nn{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);let t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}},U4='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var ac=class extends nn{fieldView;labelView;statusView;fieldWrapperChildren;constructor(e,t){super(e);let i=`ck-labeled-field-view-${ts()}`,r=`ck-labeled-field-view-status-${ts()}`;this.fieldView=t(this,i,r),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(i),this.statusView=this._createStatusView(r),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(s,a)=>s||a);let o=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",o.to("class"),o.if("isEnabled","ck-disabled",s=>!s),o.if("isEmpty","ck-labeled-field-view_empty"),o.if("isFocused","ck-labeled-field-view_focused"),o.if("placeholder","ck-labeled-field-view_placeholder"),o.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){let t=new Uh(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){let t=new nn(this.locale),i=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",i.if("errorText","ck-labeled-field-view__status_error"),i.if("_statusText","ck-hidden",r=>!r)],id:e,role:i.if("errorText","alert")},children:[{text:i.to("_statusText")}]}),t}focus(e){this.fieldView.focus(e)}},_4=class extends nn{focusTracker;constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new Sr,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);let t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),tabindex:t.to("tabIndex"),readonly:t.to("isReadOnly"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById"),"aria-label":t.to("ariaLabel")},on:{input:t.to((...i)=>{this.fire("input",...i),this._updateIsEmpty()}),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,t,i)=>{this._setDomElementValue(i),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=Upe(this.element)}_setDomElementValue(e){this.element.value=!e&&e!==0?"":e}};function Upe(n){return!n.value}var x4=class extends _4{constructor(e){super(e),this.set("inputMode","text");let t=this.bindTemplate;this.extendTemplate({attributes:{inputmode:t.to("inputMode")}})}},Px=class extends x4{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}};var C4=class extends nn{children;constructor(e){super(e);let t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",i=>`ck-dropdown__panel_${i}`),t.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:t.to(i=>{i.target.tagName.toLocaleLowerCase()!=="input"&&i.preventDefault()})}})}focus(){if(this.children.length){let e=this.children.first;typeof e.focus=="function"?e.focus():vi("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){let e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}},Ej=(()=>{class n extends nn{buttonView;panelView;focusTracker;keystrokes;listView;toolbarView;menuView;constructor(t,i,r){super(t);let o=this.bindTemplate;this.buttonView=i,this.panelView=r,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Fr,this.focusTracker=new Sr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",o.to("class"),o.if("isEnabled","ck-disabled",s=>!s)],id:o.to("id"),"aria-describedby":o.to("ariaDescribedById")},children:[i,r]}),i.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":o.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(i,r,o)=>{if(o)if(this.panelPosition==="auto"){let s=n._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=s?s.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);let t=(i,r)=>{this.isOpen&&(this.isOpen=!1,r())};this.keystrokes.set("arrowdown",(i,r)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,r())}),this.keystrokes.set("arrowright",(i,r)=>{this.isOpen&&r()}),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}focus(){this.buttonView.focus()}get _panelPositions(){let{south:t,north:i,southEast:r,southWest:o,northEast:s,northWest:a,southMiddleEast:l,southMiddleWest:c,northMiddleEast:u,northMiddleWest:d}=n.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[r,o,l,c,t,s,a,u,d,i]:[o,r,c,l,t,a,s,d,u,i]}static defaultPanelPositions={south:(t,i)=>({top:t.bottom,left:t.left-(i.width-t.width)/2,name:"s"}),southEast:t=>({top:t.bottom,left:t.left,name:"se"}),southWest:(t,i)=>({top:t.bottom,left:t.left-i.width+t.width,name:"sw"}),southMiddleEast:(t,i)=>({top:t.bottom,left:t.left-(i.width-t.width)/4,name:"sme"}),southMiddleWest:(t,i)=>({top:t.bottom,left:t.left-(i.width-t.width)*3/4,name:"smw"}),north:(t,i)=>({top:t.top-i.height,left:t.left-(i.width-t.width)/2,name:"n"}),northEast:(t,i)=>({top:t.top-i.height,left:t.left,name:"ne"}),northWest:(t,i)=>({top:t.top-i.height,left:t.left-i.width+t.width,name:"nw"}),northMiddleEast:(t,i)=>({top:t.top-i.height,left:t.left-(i.width-t.width)/4,name:"nme"}),northMiddleWest:(t,i)=>({top:t.top-i.height,left:t.left-(i.width-t.width)*3/4,name:"nmw"})};static _getOptimalPosition=nx}return n})(),Dx=class extends Sn{arrowView;constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){let e=new sd;return e.content=U4,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}};var lc=class extends nn{children;constructor(e){super(e);let t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",i=>!i)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}},bm=class extends nn{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}},Gg=class extends nn{labelView;items;children;constructor(e,t=new Uh){super(e);let i=this.bindTemplate,r=new Zg(e);this.set({label:"",isVisible:!0}),this.labelView=t,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,r]),r.set({role:"group",ariaLabelledBy:t.id}),r.focusTracker.destroy(),r.keystrokes.destroy(),this.items=r.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",i.if("isVisible","ck-hidden",o=>!o)]},children:this.children})}focus(){if(this.items){let e=this.items.find(t=>!(t instanceof bm));e&&e.focus()}}},Zg=class extends nn{focusables;items;focusTracker;keystrokes;_focusCycler;_listItemGroupToChangeListeners=new WeakMap;constructor(e){super(e);let t=this.bindTemplate;this.focusables=new ws,this.items=this.createCollection(),this.focusTracker=new Sr,this.keystrokes=new Fr,this._focusCycler=new ys({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:t.to("role"),"aria-label":t.to("ariaLabel"),"aria-labelledby":t.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(let e of this.items)e instanceof Gg?this._registerFocusableItemsGroup(e):e instanceof lc&&this._registerFocusableListItem(e);this.items.on("change",(e,t)=>{for(let i of t.removed)i instanceof Gg?this._deregisterFocusableItemsGroup(i):i instanceof lc&&this._deregisterFocusableListItem(i);for(let i of Array.from(t.added).reverse())i instanceof Gg?this._registerFocusableItemsGroup(i,t.index):this._registerFocusableListItem(i,t.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,t){this.focusTracker.add(e.element),this.focusables.add(e,t)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(t,i)=>{for(let r of i.removed)this._deregisterFocusableListItem(r);for(let r of Array.from(i.added).reverse())this._registerFocusableListItem(r,this.items.getIndex(e)+i.index)}}_registerFocusableItemsGroup(e,t){Array.from(e.items).forEach((r,o)=>{let s=typeof t<"u"?t+o:void 0;this._registerFocusableListItem(r,s)});let i=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,i),e.items.on("change",i)}_deregisterFocusableItemsGroup(e){for(let t of e.items)this._deregisterFocusableListItem(t);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}};var dj=ed("px"),Hpe={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},rd=(()=>{class n extends nn{content;_pinWhenIsVisibleCallback;_resizeObserver;constructor(t){super(t);let i=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this._resizeObserver=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",i.to("position",r=>`ck-balloon-panel_${r}`),i.if("isVisible","ck-balloon-panel_visible"),i.if("withArrow","ck-balloon-panel_with-arrow"),i.to("class")],style:{top:i.to("top",dj),left:i.to("left",dj)}},children:this.content})}destroy(){this.hide(),super.destroy()}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(t){let i=Ax(t.target);if(i&&!rc(i))return!1;this.show();let r=n.defaultPositions,o=Object.assign({},{element:this.element,positions:[r.southArrowNorth,r.southArrowNorthMiddleWest,r.southArrowNorthMiddleEast,r.southArrowNorthWest,r.southArrowNorthEast,r.northArrowSouth,r.northArrowSouthMiddleWest,r.northArrowSouthMiddleEast,r.northArrowSouthWest,r.northArrowSouthEast,r.viewportStickyNorth],limiter:Kt.document.body,fitInViewport:!0},t),s=n._getOptimalPosition(o)||Hpe,a=parseInt(s.left),l=parseInt(s.top),c=s.name,u=s.config||{},{withArrow:d=!0}=u;return this.top=l,this.left=a,this.position=c,this.withArrow=d,!0}pin(t){this.unpin(),this._startPinning(t)&&(this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(t):this._stopPinning()},this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback))}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(t){if(!this.attachTo(t))return!1;let i=Ax(t.target),r=t.limiter?Ax(t.limiter):Kt.document.body;if(this.listenTo(Kt.document,"scroll",(o,s)=>{let a=s.target,l=i&&a.contains(i),c=r&&a.contains(r);(l||c||!i||!r)&&this.attachTo(t)},{useCapture:!0}),this.listenTo(Kt.window,"resize",()=>{this.attachTo(t)}),!this._resizeObserver&&(i&&Br(i)&&(i=i.parentElement),i)){let o=()=>{rc(i)||this.unpin()};this._resizeObserver=new Eg(i,o)}return!0}_stopPinning(){this.stopListening(Kt.document,"scroll"),this.stopListening(Kt.window,"resize"),this._resizeObserver&&(this._resizeObserver.destroy(),this._resizeObserver=null)}static generatePositions(t={}){let{sideOffset:i=n.arrowSideOffset,heightOffset:r=n.arrowHeightOffset,stickyVerticalOffset:o=n.stickyVerticalOffset,config:s}=t;return{northWestArrowSouthWest:(c,u)=>Be({top:a(c,u),left:c.left-i,name:"arrow_sw"},s&&{config:s}),northWestArrowSouthMiddleWest:(c,u)=>Be({top:a(c,u),left:c.left-u.width*.25-i,name:"arrow_smw"},s&&{config:s}),northWestArrowSouth:(c,u)=>Be({top:a(c,u),left:c.left-u.width/2,name:"arrow_s"},s&&{config:s}),northWestArrowSouthMiddleEast:(c,u)=>Be({top:a(c,u),left:c.left-u.width*.75+i,name:"arrow_sme"},s&&{config:s}),northWestArrowSouthEast:(c,u)=>Be({top:a(c,u),left:c.left-u.width+i,name:"arrow_se"},s&&{config:s}),northArrowSouthWest:(c,u)=>Be({top:a(c,u),left:c.left+c.width/2-i,name:"arrow_sw"},s&&{config:s}),northArrowSouthMiddleWest:(c,u)=>Be({top:a(c,u),left:c.left+c.width/2-u.width*.25-i,name:"arrow_smw"},s&&{config:s}),northArrowSouth:(c,u)=>Be({top:a(c,u),left:c.left+c.width/2-u.width/2,name:"arrow_s"},s&&{config:s}),northArrowSouthMiddleEast:(c,u)=>Be({top:a(c,u),left:c.left+c.width/2-u.width*.75+i,name:"arrow_sme"},s&&{config:s}),northArrowSouthEast:(c,u)=>Be({top:a(c,u),left:c.left+c.width/2-u.width+i,name:"arrow_se"},s&&{config:s}),northEastArrowSouthWest:(c,u)=>Be({top:a(c,u),left:c.right-i,name:"arrow_sw"},s&&{config:s}),northEastArrowSouthMiddleWest:(c,u)=>Be({top:a(c,u),left:c.right-u.width*.25-i,name:"arrow_smw"},s&&{config:s}),northEastArrowSouth:(c,u)=>Be({top:a(c,u),left:c.right-u.width/2,name:"arrow_s"},s&&{config:s}),northEastArrowSouthMiddleEast:(c,u)=>Be({top:a(c,u),left:c.right-u.width*.75+i,name:"arrow_sme"},s&&{config:s}),northEastArrowSouthEast:(c,u)=>Be({top:a(c,u),left:c.right-u.width+i,name:"arrow_se"},s&&{config:s}),southWestArrowNorthWest:c=>Be({top:l(c),left:c.left-i,name:"arrow_nw"},s&&{config:s}),southWestArrowNorthMiddleWest:(c,u)=>Be({top:l(c),left:c.left-u.width*.25-i,name:"arrow_nmw"},s&&{config:s}),southWestArrowNorth:(c,u)=>Be({top:l(c),left:c.left-u.width/2,name:"arrow_n"},s&&{config:s}),southWestArrowNorthMiddleEast:(c,u)=>Be({top:l(c),left:c.left-u.width*.75+i,name:"arrow_nme"},s&&{config:s}),southWestArrowNorthEast:(c,u)=>Be({top:l(c),left:c.left-u.width+i,name:"arrow_ne"},s&&{config:s}),southArrowNorthWest:c=>Be({top:l(c),left:c.left+c.width/2-i,name:"arrow_nw"},s&&{config:s}),southArrowNorthMiddleWest:(c,u)=>Be({top:l(c),left:c.left+c.width/2-u.width*.25-i,name:"arrow_nmw"},s&&{config:s}),southArrowNorth:(c,u)=>Be({top:l(c),left:c.left+c.width/2-u.width/2,name:"arrow_n"},s&&{config:s}),southArrowNorthMiddleEast:(c,u)=>Be({top:l(c),left:c.left+c.width/2-u.width*.75+i,name:"arrow_nme"},s&&{config:s}),southArrowNorthEast:(c,u)=>Be({top:l(c),left:c.left+c.width/2-u.width+i,name:"arrow_ne"},s&&{config:s}),southEastArrowNorthWest:c=>Be({top:l(c),left:c.right-i,name:"arrow_nw"},s&&{config:s}),southEastArrowNorthMiddleWest:(c,u)=>Be({top:l(c),left:c.right-u.width*.25-i,name:"arrow_nmw"},s&&{config:s}),southEastArrowNorth:(c,u)=>Be({top:l(c),left:c.right-u.width/2,name:"arrow_n"},s&&{config:s}),southEastArrowNorthMiddleEast:(c,u)=>Be({top:l(c),left:c.right-u.width*.75+i,name:"arrow_nme"},s&&{config:s}),southEastArrowNorthEast:(c,u)=>Be({top:l(c),left:c.right-u.width+i,name:"arrow_ne"},s&&{config:s}),westArrowEast:(c,u)=>Be({top:c.top+c.height/2-u.height/2,left:c.left-u.width-r,name:"arrow_e"},s&&{config:s}),eastArrowWest:(c,u)=>Be({top:c.top+c.height/2-u.height/2,left:c.right+r,name:"arrow_w"},s&&{config:s}),viewportStickyNorth:(c,u,d,f)=>{let h=f||d;return!c.getIntersection(h)||h.height-c.height>o?null:{top:h.top+o,left:c.left+c.width/2-u.width/2,name:"arrowless",config:Be({withArrow:!1},s)}}};function a(c,u){return c.top-u.height-r}function l(c){return c.bottom+r}}static arrowSideOffset=25;static arrowHeightOffset=10;static stickyVerticalOffset=20;static _getOptimalPosition=nx;static defaultPositions=n.generatePositions()}return n})();function Ax(n){return Sl(n)?n:W1(n)?n.commonAncestorContainer:typeof n=="function"?Ax(n()):null}var _v=class extends nn{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}},k4=class extends nn{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}};function Wpe(n){return n.bindTemplate.to(e=>{e.target===n.element&&e.preventDefault()})}function Fx(n){if(Array.isArray(n))return{items:n,removeItems:[]};let e={items:[],removeItems:[]};return n?Be(Be({},e),n):e}var $pe={alignLeft:Mn.alignLeft,bold:Mn.bold,importExport:Mn.importExport,paragraph:Mn.paragraph,plus:Mn.plus,text:Mn.text,threeVerticalDots:Mn.threeVerticalDots,pilcrow:Mn.pilcrow,dragIndicator:Mn.dragIndicator},cc=class extends nn{options;items;focusTracker;keystrokes;itemsView;children;focusables;_focusCycler;_behavior;constructor(e,t){super(e);let i=this.bindTemplate,r=this.t;this.options=t||{},this.set("ariaLabel",r("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Sr,this.keystrokes=new Fr,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new E4(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();let o=e.uiLanguageDirection==="rtl";this._focusCycler=new ys({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[o?"arrowright":"arrowleft","arrowup"],focusNext:[o?"arrowleft":"arrowright","arrowdown"]}});let s=["ck","ck-toolbar",i.to("class"),i.if("isCompact","ck-toolbar_compact")];this.options.shouldGroupWhenFull&&this.options.isFloating&&s.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:s,role:"toolbar","aria-label":i.to("ariaLabel"),style:{maxWidth:i.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:Wpe(this)}}),this._behavior=this.options.shouldGroupWhenFull?new A4(this):new S4(this)}render(){super.render(),this.focusTracker.add(this.element);for(let e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,i){this.items.addMany(this._buildItemsFromConfig(e,t,i))}_buildItemsFromConfig(e,t,i){let r=Fx(e),o=i||r.removeItems;return this._cleanItemsConfiguration(r.items,t,o).map(a=>ui(a)?this._createNestedToolbarDropdown(a,t,o):a==="|"?new _v:a==="-"?new k4:t.create(a)).filter(a=>!!a)}_cleanItemsConfiguration(e,t,i){let r=e.filter((o,s,a)=>o==="|"?!0:i.indexOf(o)!==-1?!1:o==="-"?this.options.shouldGroupWhenFull?(vi("toolbarview-line-break-ignored-when-grouping-items",a),!1):!0:!ui(o)&&!t.has(o)?(vi("toolbarview-item-unavailable",{item:o}),!1):!0);return this._cleanSeparatorsAndLineBreaks(r)}_cleanSeparatorsAndLineBreaks(e){let t=s=>s!=="-"&&s!=="|",i=e.length,r=e.findIndex(t);if(r===-1)return[];let o=i-e.slice().reverse().findIndex(t);return e.slice(r,o).filter((s,a,l)=>t(s)?!0:!(a>0&&l[a-1]===s))}_createNestedToolbarDropdown(e,t,i){let{label:r,icon:o,items:s,tooltip:a=!0,withText:l=!1}=e;if(s=this._cleanItemsConfiguration(s,t,i),!s.length)return null;let c=this.locale,u=Fo(c);return r||vi("toolbarview-nested-toolbar-dropdown-missing-label",e),u.class="ck-toolbar__nested-toolbar-dropdown",u.buttonView.set({label:r,tooltip:a,withText:!!l}),o!==!1?u.buttonView.icon=$pe[o]||o||Mn.threeVerticalDots:u.buttonView.withText=!0,Qg(u,()=>u.toolbarView._buildItemsFromConfig(s,t,i)),u}},E4=class extends nn{children;constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}},S4=class{constructor(e){let t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(i=>i),e.focusables.bindTo(e.items).using(i=>Cv(i)?i:null),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}},A4=class{view;viewChildren;viewFocusables;viewItemsView;viewFocusTracker;viewLocale;ungroupedItems;groupedItems;groupedItemsDropdown;resizeObserver=null;cachedPadding=null;shouldUpdateGroupingOnNextResize=!1;viewElement;constructor(e){this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",(t,i)=>{let r=i.index,o=Array.from(i.added);for(let s of i.removed)r>=this.ungroupedItems.length?this.groupedItems.remove(s):this.ungroupedItems.remove(s);for(let s=r;s<r+o.length;s++){let a=o[s-r];s>this.ungroupedItems.length?this.groupedItems.add(a,s-this.ungroupedItems.length):this.ungroupedItems.add(a,s)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!rc(this.viewElement)){this.shouldUpdateGroupingOnNextResize=!0;return}let e=this.groupedItems.length,t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;let e=this.viewElement,t=this.viewLocale.uiLanguageDirection,i=new si(e.lastChild),r=new si(e);if(!this.cachedPadding){let o=Kt.window.getComputedStyle(e),s=t==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(o[s])}return t==="ltr"?i.right>r.right-this.cachedPadding:i.left<r.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new Eg(this.viewElement,t=>{(!e||e!==t.contentRect.width||this.shouldUpdateGroupingOnNextResize)&&(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new _v),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){let e=this.viewLocale,t=e.t,i=Fo(e);return i.class="ck-toolbar__grouped-dropdown",i.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",Qg(i,this.groupedItems),i.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:Mn.threeVerticalDots}),i}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{Cv(e)&&this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}},od=class extends nn{children;actionView;arrowView;keystrokes;focusTracker;constructor(e,t){super(e);let i=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(t),this.arrowView=this._createArrowView(),this.keystrokes=new Fr,this.focusTracker=new Sr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",i.to("class"),i.if("isVisible","ck-hidden",r=>!r),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){let t=e||new Sn;return e||t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){let e=new Sn,t=e.bindTemplate;return e.icon=U4,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",i=>String(i))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}};function Fo(n,e=Dx){let t=typeof e=="function"?new e(n):e,i=new C4(n),r=new Ej(n,t,i);return t.bind("isEnabled").to(r),t instanceof od?t.arrowView.bind("isOn").to(r,"isOpen"):t.bind("isOn").to(r,"isOpen"),qpe(r),r}function Qg(n,e,t={}){n.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),n.isOpen?hj(n,e,t):n.once("change:isOpen",()=>hj(n,e,t),{priority:"highest"}),t.enableActiveItemFocusOnDropdownOpen&&Bx(n,()=>n.toolbarView.items.find(i=>i.isOn))}function hj(n,e,t){let i=n.locale,r=i.t,o=n.toolbarView=new cc(i),s=typeof e=="function"?e():e;o.ariaLabel=t.ariaLabel||r("Dropdown toolbar"),t.maxWidth&&(o.maxWidth=t.maxWidth),t.class&&(o.class=t.class),t.isCompact&&(o.isCompact=t.isCompact),t.isVertical&&(o.isVertical=!0),s instanceof ws?o.items.bindTo(s).using(a=>a):o.items.addMany(s),n.panelView.children.add(o),o.items.delegate("execute").to(n)}function lu(n,e,t={}){n.isOpen?fj(n,e,t):n.once("change:isOpen",()=>fj(n,e,t),{priority:"highest"}),Bx(n,()=>n.listView.items.find(i=>i instanceof lc?i.children.first.isOn:!1))}function fj(n,e,t){let i=n.locale,r=n.listView=new Zg(i),o=typeof e=="function"?e():e;r.ariaLabel=t.ariaLabel,r.role=t.role,Sj(n,r.items,o,i),n.panelView.children.add(r),r.items.delegate("execute").to(n)}function Bx(n,e){n.on("change:isOpen",()=>{if(!n.isOpen)return;let t=e();t&&(typeof t.focus=="function"?t.focus():vi("ui-dropdown-focus-child-on-open-child-missing-focus",{view:t}))},{priority:ic.low-10})}function qpe(n){Gpe(n),Kpe(n),Zpe(n),Ype(n),Xpe(n),Jpe(n)}function Gpe(n){wm({emitter:n,activator:()=>n.isRendered&&n.isOpen,callback:()=>{n.isOpen=!1},contextElements:()=>[n.element,...n.focusTracker.elements]})}function Kpe(n){n.on("execute",e=>{e.source instanceof su||(n.isOpen=!1)})}function Zpe(n){n.focusTracker.on("change:isFocused",(e,t,i)=>{i||!n.isOpen||(n.isOpen=!1)})}function Ype(n){n.keystrokes.set("arrowdown",(e,t)=>{n.isOpen&&(n.panelView.focus(),t())}),n.keystrokes.set("arrowup",(e,t)=>{n.isOpen&&(n.panelView.focusLast(),t())})}function Xpe(n){n.on("change:isOpen",(e,t,i)=>{if(i)return;n.focusTracker.elements.some(o=>o.contains(Kt.document.activeElement))&&n.buttonView.focus()})}function Jpe(n){n.on("change:isOpen",(e,t,i)=>{i&&n.panelView.focus()},{priority:"low"})}function Sj(n,e,t,i){e.on("change",()=>{let r=[...e].reduce((s,a)=>(a instanceof lc&&a.children.first instanceof zh&&s.push(a.children.first),s),[]),o=r.some(s=>s.isToggleable);r.forEach(s=>{s.hasCheckSpace=o})}),e.bindTo(t).using(r=>{if(r.type==="separator")return new bm(i);if(r.type==="group"){let o=new Gg(i);return o.set({label:r.label}),Sj(n,o.items,r.items,i),o.items.delegate("execute").to(n),o}else if(r.type==="button"||r.type==="switchbutton"){let o=r.model.role==="menuitemcheckbox"||r.model.role==="menuitemradio",s=new lc(i),a;return r.type==="button"?(a=new zh(i),a.set({isToggleable:o})):a=new su(i),a.bind(...Object.keys(r.model)).to(r.model),a.delegate("execute").to(s),s.children.add(a),s}return null})}var e0=(n,e,t)=>{let i=new Px(n.locale);return i.set({id:e,ariaDescribedById:t}),i.bind("isReadOnly").to(n,"isEnabled",r=>!r),i.bind("hasError").to(n,"errorText",r=>!!r),i.on("input",()=>{n.errorText=null}),n.bind("isEmpty","isFocused","placeholder").to(i),i};var H4=(n,e,t)=>{let i=Fo(n.locale);return i.set({id:e,ariaDescribedById:t}),i.bind("isEnabled").to(n),i};var T4=class{editor;_components=new Map;constructor(e){this.editor=e}*names(){for(let e of this._components.values())yield e.originalName}add(e,t){this._components.set(c4(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new Me("componentfactory-item-missing",this,{name:e});return this._components.get(c4(e)).callback(this.editor.locale)}has(e){return this._components.has(c4(e))}};function c4(n){return String(n).toLowerCase()}var mj="ck-tooltip",I4=class n extends No(){tooltipTextView;balloonPanelView;static defaultBalloonPositions=rd.generatePositions({heightOffset:5,sideOffset:13});_currentElementWithTooltip=null;_currentTooltipPosition=null;_mutationObserver=null;_pinTooltipDebounced;_unpinTooltipDebounced;_watchdogExcluded;static _editors=new Set;static _instance=null;constructor(e){if(super(),n._editors.add(e),n._instance)return n._instance;n._instance=this,this.tooltipTextView=new nn(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new rd(e.locale),this.balloonPanelView.class=mj,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=Qpe(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=Ca(this._pinTooltip,600),this._unpinTooltipDebounced=Ca(this._unpinTooltip,400),this.listenTo(Kt.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(Kt.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Kt.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Kt.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Kt.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Kt.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){let t=e.ui.view&&e.ui.view.body;n._editors.delete(e),this.stopListening(e.ui),t&&t.has(this.balloonPanelView)&&t.remove(this.balloonPanelView),n._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),n._instance=null)}static getPositioningFunctions(e){let t=n.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[e]}_onKeyDown(e,t){t.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),t.stopPropagation())}_onEnterOrFocus(e,{target:t}){let i=u4(t);if(!i){e.name==="focus"&&this._unpinTooltip();return}i!==this._currentElementWithTooltip&&(this._unpinTooltip(),e.name==="focus"&&!i.matches(":hover")?this._pinTooltip(i,d4(i)):this._pinTooltipDebounced(i,d4(i)))}_onLeaveOrBlur(e,{target:t,relatedTarget:i}){if(e.name==="mouseleave"){if(!Sl(t))return;let r=this.balloonPanelView.element,o=r&&(r===i||r.contains(i)),s=!o&&t===r;if(o){this._unpinTooltipDebounced.cancel();return}if(!s&&this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;let a=u4(t),l=u4(i);(s||a&&a!==l)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(e,{target:t}){this._currentElementWithTooltip&&(t.contains(this.balloonPanelView.element)&&t.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:t,position:i,cssClass:r}){this._unpinTooltip();let o=Ar(n._editors.values()).ui.view.body;o.has(this.balloonPanelView)||o.add(this.balloonPanelView),this.tooltipTextView.text=t,this.balloonPanelView.class=[mj,r].filter(s=>s).join(" "),this.balloonPanelView.pin({target:e,positions:n.getPositioningFunctions(i)}),this._mutationObserver.attach(e);for(let s of n._editors)this.listenTo(s.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=i}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(let e of n._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;let e=d4(this._currentElementWithTooltip);if(!rc(this._currentElementWithTooltip)||!e.text){this._unpinTooltip();return}this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:n.getPositioningFunctions(e.position)})}};function u4(n){return Sl(n)?n.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function d4(n){return{text:n.dataset.ckeTooltipText,position:n.dataset.ckeTooltipPosition||"s",cssClass:n.dataset.ckeTooltipClass||""}}function Qpe(n){let e=new MutationObserver(()=>{n()});return{attach(t){e.observe(t,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){e.disconnect()}}}var ege=`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,tge=53,nge=10,ige=50,rge=350,oge="Powered by",M4=class extends No(){editor;_balloonView;_showBalloonThrottled;_lastFocusedEditableElement;constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=Ph(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){let e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){let e=this.editor,t=!!e.config.get("ui.poweredBy.forceVisible");!t&&iB(e.config.get("licenseKey"))==="VALID"||e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(i,r,o)=>{this._updateLastFocusedEditableElement(),o?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(i,r,o)=>{this._updateLastFocusedEditableElement(),o&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){let e=this.editor,t=this._balloonView=new rd,i=Tj(e),r=new P4(e.locale,i.label);t.content.add(r),t.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(t),this._balloonView=t}_showBalloon(){if(!this._lastFocusedEditableElement)return;let e=sge(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){let e=this.editor,t=e.ui.focusTracker.isFocused,i=e.ui.focusTracker.focusedElement;if(!t||!i){this._lastFocusedEditableElement=null;return}let r=Array.from(e.ui.getEditableElementsNames()).map(o=>e.ui.getEditableElement(o));r.includes(i)?this._lastFocusedEditableElement=i:this._lastFocusedEditableElement=r[0]}},P4=class extends nn{constructor(e,t){super(e);let i=new sd,r=this.bindTemplate;i.set({content:ege,isColorInherited:!1}),i.extendTemplate({attributes:{style:{width:tge+"px",height:nge+"px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...t?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[t]}]:[],i],on:{dragstart:r.to(o=>o.preventDefault())}}]})}};function sge(n,e){let t=Tj(n),i=t.side==="right"?age(e,t):lge(e,t);return{target:e,positions:[i]}}function age(n,e){return Aj(n,e,(t,i)=>t.left+t.width-i.width-e.horizontalOffset)}function lge(n,e){return Aj(n,e,t=>t.left+e.horizontalOffset)}function Aj(n,e,t){return(i,r)=>{let o=new si(n);if(o.width<rge||o.height<ige)return null;let s;e.position==="inside"?s=o.bottom-r.height:s=o.bottom-r.height/2,s-=e.verticalOffset;let a=t(o,r),c=i.clone().moveTo(a,s).getIntersection(r.clone().moveTo(a,s)).getVisible();return!c||c.getArea()<r.getArea()?null:{top:s,left:a,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function Tj(n){let e=n.config.get("ui.poweredBy"),t=e&&e.position||"border";return Be({position:t,label:oge,verticalOffset:t==="inside"?5:0,horizontalOffset:5,side:n.locale.contentLanguageDirection==="ltr"?"right":"left"},e)}var pj={POLITE:"polite",ASSERTIVE:"assertive"},D4=class{editor;view;constructor(e){this.editor=e,e.once("ready",()=>{for(let t of Object.values(pj))this.announce("",t)})}announce(e,t=pj.POLITE){let i=this.editor;if(!i.ui.view)return;this.view||(this.view=new O4(i.locale),i.ui.view.body.add(this.view));let{politeness:r,isUnsafeHTML:o}=typeof t=="string"?{politeness:t}:t,s=this.view.regionViews.find(a=>a.politeness===r);s||(s=new R4(i,r),this.view.regionViews.add(s)),s.announce({announcement:e,isUnsafeHTML:o})}},O4=class extends nn{regionViews;constructor(e){super(e),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}},R4=class extends nn{politeness;_domConverter;_pruneAnnouncementsInterval;constructor(e,t){super(e.locale),this.setTemplate({tag:"div",attributes:{"aria-live":t,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=t,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:e,isUnsafeHTML:t}){if(!e.trim().length)return;let i=document.createElement("li");t?this._domConverter.setContentOf(i,e):i.innerText=e,this._listElement.appendChild(i)}get _listElement(){return this.element.querySelector("ul")}},Ha=class extends lc{constructor(e,t){super(e);let i=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:i.to("mouseenter")}}),this.delegate("mouseenter").to(t)}},kx=5,$g={toggleMenusAndFocusItemsOnHover(n){n.on("menu:mouseenter",e=>{if(!(!n.isFocusBorderEnabled&&!n.isOpen)){if(n.isOpen)for(let t of n.menus){let i=e.path[0],r=i instanceof Ha&&i.children.first===t;t.isOpen=(e.path.includes(t)||r)&&t.isEnabled}e.source.focus()}})},focusCycleMenusOnArrows(n){let e=n.locale.uiLanguageDirection==="rtl";n.on("menu:arrowright",i=>{t(i.source,e?-1:1)}),n.on("menu:arrowleft",i=>{t(i.source,e?1:-1)});function t(i,r){let o=n.children.getIndex(i),s=i.isOpen,a=n.children.length,l=n.children.get((o+a+r)%a);i.isOpen=!1,s&&(l.isOpen=!0),l.buttonView.focus()}},closeMenusWhenTheBarCloses(n){n.on("change:isOpen",()=>{n.isOpen||n.menus.forEach(e=>{e.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(n){n.on("menu:change:isOpen",(e,t,i)=>{i&&n.menus.filter(r=>e.source.parentMenuView===r.parentMenuView&&e.source!==r&&r.isOpen).forEach(r=>{r.isOpen=!1})})},closeOnClickOutside(n){wm({emitter:n,activator:()=>n.isOpen,callback:()=>n.close(),contextElements:()=>n.children.map(e=>e.element)})},enableFocusHighlightOnInteraction(n){let e=!1;n.on("change:isOpen",(t,i,r)=>{r||(e||(n.isFocusBorderEnabled=!1),e=!1)}),n.listenTo(n.element,"keydown",()=>{e=!0},{useCapture:!0}),n.listenTo(n.element,"keyup",()=>{e=!1},{useCapture:!0}),n.listenTo(n.element,"focus",()=>{e&&(n.isFocusBorderEnabled=!0)},{useCapture:!0})}},jh={openAndFocusPanelOnArrowDownKey(n){n.keystrokes.set("arrowdown",(e,t)=>{n.focusTracker.focusedElement===n.buttonView.element&&(n.isOpen||(n.isOpen=!0),n.panelView.focus(),t())})},openOnArrowRightKey(n){let e=n.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";n.keystrokes.set(e,(t,i)=>{n.focusTracker.focusedElement!==n.buttonView.element||!n.isEnabled||(n.isOpen||(n.isOpen=!0),n.panelView.focus(),i())})},openOnButtonClick(n){n.buttonView.on("execute",()=>{n.isOpen=!0})},toggleOnButtonClick(n){n.buttonView.on("execute",()=>{n.isOpen=!n.isOpen})},openAndFocusOnEnterKeyPress(n){n.keystrokes.set("enter",(e,t)=>{n.focusTracker.focusedElement===n.buttonView.element&&(n.isOpen=!0,n.panelView.focus(),t())})},closeOnArrowLeftKey(n){let e=n.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";n.keystrokes.set(e,(t,i)=>{n.isOpen&&(n.isOpen=!1,n.focus(),i())})},closeOnEscKey(n){n.keystrokes.set("esc",(e,t)=>{n.isOpen&&(n.isOpen=!1,n.focus(),t())})},closeOnParentClose(n){n.parentMenuView.on("change:isOpen",(e,t,i)=>{!i&&e.source===n.parentMenuView&&(n.isOpen=!1)})}},cge={southEast:n=>({top:n.bottom,left:n.left,name:"se"}),southWest:(n,e)=>({top:n.bottom,left:n.left-e.width+n.width,name:"sw"}),northEast:(n,e)=>({top:n.top-e.height,left:n.left,name:"ne"}),northWest:(n,e)=>({top:n.top-e.height,left:n.left-e.width+n.width,name:"nw"}),eastSouth:n=>({top:n.top,left:n.right-kx,name:"es"}),eastNorth:(n,e)=>({top:n.top-e.height,left:n.right-kx,name:"en"}),westSouth:(n,e)=>({top:n.top,left:n.left-e.width+kx,name:"ws"}),westNorth:(n,e)=>({top:n.top-e.height,left:n.left-e.width+kx,name:"wn"})},uge=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"previewMergeFields",items:["menuBar:previewMergeFields"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:insertImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment","menuBar:insertMergeField"]},{groupId:"insertMinorWidgets",items:["menuBar:mediaEmbed","menuBar:insertTemplate","menuBar:specialCharacters","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:multiLevelList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function dge(n){let e;return!("items"in n)||!n.items?e=Be({items:xa(uge),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0},n):e=Be({items:n.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1},n),e}function hge({normalizedConfig:n,locale:e,componentFactory:t,extraItems:i}){let r=xa(n);return gj(n,r,i),fge(n,r),gj(n,r,r.addItems),mge(n,r,t),Ij(n,r),pge(r,e),r}function fge(n,e){let t=e.removeItems,i=[];e.items=e.items.filter(({menuId:r})=>t.includes(r)?(i.push(r),!1):!0),t0(e.items,r=>{r.groups=r.groups.filter(({groupId:o})=>t.includes(o)?(i.push(o),!1):!0);for(let o of r.groups)o.items=o.items.filter(s=>{let a=Mj(s);return t.includes(a)?(i.push(a),!1):!0})});for(let r of t)i.includes(r)||vi("menu-bar-item-could-not-be-removed",{menuBarConfig:n,itemName:r})}function gj(n,e,t){let i=[];if(t.length!=0){for(let r of t){let o=vge(r.position),s=wge(r.position);if(gge(r))if(!s)o==="start"?(e.items.unshift(r.menu),i.push(r)):o==="end"&&(e.items.push(r.menu),i.push(r));else{let a=e.items.findIndex(l=>l.menuId===s);a!=-1?o==="before"?(e.items.splice(a,0,r.menu),i.push(r)):o==="after"&&(e.items.splice(a+1,0,r.menu),i.push(r)):bj(e,r.menu,s,o)&&i.push(r)}else bge(r)?t0(e.items,a=>{if(a.menuId===s)o==="start"?(a.groups.unshift(r.group),i.push(r)):o==="end"&&(a.groups.push(r.group),i.push(r));else{let l=a.groups.findIndex(c=>c.groupId===s);l!==-1&&(o==="before"?(a.groups.splice(l,0,r.group),i.push(r)):o==="after"&&(a.groups.splice(l+1,0,r.group),i.push(r)))}}):bj(e,r.item,s,o)&&i.push(r)}for(let r of t)i.includes(r)||vi("menu-bar-item-could-not-be-added",{menuBarConfig:n,addedItemConfig:r})}}function bj(n,e,t,i){let r=!1;return t0(n.items,o=>{for(let{groupId:s,items:a}of o.groups){if(r)return;if(s===t)i==="start"?(a.unshift(e),r=!0):i==="end"&&(a.push(e),r=!0);else{let l=a.findIndex(c=>Mj(c)===t);l!==-1&&(i==="before"?(a.splice(l,0,e),r=!0):i==="after"&&(a.splice(l+1,0,e),r=!0))}}}),r}function mge(n,e,t){t0(e.items,i=>{for(let r of i.groups)r.items=r.items.filter(o=>{let s=typeof o=="string"&&!t.has(o);return s&&!e.isUsingDefaultConfig&&vi("menu-bar-item-unavailable",{menuBarConfig:n,parentMenuConfig:xa(i),componentName:o}),!s})})}function Ij(n,e){let t=e.isUsingDefaultConfig,i=!1;if(e.items=e.items.filter(r=>r.groups.length?!0:(h4(n,r,t),!1)),!e.items.length){h4(n,n,t);return}t0(e.items,r=>{r.groups=r.groups.filter(o=>o.items.length?!0:(i=!0,!1));for(let o of r.groups)o.items=o.items.filter(s=>Pj(s)&&!s.groups.length?(h4(n,s,t),i=!0,!1):!0)}),i&&Ij(n,e)}function h4(n,e,t){t||vi("menu-bar-menu-empty",{menuBarConfig:n,emptyMenuConfig:e})}function pge(n,e){let t=e.t,i={File:t({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:t({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:t({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:t({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:t({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:t({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:t({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:t({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:t({string:"Font",id:"MENU_BAR_MENU_FONT"})};t0(n.items,r=>{r.label in i&&(r.label=i[r.label])})}function t0(n,e){if(Array.isArray(n))for(let i of n)t(i);function t(i){e(i);for(let r of i.groups)for(let o of r.items)Pj(o)&&t(o)}}function gge(n){return typeof n=="object"&&"menu"in n}function bge(n){return typeof n=="object"&&"group"in n}function vge(n){return n.startsWith("start")?"start":n.startsWith("end")?"end":n.startsWith("after")?"after":"before"}function wge(n){let e=n.match(/^[^:]+:(.+)/);return e?e[1]:null}function Mj(n){return typeof n=="string"?n:n.menuId}function Pj(n){return typeof n=="object"&&"menuId"in n}var Wh=class extends Oi(){editor;componentFactory;focusTracker;tooltipManager;poweredBy;ariaLiveAnnouncer;isReady=!1;_editableElementsMap=new Map;_focusableToolbarDefinitions=[];_extraMenuBarElements=[];_lastFocusedForeignElement=null;constructor(e){super();let t=e.editing.view;this.editor=e,this.componentFactory=new T4(e),this.focusTracker=new Sr,this.tooltipManager=new I4(e),this.poweredBy=new M4(e),this.ariaLiveAnnouncer=new D4(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this._bindBodyCollectionWithFocusTracker(),this.isReady=!0}),this.listenTo(t.document,"layoutChanged",this.update.bind(this)),this.listenTo(t,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(let e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);let i=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?i():this.once("ready",i)}removeEditableElement(e){let t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}extendMenuBar(e){this._extraMenuBarElements.push(e)}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_initMenuBar(e){let t=e.element;this.focusTracker.add(t),this.editor.keystrokes.listenTo(t);let i=dge(this.editor.config.get("menuBar")||{});e.fillFromConfig(i,this.componentFactory,this._extraMenuBarElements),this.editor.keystrokes.set("Esc",(r,o)=>{t.contains(this.editor.ui.focusTracker.focusedElement)&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):this.editor.editing.view.focus(),o())}),this.editor.keystrokes.set("Alt+F9",(r,o)=>{t.contains(this.editor.ui.focusTracker.focusedElement)||(this._saveLastFocusedForeignElement(),e.isFocusBorderEnabled=!0,e.focus(),o())})}_readViewportOffsetFromConfig(){let e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;let i=e.config.get("toolbar.viewportTopOffset");return i?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:i}):{top:0}}_initFocusTracking(){let e=this.editor,t;e.keystrokes.set("Alt+F10",(i,r)=>{this._saveLastFocusedForeignElement();let o=this._getCurrentFocusedToolbarDefinition();(!o||!t)&&(t=this._getFocusableCandidateToolbarDefinitions());for(let s=0;s<t.length;s++){let a=t.shift();if(t.push(a),a!==o&&this._focusFocusableCandidateToolbar(a)){o&&o.options.afterBlur&&o.options.afterBlur();break}}r()}),e.keystrokes.set("Esc",(i,r)=>{let o=this._getCurrentFocusedToolbarDefinition();o&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):e.editing.view.focus(),o.options.afterBlur&&o.options.afterBlur(),r())})}_saveLastFocusedForeignElement(){let e=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(e)&&!Array.from(this.editor.editing.view.domRoots.values()).includes(e)&&(this._lastFocusedForeignElement=e)}_getFocusableCandidateToolbarDefinitions(){let e=[];for(let t of this._focusableToolbarDefinitions){let{toolbarView:i,options:r}=t;(rc(i.element)||r.beforeFocus)&&e.push(t)}return e.sort((t,i)=>vj(t)-vj(i)),e}_getCurrentFocusedToolbarDefinition(){for(let e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){let{toolbarView:t,options:{beforeFocus:i}}=e;return i&&i(),rc(t.element)?(t.focus(),!0):!1}_handleScrollToTheSelection(e,t){let i=Be({top:0,bottom:0,left:0,right:0},this.viewportOffset);t.viewportOffset.top+=i.top,t.viewportOffset.bottom+=i.bottom,t.viewportOffset.left+=i.left,t.viewportOffset.right+=i.right}_bindBodyCollectionWithFocusTracker(){let e=this.view.body;for(let t of e)this.focusTracker.add(t.element);e.on("add",(t,i)=>{this.focusTracker.add(i.element)}),e.on("remove",(t,i)=>{this.focusTracker.remove(i.element)})}};function vj(n){let{toolbarView:e,options:t}=n,i=10;return rc(e.element)&&i--,t.isContextual&&i--,i}var vm=class extends nn{body;menuBarView;constructor(e){super(e),this.body=new v4(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}},Ox=class extends vm{top;main;_voiceLabelView;constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){let e=this.t,t=new Uh;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}},N4=class extends nn{name=null;_editingView;_editableElement;_hasExternalElement;constructor(e,t,i){super(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=i,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){let e=this._editingView;e.isRenderingInProgress?i(this):t(this);function t(r){e.change(o=>{let s=e.document.getRoot(r.name);o.addClass(r.isFocused?"ck-focused":"ck-blurred",s),o.removeClass(r.isFocused?"ck-blurred":"ck-focused",s)})}function i(r){e.once("change:isRenderingInProgress",(o,s,a)=>{a?i(r):t(r)})}}},$h=class extends N4{_options;constructor(e,t,i,r={}){super(e,t,i),this._options=r,this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();let e=this._editingView;e.change(t=>{let i=e.document.getRoot(this.name);t.setAttribute("aria-label",this.getEditableAriaLabel(),i)})}getEditableAriaLabel(){let e=this.locale.t,t=this._options.label,i=this._editableElement,r=this.name;if(typeof t=="string")return t;if(typeof t=="object")return t[r];if(typeof t=="function")return t(this);if(i){let o=i.getAttribute("aria-label");if(o)return o}return e("Rich Text Editor. Editing area: %0",r)}};var Pl=class extends Oi(){constructor(e,t){super(),t&&cg(this,t),e&&this.set(e)}},Ex=ed("px"),au=class extends yt{positionLimiter;visibleStack;_viewToStack=new Map;_idToStack=new Map;_view=null;_rotatorView=null;_fakePanelsView=null;static get pluginName(){return"ContextualBalloon"}constructor(e){super(e),this.positionLimiter=()=>{let t=this.editor.editing.view,r=t.document.selection.editableElement;return r?t.domConverter.mapViewToDom(r.root):null},this.decorate("getPositionOptions"),this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new Me("contextualballoon-add-view-exist",[this,e]);let t=e.stackId||"main";if(!this._idToStack.has(t)){this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,(!this._visibleStack||e.singleViewMode)&&this.showStack(t);return}let i=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),i.set(e.view,e),this._viewToStack.set(e.view,i),i===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new Me("contextualballoon-remove-view-not-exist",[this,e]);let t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(t.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),t.size===1?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition()}getPositionOptions(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}showStack(e){this.visibleStack=e;let t=this._idToStack.get(e);if(!t)throw new Me("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new rd(this.editor.locale),this.editor.ui.view.body.add(this._view),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(i=>i[1]===e)[0]}_showNextStack(){let e=Array.from(this._idToStack.values()),t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){let e=Array.from(this._idToStack.values()),t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){let e=new L4(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(i,r)=>!r&&i>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(i,r)=>{if(r<2)return"";let o=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[o,r])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){let e=new F4(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,i)=>!i&&t>=2?Math.min(t-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:i=!0,singleViewMode:r=!1}){this.view.class=t,this.view.withArrow=i,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition(),r&&(this._singleViewMode=!0)}},L4=class extends nn{focusTracker;buttonPrevView;buttonNextView;content;constructor(e){super(e);let t=e.t,i=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Sr,this.buttonPrevView=this._createButtonView(t("Previous"),Mn.previousArrow),this.buttonNextView=this._createButtonView(t("Next"),Mn.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",i.to("isNavigationVisible",r=>r?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:i.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){let i=new Sn(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i}},F4=class extends nn{content;_balloonPanelView;constructor(e,t){super(e);let i=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",i.to("numberOfPanels",r=>r?"":"ck-hidden")],style:{top:i.to("top",Ex),left:i.to("left",Ex),width:i.to("width",Ex),height:i.to("height",Ex)}},children:this.content}),this.on("change:numberOfPanels",(r,o,s,a)=>{s>a?this._addPanels(s-a):this._removePanels(a-s),this.updatePosition()})}_addPanels(e){for(;e--;){let t=new nn;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(e){for(;e--;){let t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){let{top:e,left:t}=this._balloonPanelView,{width:i,height:r}=new si(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:i,height:r})}}},qg=ed("px"),Rx=class extends nn{content;contentPanelElement;_contentPanelPlaceholder;constructor(e){super(e);let t=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new Qs({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:t.to("isSticky",i=>i?"block":"none"),height:t.to("isSticky",i=>i?qg(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new Qs({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",t.if("isSticky","ck-sticky-panel__content_sticky"),t.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:t.to("isSticky",i=>i?qg(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:t.to("_stickyTopOffset",i=>i&&qg(i)),bottom:t.to("_stickyBottomOffset",i=>i&&qg(i)),marginLeft:t.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(Kt.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive){this._unstick();return}let e=new si(this.limiterElement),t=e.getVisible();if(t){let i=new si(Kt.window);i.top+=this.viewportTopOffset,i.height-=this.viewportTopOffset,t=t.getIntersection(i)}if(t&&e.top<t.top){let i=t.top;if(i+this._contentPanelRect.height+this.limiterBottomOffset>t.bottom){let r=Math.max(e.bottom-t.bottom,0)+this.limiterBottomOffset;e.bottom-r>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(r):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(i):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=qg(-Kt.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=qg(-Kt.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new si(this.contentPanelElement)}};var B4=class extends zh{arrowView;constructor(e){super(e);let t=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",i=>String(i)),"data-cke-tooltip-disabled":t.to("isOn")},on:{mouseenter:t.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){let e=new sd;return e.content=U4,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}},V4=class extends nn{children;constructor(e){super(e);let t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",t.to("position",i=>`ck-menu-bar__menu__panel_position_${i}`),t.if("isVisible","ck-hidden",i=>!i)],tabindex:"-1"},children:this.children,on:{selectstart:t.to(i=>{i.target.tagName.toLocaleLowerCase()!=="input"&&i.preventDefault()})}})}focus(e=1){this.children.length&&(e===1?this.children.first.focus():this.children.last.focus())}},ea=(()=>{class n extends nn{buttonView;panelView;focusTracker;keystrokes;constructor(t){super(t);let i=this.bindTemplate;this.buttonView=new B4(t),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new V4(t),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Fr,this.focusTracker=new Sr,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",i.to("class"),i.if("isEnabled","ck-disabled",r=>!r),i.if("parentMenuView","ck-menu-bar__menu_top-level",r=>!r)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),jh.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(jh.openOnButtonClick(this),jh.openOnArrowRightKey(this),jh.closeOnArrowLeftKey(this),jh.openAndFocusOnEnterKeyPress(this),jh.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),jh.openAndFocusPanelOnArrowDownKey(this),jh.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(t,i)=>{this.fire("arrowright"),i()}),this.keystrokes.set("arrowleft",(t,i)=>{this.fire("arrowleft"),i()})}_repositionPanelOnOpen(){this.on("change:isOpen",(t,i,r)=>{if(!r)return;let o=n._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=o?o.name:this._panelPositions[0].name})}focus(){this.buttonView.focus()}get _panelPositions(){let{southEast:t,southWest:i,northEast:r,northWest:o,westSouth:s,eastSouth:a,westNorth:l,eastNorth:c}=cge;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[a,c,s,l]:[t,i,r,o]:this.parentMenuView?[s,l,a,c]:[i,t,o,r]}static _getOptimalPosition=nx}return n})(),Wa=class extends Zg{constructor(e){super(e),this.role="menu",this.items.on("change",this._setItemsCheckSpace.bind(this))}_setItemsCheckSpace(){let e=Array.from(this.items).some(t=>{let i=wj(t);return i&&i.isToggleable});this.items.forEach(t=>{let i=wj(t);i&&(i.hasCheckSpace=e)})}};function wj(n){return n instanceof lc?n.children.map(e=>yge(e)?e.buttonView:e).find(e=>e instanceof zh):null}function yge(n){return typeof n=="object"&&"buttonView"in n&&n.buttonView instanceof Sn}var Nx=class extends w4{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}},yj=["mouseenter","arrowleft","arrowright","change:isOpen"],qh=class extends nn{children;menus=[];constructor(e){super(e);let t=e.t,i=this.bindTemplate;this.set({isOpen:!1,isFocusBorderEnabled:!1}),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar",i.if("isFocusBorderEnabled","ck-menu-bar_focus-border-enabled")],"aria-label":t("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,t,i=[]){let r=this.locale,s=hge({normalizedConfig:e,locale:r,componentFactory:t,extraItems:i}).items.map(a=>this._createMenu({componentFactory:t,menuDefinition:a}));this.children.addMany(s)}render(){super.render(),$g.toggleMenusAndFocusItemsOnHover(this),$g.closeMenusWhenTheBarCloses(this),$g.closeMenuWhenAnotherOnTheSameLevelOpens(this),$g.focusCycleMenusOnArrows(this),$g.closeOnClickOutside(this),$g.enableFocusHighlightOnInteraction(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(let e of this.children)e.isOpen=!1}registerMenu(e,t=null){t?(e.delegate(...yj).to(t),e.parentMenuView=t):e.delegate(...yj).to(this,i=>"menu:"+i),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:t,parentMenuView:i}){let r=this.locale,o=new ea(r);return this.registerMenu(o,i),o.buttonView.set({label:t.label}),o.once("change:isOpen",()=>{let s=new Wa(r);s.ariaLabel=t.label,o.panelView.children.add(s),s.items.addMany(this._createMenuItems({menuDefinition:t,parentMenuView:o,componentFactory:e}))}),o}_createMenuItems({menuDefinition:e,parentMenuView:t,componentFactory:i}){let r=this.locale,o=[];for(let s of e.groups){for(let a of s.items){let l=new Ha(r,t);if(ui(a))l.children.add(this._createMenu({componentFactory:i,menuDefinition:a,parentMenuView:t}));else{let c=this._createMenuItemContentFromFactory({componentName:a,componentFactory:i,parentMenuView:t});if(!c)continue;l.children.add(c)}o.push(l)}s!==e.groups[e.groups.length-1]&&o.push(new bm(r))}return o}_createMenuItemContentFromFactory({componentName:e,parentMenuView:t,componentFactory:i}){let r=i.create(e);return r instanceof ea||r instanceof gi||r instanceof Nx?(this._registerMenuTree(r,t),r.on("execute",()=>{this.close()}),r):(vi("menu-bar-component-unsupported",{componentName:e,componentView:r}),null)}_registerMenuTree(e,t){if(!(e instanceof ea)){e.delegate("mouseenter").to(t);return}this.registerMenu(e,t);let i=e.panelView.children.filter(o=>o instanceof Wa)[0];if(!i){e.delegate("mouseenter").to(t);return}let r=i.items.filter(o=>o instanceof lc);for(let o of r)this._registerMenuTree(o.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",(t,i,r)=>{clearTimeout(e),r?this.isOpen=!0:e=setTimeout(()=>{this.isOpen=Array.from(this.children).some(o=>o.isOpen)},0)})}};var G4=["left","right","center","justify"];function Dj(n){return G4.includes(n)}function Oj(n,e){return e.contentLanguageDirection=="rtl"?n==="right":n==="left"}function Rj(n){let e=n.map(i=>{let r;return typeof i=="string"?r={name:i}:r=i,r}).filter(i=>{let r=G4.includes(i.name);return r||vi("alignment-config-name-not-recognized",{option:i}),r}),t=e.filter(i=>!!i.className).length;if(t&&t<e.length)throw new Me("alignment-config-classnames-are-missing",{configuredOptions:n});return e.forEach((i,r,o)=>{let s=o.slice(r+1);if(s.some(l=>l.name==i.name))throw new Me("alignment-config-name-already-defined",{option:i,configuredOptions:n});if(i.className&&s.some(c=>c.className==i.className))throw new Me("alignment-config-classname-already-defined",{option:i,configuredOptions:n})}),e}var K4="alignment",W4=class extends bn{refresh(){let t=this.editor.locale,i=Ar(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!i&&this._canBeAligned(i),this.isEnabled&&i.hasAttribute("alignment")?this.value=i.getAttribute("alignment"):this.value=t.contentLanguageDirection==="rtl"?"right":"left"}execute(e={}){let t=this.editor,i=t.locale,r=t.model,o=r.document,s=e.value;r.change(a=>{let l=Array.from(o.selection.getSelectedBlocks()).filter(d=>this._canBeAligned(d)),c=l[0].getAttribute("alignment");Oj(s,i)||c===s||!s?_ge(l,a):xge(l,a,s)})}_canBeAligned(e){return this.editor.model.schema.checkAttribute(e,K4)}};function _ge(n,e){for(let t of n)e.removeAttribute(K4,t)}function xge(n,e,t){for(let i of n)e.setAttribute(K4,t,i)}var $4=class extends yt{static get pluginName(){return"AlignmentEditing"}constructor(e){super(e),e.config.define("alignment",{options:G4.map(t=>({name:t}))})}init(){let e=this.editor,t=e.locale,i=e.model.schema,o=Rj(e.config.get("alignment.options")).filter(c=>Dj(c.name)&&!Oj(c.name,t)),s=o.some(c=>!!c.className);i.extend("$block",{allowAttributes:"alignment"}),e.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),s?e.conversion.attributeToAttribute(Sge(o)):e.conversion.for("downcast").attributeToAttribute(Cge(o));let a=kge(o);for(let c of a)e.conversion.for("upcast").attributeToAttribute(c);let l=Ege(o);for(let c of l)e.conversion.for("upcast").attributeToAttribute(c);e.commands.add("alignment",new W4(e))}};function Cge(n){let e={};for(let{name:i}of n)e[i]={key:"style",value:{"text-align":i}};return{model:{key:"alignment",values:n.map(i=>i.name)},view:e}}function kge(n){let e=[];for(let{name:t}of n)e.push({view:{key:"style",value:{"text-align":t}},model:{key:"alignment",value:t}});return e}function Ege(n){let e=[];for(let{name:t}of n)e.push({view:{key:"align",value:t},model:{key:"alignment",value:t}});return e}function Sge(n){let e={};for(let i of n)e[i.name]={key:"class",value:i.className};return{model:{key:"alignment",values:n.map(i=>i.name)},view:e}}var kv=new Map([["left",Mn.alignLeft],["right",Mn.alignRight],["center",Mn.alignCenter],["justify",Mn.alignJustify]]),q4=class extends yt{get localizedOptionTitles(){let e=this.editor.t;return{left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}static get pluginName(){return"AlignmentUI"}init(){let e=this.editor,t=Rj(e.config.get("alignment.options"));t.map(i=>i.name).filter(Dj).forEach(i=>this._addButton(i)),this._addToolbarDropdown(t),this._addMenuBarMenu(t)}_addButton(e){this.editor.ui.componentFactory.add(`alignment:${e}`,i=>this._createButton(i,e))}_createButton(e,t,i={}){let r=this.editor,o=r.commands.get("alignment"),s=new Sn(e);return s.set(Be({label:this.localizedOptionTitles[t],icon:kv.get(t),tooltip:!0,isToggleable:!0},i)),s.bind("isEnabled").to(o),s.bind("isOn").to(o,"value",a=>a===t),this.listenTo(s,"execute",()=>{r.execute("alignment",{value:t}),r.editing.view.focus()}),s}_addToolbarDropdown(e){let t=this.editor;t.ui.componentFactory.add("alignment",r=>{let o=Fo(r),s=r.uiLanguageDirection==="rtl"?"w":"e",a=r.t;Qg(o,()=>e.map(u=>this._createButton(r,u.name,{tooltipPosition:s})),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:a("Text alignment toolbar")}),o.buttonView.set({label:a("Text alignment"),tooltip:!0}),o.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});let l=r.contentLanguageDirection==="rtl"?kv.get("right"):kv.get("left"),c=t.commands.get("alignment");return o.buttonView.bind("icon").to(c,"value",u=>kv.get(u)||l),o.bind("isEnabled").to(c,"isEnabled"),this.listenTo(o,"execute",()=>{t.editing.view.focus()}),o})}_addMenuBarMenu(e){let t=this.editor;t.ui.componentFactory.add("menuBar:alignment",i=>{let r=t.commands.get("alignment"),o=i.t,s=new ea(i),a=new Wa(i);s.bind("isEnabled").to(r),a.set({ariaLabel:o("Text alignment"),role:"menu"}),s.buttonView.set({label:o("Text alignment")});for(let l of e){let c=new Ha(i,s),u=new gi(i);u.delegate("execute").to(s),u.set({label:this.localizedOptionTitles[l.name],icon:kv.get(l.name),role:"menuitemcheckbox",isToggleable:!0}),u.on("execute",()=>{t.execute("alignment",{value:l.name}),t.editing.view.focus()}),u.bind("isOn").to(r,"value",d=>d===l.name),u.bind("isEnabled").to(r,"isEnabled"),c.children.add(u),a.items.add(c)}return s.panelView.children.add(a),s})}},n0=class extends yt{static get requires(){return[$4,q4]}static get pluginName(){return"Alignment"}};var jx=class{model;limit;_isLocked;_size;_batch=null;_changeCallback;_selectionChangeCallback;constructor(e,t=20){this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(i,r)=>{r.isLocal&&r.isUndoable&&r!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){(!this.isLocked||e)&&(this._batch=null,this._size=0)}},Z4=class extends bn{_buffer;constructor(e,t){super(e),this._buffer=new jx(e.model,t),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){let t=this.editor.model,i=t.document,r=e.text||"",o=r.length,s=i.selection;if(e.selection?s=e.selection:e.range&&(s=t.createSelection(e.range)),!t.canEditAt(s))return;let a=e.resultRange;t.enqueueChange(this._buffer.batch,l=>{this._buffer.lock();let c=Array.from(i.selection.getAttributes());t.deleteContent(s),r&&t.insertContent(l.createText(r,c),s),a?l.setSelection(a):s.is("documentSelection")||l.setSelection(s),this._buffer.unlock(),this._buffer.input(o)})}},Bj=["insertText","insertReplacementText"],Age=[...Bj,"insertCompositionText"],Y4=class extends Ys{focusObserver;constructor(e){super(e),this.focusObserver=e.getObserver(cm);let t=_n.isAndroid?Age:Bj,i=e.document;i.on("beforeinput",(r,o)=>{if(!this.isEnabled)return;let{data:s,targetRanges:a,inputType:l,domEvent:c}=o;if(!t.includes(l))return;this.focusObserver.flush();let u=new ka(i,"insertText");i.fire(u,new ru(e,c,{text:s,selection:e.createSelection(a)})),u.stop.called&&r.stop()}),_n.isAndroid||i.on("compositionend",(r,{data:o,domEvent:s})=>{this.isEnabled&&o&&i.fire("insertText",new ru(e,s,{text:o}))},{priority:"lowest"})}observe(){}stopObserving(){}},Tv=class extends yt{_compositionQueue;static get pluginName(){return"Input"}init(){let e=this.editor,t=e.model,i=e.editing.view,r=e.editing.mapper,o=t.document.selection;this._compositionQueue=new X4(e),i.addObserver(Y4);let s=new Z4(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",s),e.commands.add("input",s),this.listenTo(i.document,"insertText",(a,l)=>{i.document.isComposing||l.preventDefault(),_n.isAndroid&&i.document.isComposing&&this._compositionQueue.flush("next beforeinput");let{text:c,selection:u}=l,d;u?d=Array.from(u.getRanges()).map(m=>r.toModelRange(m)):d=Array.from(o.getRanges());let f=c;if(_n.isAndroid){let m=Array.from(d[0].getItems()).reduce((p,g)=>p+(g.is("$textProxy")?g.data:""),"");if(m&&(m.length<=f.length?f.startsWith(m)&&(f=f.substring(m.length),d[0].start=d[0].start.getShiftedBy(m.length)):m.startsWith(f)&&(d[0].start=d[0].start.getShiftedBy(f.length),f="")),f.length==0&&d[0].isCollapsed)return}let h={text:f,selection:t.createSelection(d)};_n.isAndroid&&i.document.isComposing?this._compositionQueue.push(h):(e.execute("insertText",h),i.scrollToTheSelection())}),_n.isAndroid?this.listenTo(i.document,"keydown",(a,l)=>{o.isCollapsed||l.keyCode!=229||!i.document.isComposing||Nj(t,s)}):this.listenTo(i.document,"compositionstart",()=>{o.isCollapsed||Nj(t,s)}),_n.isAndroid?(this.listenTo(i.document,"mutations",(a,{mutations:l})=>{if(i.document.isComposing)for(let{node:c}of l){let u=Ige(c,r),d=r.toModelElement(u);if(this._compositionQueue.isComposedElement(d)){this._compositionQueue.flush("mutations");return}}}),this.listenTo(i.document,"compositionend",()=>{this._compositionQueue.flush("composition end")}),this.listenTo(i.document,"compositionend",()=>{let a=[];for(let l of this._compositionQueue.flushComposedElements()){let c=r.toViewElement(l);c&&a.push({type:"children",node:c})}a.length&&i.document.fire("mutations",{mutations:a})},{priority:"lowest"})):this.listenTo(i.document,"compositionend",()=>{i.document.fire("mutations",{mutations:[]})},{priority:"lowest"})}destroy(){super.destroy(),this._compositionQueue.destroy()}},X4=class{editor;flushDebounced=Ca(()=>this.flush("timeout"),50);_queue=[];_compositionElements=new Set;constructor(e){this.editor=e}destroy(){for(this.flushDebounced.cancel(),this._compositionElements.clear();this._queue.length;)this.shift()}get length(){return this._queue.length}push(e){let t={text:e.text};if(e.selection){t.selectionRanges=[];for(let i of e.selection.getRanges())t.selectionRanges.push(bs.fromRange(i)),this._compositionElements.add(i.start.parent)}this._queue.push(t),this.flushDebounced()}shift(){let e=this._queue.shift(),t={text:e.text};if(e.selectionRanges){let i=e.selectionRanges.map(r=>Tge(r)).filter(r=>!!r);i.length&&(t.selection=this.editor.model.createSelection(i))}return t}flush(e){let t=this.editor,i=t.model,r=t.editing.view;if(this.flushDebounced.cancel(),!this._queue.length)return;let s=t.commands.get("insertText").buffer;i.enqueueChange(s.batch,()=>{for(s.lock();this._queue.length;){let a=this.shift();t.execute("insertText",a)}s.unlock()}),r.scrollToTheSelection()}isComposedElement(e){return this._compositionElements.has(e)}flushComposedElements(){let e=Array.from(this._compositionElements);return this._compositionElements.clear(),e}};function Nj(n,e){if(!e.isEnabled)return;let t=e.buffer;t.lock(),n.enqueueChange(t.batch,()=>{n.deleteContent(n.document.selection)}),t.unlock()}function Tge(n){let e=n.toRange();return n.detach(),e.root.rootName=="$graveyard"?null:e}function Ige(n,e){let t=n.is("$text")?n.parent:n;for(;!e.toModelElement(t);)t=t.parent;return t}var zx=class extends bn{direction;_buffer;constructor(e,t){super(e),this.direction=t,this._buffer=new jx(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){let t=this.editor.model,i=t.document;t.enqueueChange(this._buffer.batch,r=>{this._buffer.lock();let o=r.createSelection(e.selection||i.selection);if(!t.canEditAt(o))return;let s=e.sequence||1,a=o.isCollapsed;if(o.isCollapsed&&t.modifySelection(o,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(s)){this._replaceEntireContentWithParagraph(r);return}if(this._shouldReplaceFirstBlockWithParagraph(o,s)){this.editor.execute("paragraph",{selection:o});return}if(o.isCollapsed)return;let l=0;o.getFirstRange().getMinimalFlatRanges().forEach(c=>{l+=H1(c.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(o,{doNotResetEntireContent:a,direction:this.direction}),this._buffer.input(l),r.setSelection(o),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;let t=this.editor.model,r=t.document.selection,o=t.schema.getLimitElement(r);if(!(r.isCollapsed&&r.containsEntireContent(o))||!t.schema.checkChild(o,"paragraph"))return!1;let a=o.getChild(0);return!(a&&a.is("element","paragraph"))}_replaceEntireContentWithParagraph(e){let t=this.editor.model,r=t.document.selection,o=t.schema.getLimitElement(r),s=e.createElement("paragraph");e.remove(e.createRangeIn(o)),e.insert(s,o),e.setSelection(s,0)}_shouldReplaceFirstBlockWithParagraph(e,t){let i=this.editor.model;if(t>1||this.direction!="backward"||!e.isCollapsed)return!1;let r=e.getFirstPosition(),o=i.schema.getLimitElement(r),s=o.getChild(0);return!(r.parent!=s||!e.containsEntireContent(s)||!i.schema.checkChild(o,"paragraph")||s.name=="paragraph")}},Mge="character",Lj="word",Pge="codePoint",Gh="selection",r0="backward",Av="forward",Vj={deleteContent:{unit:Gh,direction:r0},deleteContentBackward:{unit:Pge,direction:r0},deleteWordBackward:{unit:Lj,direction:r0},deleteHardLineBackward:{unit:Gh,direction:r0},deleteSoftLineBackward:{unit:Gh,direction:r0},deleteContentForward:{unit:Mge,direction:Av},deleteWordForward:{unit:Lj,direction:Av},deleteHardLineForward:{unit:Gh,direction:Av},deleteSoftLineForward:{unit:Gh,direction:Av}},J4=class extends Ys{constructor(e){super(e);let t=e.document,i=0;t.on("keydown",()=>{i++}),t.on("keyup",()=>{i=0}),t.on("beforeinput",(r,o)=>{if(!this.isEnabled)return;let{targetRanges:s,domEvent:a,inputType:l}=o,c=Vj[l];if(!c)return;let u={direction:c.direction,unit:c.unit,sequence:i};u.unit==Gh&&(u.selectionToRemove=e.createSelection(s[0])),l==="deleteContentBackward"&&(_n.isAndroid&&(u.sequence=1),Oge(s)&&(u.unit=Gh,u.selectionToRemove=e.createSelection(s)));let d=new iu(t,"delete",s[0]);t.fire(d,new ru(e,a,u)),d.stop.called&&r.stop()}),_n.isBlink&&Dge(this)}observe(){}stopObserving(){}};function Dge(n){let e=n.view,t=e.document,i=null,r=!1;t.on("keydown",(a,{keyCode:l})=>{i=l,r=!1}),t.on("keyup",(a,{keyCode:l,domEvent:c})=>{let u=t.selection,d=n.isEnabled&&l==i&&o(l)&&!u.isCollapsed&&!r;if(i=null,d){let f=u.getFirstRange(),h=new iu(t,"delete",f),m={unit:Gh,direction:s(l),selectionToRemove:u};t.fire(h,new ru(e,c,m))}}),t.on("beforeinput",(a,{inputType:l})=>{let c=Vj[l];o(i)&&c&&c.direction==s(i)&&(r=!0)},{priority:"high"}),t.on("beforeinput",(a,{inputType:l,data:c})=>{i==Gn.delete&&l=="insertText"&&c=="\x7F"&&a.stop()},{priority:"high"});function o(a){return a==Gn.backspace||a==Gn.delete}function s(a){return a==Gn.backspace?r0:Av}}function Oge(n){if(n.length!=1||n[0].isCollapsed)return!1;let e=n[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0}),t=0;for(let{nextPosition:i,item:r}of e){if(i.parent.is("$text")){let o=i.parent.data,s=i.offset;if(G1(o,s)||K1(o,s)||ix(o,s))continue;t++}else(r.is("containerElement")||r.is("emptyElement"))&&t++;if(t>1)return!0}return!1}var $a=class extends yt{_undoOnBackspace;static get pluginName(){return"Delete"}init(){let e=this.editor,t=e.editing.view,i=t.document,r=e.model.document;t.addObserver(J4),this._undoOnBackspace=!1;let o=new zx(e,"forward");e.commands.add("deleteForward",o),e.commands.add("forwardDelete",o),e.commands.add("delete",new zx(e,"backward")),this.listenTo(i,"delete",(s,a)=>{i.isComposing||a.preventDefault();let{direction:l,sequence:c,selectionToRemove:u,unit:d}=a,f=l==="forward"?"deleteForward":"delete",h={sequence:c};if(d=="selection"){let m=Array.from(u.getRanges()).map(p=>e.editing.mapper.toModelRange(p));h.selection=e.model.createSelection(m)}else h.unit=d;e.execute(f,h),t.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(i,"delete",(s,a)=>{this._undoOnBackspace&&a.direction=="backward"&&a.sequence==1&&a.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),a.preventDefault(),s.stop())},{context:"$capture"}),this.listenTo(r,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}},o0=class extends yt{static get requires(){return[Tv,$a]}static get pluginName(){return"Typing"}};function eT(n,e){let t=n.start;return{text:Array.from(n.getWalker({ignoreElementEnd:!1})).reduce((r,{item:o})=>o.is("$text")||o.is("$textProxy")?r+o.data:(t=e.createPositionAfter(o),""),""),range:e.createRange(t,n.end)}}var Iv=class extends Oi(){model;testCallback;_hasMatch;constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){let t=this.model.document;this.listenTo(t.selection,"change:range",(i,{directChange:r})=>{if(r){if(!t.selection.isCollapsed){this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1);return}this._evaluateTextBeforeSelection("selection")}}),this.listenTo(t,"change:data",(i,r)=>{r.isUndo||!r.isLocal||this._evaluateTextBeforeSelection("data",{batch:r})})}_evaluateTextBeforeSelection(e,t={}){let i=this.model,o=i.document.selection,s=i.createRange(i.createPositionAt(o.focus.parent,0),o.focus),{text:a,range:l}=eT(s,i),c=this.testCallback(a);if(!c&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!c,c){let u=Object.assign(t,{text:a,range:l});typeof c=="object"&&Object.assign(u,c),this.fire(`matched:${e}`,u)}}},s0=class extends yt{attributes;_overrideUid;_isNextGravityRestorationSkipped=!1;static get pluginName(){return"TwoStepCaretMovement"}constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}init(){let e=this.editor,t=e.model,i=e.editing.view,r=e.locale,o=t.document.selection;this.listenTo(i.document,"arrowKey",(s,a)=>{if(!o.isCollapsed||a.shiftKey||a.altKey||a.ctrlKey)return;let l=a.keyCode==Gn.arrowright,c=a.keyCode==Gn.arrowleft;if(!l&&!c)return;let u=r.contentLanguageDirection,d=!1;u==="ltr"&&l||u==="rtl"&&c?d=this._handleForwardMovement(a):d=this._handleBackwardMovement(a),d===!0&&s.stop()},{context:"$text",priority:"highest"}),this.listenTo(o,"change:range",(s,a)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=!1;return}this._isGravityOverridden&&(!a.directChange&&Dl(o.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){let t=this.attributes,i=this.editor.model,r=i.document.selection,o=r.getFirstPosition();return this._isGravityOverridden||o.isAtStart&&ad(r,t)?!1:Dl(o,t)?(Sv(e),ad(r,t)&&Dl(o,t,!0)?Ev(i,t):this._overrideGravity(),!0):!1}_handleBackwardMovement(e){let t=this.attributes,i=this.editor.model,r=i.document.selection,o=r.getFirstPosition();return this._isGravityOverridden?(Sv(e),this._restoreGravity(),Dl(o,t,!0)?Ev(i,t):Vx(i,t,o),!0):o.isAtStart?ad(r,t)?(Sv(e),Vx(i,t,o),!0):!1:!ad(r,t)&&Dl(o,t,!0)?(Sv(e),Vx(i,t,o),!0):Fj(o,t)?o.isAtEnd&&!ad(r,t)&&Dl(o,t)?(Sv(e),Vx(i,t,o),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):!1}_enableClickingAfterNode(){let e=this.editor,t=e.model,i=t.document.selection,r=e.editing.view.document;e.editing.view.addObserver(Bh);let o=!1;this.listenTo(r,"mousedown",()=>{o=!0}),this.listenTo(r,"selectionChange",()=>{let s=this.attributes;if(!o||(o=!1,!i.isCollapsed)||!ad(i,s))return;let a=i.getFirstPosition();Dl(a,s)&&(a.isAtStart||Dl(a,s,!0)?Ev(t,s):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){let t=this.editor.model,i=t.document.selection,r=this.attributes;this.listenTo(t,"insertContent",()=>{let o=i.getFirstPosition();ad(i,r)&&Dl(o,r)&&Ev(t,r)},{priority:"low"})}_handleDeleteContentAfterNode(){let e=this.editor,t=e.model,i=t.document.selection,r=e.editing.view,o=!1,s=!1;this.listenTo(r.document,"delete",(a,l)=>{o=l.direction==="backward"},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{if(!o)return;let a=i.getFirstPosition();s=ad(i,this.attributes)&&!Fj(a,this.attributes)},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{o&&(o=!1,!s&&e.model.enqueueChange(()=>{let a=i.getFirstPosition();ad(i,this.attributes)&&Dl(a,this.attributes)&&(a.isAtStart||Dl(a,this.attributes,!0)?Ev(t,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}};function ad(n,e){for(let t of e)if(n.hasAttribute(t))return!0;return!1}function Vx(n,e,t){let i=t.nodeBefore;n.change(r=>{if(i){let o=[],s=n.schema.isObject(i)&&n.schema.isInline(i);for(let[a,l]of i.getAttributes())n.schema.checkAttribute("$text",a)&&(!s||n.schema.getAttributeProperties(a).copyFromObject!==!1)&&o.push([a,l]);r.setSelectionAttribute(o)}else r.removeSelectionAttribute(e)})}function Ev(n,e){n.change(t=>{t.removeSelectionAttribute(e)})}function Sv(n){n.preventDefault()}function Fj(n,e){let t=n.getShiftedBy(-1);return Dl(t,e)}function Dl(n,e,t=!1){let{nodeBefore:i,nodeAfter:r}=n;for(let o of e){let s=i?i.getAttribute(o):void 0,a=r?r.getAttribute(o):void 0;if(!(t&&(s===void 0||a===void 0))&&a!==s)return!0}return!1}var $Ve={copyright:{from:"(c)",to:"\xA9"},registeredTrademark:{from:"(r)",to:"\xAE"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"\xBD",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"\u2153",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"\u2154",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"\xBC",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"\xBE",null]},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:i0('"'),to:[null,"\u201C",null,"\u201D"]},quotesSecondary:{from:i0("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:i0("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:i0('"'),to:[null,"\u201C",null,"\u201D"]},quotesPrimaryPl:{from:i0('"'),to:[null,"\u201E",null,"\u201D"]},quotesSecondaryPl:{from:i0("'"),to:[null,"\u201A",null,"\u2019"]}};function i0(n){return new RegExp(`(^|\\s)(${n})([^${n}]*)(${n})$`)}function a0(n,e,t,i){return i.createRange(Q4(n,e,t,!0,i),Q4(n,e,t,!1,i))}function Q4(n,e,t,i,r){let o=n.textNode||(i?n.nodeBefore:n.nodeAfter),s=null;for(;o&&o.getAttribute(e)==t;)s=o,o=i?o.previousSibling:o.nextSibling;return s?r.createPositionAt(s,i?"before":"after"):n}function tT(n,e,t,i){let r=n.editing.view,o=new Set;r.document.registerPostFixer(s=>{let a=n.model.document.selection,l=!1;if(a.hasAttribute(e)){let c=a0(a.getFirstPosition(),e,a.getAttribute(e),n.model),u=n.editing.mapper.toViewRange(c);for(let d of u.getItems())d.is("element",t)&&!d.hasClass(i)&&(s.addClass(i,d),o.add(d),l=!0)}return l}),n.conversion.for("editingDowncast").add(s=>{s.on("insert",a,{priority:"highest"}),s.on("remove",a,{priority:"highest"}),s.on("attribute",a,{priority:"highest"}),s.on("selection",a,{priority:"highest"});function a(){r.change(l=>{for(let c of o.values())l.removeClass(i,c),o.delete(c)})}})}var l0=class extends yt{adapter;_debouncedSave;_lastDocumentVersion;_savePromise;_domEmitter;_config;_pendingActions;_makeImmediateSave;_action=null;static get pluginName(){return"Autosave"}static get requires(){return[Vh]}constructor(e){super(e);let t=e.config.get("autosave")||{},i=t.waitingTime||1e3;this.set("state","synchronized"),this._debouncedSave=Ca(this._save.bind(this),i),this._lastDocumentVersion=e.model.document.version,this._savePromise=null,this._domEmitter=new(No()),this._config=t,this._pendingActions=e.plugins.get(Vh),this._makeImmediateSave=!1}init(){let e=this.editor,t=e.model.document;this.listenTo(e,"ready",()=>{this.listenTo(t,"change:data",(i,r)=>{this._saveCallbacks.length&&r.isLocal&&(this.state==="synchronized"&&(this.state="waiting",this._setPendingAction()),this.state==="waiting"&&this._debouncedSave())})}),this.listenTo(e,"destroy",()=>this._flush(),{priority:"highest"});this._domEmitter.listenTo(window,"beforeunload",(i,r)=>{this._pendingActions.hasAny&&(r.returnValue=this._pendingActions.first.message)})}destroy(){this._domEmitter.stopListening(),super.destroy()}save(){return this._debouncedSave.cancel(),this._save()}_flush(){this._debouncedSave.flush()}_save(){return this._savePromise?(this._makeImmediateSave=this.editor.model.document.version>this._lastDocumentVersion,this._savePromise):(this._setPendingAction(),this.state="saving",this._lastDocumentVersion=this.editor.model.document.version,this._savePromise=Promise.resolve().then(()=>Promise.all(this._saveCallbacks.map(e=>e(this.editor)))).finally(()=>{this._savePromise=null}).then(()=>{if(this._makeImmediateSave)return this._makeImmediateSave=!1,this._save();this.editor.model.document.version>this._lastDocumentVersion?(this.state="waiting",this._debouncedSave()):(this.state="synchronized",this._pendingActions.remove(this._action),this._action=null)}).catch(e=>{throw this.state="error",this.state="saving",this._debouncedSave(),e}),this._savePromise)}_setPendingAction(){let e=this.editor.t;this._action||(this._action=this._pendingActions.add(e("Saving changes")))}get _saveCallbacks(){let e=[];return this.adapter&&this.adapter.save&&e.push(this.adapter.save),this._config.save&&e.push(this._config.save),e}};var Pv=class extends bn{attributeKey;constructor(e,t){super(e),this.attributeKey=t}refresh(){let e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){let t=this.editor.model,r=t.document.selection,o=e.forceValue===void 0?!this.value:e.forceValue;t.change(s=>{if(r.isCollapsed)o?s.setSelectionAttribute(this.attributeKey,!0):s.removeSelectionAttribute(this.attributeKey);else{let a=t.schema.getValidRanges(r.getRanges(),this.attributeKey);for(let l of a)o?s.setAttribute(this.attributeKey,o,l):s.removeAttribute(this.attributeKey,l)}})}_getValueFromFirstAllowedNode(){let e=this.editor.model,t=e.schema,i=e.document.selection;if(i.isCollapsed)return i.hasAttribute(this.attributeKey);for(let r of i.getRanges())for(let o of r.getItems())if(t.checkAttribute(o,this.attributeKey))return o.hasAttribute(this.attributeKey);return!1}},c0="bold",oT=class extends yt{static get pluginName(){return"BoldEditing"}init(){let e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:c0}),e.model.schema.setAttributeProperties(c0,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:c0,view:"strong",upcastAlso:["b",i=>{let r=i.getStyle("font-weight");return r&&(r=="bold"||Number(r)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(c0,new Pv(e,c0)),e.keystrokes.set("CTRL+B",c0),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Bold text"),keystroke:"CTRL+B"}]})}};function dT({editor:n,commandName:e,plugin:t,icon:i,label:r,keystroke:o}){return s=>{let a=n.commands.get(e),l=new s(n.locale);return l.set({label:r,icon:i,keystroke:o,isToggleable:!0}),l.bind("isEnabled").to(a,"isEnabled"),l.bind("isOn").to(a,"value"),l instanceof gi?l.set({role:"menuitemcheckbox"}):l.set({tooltip:!0}),t.listenTo(l,"execute",()=>{n.execute(e),n.editing.view.focus()}),l}}var nT="bold",sT=class extends yt{static get pluginName(){return"BoldUI"}init(){let e=this.editor,t=e.locale.t,i=dT({editor:e,commandName:nT,plugin:this,icon:Mn.bold,label:t("Bold"),keystroke:"CTRL+B"});e.ui.componentFactory.add(nT,()=>i(Sn)),e.ui.componentFactory.add("menuBar:"+nT,()=>i(gi))}},d0=class extends yt{static get requires(){return[oT,sT]}static get pluginName(){return"Bold"}};var u0="italic",aT=class extends yt{static get pluginName(){return"ItalicEditing"}init(){let e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:u0}),e.model.schema.setAttributeProperties(u0,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:u0,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(u0,new Pv(e,u0)),e.keystrokes.set("CTRL+I",u0),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Italic text"),keystroke:"CTRL+I"}]})}},Rge='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',iT="italic",lT=class extends yt{static get pluginName(){return"ItalicUI"}init(){let e=this.editor,t=e.locale.t,i=dT({editor:e,commandName:iT,plugin:this,icon:Rge,keystroke:"CTRL+I",label:t("Italic")});e.ui.componentFactory.add(iT,()=>i(Sn)),e.ui.componentFactory.add("menuBar:"+iT,()=>i(gi))}},h0=class extends yt{static get requires(){return[aT,lT]}static get pluginName(){return"Italic"}};var Mv="underline",cT=class extends yt{static get pluginName(){return"UnderlineEditing"}init(){let e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Mv}),e.model.schema.setAttributeProperties(Mv,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Mv,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),e.commands.add(Mv,new Pv(e,Mv)),e.keystrokes.set("CTRL+U","underline"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Underline text"),keystroke:"CTRL+U"}]})}},Nge='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>',rT="underline",uT=class extends yt{static get pluginName(){return"UnderlineUI"}init(){let e=this.editor,t=e.locale.t,i=dT({editor:e,commandName:rT,plugin:this,icon:Nge,label:t("Underline"),keystroke:"CTRL+U"});e.ui.componentFactory.add(rT,()=>i(Sn)),e.ui.componentFactory.add("menuBar:"+rT,()=>i(gi))}},f0=class extends yt{static get requires(){return[cT,uT]}static get pluginName(){return"Underline"}};function*Uj(n,e){for(let t of e)t&&n.getAttributeProperties(t[0]).copyOnEnter&&(yield t)}var hT=class extends bn{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){let t=this.editor.model,i=t.document.selection,r=t.schema,o=i.isCollapsed,s=i.getFirstRange(),a=s.start.parent,l=s.end.parent;if(r.isLimit(a)||r.isLimit(l))return!o&&a==l&&t.deleteContent(i),!1;if(o){let c=Uj(e.model.schema,i.getAttributes());return jj(e,s.start),e.setSelectionAttribute(c),!0}else{let c=!(s.start.isAtStart&&s.end.isAtEnd),u=a==l;if(t.deleteContent(i,{leaveUnmerged:c}),c){if(u)return jj(e,i.focus),!0;e.setSelection(l,0)}}return!1}};function jj(n,e){n.split(e),n.setSelection(e.parent.nextSibling,0)}var Lge={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}},Ux=class extends Ys{constructor(e){super(e);let t=this.document,i=!1;t.on("keydown",(r,o)=>{i=o.shiftKey}),t.on("beforeinput",(r,o)=>{if(!this.isEnabled)return;let s=o.inputType;_n.isSafari&&i&&s=="insertParagraph"&&(s="insertLineBreak");let a=o.domEvent,l=Lge[s];if(!l)return;let c=new iu(t,"enter",o.targetRanges[0]);t.fire(c,new ru(e,a,{isSoft:l.isSoft})),c.stop.called&&r.stop()})}observe(){}stopObserving(){}},ld=class extends yt{static get pluginName(){return"Enter"}init(){let e=this.editor,t=e.editing.view,i=t.document,r=this.editor.t;t.addObserver(Ux),e.commands.add("enter",new hT(e)),this.listenTo(i,"enter",(o,s)=>{i.isComposing||s.preventDefault(),!s.isSoft&&(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}},fT=class extends bn{execute(){let e=this.editor.model,t=e.document;e.change(i=>{Bge(e,i,t.selection),this.fire("afterExecute",{writer:i})})}refresh(){let e=this.editor.model,t=e.document;this.isEnabled=Fge(e.schema,t.selection)}};function Fge(n,e){if(e.rangeCount>1)return!1;let t=e.anchor;if(!t||!n.checkChild(t,"softBreak"))return!1;let i=e.getFirstRange(),r=i.start.parent,o=i.end.parent;return!((mT(r,n)||mT(o,n))&&r!==o)}function Bge(n,e,t){let i=t.isCollapsed,r=t.getFirstRange(),o=r.start.parent,s=r.end.parent,a=o==s;if(i){let l=Uj(n.schema,t.getAttributes());zj(n,e,r.end),e.removeSelectionAttribute(t.getAttributeKeys()),e.setSelectionAttribute(l)}else{let l=!(r.start.isAtStart&&r.end.isAtEnd);n.deleteContent(t,{leaveUnmerged:l}),a?zj(n,e,t.focus):l&&e.setSelection(s,0)}}function zj(n,e,t){let i=e.createElement("softBreak");n.insertContent(i,t),e.setSelection(i,"after")}function mT(n,e){return n.is("rootElement")?!1:e.isLimit(n)||mT(n.parent,e)}var Dv=class extends yt{static get pluginName(){return"ShiftEnter"}init(){let e=this.editor,t=e.model.schema,i=e.conversion,r=e.editing.view,o=r.document,s=this.editor.t;t.register("softBreak",{allowWhere:"$text",isInline:!0}),i.for("upcast").elementToElement({model:"softBreak",view:"br"}),i.for("downcast").elementToElement({model:"softBreak",view:(a,{writer:l})=>l.createEmptyElement("br")}),r.addObserver(Ux),e.commands.add("shiftEnter",new fT(e)),this.listenTo(o,"enter",(a,l)=>{o.isComposing||l.preventDefault(),l.isSoft&&(e.execute("shiftEnter"),r.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:s("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}};var gT=class extends Fi(){_stack=[];add(e,t){let i=this._stack,r=i[0];this._insertDescriptor(e);let o=i[0];r!==o&&!pT(r,o)&&this.fire("change:top",{oldDescriptor:r,newDescriptor:o,writer:t})}remove(e,t){let i=this._stack,r=i[0];this._removeDescriptor(e);let o=i[0];r!==o&&!pT(r,o)&&this.fire("change:top",{oldDescriptor:r,newDescriptor:o,writer:t})}_insertDescriptor(e){let t=this._stack,i=t.findIndex(o=>o.id===e.id);if(pT(e,t[i]))return;i>-1&&t.splice(i,1);let r=0;for(;t[r]&&Vge(t[r],e);)r++;t.splice(r,0,e)}_removeDescriptor(e){let t=this._stack,i=t.findIndex(r=>r.id===e);i>-1&&t.splice(i,1)}};function pT(n,e){return n&&e&&n.priority==e.priority&&Hx(n.classes)==Hx(e.classes)}function Vge(n,e){return n.priority>e.priority?!0:n.priority<e.priority?!1:Hx(n.classes)>Hx(e.classes)}function Hx(n){return Array.isArray(n)?n.sort().join(","):n}var jge='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',zge="ck-widget",Wj="ck-widget_selected";function Tr(n){return n.is("element")?!!n.getCustomProperty("widget"):!1}function Kh(n,e,t={}){if(!n.is("containerElement"))throw new Me("widget-to-widget-wrong-element-type",null,{element:n});return e.setAttribute("contenteditable","false",n),e.addClass(zge,n),e.setCustomProperty("widget",!0,n),n.getFillerOffset=qge,e.setCustomProperty("widgetLabel",[],n),t.label&&Wge(n,t.label),t.hasSelectionHandle&&Gge(n,e),Zj(n,e),n}function Uge(n,e,t){if(e.classes&&t.addClass(Vr(e.classes),n),e.attributes)for(let i in e.attributes)t.setAttribute(i,e.attributes[i],n)}function Hge(n,e,t){if(e.classes&&t.removeClass(Vr(e.classes),n),e.attributes)for(let i in e.attributes)t.removeAttribute(i,n)}function Zj(n,e,t=Uge,i=Hge){let r=new gT;r.on("change:top",(a,l)=>{l.oldDescriptor&&i(n,l.oldDescriptor,l.writer),l.newDescriptor&&t(n,l.newDescriptor,l.writer)});let o=(a,l,c)=>r.add(l,c),s=(a,l,c)=>r.remove(l,c);e.setCustomProperty("addHighlight",o,n),e.setCustomProperty("removeHighlight",s,n)}function Wge(n,e){n.getCustomProperty("widgetLabel").push(e)}function $ge(n){return n.getCustomProperty("widgetLabel").reduce((t,i)=>typeof i=="function"?t?t+". "+i():i():t?t+". "+i:i,"")}function vT(n,e,t={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],n),e.setAttribute("role","textbox",n),e.setAttribute("tabindex","-1",n),t.label&&e.setAttribute("aria-label",t.label,n),e.setAttribute("contenteditable",n.isReadOnly?"false":"true",n),n.on("change:isReadOnly",(i,r,o)=>{e.setAttribute("contenteditable",o?"false":"true",n)}),n.on("change:isFocused",(i,r,o)=>{o?e.addClass("ck-editor__nested-editable_focused",n):e.removeClass("ck-editor__nested-editable_focused",n)}),Zj(n,e),n}function qge(){return null}function Gge(n,e){let t=e.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(i){let r=this.toDomElement(i),o=new sd;return o.set("content",jge),o.render(),r.appendChild(o.element),r});e.insert(e.createPositionAt(n,0),t),e.addClass(["ck-widget_with-selection-handle"],n)}var cd="widget-type-around";function ym(n,e,t){return!!n&&Tr(n)&&!t.isInline(e)}function Kge(n){return n.closest(".ck-widget__type-around__button")}function Zge(n){return n.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function Yge(n,e){let t=n.closest(".ck-widget");return e.mapDomToView(t)}function _m(n){return n.getAttribute(cd)}var Xge='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',Yj=["before","after"],Jge=new DOMParser().parseFromString(Xge,"image/svg+xml").firstChild,$j="ck-widget__type-around_disabled",bT=class extends yt{_currentFakeCaretModelElement=null;static get pluginName(){return"WidgetTypeAround"}static get requires(){return[ld,$a]}init(){let e=this.editor,t=e.editing.view;this.on("change:isEnabled",(i,r,o)=>{t.change(s=>{for(let a of t.document.roots)o?s.removeClass($j,a):s.addClass($j,a)}),o||e.model.change(s=>{s.removeSelectionAttribute(cd)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){let i=this.editor,r=i.editing.view,o=i.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);i.execute("insertParagraph",{position:i.model.createPositionAt(e,t),attributes:o}),r.focus(),r.scrollToTheSelection()}_listenToIfEnabled(e,t,i,r){this.listenTo(e,t,(...o)=>{this.isEnabled&&i(...o)},r)}_insertParagraphAccordingToFakeCaretPosition(){let i=this.editor.model.document.selection,r=_m(i);if(!r)return!1;let o=i.getSelectedElement();return this._insertParagraph(o,r),!0}_enableTypeAroundUIInjection(){let e=this.editor,t=e.model.schema,i=e.locale.t,r={before:i("Insert paragraph before block"),after:i("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(o,s,a)=>{let l=a.mapper.toViewElement(s.item);l&&ym(l,s.item,t)&&(Qge(a.writer,r,l),l.getCustomProperty("widgetLabel").push(()=>this.isEnabled?i("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){let e=this.editor,t=e.model,i=t.document.selection,r=t.schema,o=e.editing.view;this._listenToIfEnabled(o.document,"arrowKey",(a,l)=>{this._handleArrowKeyPress(a,l)},{context:[Tr,"$text"],priority:"high"}),this._listenToIfEnabled(i,"change:range",(a,l)=>{l.directChange&&e.model.change(c=>{c.removeSelectionAttribute(cd)})}),this._listenToIfEnabled(t.document,"change:data",()=>{let a=i.getSelectedElement();if(a){let l=e.editing.mapper.toViewElement(a);if(ym(l,a,r))return}e.model.change(l=>{l.removeSelectionAttribute(cd)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(a,l,c)=>{let u=c.writer;if(this._currentFakeCaretModelElement){let m=c.mapper.toViewElement(this._currentFakeCaretModelElement);m&&(u.removeClass(Yj.map(s),m),this._currentFakeCaretModelElement=null)}let d=l.selection.getSelectedElement();if(!d)return;let f=c.mapper.toViewElement(d);if(!ym(f,d,r))return;let h=_m(l.selection);h&&(u.addClass(s(h),f),this._currentFakeCaretModelElement=d)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(a,l,c)=>{c||e.model.change(u=>{u.removeSelectionAttribute(cd)})});function s(a){return`ck-widget_type-around_show-fake-caret_${a}`}}_handleArrowKeyPress(e,t){let i=this.editor,r=i.model,o=r.document.selection,s=r.schema,a=i.editing.view,l=t.keyCode,c=tB(l,i.locale.contentLanguageDirection),u=a.document.selection.getSelectedElement(),d=i.editing.mapper.toModelElement(u),f;ym(u,d,s)?f=this._handleArrowKeyPressOnSelectedWidget(c):o.isCollapsed?f=this._handleArrowKeyPressWhenSelectionNextToAWidget(c):t.shiftKey||(f=this._handleArrowKeyPressWhenNonCollapsedSelection(c)),f&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){let i=this.editor.model,r=i.document.selection,o=_m(r);return i.change(s=>{if(o){if(!(o===(e?"after":"before")))return s.removeSelectionAttribute(cd),!0}else return s.setSelectionAttribute(cd,e?"after":"before"),!0;return!1})}_handleArrowKeyPressWhenSelectionNextToAWidget(e){let t=this.editor,i=t.model,r=i.schema,o=t.plugins.get("Widget"),s=o._getObjectElementNextToSelection(e),a=t.editing.mapper.toViewElement(s);return ym(a,s,r)?(i.change(l=>{o._setSelectionOverElement(s),l.setSelectionAttribute(cd,e?"before":"after")}),!0):!1}_handleArrowKeyPressWhenNonCollapsedSelection(e){let t=this.editor,i=t.model,r=i.schema,o=t.editing.mapper,s=i.document.selection,a=e?s.getLastPosition().nodeBefore:s.getFirstPosition().nodeAfter,l=o.toViewElement(a);return ym(l,a,r)?(i.change(c=>{c.setSelection(a,"on"),c.setSelectionAttribute(cd,e?"after":"before")}),!0):!1}_enableInsertingParagraphsOnButtonClick(){let e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(i,r)=>{let o=Kge(r.domTarget);if(!o)return;let s=Zge(o),a=Yge(o,t.domConverter),l=e.editing.mapper.toModelElement(a);this._insertParagraph(l,s),r.preventDefault(),i.stop()})}_enableInsertingParagraphsOnEnterKeypress(){let e=this.editor,t=e.model.document.selection,i=e.editing.view;this._listenToIfEnabled(i.document,"enter",(r,o)=>{if(r.eventPhase!="atTarget")return;let s=t.getSelectedElement(),a=e.editing.mapper.toViewElement(s),l=e.model.schema,c;this._insertParagraphAccordingToFakeCaretPosition()?c=!0:ym(a,s,l)&&(this._insertParagraph(s,o.isSoft?"before":"after"),c=!0),c&&(o.preventDefault(),r.stop())},{context:Tr})}_enableInsertingParagraphsOnTypingKeystroke(){let t=this.editor.editing.view.document;this._listenToIfEnabled(t,"insertText",(i,r)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(r.selection=t.selection)},{priority:"high"}),_n.isAndroid?this._listenToIfEnabled(t,"keydown",(i,r)=>{r.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(t,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){let e=this.editor,t=e.editing.view,i=e.model,r=i.schema;this._listenToIfEnabled(t.document,"delete",(o,s)=>{if(o.eventPhase!="atTarget")return;let a=_m(i.document.selection);if(!a)return;let l=s.direction,c=i.document.selection.getSelectedElement(),u=a==="before",d=l=="forward";if(u===d)e.execute("delete",{selection:i.createSelection(c,"on")});else{let h=r.getNearestSelectionRange(i.createPositionAt(c,a),l);if(h)if(!h.isCollapsed)i.change(m=>{m.setSelection(h),e.execute(d?"deleteForward":"delete")});else{let m=i.createSelection(h.start);if(i.modifySelection(m,{direction:l}),!m.focus.isEqual(h.start))i.change(p=>{p.setSelection(h),e.execute(d?"deleteForward":"delete")});else{let p=n0e(r,h.start.parent);i.deleteContent(i.createSelection(p,"on"),{doNotAutoparagraph:!0})}}}s.preventDefault(),o.stop()},{context:Tr})}_enableInsertContentIntegration(){let e=this.editor,t=this.editor.model,i=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(r,[o,s])=>{if(s&&!s.is("documentSelection"))return;let a=_m(i);if(a)return r.stop(),t.change(l=>{let c=i.getSelectedElement(),u=t.createPositionAt(c,a),d=l.createSelection(u),f=t.insertContent(o,d);return l.setSelection(d),f})},{priority:"high"})}_enableInsertObjectIntegration(){let e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(r,o)=>{let[,s,a={}]=o;if(s&&!s.is("documentSelection"))return;let l=_m(i);l&&(a.findOptimalPosition=l,o[3]=a)},{priority:"high"})}_enableDeleteContentIntegration(){let e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(r,[o])=>{if(o&&!o.is("documentSelection"))return;_m(i)&&r.stop()},{priority:"high"})}};function Qge(n,e,t){let i=n.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(r){let o=this.toDomElement(r);return e0e(o,e),t0e(o),o});n.insert(n.createPositionAt(t,"end"),i)}function e0e(n,e){for(let t of Yj){let i=new Qs({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${t}`],title:e[t],"aria-hidden":"true"},children:[n.ownerDocument.importNode(Jge,!0)]});n.appendChild(i.render())}}function t0e(n){let e=new Qs({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});n.appendChild(e.render())}function n0e(n,e){let t=e;for(let i of e.getAncestors({parentFirst:!0})){if(i.childCount>1||n.isLimit(i))break;t=i}return t}function i0e(n){let e=n.model;return(t,i)=>{let r=i.keyCode==Gn.arrowup,o=i.keyCode==Gn.arrowdown,s=i.shiftKey,a=e.document.selection;if(!r&&!o)return;let l=o;if(s&&s0e(a,l))return;let c=r0e(n,a,l);if(c){if(c.isCollapsed){if(a.isCollapsed)return;if(s)return}(c.isCollapsed||o0e(n,c,l))&&(e.change(u=>{let d=l?c.end:c.start;if(s){let f=e.createSelection(a.anchor);f.setFocus(d),u.setSelection(f)}else u.setSelection(d)}),t.stop(),i.preventDefault(),i.stopPropagation())}}}function r0e(n,e,t){let i=n.model;if(t){let r=e.isCollapsed?e.focus:e.getLastPosition(),o=qj(i,r,"forward");if(!o)return null;let s=i.createRange(r,o),a=Gj(i.schema,s,"backward");return a?i.createRange(r,a):null}else{let r=e.isCollapsed?e.focus:e.getFirstPosition(),o=qj(i,r,"backward");if(!o)return null;let s=i.createRange(o,r),a=Gj(i.schema,s,"forward");return a?i.createRange(a,r):null}}function qj(n,e,t){let i=n.schema,r=n.createRangeIn(e.root),o=t=="forward"?"elementStart":"elementEnd";for(let{previousPosition:s,item:a,type:l}of r.getWalker({startPosition:e,direction:t})){if(i.isLimit(a)&&!i.isInline(a))return s;if(l==o&&i.isBlock(a))return null}return null}function Gj(n,e,t){let i=t=="backward"?e.end:e.start;if(n.checkChild(i,"$text"))return i;for(let{nextPosition:r}of e.getWalker({direction:t}))if(n.checkChild(r,"$text"))return r;return null}function o0e(n,e,t){let i=n.model,r=n.view.domConverter;if(t){let c=i.createSelection(e.start);i.modifySelection(c),!c.focus.isAtEnd&&!e.start.isEqual(c.focus)&&(e=i.createRange(c.focus,e.end))}let o=n.mapper.toViewRange(e),s=r.viewRangeToDom(o),a=si.getDomRangeRects(s),l;for(let c of a){if(l===void 0){l=Math.round(c.bottom);continue}if(Math.round(c.top)>=l)return!1;l=Math.max(l,Math.round(c.bottom))}return!0}function s0e(n,e){return!n.isCollapsed&&n.isBackward==e}var Ol=class extends yt{_previouslySelected=new Set;static get pluginName(){return"Widget"}static get requires(){return[bT,$a]}init(){let e=this.editor,t=e.editing.view,i=t.document,r=e.t;this.editor.editing.downcastDispatcher.on("selection",(o,s,a)=>{let l=a.writer,c=s.selection;if(c.isCollapsed)return;let u=c.getSelectedElement();if(!u)return;let d=e.editing.mapper.toViewElement(u);Tr(d)&&a.consumable.consume(c,"selection")&&l.setSelection(l.createRangeOn(d),{fake:!0,label:$ge(d)})}),this.editor.editing.downcastDispatcher.on("selection",(o,s,a)=>{this._clearPreviouslySelectedWidgets(a.writer);let l=a.writer,c=l.document.selection,u=null;for(let d of c.getRanges())for(let f of d){let h=f.item;Tr(h)&&!c0e(h,u)&&(l.addClass(Wj,h),this._previouslySelected.add(h),u=h)}},{priority:"low"}),t.addObserver(Bh),this.listenTo(i,"mousedown",(...o)=>this._onMousedown(...o)),this.listenTo(i,"arrowKey",(...o)=>{this._handleSelectionChangeOnArrowKeyPress(...o)},{context:[Tr,"$text"]}),this.listenTo(i,"arrowKey",(...o)=>{this._preventDefaultOnArrowKeyPress(...o)},{context:"$root"}),this.listenTo(i,"arrowKey",i0e(this.editor.editing),{context:"$text"}),this.listenTo(i,"delete",(o,s)=>{this._handleDelete(s.direction=="forward")&&(s.preventDefault(),o.stop())},{context:"$root"}),this.listenTo(i,"tab",(o,s)=>{o.eventPhase=="atTarget"&&(s.shiftKey||this._selectFirstNestedEditable()&&(s.preventDefault(),o.stop()))},{context:Tr,priority:"low"}),this.listenTo(i,"tab",(o,s)=>{s.shiftKey&&this._selectAncestorWidget()&&(s.preventDefault(),o.stop())},{priority:"low"}),this.listenTo(i,"keydown",(o,s)=>{s.keystroke==Gn.esc&&this._selectAncestorWidget()&&(s.preventDefault(),o.stop())},{priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:r("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:r("Move focus from an editable area back to the parent widget"),keystroke:"Esc"},{label:r("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:r("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:r("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:r("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,t){let i=this.editor,r=i.editing.view,o=r.document,s=t.target;if(!s)return;if(t.domEvent.detail>=3){this._selectBlockContent(s)&&t.preventDefault();return}if(!Tr(s)){let l=a0e(s);if(!l)return;if(Tr(l))s=l;else{let c=l0e(r,t);if(c&&Tr(c))s=c;else return}}_n.isAndroid&&t.preventDefault(),o.isFocused||r.focus();let a=i.editing.mapper.toModelElement(s);this._setSelectionOverElement(a)}_selectBlockContent(e){let t=this.editor,i=t.model,r=t.editing.mapper,o=i.schema,s=r.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),a=u0e(r.toModelElement(s),i.schema);return a?(i.change(l=>{let c=o.isLimit(a)?null:d0e(l.createPositionAfter(a),o),u=l.createPositionAt(a,0),d=c?l.createPositionAt(c,0):l.createPositionAt(a,"end");l.setSelection(l.createRange(u,d))}),!0):!1}_handleSelectionChangeOnArrowKeyPress(e,t){let i=t.keyCode,r=this.editor.model,o=r.schema,s=r.document.selection,a=s.getSelectedElement(),l=Tg(i,this.editor.locale.contentLanguageDirection),c=l=="down"||l=="right",u=l=="up"||l=="down";if(a&&o.isObject(a)){let f=c?s.getLastPosition():s.getFirstPosition(),h=o.getNearestSelectionRange(f,c?"forward":"backward");h&&(r.change(m=>{m.setSelection(h)}),t.preventDefault(),e.stop());return}if(!s.isCollapsed&&!t.shiftKey){let f=s.getFirstPosition(),h=s.getLastPosition(),m=f.nodeAfter,p=h.nodeBefore;(m&&o.isObject(m)||p&&o.isObject(p))&&(r.change(g=>{g.setSelection(c?h:f)}),t.preventDefault(),e.stop());return}if(!s.isCollapsed)return;let d=this._getObjectElementNextToSelection(c);if(d&&o.isObject(d)){if(o.isInline(d)&&u)return;this._setSelectionOverElement(d),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){let i=this.editor.model,r=i.schema,o=i.document.selection.getSelectedElement();o&&r.isObject(o)&&(t.preventDefault(),e.stop())}_handleDelete(e){let i=this.editor.model.document.selection;if(!this.editor.model.canEditAt(i)||!i.isCollapsed)return;let r=this._getObjectElementNextToSelection(e);if(r)return this.editor.model.change(o=>{let s=i.anchor.parent;for(;s.isEmpty;){let a=s;s=a.parent,o.remove(a)}this._setSelectionOverElement(r)}),!0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){let t=this.editor.model,i=t.schema,r=t.document.selection,o=t.createSelection(r);if(t.modifySelection(o,{direction:e?"forward":"backward"}),o.isEqual(r))return null;let s=e?o.focus.nodeBefore:o.focus.nodeAfter;return s&&i.isObject(s)?s:null}_clearPreviouslySelectedWidgets(e){for(let t of this._previouslySelected)e.removeClass(Wj,t);this._previouslySelected.clear()}_selectFirstNestedEditable(){let e=this.editor,i=this.editor.editing.view.document;for(let r of i.selection.getFirstRange().getItems())if(r.is("editableElement")){let o=e.editing.mapper.toModelElement(r);if(!o)continue;let s=e.model.createPositionAt(o,0),a=e.model.schema.getNearestSelectionRange(s,"forward");return e.model.change(l=>{l.setSelection(a)}),!0}return!1}_selectAncestorWidget(){let e=this.editor,t=e.editing.mapper,r=e.editing.view.document.selection.getFirstPosition().parent,s=(r.is("$text")?r.parent:r).findAncestor(Tr);if(!s)return!1;let a=t.toModelElement(s);return a?(e.model.change(l=>{l.setSelection(a,"on")}),!0):!1}};function a0e(n){let e=n;for(;e;){if(e.is("editableElement")||Tr(e))return e;e=e.parent}return null}function l0e(n,e){let t=ex(e.domEvent),i=null;if(t?i=n.domConverter.domRangeToView(t):i=n.createRange(n.createPositionAt(e.target,0)),!i)return null;let r=i.start;if(!r.parent)return null;let o=r.parent;return r.parent.is("editableElement")&&(r.isAtEnd&&r.nodeBefore?o=r.nodeBefore:r.isAtStart&&r.nodeAfter&&(o=r.nodeAfter)),o.is("$text")?o.parent:o}function c0e(n,e){return e?Array.from(n.getAncestors()).includes(e):!1}function u0e(n,e){for(let t of n.getAncestors({includeSelf:!0,parentFirst:!0})){if(e.checkChild(t,"$text"))return t;if(e.isLimit(t)&&!e.isObject(t))break}return null}function d0e(n,e){let t=new za({startPosition:n});for(let{item:i}of t){if(e.isLimit(i)||!i.is("element"))return null;if(e.checkChild(i,"$text"))return i}return null}var xm=class extends yt{_toolbarDefinitions=new Map;_balloon;static get requires(){return[au]}static get pluginName(){return"WidgetToolbarRepository"}init(){let e=this.editor;if(e.plugins.has("BalloonToolbar")){let t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",i=>{h0e(e.editing.view.document.selection)&&i.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(let e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:t,items:i,getRelatedElement:r,balloonClassName:o="ck-toolbar-container"}){if(!i.length){vi("widget-toolbar-no-items",{toolbarId:e});return}let s=this.editor,a=s.t,l=new cc(s.locale);if(l.ariaLabel=t||a("Widget toolbar"),this._toolbarDefinitions.has(e))throw new Me("widget-toolbar-duplicated",this,{toolbarId:e});let c={view:l,getRelatedElement:r,balloonClassName:o,itemsConfig:i,initialized:!1};s.ui.addToolbar(l,{isContextual:!0,beforeFocus:()=>{let u=r(s.editing.view.document.selection);u&&this._showToolbar(c,u)},afterBlur:()=>{this._hideToolbar(c)}}),this._toolbarDefinitions.set(e,c)}_updateToolbarsVisibility(){let e=0,t=null,i=null;for(let r of this._toolbarDefinitions.values()){let o=r.getRelatedElement(this.editor.editing.view.document.selection);if(!this.isEnabled||!o)this._isToolbarInBalloon(r)&&this._hideToolbar(r);else if(!this.editor.ui.focusTracker.isFocused)this._isToolbarVisible(r)&&this._hideToolbar(r);else{let s=o.getAncestors().length;s>e&&(e=s,t=o,i=r)}}i&&this._showToolbar(i,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?Kj(this.editor,t):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:Xj(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(let i of this._toolbarDefinitions.values())if(this._isToolbarVisible(i)){let r=i.getRelatedElement(this.editor.editing.view.document.selection);Kj(this.editor,r)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}};function Kj(n,e){let t=n.plugins.get("ContextualBalloon"),i=Xj(n,e);t.updatePosition(i)}function Xj(n,e){let t=n.editing.view,i=rd.defaultPositions;return{target:t.domConverter.mapViewToDom(e),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}function h0e(n){let e=n.getSelectedElement();return!!(e&&Tr(e))}var Cm=class extends Ua{domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];constructor(e){super(e);let t=this.document;this.listenTo(t,"paste",i("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",i("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",i("dragging"),{priority:"low"});function i(r){return(o,s)=>{s.preventDefault();let a=s.dropRange?[s.dropRange]:null,l=new ka(t,r);t.fire(l,{dataTransfer:s.dataTransfer,method:o.name,targetRanges:a,target:s.target,domEvent:s.domEvent}),l.stop.called&&s.stopPropagation()}}}onDomEvent(e){let t="clipboardData"in e?e.clipboardData:e.dataTransfer,i=e.type=="drop"||e.type=="paste",r={dataTransfer:new ov(t,{cacheFiles:i})};if(e.type=="drop"||e.type=="dragover"){let o=ex(e);r.dropRange=o&&this.view.domConverter.domRangeToView(o)}this.fire(e.type,e,r)}};function f0e(n){return n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),(n.includes("</p><p>")||n.includes("<br>"))&&(n=`<p>${n}</p>`),n}function m0e(n){return n.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length==1?" ":t).replace(/<!--[\s\S]*?-->/g,"")}var Jj=["figcaption","li"],Qj=["ol","ul"];function rz(n){if(n.is("$text")||n.is("$textProxy"))return n.data;if(n.is("element","img")&&n.hasAttribute("alt"))return n.getAttribute("alt");if(n.is("element","br"))return`
`;let e="",t=null;for(let i of n.getChildren())e+=p0e(i,t)+rz(i),t=i;return e}function p0e(n,e){return e?n.is("element","li")&&!n.isEmpty&&n.getChild(0).is("containerElement")||Qj.includes(n.name)&&Qj.includes(e.name)?`

`:!n.is("containerElement")&&!e.is("containerElement")?"":Jj.includes(n.name)||Jj.includes(e.name)?`
`:n.is("element")&&n.getCustomProperty("dataPipeline:transparentRendering")||e.is("element")&&e.getCustomProperty("dataPipeline:transparentRendering")?"":`

`:""}var Zh=class extends yt{_markersToCopy=new Map;static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(e,t){this._markersToCopy.set(e,t)}_copySelectedFragmentWithMarkers(e,t,i=r=>r.model.getSelectedContent(r.model.document.selection)){return this.editor.model.change(r=>{let o=r.model.document.selection;r.setSelection(t);let s=this._insertFakeMarkersIntoSelection(r,r.model.document.selection,e),a=i(r),l=this._removeFakeMarkersInsideElement(r,a);for(let[c,u]of Object.entries(s)){l[c]||=r.createRangeIn(a);for(let d of u)r.remove(d)}a.markers.clear();for(let[c,u]of Object.entries(l))a.markers.set(c,u);return r.setSelection(o),a})}_pasteMarkersIntoTransformedElement(e,t){let i=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change(r=>{let o=this._insertFakeMarkersElements(r,i),s=t(r),a=this._removeFakeMarkersInsideElement(r,s);for(let l of Object.values(o).flat())r.remove(l);for(let[l,c]of Object.entries(a))r.model.markers.has(l)||r.addMarker(l,{usingOperation:!0,affectsData:!0,range:c});return s})}_pasteFragmentWithMarkers(e){let t=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(let i of t)e.markers.set(i.name,i.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,t,i={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){let r=this._markersToCopy.get(e);this._markersToCopy.set(e,i),t(),r?this._markersToCopy.set(e,r):this._markersToCopy.delete(e)}_isMarkerCopyable(e,t){let i=this._getMarkerClipboardConfig(e);if(!i)return!1;if(!t)return!0;let{allowedActions:r}=i;return r==="all"||r.includes(t)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){let[t]=e.split(":");return this._markersToCopy.get(t)||null}_insertFakeMarkersIntoSelection(e,t,i){let r=this._getCopyableMarkersFromSelection(e,t,i);return this._insertFakeMarkersElements(e,r)}_getCopyableMarkersFromSelection(e,t,i){let r=Array.from(t.getRanges()),o=new Set(r.flatMap(a=>Array.from(e.model.markers.getMarkersIntersectingRange(a)))),s=a=>{if(!this._isMarkerCopyable(a.name,i))return!1;let{copyPartiallySelected:c}=this._getMarkerClipboardConfig(a.name);if(!c){let u=a.getRange();return r.some(d=>d.containsRange(u,!0))}return!0};return Array.from(o).filter(s).map(a=>({name:i==="dragstart"?this._getUniqueMarkerName(a.name):a.name,range:a.getRange()}))}_getPasteMarkersFromRangeMap(e,t=null){let{model:i}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap(([o,s])=>{if(!this._hasMarkerConfiguration(o))return[{name:o,range:s}];if(this._isMarkerCopyable(o,t)){let a=this._getMarkerClipboardConfig(o),l=i.markers.has(o)&&i.markers.get(o).getRange().root.rootName==="$graveyard";return(a.duplicateOnPaste||l)&&(o=this._getUniqueMarkerName(o)),[{name:o,range:s}]}return[]})}_insertFakeMarkersElements(e,t){let i={},r=t.flatMap(o=>{let{start:s,end:a}=o.range;return[{position:s,marker:o,type:"start"},{position:a,marker:o,type:"end"}]}).sort(({position:o},{position:s})=>o.isBefore(s)?1:-1);for(let{position:o,marker:s,type:a}of r){let l=e.createElement("$marker",{"data-name":s.name,"data-type":a});i[s.name]||(i[s.name]=[]),i[s.name].push(l),e.insert(l,o)}return i}_removeFakeMarkersInsideElement(e,t){let r=this._getAllFakeMarkersFromElement(e,t).reduce((o,s)=>{let a=s.markerElement&&e.createPositionBefore(s.markerElement),l=o[s.name],c=!1;return l&&l.start&&l.end&&(this._getMarkerClipboardConfig(s.name).duplicateOnPaste?o[this._getUniqueMarkerName(s.name)]=o[s.name]:c=!0,l=null),c||(o[s.name]=Xt(Be({},l),{[s.type]:a})),s.markerElement&&e.remove(s.markerElement),o},{});return RS(r,o=>new nt(o.start||e.createPositionFromPath(t,[0]),o.end||e.createPositionAt(t,"end")))}_getAllFakeMarkersFromElement(e,t){let i=Array.from(e.createRangeIn(t)).flatMap(({item:s})=>{if(!s.is("element","$marker"))return[];let a=s.getAttribute("data-name"),l=s.getAttribute("data-type");return[{markerElement:s,name:a,type:l}]}),r=[],o=[];for(let s of i)s.type==="end"&&(i.some(l=>l.name===s.name&&l.type==="start")||r.push({markerElement:null,name:s.name,type:"start"})),s.type==="start"&&(i.some(l=>l.name===s.name&&l.type==="end")||o.unshift({markerElement:null,name:s.name,type:"end"}));return[...r,...i,...o]}_getUniqueMarkerName(e){let t=e.split(":"),i=ts().substring(1,6);return t.length===3?`${t.slice(0,2).join(":")}:${i}`:`${t.join(":")}:${i}`}},Ms=class extends yt{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[Zh]}init(){this.editor.editing.view.addObserver(Cm),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,t,i){let r=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:i==="cut"},()=>{let o=r._copySelectedFragmentWithMarkers(i,t);this.fire("outputTransformation",{dataTransfer:e,content:o,method:i})})}_setupPasteDrop(){let e=this.editor,t=e.model,i=e.editing.view,r=i.document,o=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(r,"clipboardInput",(s,a)=>{a.method=="paste"&&!e.model.canEditAt(e.model.document.selection)&&s.stop()},{priority:"highest"}),this.listenTo(r,"clipboardInput",(s,a)=>{let l=a.dataTransfer,c;if(a.content)c=a.content;else{let d="";l.getData("text/html")?d=m0e(l.getData("text/html")):l.getData("text/plain")&&(d=f0e(l.getData("text/plain"))),c=this.editor.data.htmlProcessor.toView(d)}let u=new ka(this,"inputTransformation");this.fire(u,{content:c,dataTransfer:l,targetRanges:a.targetRanges,method:a.method}),u.stop.called&&s.stop(),i.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(s,a)=>{if(a.content.isEmpty)return;let c=this.editor.data.toModel(a.content,"$clipboardHolder");c.childCount!=0&&(s.stop(),t.change(()=>{this.fire("contentInsertion",{content:c,method:a.method,dataTransfer:a.dataTransfer,targetRanges:a.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(s,a)=>{a.resultRange=o._pasteFragmentWithMarkers(a.content)},{priority:"low"})}_setupCopyCut(){let e=this.editor,t=e.model.document,r=e.editing.view.document,o=(s,a)=>{let l=a.dataTransfer;a.preventDefault(),this._fireOutputTransformationEvent(l,t.selection,s.name)};this.listenTo(r,"copy",o,{priority:"low"}),this.listenTo(r,"cut",(s,a)=>{e.model.canEditAt(e.model.document.selection)?o(s,a):a.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(s,a)=>{let l=e.data.toView(a.content);r.fire("clipboardOutput",{dataTransfer:a.dataTransfer,content:l,method:a.method})},{priority:"low"}),this.listenTo(r,"clipboardOutput",(s,a)=>{a.content.isEmpty||(a.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(a.content)),a.dataTransfer.setData("text/plain",rz(a.content))),a.method=="cut"&&e.model.deleteContent(t.selection)},{priority:"low"})}},wT=ed("px"),yT=class extends nn{constructor(){super();let e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",t=>!t)],style:{left:e.to("left",t=>wT(t)),top:e.to("top",t=>wT(t)),width:e.to("width",t=>wT(t))}}})}},m0=class extends yt{removeDropMarkerDelayed=Ig(()=>this.removeDropMarker(),40);_updateDropMarkerThrottled=Ph(e=>this._updateDropMarker(e),40);_reconvertMarkerThrottled=Ph(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0);_dropTargetLineView=new yT;_domEmitter=new(No());_scrollables=new Map;static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(let{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,t,i,r,o,s){this.removeDropMarkerDelayed.cancel();let a=ez(this.editor,e,t,i,r,o,s);if(a){if(s&&s.containsRange(a))return this.removeDropMarker();this._updateDropMarkerThrottled(a)}}getFinalDropRange(e,t,i,r,o,s){let a=ez(this.editor,e,t,i,r,o,s);return this.removeDropMarker(),a}removeDropMarker(){let e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(t=>{t.removeMarker("drop-target")})}_setupDropMarker(){let e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:i})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(i);t.markerRange.isCollapsed?this._updateDropTargetLine(t.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){let t=this.editor,i=t.model.markers;t.model.change(r=>{i.has("drop-target")?i.get("drop-target").getRange().isEqual(e)||r.updateMarker("drop-target",{range:e}):r.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(t){let i=this.toDomElement(t);return i.append("\u2060",t.createElement("span"),"\u2060"),i})}_updateDropTargetLine(e){let t=this.editor.editing,i=e.start.nodeBefore,r=e.start.nodeAfter,o=e.start.parent,s=i?t.mapper.toViewElement(i):null,a=s?t.view.domConverter.mapViewToDom(s):null,l=r?t.mapper.toViewElement(r):null,c=l?t.view.domConverter.mapViewToDom(l):null,u=t.mapper.toViewElement(o);if(!u)return;let d=t.view.domConverter.mapViewToDom(u),f=this._getScrollableRect(u),{scrollX:h,scrollY:m}=Kt.window,p=a?new si(a):null,g=c?new si(c):null,v=new si(d).excludeScrollbarsAndBorders(),x=p?p.bottom:v.top,I=g?g.top:v.bottom,N=Kt.window.getComputedStyle(d),H=x<=I?(x+I)/2:I;if(f.top<H&&H<f.bottom){let F=v.left+parseFloat(N.paddingLeft),B=v.right-parseFloat(N.paddingRight),V=Math.max(F+h,f.left),G=Math.min(B+h,f.right);this._dropTargetLineView.set({isVisible:!0,left:V,top:H+m,width:G-V})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){let t=e.root.rootName,i;if(this._scrollables.has(t))i=this._scrollables.get(t).domElement;else{let r=this.editor.editing.view.domConverter.mapViewToDom(e);i=b0e(r),this._domEmitter.listenTo(i,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});let o=new Eg(i,this._reconvertMarkerThrottled);this._scrollables.set(t,{domElement:i,resizeObserver:o})}return new si(i).excludeScrollbarsAndBorders()}};function ez(n,e,t,i,r,o,s){let a=n.model,l=n.editing.mapper,u=tz(n,e);for(;u;){if(!o){if(a.schema.checkChild(u,"$text")){if(t){let d=t[0].start,f=l.toModelPosition(d);if(!s||Array.from(s.getItems()).every(m=>a.schema.checkChild(f,m))){if(a.schema.checkChild(f,"$text"))return a.createRange(f);if(d)return Wx(n,tz(n,d.parent),i,r)}}}else if(a.schema.isInline(u))return Wx(n,u,i,r)}if(a.schema.isBlock(u))return Wx(n,u,i,r);if(a.schema.checkChild(u,"$block")){let d=Array.from(u.getChildren()).filter(m=>m.is("element")&&!g0e(n,m)),f=0,h=d.length;if(h==0)return a.createRange(a.createPositionAt(u,"end"));for(;f<h-1;){let m=Math.floor((f+h)/2);oz(n,d[m],i,r)=="before"?h=m:f=m}return Wx(n,d[f],i,r)}u=u.parent}return null}function g0e(n,e){let t=n.editing.mapper,i=n.editing.view.domConverter,r=t.toViewElement(e);if(!r)return!0;let o=i.mapViewToDom(r);return Kt.window.getComputedStyle(o).float!="none"}function Wx(n,e,t,i){let r=n.model;return r.createRange(r.createPositionAt(e,oz(n,e,t,i)))}function oz(n,e,t,i){let r=n.editing.mapper,o=n.editing.view.domConverter,s=r.toViewElement(e),a=o.mapViewToDom(s),l=new si(a);return n.model.schema.isInline(e)?t<(l.left+l.right)/2?"before":"after":i<(l.top+l.bottom)/2?"before":"after"}function tz(n,e){let t=n.editing.mapper,i=n.editing.view,r=t.toModelElement(e);if(r)return r;let o=i.createPositionBefore(e),s=t.findMappedViewAncestor(o);return t.toModelElement(s)}function b0e(n){let e=n;do{e=e.parentElement;let t=Kt.window.getComputedStyle(e).overflowY;if(t=="auto"||t=="scroll")break}while(e.tagName!="BODY");return e}var _T=class extends yt{_isBlockDragging=!1;_domEmitter=new(No());static get pluginName(){return"DragDropBlockToolbar"}init(){let e=this.editor;if(this.listenTo(e,"change:isReadOnly",(t,i,r)=>{r?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),_n.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){let i=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(i,"dragstart",(r,o)=>this._handleBlockDragStart(o)),this._domEmitter.listenTo(Kt.document,"dragover",(r,o)=>this._handleBlockDragging(o)),this._domEmitter.listenTo(Kt.document,"drop",(r,o)=>this._handleBlockDragging(o)),this._domEmitter.listenTo(Kt.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&i.setAttribute("draggable","true"),this.on("change:isEnabled",(r,o,s)=>{i.setAttribute("draggable",s?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;let t=this.editor.model,i=t.document.selection,r=this.editor.editing.view,o=Array.from(i.getSelectedBlocks()),s=t.createRange(t.createPositionBefore(o[0]),t.createPositionAfter(o[o.length-1]));t.change(a=>a.setSelection(s)),this._isBlockDragging=!0,r.focus(),r.getObserver(Cm).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;let t=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),i=e.clientY,r=document.elementFromPoint(t,i),o=this.editor.editing.view;!r||!r.closest(".ck-editor__editable")||o.getObserver(Cm).onDomEvent(Xt(Be({},e),{type:e.type,dataTransfer:e.dataTransfer,target:r,clientX:t,clientY:i,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()}))}_handleBlockDragEnd(){this._isBlockDragging=!1}},xT=class extends yt{_draggedRange;_draggingUid;_draggableElement;_clearDraggableAttributesDelayed=Ig(()=>this._clearDraggableAttributes(),40);_blockMode=!1;_domEmitter=new(No());_previewContainer;static get pluginName(){return"DragDrop"}static get requires(){return[Ms,Ol,m0,_T]}init(){let e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,t.addObserver(Cm),t.addObserver(Bh),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(i,r,o)=>{o?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(i,r,o)=>{o||this._finalizeDragging(!1)}),_n.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){let e=this.editor,t=e.model,i=e.editing.view,r=i.document,o=e.plugins.get(m0);this.listenTo(r,"dragstart",(s,a)=>{if(a.target&&a.target.is("editableElement")){a.preventDefault();return}if(this._prepareDraggedRange(a.target),!this._draggedRange){a.preventDefault();return}this._draggingUid=ts(),a.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",a.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);let l=t.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(a.dataTransfer,l,"dragstart");let{dataTransfer:u,domTarget:d,domEvent:f}=a,{clientX:h}=f;this._updatePreview({dataTransfer:u,domTarget:d,clientX:h}),a.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(r,"dragend",(s,a)=>{this._finalizeDragging(!a.dataTransfer.isCanceled&&a.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(Kt.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(r,"dragenter",()=>{this.isEnabled&&i.focus()}),this.listenTo(r,"dragleave",()=>{o.removeDropMarkerDelayed()}),this.listenTo(r,"dragging",(s,a)=>{if(!this.isEnabled){a.dataTransfer.dropEffect="none";return}let{clientX:l,clientY:c}=a.domEvent;o.updateDropMarker(a.target,a.targetRanges,l,c,this._blockMode,this._draggedRange),this._draggedRange||(a.dataTransfer.dropEffect="copy"),_n.isGecko||(a.dataTransfer.effectAllowed=="copy"?a.dataTransfer.dropEffect="copy":["all","copyMove"].includes(a.dataTransfer.effectAllowed)&&(a.dataTransfer.dropEffect="move")),s.stop()},{priority:"low"})}_setupClipboardInputIntegration(){let e=this.editor,i=e.editing.view.document,r=e.plugins.get(m0);this.listenTo(i,"clipboardInput",(o,s)=>{if(s.method!="drop")return;let{clientX:a,clientY:l}=s.domEvent,c=r.getFinalDropRange(s.target,s.targetRanges,a,l,this._blockMode,this._draggedRange);if(!c){this._finalizeDragging(!1),o.stop();return}if(this._draggedRange&&this._draggingUid!=s.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),nz(s.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(c,!0)){this._finalizeDragging(!1),o.stop();return}s.targetRanges=[e.editing.mapper.toViewRange(c)]},{priority:"high"})}_setupContentInsertionIntegration(){let e=this.editor.plugins.get(Ms);e.on("contentInsertion",(t,i)=>{if(!this.isEnabled||i.method!=="drop")return;let r=i.targetRanges.map(o=>this.editor.editing.mapper.toModelRange(o));this.editor.model.change(o=>o.setSelection(r))},{priority:"high"}),e.on("contentInsertion",(t,i)=>{if(!this.isEnabled||i.method!=="drop")return;let r=nz(i.dataTransfer)=="move",o=!i.resultRange||!i.resultRange.isCollapsed;this._finalizeDragging(o&&r)},{priority:"lowest"})}_setupDraggableAttributeHandling(){let e=this.editor,t=e.editing.view,i=t.document;this.listenTo(i,"mousedown",(r,o)=>{if(_n.isAndroid||!o)return;this._clearDraggableAttributesDelayed.cancel();let s=iz(o.target);if(_n.isBlink&&!e.isReadOnly&&!s&&!i.selection.isCollapsed){let a=i.selection.getSelectedElement();(!a||!Tr(a))&&(s=i.selection.editableElement)}s&&(t.change(a=>{a.setAttribute("draggable","true",s)}),this._draggableElement=e.editing.mapper.toModelElement(s))}),this.listenTo(i,"mouseup",()=>{_n.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){let e=this.editor.editing;e.view.change(t=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){let t=this.editor,i=t.model;t.plugins.get(m0).removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&i.change(o=>{let s=i.createSelection(this._draggedRange);i.deleteContent(s,{doNotAutoparagraph:!0});let a=s.getFirstPosition().parent;a.isEmpty&&!i.schema.checkChild(a,"$text")&&i.schema.checkChild(a,"paragraph")&&o.insertElement("paragraph",a,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){let t=this.editor,i=t.model,r=i.document.selection,o=e?iz(e):null;if(o){let c=t.editing.mapper.toModelElement(o);this._draggedRange=bs.fromRange(i.createRangeOn(c)),this._blockMode=i.schema.isBlock(c),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(r.isCollapsed&&!r.getFirstPosition().parent.isEmpty)return;let s=Array.from(r.getSelectedBlocks()),a=r.getFirstRange();if(s.length==0){this._draggedRange=bs.fromRange(a);return}let l=sz(i,s);if(s.length>1)this._draggedRange=bs.fromRange(l),this._blockMode=!0;else if(s.length==1){let c=a.start.isTouching(l.start)&&a.end.isTouching(l.end);this._draggedRange=bs.fromRange(c?l:a),this._blockMode=c}i.change(c=>c.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:t,clientX:i}){let r=this.editor.editing.view,o=r.document.selection.editableElement,s=r.domConverter.mapViewToDom(o),a=Kt.window.getComputedStyle(s);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=gs(Kt.document,"div",{style:"position: fixed; left: -999999px;"}),Kt.document.body.appendChild(this._previewContainer));let l=new si(s);if(s.contains(t))return;let c=parseFloat(a.paddingLeft),u=gs(Kt.document,"div");u.className="ck ck-content",u.style.width=a.width,u.style.paddingLeft=`${l.left-i+c}px`,_n.isiOS&&(u.style.backgroundColor="white"),r.domConverter.setContentOf(u,e.getData("text/html")),e.setDragImage(u,0,0),this._previewContainer.appendChild(u)}};function nz(n){return _n.isGecko?n.dropEffect:["all","copyMove"].includes(n.effectAllowed)?"move":"copy"}function iz(n){if(n.is("editableElement"))return null;if(n.hasClass("ck-widget__selection-handle"))return n.findAncestor(Tr);if(Tr(n))return n;let e=n.findAncestor(t=>Tr(t)||t.is("editableElement"));return Tr(e)?e:null}function sz(n,e){let t=e[0],i=e[e.length-1],r=t.getCommonAncestor(i),o=n.createPositionBefore(t),s=n.createPositionAfter(i);if(r&&r.is("element")&&!n.schema.isLimit(r)){let a=n.createRangeOn(r),l=o.isTouching(a.start),c=s.isTouching(a.end);if(l&&c)return sz(n,[r])}return n.createRange(o,s)}var CT=class extends yt{static get pluginName(){return"PastePlainText"}static get requires(){return[Ms]}init(){let e=this.editor,t=e.model,i=e.editing.view,r=t.document.selection;i.addObserver(Cm),e.plugins.get(Ms).on("contentInsertion",(o,s)=>{v0e(s.content,t)&&t.change(a=>{let l=Array.from(r.getAttributes()).filter(([u])=>t.schema.getAttributeProperties(u).isFormatting);r.isCollapsed||t.deleteContent(r,{doNotAutoparagraph:!0}),l.push(...r.getAttributes());let c=a.createRangeIn(s.content);for(let u of c.getItems())for(let d of l)t.schema.checkAttribute(u,d[0])&&a.setAttribute(d[0],d[1],u)})})}};function v0e(n,e){let t=e.createRangeIn(n);if(n.childCount==1){let i=n.getChild(0);i.is("element")&&e.schema.isBlock(i)&&!e.schema.isObject(i)&&!e.schema.isLimit(i)&&(t=e.createRangeIn(i))}for(let i of t.getItems())if(!e.schema.isInline(i)||Array.from(i.getAttributeKeys()).find(o=>e.schema.getAttributeProperties(o).isFormatting))return!1;return!0}var p0=class extends yt{static get pluginName(){return"Clipboard"}static get requires(){return[Zh,Ms,xT,CT]}init(){let e=this.editor,t=this.editor.t;e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Copy selected content"),keystroke:"CTRL+C"},{label:t("Paste content"),keystroke:"CTRL+V"},{label:t("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}};var ST=class extends Wh{view;_toolbarConfig;_elementReplacer;constructor(e,t){super(e),this.view=t,this._toolbarConfig=Fx(e.config.get("toolbar")),this._elementReplacer=new z1,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){let t=this.editor,i=this.view,r=t.editing.view,o=i.editable,s=r.document.getRoot();o.name=s.rootName,i.render();let a=o.element;this.setEditableElement(o.name,a),i.editable.bind("isFocused").to(this.focusTracker),r.attachDomRoot(a),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),i.menuBarView&&this._initMenuBar(i.menuBarView),this._initDialogPluginIntegration(),this._initContextualBalloonIntegration(),this.fire("ready")}destroy(){super.destroy();let e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){let e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:t})=>t||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){let e=this.editor,t=e.editing.view,i=t.document.getRoot(),r=e.sourceElement,o,s=e.config.get("placeholder");s&&(o=typeof s=="string"?s:s[this.view.editable.name]),!o&&r&&r.tagName.toLowerCase()==="textarea"&&(o=r.getAttribute("placeholder")),o&&(i.placeholder=o),id({view:t,element:i,isDirectHost:!1,keepOnFocus:!0})}_initContextualBalloonIntegration(){if(!this.editor.plugins.has("ContextualBalloon"))return;let{stickyPanel:e}=this.view,t=this.editor.plugins.get("ContextualBalloon");t.on("getPositionOptions",r=>{let o=r.return;if(!o||!e.isSticky||!e.element)return;let s=new si(e.element).height,a=typeof o.target=="function"?o.target():o.target,l=typeof o.limiter=="function"?o.limiter():o.limiter;if(a&&l&&new si(a).height>=new si(l).height-s)return;let c=Be({},o.viewportOffsetConfig),u=(c.top||0)+s;r.return=Xt(Be({},o),{viewportOffsetConfig:Xt(Be({},c),{top:u})})},{priority:"low"});let i=()=>{t.visibleView&&t.updatePosition()};this.listenTo(e,"change:isSticky",i),this.listenTo(this.editor.ui,"change:viewportOffset",i)}_handleScrollToTheSelectionWithStickyPanel(e,t,i){let r=this.view.stickyPanel;if(r.isSticky){let o=new si(r.element).height;t.viewportOffset.top+=o}else{let o=()=>{this.editor.editing.view.scrollToTheSelection(i)};this.listenTo(r,"change:isSticky",o),setTimeout(()=>{this.stopListening(r,"change:isSticky",o)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;let e=this.view.stickyPanel,t=this.editor.plugins.get("Dialog");t.on("show",()=>{let i=t.view;i.on("moveTo",(r,o)=>{if(!e.isSticky||i.wasMoved)return;let s=new si(e.contentPanelElement);o[1]<s.bottom+Lx.defaultOffset&&(o[1]=s.bottom+Lx.defaultOffset)},{priority:"high"})},{priority:"low"})}},AT=class extends Ox{stickyPanel;toolbar;editable;constructor(e,t,i={}){super(e),this.stickyPanel=new Rx(e),this.toolbar=new cc(e,{shouldGroupWhenFull:i.shouldToolbarGroupWhenFull}),i.useMenuBar&&(this.menuBarView=new qh(e)),this.editable=new $h(e,t,void 0,{label:i.label})}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}},g0=class extends pm(Hg){ui;constructor(e,t={}){if(!$x(e)&&t.initialData!==void 0)throw new Me("editor-create-initial-data",null);super(t),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",w0e(e)),$x(e)&&(this.sourceElement=e),this.model.document.createRoot();let i=!this.config.get("toolbar.shouldNotGroupWhenFull"),r=this.config.get("menuBar"),o=new AT(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:i,useMenuBar:r.isVisible,label:this.config.get("label")});this.ui=new ST(this,o),xx(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,t={}){return new Promise(i=>{let r=new this(e,t);i(r.initPlugins().then(()=>r.ui.init($x(e)?e:null)).then(()=>r.data.init(r.config.get("initialData"))).then(()=>r.fire("ready")).then(()=>r))})}};function w0e(n){return $x(n)?kg(n):n}function $x(n){return Sl(n)}var TT=class extends bn{constructor(e){super(e),this.affectsData=!1}execute(){let e=this.editor.model,t=e.document.selection,i=e.schema.getLimitElement(t);if(t.containsEntireContent(i)||!az(e.schema,i))do if(i=i.parent,!i)return;while(!az(e.schema,i));e.change(r=>{r.setSelection(i,"in")})}};function az(n,e){return n.isLimit(e)&&(n.checkChild(e,"$text")||n.checkChild(e,"paragraph"))}var y0e=$1("Ctrl+A"),IT=class extends yt{static get pluginName(){return"SelectAllEditing"}init(){let e=this.editor,t=e.t,r=e.editing.view.document;e.commands.add("selectAll",new TT(e)),this.listenTo(r,"keydown",(o,s)=>{Qu(s)===y0e&&(e.execute("selectAll"),s.preventDefault())}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Select all"),keystroke:"CTRL+A"}]})}},_0e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',MT=class extends yt{static get pluginName(){return"SelectAllUI"}init(){let e=this.editor;e.ui.componentFactory.add("selectAll",()=>{let t=this._createButton(Sn);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(gi))}_createButton(e){let t=this.editor,i=t.locale,r=t.commands.get("selectAll"),o=new e(t.locale),s=i.t;return o.set({label:s("Select all"),icon:_0e,keystroke:"Ctrl+A"}),o.bind("isEnabled").to(r,"isEnabled"),this.listenTo(o,"execute",()=>{t.execute("selectAll"),t.editing.view.focus()}),o}},Yh=class extends yt{static get requires(){return[IT,MT]}static get pluginName(){return"SelectAll"}};var qx=class extends bn{_stack=[];_createdBatches=new WeakSet;constructor(e){super(e),this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(t,i)=>{i[1]=Be({},i[1]);let r=i[1];r.batchType||(r.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(t,i)=>{i[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){let t=this.editor.model.document.selection,i={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:i}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,i){let r=this.editor.model,o=r.document,s=[],a=e.map(c=>c.getTransformedByOperations(i)),l=a.flat();for(let c of a){let u=c.filter(d=>d.root!=o.graveyard).filter(d=>!C0e(d,l));u.length&&(x0e(u),s.push(u[0]))}s.length&&r.change(c=>{c.setSelection(s,{backward:t})})}_undo(e,t){let i=this.editor.model,r=i.document;this._createdBatches.add(t);let o=e.operations.slice().filter(s=>s.isDocumentOperation);o.reverse();for(let s of o){let a=s.baseVersion+1,l=Array.from(r.history.getOperations(a)),u=SV([s.getReversed()],l,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let d of u){let f=d.affectedSelectable;f&&!i.canEditAt(f)&&(d=new So(d.baseVersion)),t.addOperation(d),i.applyOperation(d),r.history.setOperationAsUndone(s,d)}}}};function x0e(n){n.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<n.length;e++){let i=n[e-1].getJoined(n[e],!0);i&&(e--,n.splice(e,2,i))}}function C0e(n,e){return e.some(t=>t!==n&&t.containsRange(n,!0))}var PT=class extends qx{execute(e=null){let t=e?this._stack.findIndex(o=>o.batch==e):this._stack.length-1,i=this._stack.splice(t,1)[0],r=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(r,()=>{this._undo(i.batch,r);let o=this.editor.model.document.history.getOperations(i.batch.baseVersion);this._restoreSelection(i.selection.ranges,i.selection.isBackward,o)}),this.fire("revert",i.batch,r),this.refresh()}},DT=class extends qx{execute(){let e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,()=>{let r=e.batch.operations[e.batch.operations.length-1].baseVersion+1,o=this.editor.model.document.history.getOperations(r);this._restoreSelection(e.selection.ranges,e.selection.isBackward,o),this._undo(e.batch,t)}),this.refresh()}},OT=class extends yt{_undoCommand;_redoCommand;_batchRegistry=new WeakSet;static get pluginName(){return"UndoEditing"}init(){let e=this.editor,t=e.t;this._undoCommand=new PT(e),this._redoCommand=new DT(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(i,r)=>{let o=r[0];if(!o.isDocumentOperation)return;let s=o.batch,a=this._redoCommand.createdBatches.has(s),l=this._undoCommand.createdBatches.has(s);this._batchRegistry.has(s)||(this._batchRegistry.add(s),s.isUndoable&&(a?this._undoCommand.addBatch(s):l||(this._undoCommand.addBatch(s),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(i,r,o)=>{this._redoCommand.addBatch(o)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Undo"),keystroke:"CTRL+Z"},{label:t("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}},RT=class extends yt{static get pluginName(){return"UndoUI"}init(){let e=this.editor,t=e.locale,i=e.t,r=t.uiLanguageDirection=="ltr"?Mn.undo:Mn.redo,o=t.uiLanguageDirection=="ltr"?Mn.redo:Mn.undo;this._addButtonsToFactory("undo",i("Undo"),"CTRL+Z",r),this._addButtonsToFactory("redo",i("Redo"),"CTRL+Y",o)}_addButtonsToFactory(e,t,i,r){let o=this.editor;o.ui.componentFactory.add(e,()=>{let s=this._createButton(Sn,e,t,i,r);return s.set({tooltip:!0}),s}),o.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(gi,e,t,i,r))}_createButton(e,t,i,r,o){let s=this.editor,a=s.locale,l=s.commands.get(t),c=new e(a);return c.set({label:i,icon:o,keystroke:r}),c.bind("isEnabled").to(l,"isEnabled"),this.listenTo(c,"execute",()=>{s.execute(t),s.editing.view.focus()}),c}},cu=class extends yt{static get requires(){return[OT,RT]}static get pluginName(){return"Undo"}};var b0=class extends yt{static get requires(){return[Hh,p0,ld,Yh,Dv,o0,cu]}static get pluginName(){return"Essentials"}};var NT=class extends bn{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){let e=this.editor.model,t=e.document,i=Ar(t.selection.getSelectedBlocks());this.value=!!i&&i.is("element","paragraph"),this.isEnabled=!!i&&cz(i,e.schema)}execute(e={}){let t=this.editor.model,i=t.document,r=e.selection||i.selection;t.canEditAt(r)&&t.change(o=>{let s=r.getSelectedBlocks();for(let a of s)!a.is("element","paragraph")&&cz(a,t.schema)&&o.rename(a,"paragraph")})}};function cz(n,e){return e.checkChild(n.parent,"paragraph")&&!e.isObject(n)}var LT=class extends bn{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){let t=this.editor.model,i=e.attributes,r=e.position;t.canEditAt(r)&&t.change(o=>{if(r=this._findPositionToInsertParagraph(r,o),!r)return;let s=o.createElement("paragraph");i&&t.schema.setAllowedAttributes(s,i,o),t.insertContent(s,r),o.setSelection(s,"in")})}_findPositionToInsertParagraph(e,t){let i=this.editor.model;if(i.schema.checkChild(e,"paragraph"))return e;let r=i.schema.findAllowedParent(e,"paragraph");if(!r)return null;let o=e.parent,s=i.schema.checkChild(o,"$text");return o.isEmpty||s&&e.isAtEnd?i.createPositionAfter(o):!o.isEmpty&&s&&e.isAtStart?i.createPositionBefore(o):t.split(e,r).position}},km=class n extends yt{static get pluginName(){return"Paragraph"}init(){let e=this.editor,t=e.model;e.commands.add("paragraph",new NT(e)),e.commands.add("insertParagraph",new LT(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(i,{writer:r})=>!n.paragraphLikeElements.has(i.name)||i.isEmpty?null:r.createElement("paragraph"),view:/.+/,converterPriority:"low"})}static paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"])};var ZUe=new RegExp(String(/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source+/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source+/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source+/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source));var FT=class extends yt{static get pluginName(){return"IndentEditing"}init(){let e=this.editor;e.commands.add("indent",new bv(e)),e.commands.add("outdent",new bv(e))}},BT=class extends yt{static get pluginName(){return"IndentUI"}init(){let e=this.editor,t=e.locale,i=e.t,r=t.uiLanguageDirection=="ltr"?Mn.indent:Mn.outdent,o=t.uiLanguageDirection=="ltr"?Mn.outdent:Mn.indent;this._defineButton("indent",i("Increase indent"),r),this._defineButton("outdent",i("Decrease indent"),o)}_defineButton(e,t,i){let r=this.editor;r.ui.componentFactory.add(e,()=>{let o=this._createButton(Sn,e,t,i);return o.set({tooltip:!0}),o}),r.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(gi,e,t,i))}_createButton(e,t,i,r){let o=this.editor,s=o.commands.get(t),a=new e(o.locale);return a.set({label:i,icon:r}),a.bind("isEnabled").to(s,"isEnabled"),this.listenTo(a,"execute",()=>{o.execute(t),o.editing.view.focus()}),a}},w0=class extends yt{static get pluginName(){return"Indent"}static get requires(){return[FT,BT]}},v0=class extends bn{_indentBehavior;constructor(e,t){super(e),this._indentBehavior=t}refresh(){let t=this.editor.model,i=Ar(t.document.selection.getSelectedBlocks());if(!i||!this._isIndentationChangeAllowed(i)){this.isEnabled=!1;return}this.isEnabled=this._indentBehavior.checkEnabled(i.getAttribute("blockIndent"))}execute(){let e=this.editor.model,t=this._getBlocksToChange();e.change(i=>{for(let r of t){let o=r.getAttribute("blockIndent"),s=this._indentBehavior.getNextIndent(o);s?i.setAttribute("blockIndent",s,r):i.removeAttribute("blockIndent",r)}})}_getBlocksToChange(){let t=this.editor.model.document.selection;return Array.from(t.getSelectedBlocks()).filter(r=>this._isIndentationChangeAllowed(r))}_isIndentationChangeAllowed(e){let t=this.editor;return t.model.schema.checkAttribute(e,"blockIndent")?!t.plugins.has("ListUtils")||!this._indentBehavior.isForward?!0:!t.plugins.get("ListUtils").isListItemBlock(e):!1}};var Kx=class{isForward;offset;unit;constructor(e){this.isForward=e.direction==="forward",this.offset=e.offset,this.unit=e.unit}checkEnabled(e){let t=parseFloat(e||"0");return this.isForward||t>0}getNextIndent(e){let t=parseFloat(e||"0");if(!(!e||e.endsWith(this.unit)))return this.isForward?this.offset+this.unit:void 0;let r=this.isForward?this.offset:-this.offset,o=t+r;return o>0?o+this.unit:void 0}};var Zx=class{isForward;classes;constructor(e){this.isForward=e.direction==="forward",this.classes=e.classes}checkEnabled(e){let t=this.classes.indexOf(e);return this.isForward?t<this.classes.length-1:t>=0}getNextIndent(e){let t=this.classes.indexOf(e),i=this.isForward?1:-1;return this.classes[t+i]}},P0e=["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"],y0=class extends yt{constructor(e){super(e),e.config.define("indentBlock",{offset:40,unit:"px"})}static get pluginName(){return"IndentBlock"}init(){let e=this.editor,t=e.config.get("indentBlock");t.classes&&t.classes.length?(this._setupConversionUsingClasses(t.classes),e.commands.add("indentBlock",new v0(e,new Zx({direction:"forward",classes:t.classes}))),e.commands.add("outdentBlock",new v0(e,new Zx({direction:"backward",classes:t.classes})))):(e.data.addStyleProcessorRules(DV),this._setupConversionUsingOffset(),e.commands.add("indentBlock",new v0(e,new Kx({direction:"forward",offset:t.offset,unit:t.unit}))),e.commands.add("outdentBlock",new v0(e,new Kx({direction:"backward",offset:t.offset,unit:t.unit}))))}afterInit(){let e=this.editor,t=e.model.schema,i=e.commands.get("indent"),r=e.commands.get("outdent"),o=e.config.get("heading.options");(o&&o.map(l=>l.model)||P0e).forEach(l=>{t.isRegistered(l)&&t.extend(l,{allowAttributes:"blockIndent"})}),t.setAttributeProperties("blockIndent",{isFormatting:!0}),i.registerChildCommand(e.commands.get("indentBlock")),r.registerChildCommand(e.commands.get("outdentBlock"))}_setupConversionUsingOffset(){let e=this.editor.conversion,i=this.editor.locale.contentLanguageDirection==="rtl"?"margin-right":"margin-left";e.for("upcast").attributeToAttribute({view:{styles:{[i]:/[\s\S]+/}},model:{key:"blockIndent",value:r=>{if(!r.is("element","li"))return r.getStyle(i)}}}),e.for("downcast").attributeToAttribute({model:"blockIndent",view:r=>({key:"style",value:{[i]:r}})})}_setupConversionUsingClasses(e){let t={model:{key:"blockIndent",values:[]},view:{}};for(let i of e)t.model.values.push(i),t.view[i]={key:"class",value:[i]};this.editor.conversion.attributeToAttribute(t)}};var jT=class{_definitions=new Set;get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(t=>this._definitions.add(t)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(t,i,r)=>{if(!r.consumable.test(i.item,"attribute:linkHref")||!(i.item.is("selection")||r.schema.isInline(i.item)))return;let o=r.writer,s=o.document.selection;for(let a of this._definitions){let l=o.createAttributeElement("a",a.attributes,{priority:5});a.classes&&o.addClass(a.classes,l);for(let c in a.styles)o.setStyle(c,a.styles[c],l);o.setCustomProperty("link",!0,l),a.callback(i.attributeNewValue)?i.item.is("selection")?o.wrap(s.getFirstRange(),l):o.wrap(r.mapper.toViewRange(i.range),l):o.unwrap(r.mapper.toViewRange(i.range),l)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(t,i,{writer:r,mapper:o})=>{let s=o.toViewElement(i.item),a=Array.from(s.getChildren()).find(l=>l.is("element","a"));for(let l of this._definitions){let c=Ea(l.attributes);if(l.callback(i.attributeNewValue)){for(let[u,d]of c)u==="class"?r.addClass(d,a):r.setAttribute(u,d,a);l.classes&&r.addClass(l.classes,a);for(let u in l.styles)r.setStyle(u,l.styles[u],a)}else{for(let[u,d]of c)u==="class"?r.removeClass(d,a):r.removeAttribute(u,a);l.classes&&r.removeClass(l.classes,a);for(let u in l.styles)r.removeStyle(u,a)}}})}}},D0e=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,O0e="^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))",R0e=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,N0e=/^((\w+:(\/{2,})?)|(\W))/i,L0e=["https?","ftps?","mailto"],Yx="Ctrl+K";function F0e(n){return n.is("attributeElement")&&!!n.getCustomProperty("link")}function uz(n,{writer:e}){let t=e.createAttributeElement("a",{href:n},{priority:5});return e.setCustomProperty("link",!0,t),t}function pz(n,e=L0e){let t=String(n),i=e.join("|"),r=new RegExp(`${O0e.replace("<protocols>",i)}`,"i");return B0e(t,r)?t:"#"}function B0e(n,e){return!!n.replace(D0e,"").match(e)}function V0e(n,e){let t={"Open in a new tab":n("Open in a new tab"),Downloadable:n("Downloadable")};return e.forEach(i=>("label"in i&&t[i.label]&&(i.label=t[i.label]),i)),e}function j0e(n){let e=[];if(n)for(let[t,i]of Object.entries(n)){let r=Object.assign({},i,{id:`link${PS(t)}`});e.push(r)}return e}function zT(n,e){return n?e.checkAttribute(n.name,"linkHref"):!1}function z0e(n){return R0e.test(n)}function ZT(n,e){let t=z0e(n)?"mailto:":e,i=!!t&&!gz(n);return n&&i?t+n:n}function gz(n){return N0e.test(n)}function dz(n){window.open(n,"_blank","noopener")}var UT=class extends bn{manualDecorators=new gr;automaticDecorators=new jT;restoreManualDecoratorStates(){for(let e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){let e=this.editor.model,t=e.document.selection,i=t.getSelectedElement()||Ar(t.getSelectedBlocks());zT(i,e.schema)?(this.value=i.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(i,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(let r of this.manualDecorators)r.value=this._getDecoratorStateFromModel(r.id)}execute(e,t={}){let i=this.editor.model,r=i.document.selection,o=[],s=[];for(let a in t)t[a]?o.push(a):s.push(a);i.change(a=>{if(r.isCollapsed){let l=r.getFirstPosition();if(r.hasAttribute("linkHref")){let c=hz(r),u=a0(l,"linkHref",r.getAttribute("linkHref"),i);r.getAttribute("linkHref")===c&&(u=this._updateLinkContent(i,a,u,e)),a.setAttribute("linkHref",e,u),o.forEach(d=>{a.setAttribute(d,!0,u)}),s.forEach(d=>{a.removeAttribute(d,u)}),a.setSelection(a.createPositionAfter(u.end.nodeBefore))}else if(e!==""){let c=Ea(r.getAttributes());c.set("linkHref",e),o.forEach(d=>{c.set(d,!0)});let{end:u}=i.insertContent(a.createText(e,c),l);a.setSelection(u)}["linkHref",...o,...s].forEach(c=>{a.removeSelectionAttribute(c)})}else{let l=i.schema.getValidRanges(r.getRanges(),"linkHref"),c=[];for(let d of r.getSelectedBlocks())i.schema.checkAttribute(d,"linkHref")&&c.push(a.createRangeOn(d));let u=c.slice();for(let d of l)this._isRangeToUpdate(d,c)&&u.push(d);for(let d of u){let f=d;if(u.length===1){let h=hz(r);r.getAttribute("linkHref")===h&&(f=this._updateLinkContent(i,a,d,e),a.setSelection(a.createSelection(f)))}a.setAttribute("linkHref",e,f),o.forEach(h=>{a.setAttribute(h,!0,f)}),s.forEach(h=>{a.removeAttribute(h,f)})}}})}_getDecoratorStateFromModel(e){let t=this.editor.model,i=t.document.selection,r=i.getSelectedElement();return zT(r,t.schema)?r.getAttribute(e):i.getAttribute(e)}_isRangeToUpdate(e,t){for(let i of t)if(i.containsRange(e))return!1;return!0}_updateLinkContent(e,t,i,r){let o=t.createText(r,{linkHref:r});return e.insertContent(o,i)}};function hz(n){if(n.isCollapsed){let e=n.getFirstPosition();return e.textNode&&e.textNode.data}else{let e=Array.from(n.getFirstRange().getItems());if(e.length>1)return null;let t=e[0];return t.is("$text")||t.is("$textProxy")?t.data:null}}var HT=class extends bn{refresh(){let e=this.editor.model,t=e.document.selection,i=t.getSelectedElement();zT(i,e.schema)?this.isEnabled=e.schema.checkAttribute(i,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}execute(){let e=this.editor,t=this.editor.model,i=t.document.selection,r=e.commands.get("link");t.change(o=>{let s=i.isCollapsed?[a0(i.getFirstPosition(),"linkHref",i.getAttribute("linkHref"),t)]:t.schema.getValidRanges(i.getRanges(),"linkHref");for(let a of s)if(o.removeAttribute("linkHref",a),r)for(let l of r.manualDecorators)o.removeAttribute(l.id,a)})}},WT=class extends Oi(){id;defaultValue;label;attributes;classes;styles;constructor({id:e,label:t,attributes:i,classes:r,styles:o,defaultValue:s}){super(),this.id=e,this.set("value",void 0),this.defaultValue=s,this.label=t,this.attributes=i,this.classes=r,this.styles=o}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}},U0e="ck-link_selected",fz="automatic",H0e="manual",W0e=/^(https?:)?\/\//,Xx=class extends yt{static get pluginName(){return"LinkEditing"}static get requires(){return[s0,Tv,Ms]}constructor(e){super(e),e.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){let e=this.editor,t=this.editor.config.get("link.allowedProtocols");e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:uz}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(o,s)=>uz(pz(o,t),s)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:o=>o.getAttribute("href")}}),e.commands.add("link",new UT(e)),e.commands.add("unlink",new HT(e));let i=V0e(e.t,j0e(e.config.get("link.decorators")));this._enableAutomaticDecorators(i.filter(o=>o.mode===fz)),this._enableManualDecorators(i.filter(o=>o.mode===H0e)),e.plugins.get(s0).registerAttribute("linkHref"),tT(e,"linkHref","a",U0e),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){let t=this.editor,r=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&r.add({id:"linkIsExternal",mode:fz,callback:o=>!!o&&W0e.test(o),attributes:{target:"_blank",rel:"noopener noreferrer"}}),r.add(e),r.length&&t.conversion.for("downcast").add(r.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;let t=this.editor,r=t.commands.get("link").manualDecorators;e.forEach(o=>{t.model.schema.extend("$text",{allowAttributes:o.id});let s=new WT(o);r.add(s),t.conversion.for("downcast").attributeToElement({model:s.id,view:(a,{writer:l,schema:c},{item:u})=>{if((u.is("selection")||c.isInline(u))&&a){let d=l.createAttributeElement("a",s.attributes,{priority:5});s.classes&&l.addClass(s.classes,d);for(let f in s.styles)l.setStyle(f,s.styles[f],d);return l.setCustomProperty("link",!0,d),d}}}),t.conversion.for("upcast").elementToAttribute({view:Be({name:"a"},s._createPattern()),model:{key:s.id}})})}_enableLinkOpen(){let e=this.editor,i=e.editing.view.document;this.listenTo(i,"click",(r,o)=>{if(!(_n.isMac?o.domEvent.metaKey:o.domEvent.ctrlKey))return;let a=o.domTarget;if(a.tagName.toLowerCase()!="a"&&(a=a.closest("a")),!a)return;let l=a.getAttribute("href");l&&(r.stop(),o.preventDefault(),dz(l))},{context:"$capture"}),this.listenTo(i,"keydown",(r,o)=>{let a=e.commands.get("link").value;a&&o.keyCode===Gn.enter&&o.altKey&&(r.stop(),dz(a))})}_enableSelectionAttributesFixer(){let t=this.editor.model,i=t.document.selection;this.listenTo(i,"change:attribute",(r,{attributeKeys:o})=>{!o.includes("linkHref")||i.hasAttribute("linkHref")||t.change(s=>{$0e(s,q0e(t.schema))})})}_enableClipboardIntegration(){let e=this.editor,t=e.model,i=this.editor.config.get("link.defaultProtocol");i&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(r,o)=>{t.change(s=>{let a=s.createRangeIn(o.content);for(let l of a.getItems())if(l.hasAttribute("linkHref")){let c=ZT(l.getAttribute("linkHref"),i);s.setAttribute("linkHref",c,l)}})})}};function $0e(n,e){n.removeSelectionAttribute("linkHref");for(let t of e)n.removeSelectionAttribute(t)}function q0e(n){return n.getDefinition("$text").allowAttributes.filter(t=>t.startsWith("link"))}var $T=class extends nn{focusTracker=new Sr;keystrokes=new Fr;urlInputView;saveButtonView;cancelButtonView;_manualDecoratorSwitches;children;_validators;_focusables=new ws;_focusCycler;constructor(e,t,i){super(e);let r=e.t;this._validators=i,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(r("Save"),Mn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(r("Cancel"),Mn.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t.manualDecorators),this._focusCycler=new ys({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});let o=["ck","ck-link-form","ck-responsive-form"];t.manualDecorators.length&&o.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:o,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>(e[t.name]=t.isOn,e),{})}render(){super.render(),Yg({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(let e of this._validators){let t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){let e=this.locale.t,t=new ac(this.locale,e0);return t.fieldView.inputMode="url",t.label=e("Link URL"),t}_createButton(e,t,i,r){let o=new Sn(this.locale);return o.set({label:e,icon:t,tooltip:!0}),o.extendTemplate({attributes:{class:i}}),r&&o.delegate("execute").to(this,r),o}_createManualDecoratorSwitches(e){let t=this.createCollection();for(let i of e.manualDecorators){let r=new su(this.locale);r.set({name:i.id,label:i.label,withText:!0}),r.bind("isOn").toMany([i,e],"value",(o,s)=>s===void 0&&o===void 0?!!i.defaultValue:!!o),r.on("execute",()=>{i.set("value",!r.isOn)}),t.add(r)}return t}_createFormChildren(e){let t=this.createCollection();if(t.add(this.urlInputView),e.length){let i=new nn;i.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(r=>({tag:"li",children:[r],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(i)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}get url(){let{element:e}=this.urlInputView.fieldView;return e?e.value.trim():null}},G0e='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',qT=class extends nn{focusTracker=new Sr;keystrokes=new Fr;previewButtonView;unlinkButtonView;editButtonView;_focusables=new ws;_focusCycler;_linkConfig;constructor(e,t={}){super(e);let i=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(i("Unlink"),G0e,"unlink"),this.editButtonView=this._createButton(i("Edit link"),Mn.pencil,"edit"),this.set("href",void 0),this._linkConfig=t,this._focusCycler=new ys({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,t,i){let r=new Sn(this.locale);return r.set({label:e,icon:t,tooltip:!0}),r.delegate("execute").to(this,i),r}_createPreviewButton(){let e=new Sn(this.locale),t=this.bindTemplate,i=this.t;return e.set({withText:!0,tooltip:i("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",r=>r&&pz(r,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",r=>r||i("This link has no URL")),e.bind("isEnabled").to(this,"href",r=>!!r),e.template.tag="a",e.template.eventListeners={},e}},K0e='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',uu="link-ui",GT=class extends yt{actionsView=null;formView=null;_balloon;static get requires(){return[au]}static get pluginName(){return"LinkUI"}init(){let e=this.editor,t=this.editor.t;e.editing.view.addObserver(bx),this._balloon=e.plugins.get(au),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:uu,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:uu,view:(i,{writer:r})=>{if(!i.markerRange.isCollapsed)return null;let o=r.createUIElement("span");return r.addClass(["ck-fake-link-selection","ck-fake-link-selection_collapsed"],o),o}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Create link"),keystroke:Yx},{label:t("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){let e=this.editor,t=new qT(e.locale,e.config.get("link")),i=e.commands.get("link"),r=e.commands.get("unlink");return t.bind("href").to(i,"value"),t.editButtonView.bind("isEnabled").to(i),t.unlinkButtonView.bind("isEnabled").to(r),this.listenTo(t,"edit",()=>{this._addFormView()}),this.listenTo(t,"unlink",()=>{e.execute("unlink"),this._hideUI()}),t.keystrokes.set("Esc",(o,s)=>{this._hideUI(),s()}),t.keystrokes.set(Yx,(o,s)=>{this._addFormView(),s()}),t}_createFormView(){let e=this.editor,t=e.commands.get("link"),i=e.config.get("link.defaultProtocol"),r=new(xv($T))(e.locale,t,Z0e(e));return r.urlInputView.fieldView.bind("value").to(t,"value"),r.urlInputView.bind("isEnabled").to(t,"isEnabled"),r.saveButtonView.bind("isEnabled").to(t,"isEnabled"),this.listenTo(r,"submit",()=>{if(r.isValid()){let{value:o}=r.urlInputView.fieldView.element,s=ZT(o,i);e.execute("link",s,r.getDecoratorSwitchesState()),this._closeFormView()}}),this.listenTo(r.urlInputView,"change:errorText",()=>{e.ui.update()}),this.listenTo(r,"cancel",()=>{this._closeFormView()}),r.keystrokes.set("Esc",(o,s)=>{this._closeFormView(),s()}),r}_createToolbarLinkButton(){let e=this.editor;e.ui.componentFactory.add("link",()=>{let t=this._createButton(Sn);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:link",()=>{let t=this._createButton(gi);return t.set({role:"menuitemcheckbox"}),t})}_createButton(e){let t=this.editor,i=t.locale,r=t.commands.get("link"),o=new e(t.locale),s=i.t;return o.set({label:s("Link"),icon:K0e,keystroke:Yx,isToggleable:!0}),o.bind("isEnabled").to(r,"isEnabled"),o.bind("isOn").to(r,"value",a=>!!a),this.listenTo(o,"execute",()=>this._showUI(!0)),o}_enableBalloonActivators(){let e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(Yx,(i,r)=>{r(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),wm({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),!this._areActionsInPanel&&this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;let t=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=t.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){let e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;let e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){let e=this.editor,t=e.editing.view.document,i=this._getSelectedLinkElement(),r=s(),o=()=>{let a=this._getSelectedLinkElement(),l=s();i&&!a||!i&&l!==r?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),i=a,r=l};function s(){return t.selection.focus.getAncestors().reverse().find(a=>a.is("element"))}this.listenTo(e.ui,"update",o),this.listenTo(this._balloon,"change:visibleView",o)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){let e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){let e=this.editor.editing.view,t=this.editor.model,i=e.document,r;if(t.markers.has(uu)){let o=Array.from(this.editor.editing.mapper.markerNameToElements(uu)),s=e.createRange(e.createPositionBefore(o[0]),e.createPositionAfter(o[o.length-1]));r=e.domConverter.viewRangeToDom(s)}else r=()=>{let o=this._getSelectedLinkElement();return o?e.domConverter.mapViewToDom(o):e.domConverter.viewRangeToDom(i.selection.getFirstRange())};return{target:r}}_getSelectedLinkElement(){let e=this.editor.editing.view,t=e.document.selection,i=t.getSelectedElement();if(t.isCollapsed||i&&Tr(i))return VT(t.getFirstPosition());{let r=t.getFirstRange().getTrimmed(),o=VT(r.start),s=VT(r.end);return!o||o!=s?null:e.createRangeIn(o).getTrimmed().isEqual(r)?o:null}}_showFakeVisualSelection(){let e=this.editor.model;e.change(t=>{let i=e.document.selection.getFirstRange();if(e.markers.has(uu))t.updateMarker(uu,{range:i});else if(i.start.isAtEnd){let r=i.start.getLastMatchingPosition(({item:o})=>!e.schema.isContent(o),{boundaries:i});t.addMarker(uu,{usingOperation:!1,affectsData:!1,range:t.createRange(r,i.end)})}else t.addMarker(uu,{usingOperation:!1,affectsData:!1,range:i})})}_hideFakeVisualSelection(){let e=this.editor.model;e.markers.has(uu)&&e.change(t=>{t.removeMarker(uu)})}};function VT(n){return n.getAncestors().find(e=>F0e(e))||null}function Z0e(n){let e=n.t,t=n.config.get("link.allowCreatingEmptyLinks");return[i=>{if(!t&&!i.url.length)return e("Link URL must not be empty.")}]}var Y0e=4,bz=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),X0e=2,KT=class extends yt{static get requires(){return[$a,Xx]}static get pluginName(){return"AutoLink"}init(){let t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(e,t){return t.textNode&&t.textNode.hasAttribute("linkHref")?a0(t,"linkHref",t.textNode.getAttribute("linkHref"),e):null}_selectEntireLinks(e,t){let r=this.editor.model,o=r.document.selection,s=o.getFirstPosition(),a=o.getLastPosition(),l=t.getJoined(this._expandLinkRange(r,s)||t);l&&(l=l.getJoined(this._expandLinkRange(r,a)||t)),l&&(l.start.isBefore(s)||l.end.isAfter(a))&&e.setSelection(l)}_enablePasteLinking(){let e=this.editor,t=e.model,i=t.document.selection,r=e.plugins.get("ClipboardPipeline"),o=e.commands.get("link");r.on("inputTransformation",(s,a)=>{if(!this.isEnabled||!o.isEnabled||i.isCollapsed||a.method!=="paste"||i.rangeCount>1)return;let l=i.getFirstRange(),c=a.dataTransfer.getData("text/plain");if(!c)return;let u=c.match(bz);u&&u[2]===c&&(t.change(d=>{this._selectEntireLinks(d,l),o.execute(c)}),s.stop())},{priority:"high"})}_enableTypingHandling(){let e=this.editor,t=new Iv(e.model,i=>{if(!J0e(i))return;let r=mz(i.substr(0,i.length-1));if(r)return{url:r}});t.on("matched:data",(i,r)=>{let{batch:o,range:s,url:a}=r;if(!o.isTyping)return;let l=s.end.getShiftedBy(-1),c=l.getShiftedBy(-a.length),u=e.model.createRange(c,l);this._applyAutoLink(a,u)}),t.bind("isEnabled").to(this)}_enableEnterHandling(){let e=this.editor,t=e.model,i=e.commands.get("enter");i&&i.on("execute",()=>{let r=t.document.selection.getFirstPosition();if(!r.parent.previousSibling)return;let o=t.createRangeIn(r.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(o)})}_enableShiftEnterHandling(){let e=this.editor,t=e.model,i=e.commands.get("shiftEnter");i&&i.on("execute",()=>{let r=t.document.selection.getFirstPosition(),o=t.createRange(t.createPositionAt(r.parent,0),r.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(o)})}_checkAndApplyAutoLinkOnRange(e){let t=this.editor.model,{text:i,range:r}=eT(e,t),o=mz(i);if(o){let s=t.createRange(r.end.getShiftedBy(-o.length),r.end);this._applyAutoLink(o,s)}}_applyAutoLink(e,t){let i=this.editor.model,r=this.editor.config.get("link.defaultProtocol"),o=ZT(e,r);!this.isEnabled||!Q0e(t,i)||!gz(o)||ebe(t)||this._persistAutoLink(o,t)}_persistAutoLink(e,t){let i=this.editor.model,r=this.editor.plugins.get("Delete");i.enqueueChange(o=>{o.setAttribute("linkHref",e,t),i.enqueueChange(()=>{r.requestUndoOnBackspace()})})}};function J0e(n){return n.length>Y0e&&n[n.length-1]===" "&&n[n.length-2]!==" "}function mz(n){let e=bz.exec(n);return e?e[X0e]:null}function Q0e(n,e){return e.schema.checkAttributeInSelection(e.createSelection(n),"linkHref")}function ebe(n){let e=n.start.nodeAfter;return!!e&&e.hasAttribute("linkHref")}var _0=class extends yt{static get requires(){return[Xx,GT,KT]}static get pluginName(){return"Link"}};var tbe={},nbe={},ibe={},rbe=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(let{listStyle:n,typeAttribute:e,listType:t}of rbe)tbe[n]=t,nbe[n]=e,e&&(ibe[e]=n);function kz(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}var x0=kz();function obe(n){x0=n}var sbe=/[&<>"']/,abe=/[&<>"']/g,lbe=/[<>"']|&(?!#?\w+;)/,cbe=/[<>"']|&(?!#?\w+;)/g,ube={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},vz=n=>ube[n];function rs(n,e){if(e){if(sbe.test(n))return n.replace(abe,vz)}else if(lbe.test(n))return n.replace(cbe,vz);return n}var dbe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Ez(n){return n.replace(dbe,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}var hbe=/(^|[^\[])\^/g;function vr(n,e){n=n.source||n,e=e||"";let t={replace:(i,r)=>(r=r.source||r,r=r.replace(hbe,"$1"),n=n.replace(i,r),t),getRegex:()=>new RegExp(n,e)};return t}var fbe=/[^\w:]/g,mbe=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function wz(n,e,t){if(n){let i;try{i=decodeURIComponent(Ez(t)).replace(fbe,"").toLowerCase()}catch{return null}if(i.indexOf("javascript:")===0||i.indexOf("vbscript:")===0||i.indexOf("data:")===0)return null}e&&!mbe.test(t)&&(t=vbe(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}var Jx={},pbe=/^[^:]+:\/*[^/]*$/,gbe=/^([^:]+:)[\s\S]*$/,bbe=/^([^:]+:\/*[^/]*)[\s\S]*$/;function vbe(n,e){Jx[" "+n]||(pbe.test(n)?Jx[" "+n]=n+"/":Jx[" "+n]=Qx(n,"/",!0)),n=Jx[" "+n];let t=n.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:n.replace(gbe,"$1")+e:e.charAt(0)==="/"?t?e:n.replace(bbe,"$1")+e:n+e}var eC={exec:function(){}};function uc(n){let e=1,t,i;for(;e<arguments.length;e++){t=arguments[e];for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}function yz(n,e){let t=n.replace(/\|/g,(o,s,a)=>{let l=!1,c=s;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),i=t.split(/ \|/),r=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(/\\\|/g,"|");return i}function Qx(n,e,t){let i=n.length;if(i===0)return"";let r=0;for(;r<i;){let o=n.charAt(i-r-1);if(o===e&&!t)r++;else if(o!==e&&t)r++;else break}return n.substr(0,i-r)}function wbe(n,e){if(n.indexOf(e[1])===-1)return-1;let t=n.length,i=0,r=0;for(;r<t;r++)if(n[r]==="\\")r++;else if(n[r]===e[0])i++;else if(n[r]===e[1]&&(i--,i<0))return r;return-1}function Sz(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function _z(n,e){if(e<1)return"";let t="";for(;e>1;)e&1&&(t+=n),e>>=1,n+=n;return t+n}function xz(n,e,t,i){let r=e.href,o=e.title?rs(e.title):null,s=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){i.state.inLink=!0;let a={type:"link",raw:t,href:r,title:o,text:s,tokens:i.inlineTokens(s,[])};return i.state.inLink=!1,a}else return{type:"image",raw:t,href:r,title:o,text:rs(s)}}function ybe(n,e){let t=n.match(/^(\s+)(?:```)/);if(t===null)return e;let i=t[1];return e.split(`
`).map(r=>{let o=r.match(/^\s+/);if(o===null)return r;let[s]=o;return s.length>=i.length?r.slice(i.length):r}).join(`
`)}var Ov=class{constructor(e){this.options=e||x0}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:Qx(i,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let i=t[0],r=ybe(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim():t[2],text:r}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let i=t[2].trim();if(/#$/.test(i)){let o=Qx(i,"#");(this.options.pedantic||!o||/ $/.test(o))&&(i=o.trim())}let r={type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let i=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(i,[]),text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i,r,o,s,a,l,c,u,d,f,h,m,p=t[1].trim(),g=p.length>1,v={type:"list",raw:"",ordered:g,start:g?+p.slice(0,-1):"",loose:!1,items:[]};p=g?`\\d{1,9}\\${p.slice(-1)}`:`\\${p}`,this.options.pedantic&&(p=g?p:"[*+-]");let x=new RegExp(`^( {0,3}${p})((?: [^\\n]*)?(?:\\n|$))`);for(;e&&(m=!1,!(!(t=x.exec(e))||this.rules.block.hr.test(e)));){if(i=t[0],e=e.substring(i.length),u=t[2].split(`
`,1)[0],d=e.split(`
`,1)[0],this.options.pedantic?(s=2,h=u.trimLeft()):(s=t[2].search(/[^ ]/),s=s>4?1:s,h=u.slice(s),s+=t[1].length),l=!1,!u&&/^ *$/.test(d)&&(i+=d+`
`,e=e.substring(d.length+1),m=!0),!m){let N=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;e&&(f=e.split(`
`,1)[0],u=f,this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!N.test(u));){if(u.search(/[^ ]/)>=s||!u.trim())h+=`
`+u.slice(s);else if(!l)h+=`
`+u;else break;!l&&!u.trim()&&(l=!0),i+=f+`
`,e=e.substring(f.length+1)}}v.loose||(c?v.loose=!0:/\n *\n *$/.test(i)&&(c=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(h),r&&(o=r[0]!=="[ ] ",h=h.replace(/^\[[ xX]\] +/,""))),v.items.push({type:"list_item",raw:i,task:!!r,checked:o,loose:!1,text:h}),v.raw+=i}v.items[v.items.length-1].raw=i.trimRight(),v.items[v.items.length-1].text=h.trimRight(),v.raw=v.raw.trimRight();let I=v.items.length;for(a=0;a<I;a++){this.lexer.state.top=!1,v.items[a].tokens=this.lexer.blockTokens(v.items[a].text,[]);let N=v.items[a].tokens.filter(F=>F.type==="space"),H=N.every(F=>{let B=F.raw.split(""),V=0;for(let G of B)if(G===`
`&&(V+=1),V>1)return!0;return!1});!v.loose&&N.length&&H&&(v.loose=!0,v.items[a].loose=!0)}return v}}html(e){let t=this.rules.block.html.exec(e);if(t){let i={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};return this.options.sanitize&&(i.type="paragraph",i.text=this.options.sanitizer?this.options.sanitizer(t[0]):rs(t[0]),i.tokens=[],this.lexer.inline(i.text,i.tokens)),i}}def(e){let t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}table(e){let t=this.rules.block.table.exec(e);if(t){let i={type:"table",header:yz(t[1]).map(r=>({text:r})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(i.header.length===i.align.length){i.raw=t[0];let r=i.align.length,o,s,a,l;for(o=0;o<r;o++)/^ *-+: *$/.test(i.align[o])?i.align[o]="right":/^ *:-+: *$/.test(i.align[o])?i.align[o]="center":/^ *:-+ *$/.test(i.align[o])?i.align[o]="left":i.align[o]=null;for(r=i.rows.length,o=0;o<r;o++)i.rows[o]=yz(i.rows[o],i.header.length).map(c=>({text:c}));for(r=i.header.length,s=0;s<r;s++)i.header[s].tokens=[],this.lexer.inlineTokens(i.header[s].text,i.header[s].tokens);for(r=i.rows.length,s=0;s<r;s++)for(l=i.rows[s],a=0;a<l.length;a++)l[a].tokens=[],this.lexer.inlineTokens(l[a].text,l[a].tokens);return i}}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t){let i={type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let i={type:"paragraph",raw:t[0],text:t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}text(e){let t=this.rules.block.text.exec(e);if(t){let i={type:"text",raw:t[0],text:t[0],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:rs(t[1])}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):rs(t[0]):t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;let s=Qx(i.slice(0,-1),"\\");if((i.length-s.length)%2===0)return}else{let s=wbe(t[2],"()");if(s>-1){let l=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,l).trim(),t[3]=""}}let r=t[2],o="";if(this.options.pedantic){let s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);s&&(r=s[1],o=s[3])}else o=t[3]?t[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(i)?r=r.slice(1):r=r.slice(1,-1)),xz(t,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:o&&o.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){let r=(i[2]||i[1]).replace(/\s+/g," ");if(r=t[r.toLowerCase()],!r||!r.href){let o=i[0].charAt(0);return{type:"text",raw:o,text:o}}return xz(i,r,i[0],this.lexer)}}emStrong(e,t,i=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r||r[3]&&i.match(/[\p{L}\p{N}]/u))return;let o=r[1]||r[2]||"";if(!o||o&&(i===""||this.rules.inline.punctuation.exec(i))){let s=r[0].length-1,a,l,c=s,u=0,d=r[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(d.lastIndex=0,t=t.slice(-1*e.length+s);(r=d.exec(t))!=null;){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(l=a.length,r[3]||r[4]){c+=l;continue}else if((r[5]||r[6])&&s%3&&!((s+l)%3)){u+=l;continue}if(c-=l,c>0)continue;if(l=Math.min(l,l+c+u),Math.min(s,l)%2){let h=e.slice(1,s+r.index+l);return{type:"em",raw:e.slice(0,s+r.index+l+1),text:h,tokens:this.lexer.inlineTokens(h,[])}}let f=e.slice(2,s+r.index+l-1);return{type:"strong",raw:e.slice(0,s+r.index+l+1),text:f,tokens:this.lexer.inlineTokens(f,[])}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let i=t[2].replace(/\n/g," "),r=/[^ ]/.test(i),o=/^ /.test(i)&&/ $/.test(i);return r&&o&&(i=i.substring(1,i.length-1)),i=rs(i,!0),{type:"codespan",raw:t[0],text:i}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}}autolink(e,t){let i=this.rules.inline.autolink.exec(e);if(i){let r,o;return i[2]==="@"?(r=rs(this.options.mangle?t(i[1]):i[1]),o="mailto:"+r):(r=rs(i[1]),o=r),{type:"link",raw:i[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}}url(e,t){let i;if(i=this.rules.inline.url.exec(e)){let r,o;if(i[2]==="@")r=rs(this.options.mangle?t(i[0]):i[0]),o="mailto:"+r;else{let s;do s=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0];while(s!==i[0]);r=rs(i[0]),i[1]==="www."?o="http://"+r:o=r}return{type:"link",raw:i[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e,t){let i=this.rules.inline.text.exec(e);if(i){let r;return this.lexer.state.inRawBlock?r=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):rs(i[0]):i[0]:r=rs(this.options.smartypants?t(i[0]):i[0]),{type:"text",raw:i[0],text:r}}}},Pn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:eC,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Pn._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Pn._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Pn.def=vr(Pn.def).replace("label",Pn._label).replace("title",Pn._title).getRegex();Pn.bullet=/(?:[*+-]|\d{1,9}[.)])/;Pn.listItemStart=vr(/^( *)(bull) */).replace("bull",Pn.bullet).getRegex();Pn.list=vr(Pn.list).replace(/bull/g,Pn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Pn.def.source+")").getRegex();Pn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Pn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Pn.html=vr(Pn.html,"i").replace("comment",Pn._comment).replace("tag",Pn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Pn.paragraph=vr(Pn._paragraph).replace("hr",Pn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Pn._tag).getRegex();Pn.blockquote=vr(Pn.blockquote).replace("paragraph",Pn.paragraph).getRegex();Pn.normal=uc({},Pn);Pn.gfm=uc({},Pn.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});Pn.gfm.table=vr(Pn.gfm.table).replace("hr",Pn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Pn._tag).getRegex();Pn.gfm.paragraph=vr(Pn._paragraph).replace("hr",Pn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Pn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Pn._tag).getRegex();Pn.pedantic=uc({},Pn.normal,{html:vr(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Pn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:eC,paragraph:vr(Pn.normal._paragraph).replace("hr",Pn.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Pn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var an={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:eC,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:eC,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};an._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";an.punctuation=vr(an.punctuation).replace(/punctuation/g,an._punctuation).getRegex();an.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;an.escapedEmSt=/\\\*|\\_/g;an._comment=vr(Pn._comment).replace("(?:-->|$)","-->").getRegex();an.emStrong.lDelim=vr(an.emStrong.lDelim).replace(/punct/g,an._punctuation).getRegex();an.emStrong.rDelimAst=vr(an.emStrong.rDelimAst,"g").replace(/punct/g,an._punctuation).getRegex();an.emStrong.rDelimUnd=vr(an.emStrong.rDelimUnd,"g").replace(/punct/g,an._punctuation).getRegex();an._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;an._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;an._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;an.autolink=vr(an.autolink).replace("scheme",an._scheme).replace("email",an._email).getRegex();an._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;an.tag=vr(an.tag).replace("comment",an._comment).replace("attribute",an._attribute).getRegex();an._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;an._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;an._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;an.link=vr(an.link).replace("label",an._label).replace("href",an._href).replace("title",an._title).getRegex();an.reflink=vr(an.reflink).replace("label",an._label).replace("ref",Pn._label).getRegex();an.nolink=vr(an.nolink).replace("ref",Pn._label).getRegex();an.reflinkSearch=vr(an.reflinkSearch,"g").replace("reflink",an.reflink).replace("nolink",an.nolink).getRegex();an.normal=uc({},an);an.pedantic=uc({},an.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:vr(/^!?\[(label)\]\((.*?)\)/).replace("label",an._label).getRegex(),reflink:vr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",an._label).getRegex()});an.gfm=uc({},an.normal,{escape:vr(an.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});an.gfm.url=vr(an.gfm.url,"i").replace("email",an.gfm._extended_email).getRegex();an.breaks=uc({},an.gfm,{br:vr(an.br).replace("{2,}","*").getRegex(),text:vr(an.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function _be(n){return n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Cz(n){let e="",t,i,r=n.length;for(t=0;t<r;t++)i=n.charCodeAt(t),Math.random()>.5&&(i="x"+i.toString(16)),e+="&#"+i+";";return e}var Xh=class n{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||x0,this.options.tokenizer=this.options.tokenizer||new Ov,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={block:Pn.normal,inline:an.normal};this.options.pedantic?(t.block=Pn.pedantic,t.inline=an.pedantic):this.options.gfm&&(t.block=Pn.gfm,this.options.breaks?t.inline=an.breaks:t.inline=an.gfm),this.tokenizer.rules=t}static get rules(){return{block:Pn,inline:an}}static lex(e,t){return new n(t).lex(e)}static lexInline(e,t){return new n(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic&&(e=e.replace(/^ +$/gm,""));let i,r,o,s;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(i=a.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length),i.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+i.raw,r.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(o=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0,l=e.slice(1),c;this.options.extensions.startBlock.forEach(function(u){c=u.call({lexer:this},l),typeof c=="number"&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(o=e.substring(0,a+1))}if(this.state.top&&(i=this.tokenizer.paragraph(o))){r=t[t.length-1],s&&r.type==="paragraph"?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i),s=o.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&r.type==="text"?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i);continue}if(e){let a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,t}inline(e,t){this.inlineQueue.push({src:e,tokens:t})}inlineTokens(e,t=[]){let i,r,o,s=e,a,l,c;if(this.tokens.links){let u=Object.keys(this.tokens.links);if(u.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)u.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+_z("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,a.index)+"["+_z("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.escapedEmSt.exec(s))!=null;)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(i=u.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&i.type==="text"&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length),r=t[t.length-1],r&&i.type==="text"&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(i=this.tokenizer.emStrong(e,s,c)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.autolink(e,Cz)){e=e.substring(i.raw.length),t.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e,Cz))){e=e.substring(i.raw.length),t.push(i);continue}if(o=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0,d=e.slice(1),f;this.options.extensions.startInline.forEach(function(h){f=h.call({lexer:this},d),typeof f=="number"&&f>=0&&(u=Math.min(u,f))}),u<1/0&&u>=0&&(o=e.substring(0,u+1))}if(i=this.tokenizer.inlineText(o,_be)){e=e.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(c=i.raw.slice(-1)),l=!0,r=t[t.length-1],r&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(e){let u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return t}},Rv=class{constructor(e){this.options=e||x0}code(e,t,i){let r=(t||"").match(/\S*/)[0];if(this.options.highlight){let o=this.options.highlight(e,r);o!=null&&o!==e&&(i=!0,e=o)}return e=e.replace(/\n$/,"")+`
`,r?'<pre><code class="'+this.options.langPrefix+rs(r,!0)+'">'+(i?e:rs(e,!0))+`</code></pre>
`:"<pre><code>"+(i?e:rs(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
`+e+`</blockquote>
`}html(e){return e}heading(e,t,i,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(i)+'">'+e+"</h"+t+`>
`:"<h"+t+">"+e+"</h"+t+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,i){let r=t?"ol":"ul",o=t&&i!==1?' start="'+i+'"':"";return"<"+r+o+`>
`+e+"</"+r+`>
`}listitem(e){return"<li>"+e+`</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+`</p>
`}table(e,t){return t&&(t="<tbody>"+t+"</tbody>"),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
`+e+`</tr>
`}tablecell(e,t){let i=t.header?"th":"td";return(t.align?"<"+i+' align="'+t.align+'">':"<"+i+">")+e+"</"+i+`>
`}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,i){if(e=wz(this.options.sanitize,this.options.baseUrl,e),e===null)return i;let r='<a href="'+rs(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+i+"</a>",r}image(e,t,i){if(e=wz(this.options.sanitize,this.options.baseUrl,e),e===null)return i;let r='<img src="'+e+'" alt="'+i+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">",r}text(e){return e}},tC=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,i){return""+i}image(e,t,i){return""+i}br(){return""}},nC=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let i=e,r=0;if(this.seen.hasOwnProperty(i)){r=this.seen[e];do r++,i=e+"-"+r;while(this.seen.hasOwnProperty(i))}return t||(this.seen[e]=r,this.seen[i]=0),i}slug(e,t={}){let i=this.serialize(e);return this.getNextSafeSlug(i,t.dryrun)}},Jh=class n{constructor(e){this.options=e||x0,this.options.renderer=this.options.renderer||new Rv,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new tC,this.slugger=new nC}static parse(e,t){return new n(t).parse(e)}static parseInline(e,t){return new n(t).parseInline(e)}parse(e,t=!0){let i="",r,o,s,a,l,c,u,d,f,h,m,p,g,v,x,I,N,H,F,B=e.length;for(r=0;r<B;r++){if(h=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(F=this.options.extensions.renderers[h.type].call({parser:this},h),F!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type))){i+=F||"";continue}switch(h.type){case"space":continue;case"hr":{i+=this.renderer.hr();continue}case"heading":{i+=this.renderer.heading(this.parseInline(h.tokens),h.depth,Ez(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue}case"code":{i+=this.renderer.code(h.text,h.lang,h.escaped);continue}case"table":{for(d="",u="",a=h.header.length,o=0;o<a;o++)u+=this.renderer.tablecell(this.parseInline(h.header[o].tokens),{header:!0,align:h.align[o]});for(d+=this.renderer.tablerow(u),f="",a=h.rows.length,o=0;o<a;o++){for(c=h.rows[o],u="",l=c.length,s=0;s<l;s++)u+=this.renderer.tablecell(this.parseInline(c[s].tokens),{header:!1,align:h.align[s]});f+=this.renderer.tablerow(u)}i+=this.renderer.table(d,f);continue}case"blockquote":{f=this.parse(h.tokens),i+=this.renderer.blockquote(f);continue}case"list":{for(m=h.ordered,p=h.start,g=h.loose,a=h.items.length,f="",o=0;o<a;o++)x=h.items[o],I=x.checked,N=x.task,v="",x.task&&(H=this.renderer.checkbox(I),g?x.tokens.length>0&&x.tokens[0].type==="paragraph"?(x.tokens[0].text=H+" "+x.tokens[0].text,x.tokens[0].tokens&&x.tokens[0].tokens.length>0&&x.tokens[0].tokens[0].type==="text"&&(x.tokens[0].tokens[0].text=H+" "+x.tokens[0].tokens[0].text)):x.tokens.unshift({type:"text",text:H}):v+=H),v+=this.parse(x.tokens,g),f+=this.renderer.listitem(v,N,I);i+=this.renderer.list(f,m,p);continue}case"html":{i+=this.renderer.html(h.text);continue}case"paragraph":{i+=this.renderer.paragraph(this.parseInline(h.tokens));continue}case"text":{for(f=h.tokens?this.parseInline(h.tokens):h.text;r+1<B&&e[r+1].type==="text";)h=e[++r],f+=`
`+(h.tokens?this.parseInline(h.tokens):h.text);i+=t?this.renderer.paragraph(f):f;continue}default:{let V='Token with "'+h.type+'" type was not found.';if(this.options.silent){console.error(V);return}else throw new Error(V)}}}return i}parseInline(e,t){t=t||this.renderer;let i="",r,o,s,a=e.length;for(r=0;r<a;r++){if(o=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]&&(s=this.options.extensions.renderers[o.type].call({parser:this},o),s!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type))){i+=s||"";continue}switch(o.type){case"escape":{i+=t.text(o.text);break}case"html":{i+=t.html(o.text);break}case"link":{i+=t.link(o.href,o.title,this.parseInline(o.tokens,t));break}case"image":{i+=t.image(o.href,o.title,o.text);break}case"strong":{i+=t.strong(this.parseInline(o.tokens,t));break}case"em":{i+=t.em(this.parseInline(o.tokens,t));break}case"codespan":{i+=t.codespan(o.text);break}case"br":{i+=t.br();break}case"del":{i+=t.del(this.parseInline(o.tokens,t));break}case"text":{i+=t.text(o.text);break}default:{let l='Token with "'+o.type+'" type was not found.';if(this.options.silent){console.error(l);return}else throw new Error(l)}}}return i}};function Bn(n,e,t){if(typeof n>"u"||n===null)throw new Error("marked(): input parameter is undefined or null");if(typeof n!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if(typeof e=="function"&&(t=e,e=null),e=uc({},Bn.defaults,e||{}),Sz(e),t){let i=e.highlight,r;try{r=Xh.lex(n,e)}catch(a){return t(a)}let o=function(a){let l;if(!a)try{e.walkTokens&&Bn.walkTokens(r,e.walkTokens),l=Jh.parse(r,e)}catch(c){a=c}return e.highlight=i,a?t(a):t(null,l)};if(!i||i.length<3||(delete e.highlight,!r.length))return o();let s=0;Bn.walkTokens(r,function(a){a.type==="code"&&(s++,setTimeout(()=>{i(a.text,a.lang,function(l,c){if(l)return o(l);c!=null&&c!==a.text&&(a.text=c,a.escaped=!0),s--,s===0&&o()})},0))}),s===0&&o();return}try{let i=Xh.lex(n,e);return e.walkTokens&&Bn.walkTokens(i,e.walkTokens),Jh.parse(i,e)}catch(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+rs(i.message+"",!0)+"</pre>";throw i}}Bn.options=Bn.setOptions=function(n){return uc(Bn.defaults,n),obe(Bn.defaults),Bn};Bn.getDefaults=kz;Bn.defaults=x0;Bn.use=function(...n){let e=uc({},...n),t=Bn.defaults.extensions||{renderers:{},childTokens:{}},i;n.forEach(r=>{if(r.extensions&&(i=!0,r.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){let s=t.renderers?t.renderers[o.name]:null;s?t.renderers[o.name]=function(...a){let l=o.renderer.apply(this,a);return l===!1&&(l=s.apply(this,a)),l}:t.renderers[o.name]=o.renderer}if(o.tokenizer){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");t[o.level]?t[o.level].unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&(o.level==="block"?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:o.level==="inline"&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}o.childTokens&&(t.childTokens[o.name]=o.childTokens)})),r.renderer){let o=Bn.defaults.renderer||new Rv;for(let s in r.renderer){let a=o[s];o[s]=(...l)=>{let c=r.renderer[s].apply(o,l);return c===!1&&(c=a.apply(o,l)),c}}e.renderer=o}if(r.tokenizer){let o=Bn.defaults.tokenizer||new Ov;for(let s in r.tokenizer){let a=o[s];o[s]=(...l)=>{let c=r.tokenizer[s].apply(o,l);return c===!1&&(c=a.apply(o,l)),c}}e.tokenizer=o}if(r.walkTokens){let o=Bn.defaults.walkTokens;e.walkTokens=function(s){r.walkTokens.call(this,s),o&&o.call(this,s)}}i&&(e.extensions=t),Bn.setOptions(e)})};Bn.walkTokens=function(n,e){for(let t of n)switch(e.call(Bn,t),t.type){case"table":{for(let i of t.header)Bn.walkTokens(i.tokens,e);for(let i of t.rows)for(let r of i)Bn.walkTokens(r.tokens,e);break}case"list":{Bn.walkTokens(t.items,e);break}default:Bn.defaults.extensions&&Bn.defaults.extensions.childTokens&&Bn.defaults.extensions.childTokens[t.type]?Bn.defaults.extensions.childTokens[t.type].forEach(function(i){Bn.walkTokens(t[i],e)}):t.tokens&&Bn.walkTokens(t.tokens,e)}};Bn.parseInline=function(n,e){if(typeof n>"u"||n===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof n!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");e=uc({},Bn.defaults,e||{}),Sz(e);try{let t=Xh.lexInline(n,e);return e.walkTokens&&Bn.walkTokens(t,e.walkTokens),Jh.parseInline(t,e)}catch(t){if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+rs(t.message+"",!0)+"</pre>";throw t}};Bn.Parser=Jh;Bn.parser=Jh.parse;Bn.Renderer=Rv;Bn.TextRenderer=tC;Bn.Lexer=Xh;Bn.lexer=Xh.lex;Bn.Tokenizer=Ov;Bn.Slugger=nC;Bn.parse=Bn;var SHe=Bn.options,AHe=Bn.setOptions,THe=Bn.use,IHe=Bn.walkTokens,MHe=Bn.parseInline;var PHe=Jh.parse,DHe=Xh.lex;function xbe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])}return n}function QT(n,e){return Array(e+1).join(n)}function Cbe(n){return n.replace(/^\n*/,"")}function kbe(n){for(var e=n.length;e>0&&n[e-1]===`
`;)e--;return n.substring(0,e)}var Ebe=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function tI(n){return nI(n,Ebe)}var Iz=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function Mz(n){return nI(n,Iz)}function Sbe(n){return Dz(n,Iz)}var Pz=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function Abe(n){return nI(n,Pz)}function Tbe(n){return Dz(n,Pz)}function nI(n,e){return e.indexOf(n.nodeName)>=0}function Dz(n,e){return n.getElementsByTagName&&e.some(function(t){return n.getElementsByTagName(t).length})}var Ps={};Ps.paragraph={filter:"p",replacement:function(n){return`

`+n+`

`}};Ps.lineBreak={filter:"br",replacement:function(n,e,t){return t.br+`
`}};Ps.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(n,e,t){var i=Number(e.nodeName.charAt(1));if(t.headingStyle==="setext"&&i<3){var r=QT(i===1?"=":"-",n.length);return`

`+n+`
`+r+`

`}else return`

`+QT("#",i)+" "+n+`

`}};Ps.blockquote={filter:"blockquote",replacement:function(n){return n=n.replace(/^\n+|\n+$/g,""),n=n.replace(/^/gm,"> "),`

`+n+`

`}};Ps.list={filter:["ul","ol"],replacement:function(n,e){var t=e.parentNode;return t.nodeName==="LI"&&t.lastElementChild===e?`
`+n:`

`+n+`

`}};Ps.listItem={filter:"li",replacement:function(n,e,t){n=n.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var i=t.bulletListMarker+"   ",r=e.parentNode;if(r.nodeName==="OL"){var o=r.getAttribute("start"),s=Array.prototype.indexOf.call(r.children,e);i=(o?Number(o)+s:s+1)+".  "}return i+n+(e.nextSibling&&!/\n$/.test(n)?`
`:"")}};Ps.indentedCodeBlock={filter:function(n,e){return e.codeBlockStyle==="indented"&&n.nodeName==="PRE"&&n.firstChild&&n.firstChild.nodeName==="CODE"},replacement:function(n,e,t){return`

    `+e.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};Ps.fencedCodeBlock={filter:function(n,e){return e.codeBlockStyle==="fenced"&&n.nodeName==="PRE"&&n.firstChild&&n.firstChild.nodeName==="CODE"},replacement:function(n,e,t){for(var i=e.firstChild.getAttribute("class")||"",r=(i.match(/language-(\S+)/)||[null,""])[1],o=e.firstChild.textContent,s=t.fence.charAt(0),a=3,l=new RegExp("^"+s+"{3,}","gm"),c;c=l.exec(o);)c[0].length>=a&&(a=c[0].length+1);var u=QT(s,a);return`

`+u+r+`
`+o.replace(/\n$/,"")+`
`+u+`

`}};Ps.horizontalRule={filter:"hr",replacement:function(n,e,t){return`

`+t.hr+`

`}};Ps.inlineLink={filter:function(n,e){return e.linkStyle==="inlined"&&n.nodeName==="A"&&n.getAttribute("href")},replacement:function(n,e){var t=e.getAttribute("href");t&&(t=t.replace(/([()])/g,"\\$1"));var i=iC(e.getAttribute("title"));return i&&(i=' "'+i.replace(/"/g,'\\"')+'"'),"["+n+"]("+t+i+")"}};Ps.referenceLink={filter:function(n,e){return e.linkStyle==="referenced"&&n.nodeName==="A"&&n.getAttribute("href")},replacement:function(n,e,t){var i=e.getAttribute("href"),r=iC(e.getAttribute("title"));r&&(r=' "'+r+'"');var o,s;switch(t.linkReferenceStyle){case"collapsed":o="["+n+"][]",s="["+n+"]: "+i+r;break;case"shortcut":o="["+n+"]",s="["+n+"]: "+i+r;break;default:var a=this.references.length+1;o="["+n+"]["+a+"]",s="["+a+"]: "+i+r}return this.references.push(s),o},references:[],append:function(n){var e="";return this.references.length&&(e=`

`+this.references.join(`
`)+`

`,this.references=[]),e}};Ps.emphasis={filter:["em","i"],replacement:function(n,e,t){return n.trim()?t.emDelimiter+n+t.emDelimiter:""}};Ps.strong={filter:["strong","b"],replacement:function(n,e,t){return n.trim()?t.strongDelimiter+n+t.strongDelimiter:""}};Ps.code={filter:function(n){var e=n.previousSibling||n.nextSibling,t=n.parentNode.nodeName==="PRE"&&!e;return n.nodeName==="CODE"&&!t},replacement:function(n){if(!n)return"";n=n.replace(/\r?\n|\r/g," ");for(var e=/^`|^ .*?[^ ].* $|`$/.test(n)?" ":"",t="`",i=n.match(/`+/gm)||[];i.indexOf(t)!==-1;)t=t+"`";return t+e+n+e+t}};Ps.image={filter:"img",replacement:function(n,e){var t=iC(e.getAttribute("alt")),i=e.getAttribute("src")||"",r=iC(e.getAttribute("title")),o=r?' "'+r+'"':"";return i?"!["+t+"]("+i+o+")":""}};function iC(n){return n?n.replace(/(\n+\s*)+/g,`
`):""}function Oz(n){this.options=n,this._keep=[],this._remove=[],this.blankRule={replacement:n.blankReplacement},this.keepReplacement=n.keepReplacement,this.defaultRule={replacement:n.defaultReplacement},this.array=[];for(var e in n.rules)this.array.push(n.rules[e])}Oz.prototype={add:function(n,e){this.array.unshift(e)},keep:function(n){this._keep.unshift({filter:n,replacement:this.keepReplacement})},remove:function(n){this._remove.unshift({filter:n,replacement:function(){return""}})},forNode:function(n){if(n.isBlank)return this.blankRule;var e;return(e=YT(this.array,n,this.options))||(e=YT(this._keep,n,this.options))||(e=YT(this._remove,n,this.options))?e:this.defaultRule},forEach:function(n){for(var e=0;e<this.array.length;e++)n(this.array[e],e)}};function YT(n,e,t){for(var i=0;i<n.length;i++){var r=n[i];if(Ibe(r,e,t))return r}}function Ibe(n,e,t){var i=n.filter;if(typeof i=="string"){if(i===e.nodeName.toLowerCase())return!0}else if(Array.isArray(i)){if(i.indexOf(e.nodeName.toLowerCase())>-1)return!0}else if(typeof i=="function"){if(i.call(n,e,t))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function Mbe(n){var e=n.element,t=n.isBlock,i=n.isVoid,r=n.isPre||function(d){return d.nodeName==="PRE"};if(!(!e.firstChild||r(e))){for(var o=null,s=!1,a=null,l=Az(a,e,r);l!==e;){if(l.nodeType===3||l.nodeType===4){var c=l.data.replace(/[ \r\n\t]+/g," ");if((!o||/ $/.test(o.data))&&!s&&c[0]===" "&&(c=c.substr(1)),!c){l=XT(l);continue}l.data=c,o=l}else if(l.nodeType===1)t(l)||l.nodeName==="BR"?(o&&(o.data=o.data.replace(/ $/,"")),o=null,s=!1):i(l)||r(l)?(o=null,s=!0):o&&(s=!1);else{l=XT(l);continue}var u=Az(a,l,r);a=l,l=u}o&&(o.data=o.data.replace(/ $/,""),o.data||XT(o))}}function XT(n){var e=n.nextSibling||n.parentNode;return n.parentNode.removeChild(n),e}function Az(n,e,t){return n&&n.parentNode===e||t(e)?e.nextSibling||e.parentNode:e.firstChild||e.nextSibling||e.parentNode}var iI=typeof window<"u"?window:{};function Pbe(){var n=iI.DOMParser,e=!1;try{new n().parseFromString("","text/html")&&(e=!0)}catch{}return e}function Dbe(){var n=function(){};return Obe()?n.prototype.parseFromString=function(e){var t=new window.ActiveXObject("htmlfile");return t.designMode="on",t.open(),t.write(e),t.close(),t}:n.prototype.parseFromString=function(e){var t=document.implementation.createHTMLDocument("");return t.open(),t.write(e),t.close(),t},n}function Obe(){var n=!1;try{document.implementation.createHTMLDocument("").open()}catch{iI.ActiveXObject&&(n=!0)}return n}var Rbe=Pbe()?iI.DOMParser:Dbe();function Nbe(n,e){var t;if(typeof n=="string"){var i=Lbe().parseFromString('<x-turndown id="turndown-root">'+n+"</x-turndown>","text/html");t=i.getElementById("turndown-root")}else t=n.cloneNode(!0);return Mbe({element:t,isBlock:tI,isVoid:Mz,isPre:e.preformattedCode?Fbe:null}),t}var JT;function Lbe(){return JT=JT||new Rbe,JT}function Fbe(n){return n.nodeName==="PRE"||n.nodeName==="CODE"}function Bbe(n,e){return n.isBlock=tI(n),n.isCode=n.nodeName==="CODE"||n.parentNode.isCode,n.isBlank=Vbe(n),n.flankingWhitespace=jbe(n,e),n}function Vbe(n){return!Mz(n)&&!Abe(n)&&/^\s*$/i.test(n.textContent)&&!Sbe(n)&&!Tbe(n)}function jbe(n,e){if(n.isBlock||e.preformattedCode&&n.isCode)return{leading:"",trailing:""};var t=zbe(n.textContent);return t.leadingAscii&&Tz("left",n,e)&&(t.leading=t.leadingNonAscii),t.trailingAscii&&Tz("right",n,e)&&(t.trailing=t.trailingNonAscii),{leading:t.leading,trailing:t.trailing}}function zbe(n){var e=n.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:e[1],leadingAscii:e[2],leadingNonAscii:e[3],trailing:e[4],trailingNonAscii:e[5],trailingAscii:e[6]}}function Tz(n,e,t){var i,r,o;return n==="left"?(i=e.previousSibling,r=/ $/):(i=e.nextSibling,r=/^ /),i&&(i.nodeType===3?o=r.test(i.nodeValue):t.preformattedCode&&i.nodeName==="CODE"?o=!1:i.nodeType===1&&!tI(i)&&(o=r.test(i.textContent))),o}var Ube=Array.prototype.reduce,Hbe=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function eI(n){if(!(this instanceof eI))return new eI(n);var e={rules:Ps,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(t,i){return i.isBlock?`

`:""},keepReplacement:function(t,i){return i.isBlock?`

`+i.outerHTML+`

`:i.outerHTML},defaultReplacement:function(t,i){return i.isBlock?`

`+t+`

`:t}};this.options=xbe({},e,n),this.rules=new Oz(this.options)}eI.prototype={turndown:function(n){if(!qbe(n))throw new TypeError(n+" is not a string, or an element/document/fragment node.");if(n==="")return"";var e=Rz.call(this,new Nbe(n,this.options));return Wbe.call(this,e)},use:function(n){if(Array.isArray(n))for(var e=0;e<n.length;e++)this.use(n[e]);else if(typeof n=="function")n(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(n,e){return this.rules.add(n,e),this},keep:function(n){return this.rules.keep(n),this},remove:function(n){return this.rules.remove(n),this},escape:function(n){return Hbe.reduce(function(e,t){return e.replace(t[0],t[1])},n)}};function Rz(n){var e=this;return Ube.call(n.childNodes,function(t,i){i=new Bbe(i,e.options);var r="";return i.nodeType===3?r=i.isCode?i.nodeValue:e.escape(i.nodeValue):i.nodeType===1&&(r=$be.call(e,i)),Nz(t,r)},"")}function Wbe(n){var e=this;return this.rules.forEach(function(t){typeof t.append=="function"&&(n=Nz(n,t.append(e.options)))}),n.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function $be(n){var e=this.rules.forNode(n),t=Rz.call(this,n),i=n.flankingWhitespace;return(i.leading||i.trailing)&&(t=t.trim()),i.leading+e.replacement(t,n,this.options)+i.trailing}function Nz(n,e){var t=kbe(n),i=Cbe(e),r=Math.max(n.length-t.length,e.length-i.length),o=`

`.substring(0,r);return t+o+i}function qbe(n){return n!=null&&(typeof n=="string"||n.nodeType&&(n.nodeType===1||n.nodeType===9||n.nodeType===11))}var Gbe=Array.prototype.indexOf,Kbe=Array.prototype.every,rC={};rC.tableCell={filter:["th","td"],replacement:function(n,e){return Fz(n,e)}};rC.tableRow={filter:"tr",replacement:function(n,e){var t="",i={left:":--",right:"--:",center:":-:"};if(Lz(e))for(var r=0;r<e.childNodes.length;r++){var o="---",s=(e.childNodes[r].getAttribute("align")||"").toLowerCase();s&&(o=i[s]||o),t+=Fz(o,e.childNodes[r])}return`
`+n+(t?`
`+t:"")}};rC.table={filter:function(n){return n.nodeName==="TABLE"&&Lz(n.rows[0])},replacement:function(n){return n=n.replace(`

`,`
`),`

`+n+`

`}};rC.tableSection={filter:["thead","tbody","tfoot"],replacement:function(n){return n}};function Lz(n){var e=n.parentNode;return e.nodeName==="THEAD"||e.firstChild===n&&(e.nodeName==="TABLE"||Zbe(e))&&Kbe.call(n.childNodes,function(t){return t.nodeName==="TH"})}function Zbe(n){var e=n.previousSibling;return n.nodeName==="TBODY"&&(!e||e.nodeName==="THEAD"&&/^\s*$/i.test(e.textContent))}function Fz(n,e){var t=Gbe.call(e.parentNode.childNodes,e),i=" ";return t===0&&(i="| "),i+n+" |"}var WHe=new RegExp(/\b(?:(?:https?|ftp):\/\/|www\.)/.source+/(?![-_])(?:[-_a-z0-9\u00a1-\uffff]{1,63}\.)+(?:[a-z\u00a1-\uffff]{2,63})/.source+/(?:[^\s<>]*)/.source,"gi");var oWe=[Gn.arrowup,Gn.arrowdown,Gn.esc],sWe=[Gn.enter,Gn.tab];var oI=class extends nn{tiles;focusTracker;keystrokes;constructor(e){super(e),this.tiles=this.createCollection(),this.setTemplate({tag:"div",children:[{tag:"div",attributes:{class:["ck","ck-character-grid__tiles"]},children:this.tiles}],attributes:{class:["ck","ck-character-grid"]}}),this.focusTracker=new Sr,this.keystrokes=new Fr,Xg({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.tiles,numberOfColumns:()=>Kt.window.getComputedStyle(this.element.firstChild).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}createTile(e,t){let i=new Sn(this.locale);return i.set({label:e,withText:!0,class:"ck-character-grid__tile"}),i.extendTemplate({attributes:{title:t},on:{mouseover:i.bindTemplate.to("mouseover"),focus:i.bindTemplate.to("focus")}}),i.on("mouseover",()=>{this.fire("tileHover",{name:t,character:e})}),i.on("focus",()=>{this.fire("tileFocus",{name:t,character:e})}),i.on("execute",()=>{this.fire("execute",{name:t,character:e})}),i}render(){super.render();for(let e of this.tiles)this.focusTracker.add(e.element);this.tiles.on("change",(e,{added:t,removed:i})=>{if(t.length>0)for(let r of t)this.focusTracker.add(r.element);if(i.length>0)for(let r of i)this.focusTracker.remove(r.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy()}focus(){this.tiles.first.focus()}},sI=class extends nn{constructor(e){super(e);let t=this.bindTemplate;this.set("character",null),this.set("name",null),this.bind("code").to(this,"character",Ybe),this.setTemplate({tag:"div",children:[{tag:"span",attributes:{class:["ck-character-info__name"]},children:[{text:t.to("name",i=>i||"\u200B")}]},{tag:"span",attributes:{class:["ck-character-info__code"]},children:[{text:t.to("code")}]}],attributes:{class:["ck","ck-character-info"]}})}};function Ybe(n){return n===null?"":"U+"+("0000"+n.codePointAt(0).toString(16)).slice(-4)}var aI=class extends nn{items;focusTracker;keystrokes;_focusCycler;categoriesView;gridView;infoView;constructor(e,t,i,r){super(e),this.categoriesView=t,this.gridView=i,this.infoView=r,this.items=this.createCollection(),this.focusTracker=new Sr,this.keystrokes=new Fr,this._focusCycler=new ys({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",children:[this.categoriesView,this.gridView,this.infoView],attributes:{tabindex:"-1"}}),this.items.add(this.categoriesView),this.items.add(this.gridView)}render(){super.render(),this.focusTracker.add(this.categoriesView.element),this.focusTracker.add(this.gridView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}},Xbe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2.5a7.47 7.47 0 0 1 4.231 1.31 7.268 7.268 0 0 1 2.703 3.454 7.128 7.128 0 0 1 .199 4.353c-.39 1.436-1.475 2.72-2.633 3.677h2.013c0-.226.092-.443.254-.603a.876.876 0 0 1 1.229 0c.163.16.254.377.254.603v.853c0 .209-.078.41-.22.567a.873.873 0 0 1-.547.28l-.101.006h-4.695a.517.517 0 0 1-.516-.518v-1.265c0-.21.128-.398.317-.489a5.601 5.601 0 0 0 2.492-2.371 5.459 5.459 0 0 0 .552-3.693 5.53 5.53 0 0 0-1.955-3.2A5.71 5.71 0 0 0 10 4.206 5.708 5.708 0 0 0 6.419 5.46 5.527 5.527 0 0 0 4.46 8.663a5.457 5.457 0 0 0 .554 3.695 5.6 5.6 0 0 0 2.497 2.37.55.55 0 0 1 .317.49v1.264c0 .286-.23.518-.516.518H2.618a.877.877 0 0 1-.614-.25.845.845 0 0 1-.254-.603v-.853c0-.226.091-.443.254-.603a.876.876 0 0 1 1.228 0c.163.16.255.377.255.603h1.925c-1.158-.958-2.155-2.241-2.545-3.678a7.128 7.128 0 0 1 .199-4.352 7.268 7.268 0 0 1 2.703-3.455A7.475 7.475 0 0 1 10 2.5z"/></svg>',lI=class extends nn{_groupNames;_dropdownView;constructor(e,t){super(e),this.set("currentGroupName",Array.from(t.entries())[0][0]),this._groupNames=t,this._dropdownView=new ac(e,H4),this.setTemplate({tag:"div",attributes:{class:["ck","ck-character-categories"]},children:[this._dropdownView]})}render(){super.render(),this._setupDropdown()}focus(){this._dropdownView.focus()}_setupDropdown(){let e=new gr;for(let[r,o]of this._groupNames){let s={type:"button",model:new Pl({name:r,label:o,role:"menuitemradio",withText:!0})};s.model.bind("isOn").to(this,"currentGroupName",a=>a===r),e.add(s)}let t=this.locale.t,i=t("Category");this._dropdownView.set({label:i,isEmpty:!1}),this._dropdownView.fieldView.panelPosition=this.locale.uiLanguageDirection==="rtl"?"se":"sw",this._dropdownView.fieldView.buttonView.set({withText:!0,tooltip:i,ariaLabel:i,ariaLabelledBy:void 0,isOn:!1}),this._dropdownView.fieldView.buttonView.bind("label").to(this,"currentGroupName",r=>this._groupNames.get(r)),this._dropdownView.fieldView.on("execute",({source:r})=>{this.currentGroupName=r.name}),lu(this._dropdownView.fieldView,e,{ariaLabel:i,role:"menu"})}},rI="All",C0=class extends yt{_characters;_groups;_allSpecialCharactersGroupLabel;static get requires(){return[o0,Jg]}static get pluginName(){return"SpecialCharacters"}constructor(e){super(e);let t=e.t;this._characters=new Map,this._groups=new Map,this._allSpecialCharactersGroupLabel=t("All")}init(){let e=this.editor;e.ui.componentFactory.add("specialCharacters",()=>{let t=this._createDialogButton(Sn);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:specialCharacters",()=>this._createDialogButton(gi))}addItems(e,t,i={label:e}){if(e===rI)throw new Me("special-character-invalid-group-name",null);let r=this._getGroup(e,i.label);for(let o of t)r.items.add(o.title),this._characters.set(o.title,o.character)}getGroups(){let e=Array.from(this._groups.keys()),t=this.editor.config.get("specialCharacters.order")||[],i=t.find(r=>!e.includes(r));if(i)throw new Me("special-character-invalid-order-group-name",null,{invalidGroup:i});return new Set([...t,...e])}getCharactersForGroup(e){if(e===rI)return new Set(this._characters.keys());let t=this._groups.get(e);if(t)return t.items}getCharacter(e){return this._characters.get(e)}_getGroup(e,t){return this._groups.has(e)||this._groups.set(e,{items:new Set,label:t}),this._groups.get(e)}_updateGrid(e,t){t.tiles.clear();let i=this.getCharactersForGroup(e);for(let r of i){let o=this.getCharacter(r);t.tiles.add(t.createTile(o,r))}}_createDropdownPanelContent(e){let t=Array.from(this.getGroups()).map(a=>[a,this._groups.get(a).label]),i=new Map([[rI,this._allSpecialCharactersGroupLabel],...t]),r=new lI(e,i),o=new oI(e),s=new sI(e);return o.on("tileHover",(a,l)=>{s.set(l)}),o.on("tileFocus",(a,l)=>{s.set(l)}),r.on("change:currentGroupName",(a,l,c)=>{this._updateGrid(c,o)}),this._updateGrid(r.currentGroupName,o),{categoriesView:r,gridView:o,infoView:s}}_createDialogButton(e){let t=this.editor,i=t.locale,r=new e(t.locale),o=t.commands.get("insertText"),s=i.t,a=this.editor.plugins.get("Dialog");return r.set({label:s("Special characters"),icon:Xbe,isToggleable:!0}),r.bind("isOn").to(a,"id",l=>l==="specialCharacters"),r.bind("isEnabled").to(o,"isEnabled"),r.on("execute",()=>{if(a.id==="specialCharacters"){a.hide();return}this._showDialog()}),r}_showDialog(){let e=this.editor,t=e.plugins.get("Dialog"),i=e.locale,r=i.t,{categoriesView:o,gridView:s,infoView:a}=this._createDropdownPanelContent(i),l=new aI(i,o,s,a);s.on("execute",(c,u)=>{e.execute("insertText",{text:u.character})}),t.show({id:"specialCharacters",title:r("Special characters"),className:"ck-special-characters",content:l,position:Sa.EDITOR_TOP_SIDE})}};function co(n,e,t,i,r=1){e!=null&&r!==void 0&&r!==null&&e>r?i.setAttribute(n,e,t):i.removeAttribute(n,t)}function Em(n,e,t={}){let i=n.createElement("tableCell",t);return n.insertElement("paragraph",i),n.insert(i,e),i}function uI(n,e){let t=e.parent.parent,i=parseInt(t.getAttribute("headingColumns")||"0"),{column:r}=n.getCellLocation(e);return!!i&&r<i}function Jbe(){return n=>{n.on("element:figure",(e,t,i)=>{if(!i.consumable.test(t.viewItem,{name:!0,classes:"table"}))return;let r=t1e(t.viewItem);if(!r||!i.consumable.test(r,{name:!0}))return;i.consumable.consume(t.viewItem,{name:!0,classes:"table"});let o=i.convertItem(r,t.modelCursor),s=Ar(o.modelRange.getItems());if(!s){i.consumable.revert(t.viewItem,{name:!0,classes:"table"});return}i.convertChildren(t.viewItem,i.writer.createPositionAt(s,"end")),i.updateConversionResult(s,t)})}}function Qbe(){return n=>{n.on("element:table",(e,t,i)=>{let r=t.viewItem;if(!i.consumable.test(r,{name:!0}))return;let{rows:o,headingRows:s,headingColumns:a}=n1e(r),l={};a&&(l.headingColumns=a),s&&(l.headingRows=s);let c=i.writer.createElement("table",l);if(i.safeInsert(c,t.modelCursor)){if(i.consumable.consume(r,{name:!0}),o.forEach(u=>i.convertItem(u,i.writer.createPositionAt(c,"end"))),i.convertChildren(r,i.writer.createPositionAt(c,"end")),c.isEmpty){let u=i.writer.createElement("tableRow");i.writer.insert(u,i.writer.createPositionAt(c,"end")),Em(i.writer,i.writer.createPositionAt(u,"end"))}i.updateConversionResult(c,t)}})}}function e1e(){return n=>{n.on("element:tr",(e,t)=>{t.viewItem.isEmpty&&t.modelCursor.index==0&&e.stop()},{priority:"high"})}}function Bz(n){return e=>{e.on(`element:${n}`,(t,i,{writer:r})=>{if(!i.modelRange)return;let o=i.modelRange.start.nodeAfter,s=r.createPositionAt(o,0);if(i.viewItem.isEmpty){r.insertElement("paragraph",s);return}let a=Array.from(o.getChildren());if(a.every(l=>l.is("element","$marker"))){let l=r.createElement("paragraph");r.insert(l,r.createPositionAt(o,0));for(let c of a)r.move(r.createRangeOn(c),r.createPositionAt(l,"end"))}},{priority:"low"})}}function t1e(n){for(let e of n.getChildren())if(e.is("element","table"))return e}function n1e(n){let e=0,t,i=[],r=[],o;for(let s of Array.from(n.getChildren())){if(s.name!=="tbody"&&s.name!=="thead"&&s.name!=="tfoot")continue;s.name==="thead"&&!o&&(o=s);let a=Array.from(s.getChildren()).filter(l=>l.is("element","tr"));for(let l of a)if(o&&s===o||s.name==="tbody"&&Array.from(l.getChildren()).length&&Array.from(l.getChildren()).every(c=>c.is("element","th")))e++,i.push(l);else{r.push(l);let c=i1e(l);(!t||c<t)&&(t=c)}}return{headingRows:e,headingColumns:t||0,rows:[...i,...r]}}function i1e(n){let e=0,t=0,i=Array.from(n.getChildren()).filter(r=>r.name==="th"||r.name==="td");for(;t<i.length&&i[t].name==="th";){let r=i[t],o=parseInt(r.getAttribute("colspan")||"1");e=e+o,t++}return e}var Wi=class{_table;_startRow;_endRow;_startColumn;_endColumn;_includeAllSlots;_skipRows;_row;_rowIndex;_column;_cellIndex;_spannedCells;_nextCellAtColumn;_jumpedToStartRow=!1;constructor(e,t={}){this._table=e,this._startRow=t.row!==void 0?t.row:t.startRow||0,this._endRow=t.row!==void 0?t.row:t.endRow,this._startColumn=t.column!==void 0?t.column:t.startColumn||0,this._endColumn=t.column!==void 0?t.column:t.endColumn,this._includeAllSlots=!!t.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();let e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let t=null,i=this._getSpanned();if(i)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(i.cell,i.row,i.column));else{let r=e.getChild(this._cellIndex);if(!r)return this._advanceToNextRow();let o=parseInt(r.getAttribute("colspan")||"1"),s=parseInt(r.getAttribute("rowspan")||"1");(o>1||s>1)&&this._recordSpans(r,s,o),this._shouldSkipSlot()||(t=this._formatOutValue(r)),this._nextCellAtColumn=this._column+o}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,t=this._row,i=this._column){return{done:!1,value:new dI(this,e,t,i)}}_shouldSkipSlot(){let e=this._skipRows.has(this._row),t=this._row<this._startRow,i=this._column<this._startColumn,r=this._endColumn!==void 0&&this._column>this._endColumn;return e||t||i||r}_getSpanned(){let e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,t,i){let r={cell:e,row:this._row,column:this._column};for(let o=this._row;o<this._row+t;o++)for(let s=this._column;s<this._column+i;s++)(o!=this._row||s!=this._column)&&this._markSpannedCell(o,s,r)}_markSpannedCell(e,t,i){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,i)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){let e=this._getRowLength(0);for(let t=this._startRow;!this._jumpedToStartRow;t--)e===this._getRowLength(t)&&(this._row=t,this._rowIndex=t,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce((i,r)=>i+parseInt(r.getAttribute("colspan")||"1"),0)}},dI=class{cell;row;column;cellAnchorRow;cellAnchorColumn;_cellIndex;_rowIndex;_table;constructor(e,t,i,r){this.cell=t,this.row=e._row,this.column=e._column,this.cellAnchorRow=i,this.cellAnchorColumn=r,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}};function Vz(n,e){return(t,{writer:i})=>{let r=t.getAttribute("headingRows")||0,o=i.createContainerElement("table",null,[]),s=i.createContainerElement("figure",{class:"table"},o);r>0&&i.insert(i.createPositionAt(o,"end"),i.createContainerElement("thead",null,i.createSlot(a=>a.is("element","tableRow")&&a.index<r))),r<n.getRows(t)&&i.insert(i.createPositionAt(o,"end"),i.createContainerElement("tbody",null,i.createSlot(a=>a.is("element","tableRow")&&a.index>=r)));for(let{positionOffset:a,filter:l}of e.additionalSlots)i.insert(i.createPositionAt(o,a),i.createSlot(l));return i.insert(i.createPositionAt(o,"after"),i.createSlot(a=>a.is("element","tableRow")?!1:!e.additionalSlots.some(({filter:l})=>l(a)))),e.asWidget?o1e(s,i):s}}function r1e(){return(n,{writer:e})=>n.isEmpty?e.createEmptyElement("tr"):e.createContainerElement("tr")}function jz(n={}){return(e,{writer:t})=>{let i=e.parent,r=i.parent,o=r.getChildIndex(i),s=new Wi(r,{row:o}),a=r.getAttribute("headingRows")||0,l=r.getAttribute("headingColumns")||0,c=null;for(let u of s)if(u.cell==e){let f=u.row<a||u.column<l?"th":"td";c=n.asWidget?vT(t.createEditableElement(f),t):t.createContainerElement(f);break}return c}}function zz(n={}){return(e,{writer:t})=>{if(!e.parent.is("element","tableCell")||!Kz(e))return null;if(n.asWidget)return t.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{let i=t.createContainerElement("p");return t.setCustomProperty("dataPipeline:transparentRendering",!0,i),i}}}function Kz(n){return n.parent.childCount==1&&!s1e(n)}function o1e(n,e){return e.setCustomProperty("table",!0,n),Kh(n,e,{hasSelectionHandle:!0})}function s1e(n){return!n.getAttributeKeys().next().done}var hI=class extends bn{refresh(){let e=this.editor.model,t=e.document.selection,i=e.schema;this.isEnabled=a1e(t,i)}execute(e={}){let t=this.editor,i=t.model,r=t.plugins.get("TableUtils"),o=t.config.get("table.defaultHeadings.rows"),s=t.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&o&&(e.headingRows=o),e.headingColumns===void 0&&s&&(e.headingColumns=s),i.change(a=>{let l=r.createTable(a,e);i.insertObject(l,null,null,{findOptimalPosition:"auto"}),a.setSelection(a.createPositionAt(l.getNodeByPath([0,0,0]),0))})}};function a1e(n,e){let t=n.getFirstPosition().parent,i=t===t.root?t:t.parent;return e.checkChild(i,"table")}var oC=class extends bn{order;constructor(e,t={}){super(e),this.order=t.order||"below"}refresh(){let e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){let e=this.editor,t=e.model.document.selection,i=e.plugins.get("TableUtils"),r=this.order==="above",o=i.getSelectionAffectedTableCells(t),s=i.getRowIndexes(o),a=r?s.first:s.last,l=o[0].findAncestor("table");i.insertRows(l,{at:r?a:a+1,copyStructureFromAbove:!r})}},sC=class extends bn{order;constructor(e,t={}){super(e),this.order=t.order||"right"}refresh(){let e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){let e=this.editor,t=e.model.document.selection,i=e.plugins.get("TableUtils"),r=this.order==="left",o=i.getSelectionAffectedTableCells(t),s=i.getColumnIndexes(o),a=r?s.first:s.last,l=o[0].findAncestor("table");i.insertColumns(l,{columns:1,at:r?a:a+1})}},aC=class extends bn{direction;constructor(e,t={}){super(e),this.direction=t.direction||"horizontally"}refresh(){let t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length===1}execute(){let e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(t,2):e.splitCellVertically(t,2)}};function Zz(n,e,t){let{startRow:i,startColumn:r,endRow:o,endColumn:s}=e,a=t.createElement("table"),l=o-i+1;for(let u=0;u<l;u++)t.insertElement("tableRow",a,"end");let c=[...new Wi(n,{startRow:i,endRow:o,startColumn:r,endColumn:s,includeAllSlots:!0})];for(let{row:u,column:d,cell:f,isAnchor:h,cellAnchorRow:m,cellAnchorColumn:p}of c){let g=u-i,v=a.getChild(g);if(!h)(m<i||p<r)&&Em(t,t.createPositionAt(v,"end"));else{let x=t.cloneElement(f);t.append(x,v),eU(x,u,d,o,s,t)}}return l1e(a,n,i,r,t),a}function Yz(n,e,t=0){let i=[],r=new Wi(n,{startRow:t,endRow:e-1});for(let o of r){let{row:s,cellHeight:a}=o,l=s+a-1;s<e&&e<=l&&i.push(o)}return i}function Xz(n,e,t){let i=n.parent,r=i.parent,o=i.index,s=parseInt(n.getAttribute("rowspan")),a=e-o,l={},c=s-a;c>1&&(l.rowspan=c);let u=parseInt(n.getAttribute("colspan")||"1");u>1&&(l.colspan=u);let d=o,f=d+a,h=[...new Wi(r,{startRow:d,endRow:f,includeAllSlots:!0})],m=null,p;for(let g of h){let{row:v,column:x,cell:I}=g;I===n&&p===void 0&&(p=x),p!==void 0&&p===x&&v===f&&(m=Em(t,g.getPositionBefore(),l))}return co("rowspan",a,n,t),m}function Jz(n,e){let t=[],i=new Wi(n);for(let r of i){let{column:o,cellWidth:s}=r,a=o+s-1;o<e&&e<=a&&t.push(r)}return t}function Qz(n,e,t,i){let r=parseInt(n.getAttribute("colspan")),o=t-e,s={},a=r-o;a>1&&(s.colspan=a);let l=parseInt(n.getAttribute("rowspan")||"1");l>1&&(s.rowspan=l);let c=Em(i,i.createPositionAfter(n),s);return co("colspan",o,n,i),c}function eU(n,e,t,i,r,o){let s=parseInt(n.getAttribute("colspan")||"1"),a=parseInt(n.getAttribute("rowspan")||"1");if(t+s-1>r){let u=r-t+1;co("colspan",u,n,o,1)}if(e+a-1>i){let u=i-e+1;co("rowspan",u,n,o,1)}}function l1e(n,e,t,i,r){let o=parseInt(e.getAttribute("headingRows")||"0");if(o>0){let a=o-t;co("headingRows",a,n,r,0)}let s=parseInt(e.getAttribute("headingColumns")||"0");if(s>0){let a=s-i;co("headingColumns",a,n,r,0)}}function fI(n,e){let t=e.getColumns(n),i=new Array(t).fill(0);for(let{column:o}of new Wi(n))i[o]++;let r=i.reduce((o,s,a)=>s?o:[...o,a],[]);if(r.length>0){let o=r[r.length-1];return e.removeColumns(n,{at:o}),!0}return!1}function mI(n,e){let t=[],i=e.getRows(n);for(let r=0;r<i;r++)n.getChild(r).isEmpty&&t.push(r);if(t.length>0){let r=t[t.length-1];return e.removeRows(n,{at:r}),!0}return!1}function PI(n,e){fI(n,e)||mI(n,e)}function tU(n,e){let t=Array.from(new Wi(n,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(t.every(({cellHeight:o})=>o===1))return e.lastRow;let r=t[0].cellHeight-1;return e.lastRow+r}function nU(n,e){let t=Array.from(new Wi(n,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(t.every(({cellWidth:o})=>o===1))return e.lastColumn;let r=t[0].cellWidth-1;return e.lastColumn+r}var E0=class extends bn{direction;isHorizontal;constructor(e,t){super(e),this.direction=t.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){let e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){let e=this.editor.model,t=e.document,r=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(t.selection)[0],o=this.value,s=this.direction;e.change(a=>{let l=s=="right"||s=="down",c=l?r:o,u=l?o:r,d=u.parent;d1e(u,c,a);let f=this.isHorizontal?"colspan":"rowspan",h=parseInt(r.getAttribute(f)||"1"),m=parseInt(o.getAttribute(f)||"1");a.setAttribute(f,h+m,c),a.setSelection(a.createRangeIn(c));let p=this.editor.plugins.get("TableUtils"),g=d.findAncestor("table");PI(g,p)})}_getMergeableCell(){let t=this.editor.model.document,i=this.editor.plugins.get("TableUtils"),r=i.getTableCellsContainingSelection(t.selection)[0];if(!r)return;let o=this.isHorizontal?c1e(r,this.direction,i):u1e(r,this.direction,i);if(!o)return;let s=this.isHorizontal?"rowspan":"colspan",a=parseInt(r.getAttribute(s)||"1");if(parseInt(o.getAttribute(s)||"1")===a)return o}};function c1e(n,e,t){let r=n.parent.parent,o=e=="right"?n.nextSibling:n.previousSibling,s=(r.getAttribute("headingColumns")||0)>0;if(!o)return;let a=e=="right"?n:o,l=e=="right"?o:n,{column:c}=t.getCellLocation(a),{column:u}=t.getCellLocation(l),d=parseInt(a.getAttribute("colspan")||"1"),f=uI(t,a),h=uI(t,l);return s&&f!=h?void 0:c+d===u?o:void 0}function u1e(n,e,t){let i=n.parent,r=i.parent,o=r.getChildIndex(i);if(e=="down"&&o===t.getRows(r)-1||e=="up"&&o===0)return null;let s=parseInt(n.getAttribute("rowspan")||"1"),a=r.getAttribute("headingRows")||0,l=e=="down"&&o+s===a,c=e=="up"&&o===a;if(a&&(l||c))return null;let u=parseInt(n.getAttribute("rowspan")||"1"),d=e=="down"?o+u:o,f=[...new Wi(r,{endRow:d})],m=f.find(g=>g.cell===n).column,p=f.find(({row:g,cellHeight:v,column:x})=>x!==m?!1:e=="down"?g===d:d===g+v);return p&&p.cell?p.cell:null}function d1e(n,e,t){Uz(n)||(Uz(e)&&t.remove(t.createRangeIn(e)),t.move(t.createRangeIn(n),t.createPositionAt(e,"end"))),t.remove(n)}function Uz(n){let e=n.getChild(0);return n.childCount==1&&e.is("element","paragraph")&&e.isEmpty}var pI=class extends bn{refresh(){let e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),i=t[0];if(i){let r=i.findAncestor("table"),s=e.getRows(r)-1,a=e.getRowIndexes(t),l=a.first===0&&a.last===s;this.isEnabled=!l}else this.isEnabled=!1}execute(){let e=this.editor.model,t=this.editor.plugins.get("TableUtils"),i=t.getSelectionAffectedTableCells(e.document.selection),r=t.getRowIndexes(i),o=i[0],s=o.findAncestor("table"),a=t.getCellLocation(o).column;e.change(l=>{let c=r.last-r.first+1;t.removeRows(s,{at:r.first,rows:c});let u=h1e(s,r.first,a,t.getRows(s));l.setSelection(l.createPositionAt(u,0))})}};function h1e(n,e,t,i){let r=n.getChild(Math.min(e,i-1)),o=r.getChild(0),s=0;for(let a of r.getChildren()){if(s>t)return o;o=a,s+=parseInt(a.getAttribute("colspan")||"1")}return o}var gI=class extends bn{refresh(){let e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),i=t[0];if(i){let r=i.findAncestor("table"),o=e.getColumns(r),{first:s,last:a}=e.getColumnIndexes(t);this.isEnabled=a-s<o-1}else this.isEnabled=!1}execute(){let e=this.editor.plugins.get("TableUtils"),[t,i]=m1e(this.editor.model.document.selection,e),r=t.parent.parent,o=[...new Wi(r)],s={first:o.find(l=>l.cell===t).column,last:o.find(l=>l.cell===i).column},a=f1e(o,t,i,s);this.editor.model.change(l=>{let c=s.last-s.first+1;e.removeColumns(r,{at:s.first,columns:c}),l.setSelection(l.createPositionAt(a,0))})}};function f1e(n,e,t,i){return parseInt(t.getAttribute("colspan")||"1")>1?t:e.previousSibling||t.nextSibling?t.nextSibling||e.previousSibling:i.first?n.reverse().find(({column:o})=>o<i.first).cell:n.reverse().find(({column:o})=>o>i.last).cell}function m1e(n,e){let t=e.getSelectionAffectedTableCells(n),i=t[0],r=t.pop(),o=[i,r];return i.isBefore(r)?o:o.reverse()}var bI=class extends bn{refresh(){let e=this.editor.plugins.get("TableUtils"),t=this.editor.model,i=e.getSelectionAffectedTableCells(t.document.selection),r=i.length>0;this.isEnabled=r,this.value=r&&i.every(o=>this._isInHeading(o,o.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;let t=this.editor.plugins.get("TableUtils"),i=this.editor.model,r=t.getSelectionAffectedTableCells(i.document.selection),o=r[0].findAncestor("table"),{first:s,last:a}=t.getRowIndexes(r),l=this.value?s:a+1,c=o.getAttribute("headingRows")||0;i.change(u=>{if(l){let d=l>c?c:0,f=Yz(o,l,d);for(let{cell:h}of f)Xz(h,l,u)}co("headingRows",l,o,u,0)})}_isInHeading(e,t){let i=parseInt(t.getAttribute("headingRows")||"0");return!!i&&e.parent.index<i}},vI=class extends bn{refresh(){let e=this.editor.model,t=this.editor.plugins.get("TableUtils"),i=t.getSelectionAffectedTableCells(e.document.selection),r=i.length>0;this.isEnabled=r,this.value=r&&i.every(o=>uI(t,o))}execute(e={}){if(e.forceValue===this.value)return;let t=this.editor.plugins.get("TableUtils"),i=this.editor.model,r=t.getSelectionAffectedTableCells(i.document.selection),o=r[0].findAncestor("table"),{first:s,last:a}=t.getColumnIndexes(r),l=this.value?s:a+1;i.change(c=>{if(l){let u=Jz(o,l);for(let{cell:d,column:f}of u)Qz(d,f,l,c)}co("headingColumns",l,o,c,0)})}};function p1e(n){if(n.is("element","tableColumnGroup"))return n;let e=n.getChildren();return Array.from(e).find(t=>t.is("element","tableColumnGroup"))}function g1e(n){let e=p1e(n);return e?Array.from(e.getChildren()):[]}var Bo=class extends yt{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){let t=e.parent,i=t.parent,r=i.getChildIndex(t),o=new Wi(i,{row:r});for(let{cell:s,row:a,column:l}of o)if(s===e)return{row:a,column:l};}createTable(e,t){let i=e.createElement("table"),r=t.rows||2,o=t.columns||2;return cI(e,i,0,r,o),t.headingRows&&co("headingRows",Math.min(t.headingRows,r),i,e,0),t.headingColumns&&co("headingColumns",Math.min(t.headingColumns,o),i,e,0),i}insertRows(e,t={}){let i=this.editor.model,r=t.at||0,o=t.rows||1,s=t.copyStructureFromAbove!==void 0,a=t.copyStructureFromAbove?r-1:r,l=this.getRows(e),c=this.getColumns(e);if(r>l)throw new Me("tableutils-insertrows-insert-out-of-range",this,{options:t});i.change(u=>{let d=e.getAttribute("headingRows")||0;if(d>r&&co("headingRows",d+o,e,u,0),!s&&(r===0||r===l)){cI(u,e,r,o,c);return}let f=s?Math.max(r,a):r,h=new Wi(e,{endRow:f}),m=new Array(c).fill(1);for(let{row:p,column:g,cellHeight:v,cellWidth:x,cell:I}of h){let N=p+v-1,H=p<r&&r<=N,F=p<=a&&a<=N;H?(u.setAttribute("rowspan",v+o,I),m[g]=-x):s&&F&&(m[g]=x)}for(let p=0;p<o;p++){let g=u.createElement("tableRow");u.insert(g,e,r);for(let v=0;v<m.length;v++){let x=m[v],I=u.createPositionAt(g,"end");x>0&&Em(u,I,x>1?{colspan:x}:void 0),v+=Math.abs(x)-1}}})}insertColumns(e,t={}){let i=this.editor.model,r=t.at||0,o=t.columns||1;i.change(s=>{let a=e.getAttribute("headingColumns");r<a&&s.setAttribute("headingColumns",a+o,e);let l=this.getColumns(e);if(r===0||l===r){for(let u of e.getChildren())u.is("element","tableRow")&&k0(o,s,s.createPositionAt(u,r?"end":0));return}let c=new Wi(e,{column:r,includeAllSlots:!0});for(let u of c){let{row:d,cell:f,cellAnchorColumn:h,cellAnchorRow:m,cellWidth:p,cellHeight:g}=u;if(h<r){s.setAttribute("colspan",p+o,f);let v=m+g-1;for(let x=d;x<=v;x++)c.skipRow(x)}else k0(o,s,u.getPositionBefore())}})}removeRows(e,t){let i=this.editor.model,r=t.rows||1,o=this.getRows(e),s=t.at,a=s+r-1;if(a>o-1)throw new Me("tableutils-removerows-row-index-out-of-range",this,{table:e,options:t});i.change(l=>{let c={first:s,last:a},{cellsToMove:u,cellsToTrim:d}=w1e(e,c);if(u.size){let f=a+1;y1e(e,f,u,l)}for(let f=a;f>=s;f--)l.remove(e.getChild(f));for(let{rowspan:f,cell:h}of d)co("rowspan",f,h,l);v1e(e,c,l),fI(e,this)||mI(e,this)})}removeColumns(e,t){let i=this.editor.model,r=t.at,o=t.columns||1,s=t.at+o-1;i.change(a=>{b1e(e,{first:r,last:s},a);let l=g1e(e);for(let c=s;c>=r;c--){for(let{cell:u,column:d,cellWidth:f}of[...new Wi(e)])d<=c&&f>1&&d+f>c?co("colspan",f-1,u,a):d===c&&a.remove(u);if(l[c]){let u=c===0?l[1]:l[c-1],d=parseFloat(l[c].getAttribute("columnWidth")),f=parseFloat(u.getAttribute("columnWidth"));a.remove(l[c]),a.setAttribute("columnWidth",d+f+"%",u)}}mI(e,this)||fI(e,this)})}splitCellVertically(e,t=2){let i=this.editor.model,o=e.parent.parent,s=parseInt(e.getAttribute("rowspan")||"1"),a=parseInt(e.getAttribute("colspan")||"1");i.change(l=>{if(a>1){let{newCellsSpan:c,updatedSpan:u}=Hz(a,t);co("colspan",u,e,l);let d={};c>1&&(d.colspan=c),s>1&&(d.rowspan=s);let f=a>t?t-1:a-1;k0(f,l,l.createPositionAfter(e),d)}if(a<t){let c=t-a,u=[...new Wi(o)],{column:d}=u.find(({cell:p})=>p===e),f=u.filter(({cell:p,cellWidth:g,column:v})=>{let x=p!==e&&v===d,I=v<d&&v+g>d;return x||I});for(let{cell:p,cellWidth:g}of f)l.setAttribute("colspan",g+c,p);let h={};s>1&&(h.rowspan=s),k0(c,l,l.createPositionAfter(e),h);let m=o.getAttribute("headingColumns")||0;m>d&&co("headingColumns",m+c,o,l)}})}splitCellHorizontally(e,t=2){let i=this.editor.model,r=e.parent,o=r.parent,s=o.getChildIndex(r),a=parseInt(e.getAttribute("rowspan")||"1"),l=parseInt(e.getAttribute("colspan")||"1");i.change(c=>{if(a>1){let u=[...new Wi(o,{startRow:s,endRow:s+a-1,includeAllSlots:!0})],{newCellsSpan:d,updatedSpan:f}=Hz(a,t);co("rowspan",f,e,c);let{column:h}=u.find(({cell:g})=>g===e),m={};d>1&&(m.rowspan=d),l>1&&(m.colspan=l);let p=0;for(let g of u){let{column:v,row:x}=g,I=x>=s+f,N=v===h;p>=d&&N&&(p=0),I&&N&&(p||k0(1,c,g.getPositionBefore(),m),p++)}}if(a<t){let u=t-a,d=[...new Wi(o,{startRow:0,endRow:s})];for(let{cell:m,cellHeight:p,row:g}of d)if(m!==e&&g+p>s){let v=p+u;c.setAttribute("rowspan",v,m)}let f={};l>1&&(f.colspan=l),cI(c,o,s+1,u,1,f);let h=o.getAttribute("headingRows")||0;h>s&&co("headingRows",h+u,o,c)}})}getColumns(e){return[...e.getChild(0).getChildren()].filter(i=>i.is("element","tableCell")).reduce((i,r)=>{let o=parseInt(r.getAttribute("colspan")||"1");return i+o},0)}getRows(e){return Array.from(e.getChildren()).reduce((t,i)=>i.is("element","tableRow")?t+1:t,0)}createTableWalker(e,t={}){return new Wi(e,t)}getSelectedTableCells(e){let t=[];for(let i of this.sortRanges(e.getRanges())){let r=i.getContainedElement();r&&r.is("element","tableCell")&&t.push(r)}return t}getTableCellsContainingSelection(e){let t=[];for(let i of e.getRanges()){let r=i.start.findAncestor("tableCell");r&&t.push(r)}return t}getSelectionAffectedTableCells(e){let t=this.getSelectedTableCells(e);return t.length?t:this.getTableCellsContainingSelection(e)}getRowIndexes(e){let t=e.map(i=>i.parent.index);return this._getFirstLastIndexesObject(t)}getColumnIndexes(e){let t=e[0].findAncestor("table"),r=[...new Wi(t)].filter(o=>e.includes(o.cell)).map(o=>o.column);return this._getFirstLastIndexesObject(r)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;let t=new Set,i=new Set,r=0;for(let s of e){let{row:a,column:l}=this.getCellLocation(s),c=parseInt(s.getAttribute("rowspan"))||1,u=parseInt(s.getAttribute("colspan"))||1;t.add(a),i.add(l),c>1&&t.add(a+c-1),u>1&&i.add(l+u-1),r+=c*u}return x1e(t,i)==r}sortRanges(e){return Array.from(e).sort(_1e)}_getFirstLastIndexesObject(e){let t=e.sort((o,s)=>o-s),i=t[0],r=t[t.length-1];return{first:i,last:r}}_areCellInTheSameTableSection(e){let t=e[0].findAncestor("table"),i=this.getRowIndexes(e),r=parseInt(t.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(i,r))return!1;let o=this.getColumnIndexes(e),s=parseInt(t.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(o,s)}_areIndexesInSameSection({first:e,last:t},i){let r=e<i,o=t<i;return r===o}};function cI(n,e,t,i,r,o={}){for(let s=0;s<i;s++){let a=n.createElement("tableRow");n.insert(a,e,t),k0(r,n,n.createPositionAt(a,"end"),o)}}function k0(n,e,t,i={}){for(let r=0;r<n;r++)Em(e,t,i)}function Hz(n,e){if(n<e)return{newCellsSpan:1,updatedSpan:1};let t=Math.floor(n/e),i=n-t*e+t;return{newCellsSpan:t,updatedSpan:i}}function b1e(n,e,t){let i=n.getAttribute("headingColumns")||0;if(i&&e.first<i){let r=Math.min(i-1,e.last)-e.first+1;t.setAttribute("headingColumns",i-r,n)}}function v1e(n,{first:e,last:t},i){let r=n.getAttribute("headingRows")||0;if(e<r){let o=t<r?r-(t-e+1):e;co("headingRows",o,n,i,0)}}function w1e(n,{first:e,last:t}){let i=new Map,r=[];for(let{row:o,column:s,cellHeight:a,cell:l}of new Wi(n,{endRow:t})){let c=o+a-1;if(o>=e&&o<=t&&c>t){let f=t-o+1,h=a-f;i.set(s,{cell:l,rowspan:h})}if(o<e&&c>=e){let f;c>=t?f=t-e+1:f=c-e+1,r.push({cell:l,rowspan:a-f})}}return{cellsToMove:i,cellsToTrim:r}}function y1e(n,e,t,i){let o=[...new Wi(n,{includeAllSlots:!0,row:e})],s=n.getChild(e),a;for(let{column:l,cell:c,isAnchor:u}of o)if(t.has(l)){let{cell:d,rowspan:f}=t.get(l),h=a?i.createPositionAfter(a):i.createPositionAt(s,0);i.move(i.createRangeOn(d),h),co("rowspan",f,d,i),a=d}else u&&(a=c)}function _1e(n,e){let t=n.start,i=e.start;return t.isBefore(i)?-1:1}function x1e(n,e){let t=Array.from(n.values()),i=Array.from(e.values()),r=Math.max(...t),o=Math.min(...t),s=Math.max(...i),a=Math.min(...i);return(r-o+1)*(s-a+1)}var wI=class extends bn{refresh(){let e=this.editor.plugins.get(Bo),t=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(t)}execute(){let e=this.editor.model,t=this.editor.plugins.get(Bo);e.change(i=>{let r=t.getSelectedTableCells(e.document.selection),o=r.shift(),{mergeWidth:s,mergeHeight:a}=k1e(o,r,t);co("colspan",s,o,i),co("rowspan",a,o,i);for(let c of r)C1e(c,o,i);let l=o.findAncestor("table");PI(l,t),i.setSelection(o,"in")})}};function C1e(n,e,t){Wz(n)||(Wz(e)&&t.remove(t.createRangeIn(e)),t.move(t.createRangeIn(n),t.createPositionAt(e,"end"))),t.remove(n)}function Wz(n){let e=n.getChild(0);return n.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function k1e(n,e,t){let i=0,r=0;for(let c of e){let{row:u,column:d}=t.getCellLocation(c);i=$z(c,d,i,"colspan"),r=$z(c,u,r,"rowspan")}let{row:o,column:s}=t.getCellLocation(n),a=i-s,l=r-o;return{mergeWidth:a,mergeHeight:l}}function $z(n,e,t,i){let r=parseInt(n.getAttribute(i)||"1");return Math.max(t,e+r)}var yI=class extends bn{constructor(e){super(e),this.affectsData=!1}refresh(){let t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){let e=this.editor.model,t=this.editor.plugins.get("TableUtils"),i=t.getSelectionAffectedTableCells(e.document.selection),r=t.getRowIndexes(i),o=i[0].findAncestor("table"),s=[];for(let a=r.first;a<=r.last;a++)for(let l of o.getChild(a).getChildren())s.push(e.createRangeOn(l));e.change(a=>{a.setSelection(s)})}},_I=class extends bn{constructor(e){super(e),this.affectsData=!1}refresh(){let t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){let e=this.editor.plugins.get("TableUtils"),t=this.editor.model,i=e.getSelectionAffectedTableCells(t.document.selection),r=i[0],o=i.pop(),s=r.findAncestor("table"),a=e.getCellLocation(r),l=e.getCellLocation(o),c=Math.min(a.column,l.column),u=Math.max(a.column,l.column),d=[];for(let f of new Wi(s,{startColumn:c,endColumn:u}))d.push(t.createRangeOn(f.cell));t.change(f=>{f.setSelection(d)})}};function E1e(n){n.document.registerPostFixer(e=>S1e(e,n))}function S1e(n,e){let t=e.document.differ.getChanges(),i=!1,r=new Set;for(let o of t){let s=null;o.type=="insert"&&o.name=="table"&&(s=o.position.nodeAfter),(o.type=="insert"||o.type=="remove")&&(o.name=="tableRow"||o.name=="tableCell")&&(s=o.position.findAncestor("table")),P1e(o)&&(s=o.range.start.findAncestor("table")),s&&!r.has(s)&&(i=A1e(s,n)||i,i=T1e(s,n)||i,r.add(s))}return i}function A1e(n,e){let t=!1,i=I1e(n);if(i.length){t=!0;for(let r of i)co("rowspan",r.rowspan,r.cell,e,1)}return t}function T1e(n,e){let t=!1,i=M1e(n),r=[];for(let[l,c]of i.entries())!c&&n.getChild(l).is("element","tableRow")&&r.push(l);if(r.length){t=!0;for(let l of r.reverse())e.remove(n.getChild(l)),i.splice(l,1)}let o=i.filter((l,c)=>n.getChild(c).is("element","tableRow")),s=o[0];if(!o.every(l=>l===s)){let l=o.reduce((c,u)=>u>c?u:c,0);for(let[c,u]of o.entries()){let d=l-u;if(d){for(let f=0;f<d;f++)Em(e,e.createPositionAt(n.getChild(c),"end"));t=!0}}}return t}function I1e(n){let e=parseInt(n.getAttribute("headingRows")||"0"),t=Array.from(n.getChildren()).reduce((r,o)=>o.is("element","tableRow")?r+1:r,0),i=[];for(let{row:r,cell:o,cellHeight:s}of new Wi(n)){if(s<2)continue;let l=r<e?e:t;if(r+s>l){let c=l-r;i.push({cell:o,rowspan:c})}}return i}function M1e(n){let e=new Array(n.childCount).fill(0);for(let{rowIndex:t}of new Wi(n,{includeAllSlots:!0}))e[t]++;return e}function P1e(n){if(n.type!=="attribute")return!1;let e=n.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}function D1e(n){n.document.registerPostFixer(e=>O1e(e,n))}function O1e(n,e){let t=e.document.differ.getChanges(),i=!1;for(let r of t)r.type=="insert"&&r.name=="table"&&(i=R1e(r.position.nodeAfter,n)||i),r.type=="insert"&&r.name=="tableRow"&&(i=iU(r.position.nodeAfter,n)||i),r.type=="insert"&&r.name=="tableCell"&&(i=xI(r.position.nodeAfter,n)||i),(r.type=="remove"||r.type=="insert")&&N1e(r)&&(i=xI(r.position.parent,n)||i);return i}function R1e(n,e){let t=!1;for(let i of n.getChildren())i.is("element","tableRow")&&(t=iU(i,e)||t);return t}function iU(n,e){let t=!1;for(let i of n.getChildren())t=xI(i,e)||t;return t}function xI(n,e){if(n.childCount==0)return e.insertElement("paragraph",n),!0;let t=Array.from(n.getChildren()).filter(i=>i.is("$text"));for(let i of t)e.wrap(e.createRangeOn(i),"paragraph");return!!t.length}function N1e(n){return n.position.parent.is("element","tableCell")?n.type=="insert"&&n.name=="$text"||n.type=="remove":!1}function L1e(n,e){let t=n.document.differ;for(let i of t.getChanges()){let r,o=!1;if(i.type=="attribute"){let c=i.range.start.nodeAfter;if(!c||!c.is("element","table")||i.attributeKey!="headingRows"&&i.attributeKey!="headingColumns")continue;r=c,o=i.attributeKey=="headingRows"}else(i.name=="tableRow"||i.name=="tableCell")&&(r=i.position.findAncestor("table"),o=i.name=="tableRow");if(!r)continue;let s=r.getAttribute("headingRows")||0,a=r.getAttribute("headingColumns")||0,l=new Wi(r);for(let c of l){let d=c.row<s||c.column<a?"th":"td",f=e.mapper.toViewElement(c.cell);f&&f.is("element")&&f.name!=d&&e.reconvertItem(o?c.cell.parent:c.cell)}}}function F1e(n,e){let t=n.document.differ,i=new Set;for(let r of t.getChanges()){let o=r.type=="attribute"?r.range.start.parent:r.position.parent;o.is("element","tableCell")&&i.add(o)}for(let r of i.values()){let o=Array.from(r.getChildren()).filter(s=>B1e(s,e.mapper));for(let s of o)e.reconvertItem(s)}}function B1e(n,e){if(!n.is("element","paragraph"))return!1;let t=e.toViewElement(n);return t?Kz(n)!==t.is("element","span"):!1}var CI=class extends yt{_additionalSlots;static get pluginName(){return"TableEditing"}static get requires(){return[Bo]}constructor(e){super(e),this._additionalSlots=[]}init(){let e=this.editor,t=e.model,i=t.schema,r=e.conversion,o=e.plugins.get(Bo);i.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),i.register("tableRow",{allowIn:"table",isLimit:!0}),i.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),r.for("upcast").add(Jbe()),r.for("upcast").add(Qbe()),r.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:Vz(o,{asWidget:!0,additionalSlots:this._additionalSlots})}),r.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:Vz(o,{additionalSlots:this._additionalSlots})}),r.for("upcast").elementToElement({model:"tableRow",view:"tr"}),r.for("upcast").add(e1e()),r.for("downcast").elementToElement({model:"tableRow",view:r1e()}),r.for("upcast").elementToElement({model:"tableCell",view:"td"}),r.for("upcast").elementToElement({model:"tableCell",view:"th"}),r.for("upcast").add(Bz("td")),r.for("upcast").add(Bz("th")),r.for("editingDowncast").elementToElement({model:"tableCell",view:jz({asWidget:!0})}),r.for("dataDowncast").elementToElement({model:"tableCell",view:jz()}),r.for("editingDowncast").elementToElement({model:"paragraph",view:zz({asWidget:!0}),converterPriority:"high"}),r.for("dataDowncast").elementToElement({model:"paragraph",view:zz(),converterPriority:"high"}),r.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),r.for("upcast").attributeToAttribute({model:{key:"colspan",value:qz("colspan")},view:"colspan"}),r.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),r.for("upcast").attributeToAttribute({model:{key:"rowspan",value:qz("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new hI(e)),e.commands.add("insertTableRowAbove",new oC(e,{order:"above"})),e.commands.add("insertTableRowBelow",new oC(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new sC(e,{order:"left"})),e.commands.add("insertTableColumnRight",new sC(e,{order:"right"})),e.commands.add("removeTableRow",new pI(e)),e.commands.add("removeTableColumn",new gI(e)),e.commands.add("splitTableCellVertically",new aC(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new aC(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new wI(e)),e.commands.add("mergeTableCellRight",new E0(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new E0(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new E0(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new E0(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new vI(e)),e.commands.add("setTableRowHeader",new bI(e)),e.commands.add("selectTableRow",new yI(e)),e.commands.add("selectTableColumn",new _I(e)),E1e(t),D1e(t),this.listenTo(t.document,"change:data",()=>{L1e(t,e.editing),F1e(t,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}};function qz(n){return e=>{let t=parseInt(e.getAttribute(n));return Number.isNaN(t)||t<=0?null:t}}var lC=class extends nn{items;keystrokes;focusTracker;constructor(e){super(e);let t=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new Fr,this.focusTracker=new Sr,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(i,r)=>`${r} \xD7 ${i}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":t.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:t.to("label")}]}],on:{mousedown:t.to(i=>{i.preventDefault()}),click:t.to(()=>{this.fire("execute")})}}),this.on("boxover",(i,r)=>{let{row:o,column:s}=r.target.dataset;this.items.get((parseInt(o,10)-1)*10+(parseInt(s,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(i,r,o)=>{if(!o)return;let{row:s,column:a}=o.dataset;this.set({rows:parseInt(s),columns:parseInt(a)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),Xg({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(let e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){let e=this.rows,t=this.columns;this.items.map((i,r)=>{let o=Math.floor(r/10),s=r%10,a=o<e&&s<t;i.set("isOn",a)})}_createGridButton(e,t,i,r){let o=new Sn(e);return o.set({label:r,class:"ck-insert-table-dropdown-grid-box"}),o.extendTemplate({attributes:{"data-row":t,"data-column":i}}),o}_createGridCollection(){let e=[];for(let t=0;t<100;t++){let i=Math.floor(t/10),r=t%10,o=`${i+1} \xD7 ${r+1}`;e.push(this._createGridButton(this.locale,i+1,r+1,o))}return this.createCollection(e)}},V1e='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',j1e='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',z1e='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',kI=class extends yt{static get pluginName(){return"TableUI"}init(){let e=this.editor,t=this.editor.t,r=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",o=>{let s=e.commands.get("insertTable"),a=Fo(o);a.bind("isEnabled").to(s),a.buttonView.set({icon:Mn.table,label:t("Insert table"),tooltip:!0});let l;return a.on("change:isOpen",()=>{l||(l=new lC(o),a.panelView.children.add(l),l.delegate("execute").to(a),a.on("execute",()=>{e.execute("insertTable",{rows:l.rows,columns:l.columns}),e.editing.view.focus()}))}),a}),e.ui.componentFactory.add("menuBar:insertTable",o=>{let s=e.commands.get("insertTable"),a=new ea(o),l=new lC(o);return l.delegate("execute").to(a),a.on("change:isOpen",(c,u,d)=>{d||l.reset()}),l.on("execute",()=>{e.execute("insertTable",{rows:l.rows,columns:l.columns}),e.editing.view.focus()}),a.buttonView.set({label:t("Table"),icon:Mn.table}),a.panelView.children.add(l),a.bind("isEnabled").to(s),a}),e.ui.componentFactory.add("tableColumn",o=>{let s=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:t("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:r?"insertTableColumnLeft":"insertTableColumnRight",label:t("Insert column left")}},{type:"button",model:{commandName:r?"insertTableColumnRight":"insertTableColumnLeft",label:t("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:t("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:t("Select column")}}];return this._prepareDropdown(t("Column"),V1e,s,o)}),e.ui.componentFactory.add("tableRow",o=>{let s=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:t("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:t("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:t("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:t("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:t("Select row")}}];return this._prepareDropdown(t("Row"),j1e,s,o)}),e.ui.componentFactory.add("mergeTableCells",o=>{let s=[{type:"button",model:{commandName:"mergeTableCellUp",label:t("Merge cell up")}},{type:"button",model:{commandName:r?"mergeTableCellRight":"mergeTableCellLeft",label:t("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:t("Merge cell down")}},{type:"button",model:{commandName:r?"mergeTableCellLeft":"mergeTableCellRight",label:t("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:t("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:t("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(t("Merge cells"),z1e,s,o)})}_prepareDropdown(e,t,i,r){let o=this.editor,s=Fo(r),a=this._fillDropdownWithListOptions(s,i);return s.buttonView.set({label:e,icon:t,tooltip:!0}),s.bind("isEnabled").toMany(a,"isEnabled",(...l)=>l.some(c=>c)),this.listenTo(s,"execute",l=>{o.execute(l.source.commandName),l.source instanceof su||o.editing.view.focus()}),s}_prepareMergeSplitButtonDropdown(e,t,i,r){let o=this.editor,s=Fo(r,od),a="mergeTableCells",l=o.commands.get(a),c=this._fillDropdownWithListOptions(s,i);return s.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),s.bind("isEnabled").toMany([l,...c],"isEnabled",(...u)=>u.some(d=>d)),this.listenTo(s.buttonView,"execute",()=>{o.execute(a),o.editing.view.focus()}),this.listenTo(s,"execute",u=>{o.execute(u.source.commandName),o.editing.view.focus()}),s}_fillDropdownWithListOptions(e,t){let i=this.editor,r=[],o=new gr;for(let s of t)U1e(s,i,r,o);return lu(e,o),r}};function U1e(n,e,t,i){if(n.type==="button"||n.type==="switchbutton"){let r=n.model=new Pl(n.model),{commandName:o,bindIsOn:s}=n.model,a=e.commands.get(o);t.push(a),r.set({commandName:o}),r.bind("isEnabled").to(a),s&&r.bind("isOn").to(a,"value"),r.set({withText:!0})}i.add(n)}var ud=class extends yt{static get pluginName(){return"TableSelection"}static get requires(){return[Bo,Bo]}init(){let e=this.editor,t=e.model,i=e.editing.view;this.listenTo(t,"deleteContent",(r,o)=>this._handleDeleteContent(r,o),{priority:"high"}),this.listenTo(i.document,"insertText",(r,o)=>this._handleInsertTextEvent(r,o),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){let e=this.editor.plugins.get(Bo),t=this.editor.model.document.selection,i=e.getSelectedTableCells(t);return i.length==0?null:i}getSelectionAsFragment(){let e=this.editor.plugins.get(Bo),t=this.getSelectedTableCells();return t?this.editor.model.change(i=>{let r=i.createDocumentFragment(),{first:o,last:s}=e.getColumnIndexes(t),{first:a,last:l}=e.getRowIndexes(t),c=t[0].findAncestor("table"),u=l,d=s;if(e.isSelectionRectangular(t)){let m={firstColumn:o,lastColumn:s,firstRow:a,lastRow:l};u=tU(c,m),d=nU(c,m)}let h=Zz(c,{startRow:a,startColumn:o,endRow:u,endColumn:d},i);return i.insert(h,r,0),r}):null}setCellSelection(e,t){let i=this._getCellsToSelect(e,t);this.editor.model.change(r=>{r.setSelection(i.cells.map(o=>r.createRangeOn(o)),{backward:i.backward})})}getFocusCell(){let i=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return i&&i.is("element","tableCell")?i:null}getAnchorCell(){let e=this.editor.model.document.selection,i=Ar(e.getRanges()).getContainedElement();return i&&i.is("element","tableCell")?i:null}_defineSelectionConverter(){let e=this.editor,t=new Set;e.conversion.for("editingDowncast").add(r=>r.on("selection",(o,s,a)=>{let l=a.writer;i(l);let c=this.getSelectedTableCells();if(!c)return;for(let d of c){let f=a.mapper.toViewElement(d);l.addClass("ck-editor__editable_selected",f),t.add(f)}let u=a.mapper.toViewElement(c[c.length-1]);l.setSelection(u,0)},{priority:"lowest"}));function i(r){for(let o of t)r.removeClass("ck-editor__editable_selected",o);t.clear()}}_enablePluginDisabling(){let e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){let t=this.getSelectedTableCells();if(!t)return;e.model.change(i=>{let r=i.createPositionAt(t[0],0),o=e.model.schema.getNearestSelectionRange(r);i.setSelection(o)})}})}_handleDeleteContent(e,t){let i=this.editor.plugins.get(Bo),r=t[0],o=t[1],s=this.editor.model,a=!o||o.direction=="backward",l=i.getSelectedTableCells(r);l.length&&(e.stop(),s.change(c=>{let u=l[a?l.length-1:0];s.change(f=>{for(let h of l)s.deleteContent(f.createSelection(h,"in"))});let d=s.schema.getNearestSelectionRange(c.createPositionAt(u,0));r.is("documentSelection")?c.setSelection(d):r.setTo(d)}))}_handleInsertTextEvent(e,t){let i=this.editor,r=this.getSelectedTableCells();if(!r)return;let o=i.editing.view,s=i.editing.mapper,a=r.map(l=>o.createRangeOn(s.toViewElement(l)));t.selection=o.createSelection(a)}_getCellsToSelect(e,t){let i=this.editor.plugins.get("TableUtils"),r=i.getCellLocation(e),o=i.getCellLocation(t),s=Math.min(r.row,o.row),a=Math.max(r.row,o.row),l=Math.min(r.column,o.column),c=Math.max(r.column,o.column),u=new Array(a-s+1).fill(null).map(()=>[]),d={startRow:s,endRow:a,startColumn:l,endColumn:c};for(let{row:m,cell:p}of new Wi(e.findAncestor("table"),d))u[m-s].push(p);let f=o.row<r.row,h=o.column<r.column;return f&&u.reverse(),h&&u.forEach(m=>m.reverse()),{cells:u.flat(),backward:f||h}}},EI=class extends yt{static get pluginName(){return"TableClipboard"}static get requires(){return[Zh,Ms,ud,Bo]}init(){let e=this.editor,t=e.editing.view.document;this.listenTo(t,"copy",(i,r)=>this._onCopyCut(i,r)),this.listenTo(t,"cut",(i,r)=>this._onCopyCut(i,r)),this.listenTo(e.model,"insertContent",(i,[r,o])=>this._onInsertContent(i,r,o),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,t){let i=this.editor.editing.view,r=this.editor.plugins.get(ud),o=this.editor.plugins.get(Zh);r.getSelectedTableCells()&&(e.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection)||(t.preventDefault(),e.stop(),this.editor.model.enqueueChange({isUndoable:e.name==="cut"},()=>{let s=o._copySelectedFragmentWithMarkers(e.name,this.editor.model.document.selection,()=>r.getSelectionAsFragment());i.document.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:this.editor.data.toView(s),method:e.name})})))}_onInsertContent(e,t,i){if(i&&!i.is("documentSelection"))return;let r=this.editor.model,o=this.editor.plugins.get(Bo),s=this.editor.plugins.get(Zh),a=this.getTableIfOnlyTableInContent(t,r);if(!a)return;let l=o.getSelectionAffectedTableCells(r.document.selection);if(!l.length){PI(a,o);return}e.stop(),t.is("documentFragment")?s._pasteMarkersIntoTransformedElement(t.markers,c=>this._replaceSelectedCells(a,l,c)):this.editor.model.change(c=>{this._replaceSelectedCells(a,l,c)})}_replaceSelectedCells(e,t,i){let r=this.editor.plugins.get(Bo),o={width:r.getColumns(e),height:r.getRows(e)},s=H1e(t,o,i,r),a=s.lastRow-s.firstRow+1,l=s.lastColumn-s.firstColumn+1,c={startRow:0,startColumn:0,endRow:Math.min(a,o.height)-1,endColumn:Math.min(l,o.width)-1};e=Zz(e,c,i);let u=t[0].findAncestor("table"),d=this._replaceSelectedCellsWithPasted(e,o,u,s,i);if(this.editor.plugins.get("TableSelection").isEnabled){let f=r.sortRanges(d.map(h=>i.createRangeOn(h)));i.setSelection(f)}else i.setSelection(d[0],0);return u}_replaceSelectedCellsWithPasted(e,t,i,r,o){let{width:s,height:a}=t,l=$1e(e,s,a),c=[...new Wi(i,{startRow:r.firstRow,endRow:r.lastRow,startColumn:r.firstColumn,endColumn:r.lastColumn,includeAllSlots:!0})],u=[],d;for(let g of c){let{row:v,column:x}=g;x===r.firstColumn&&(d=g.getPositionBefore());let I=v-r.firstRow,N=x-r.firstColumn,H=l[I%a][N%s],F=H?o.cloneElement(H):null,B=this._replaceTableSlotCell(g,F,d,o);B&&(eU(B,v,x,r.lastRow,r.lastColumn,o),u.push(B),d=o.createPositionAfter(B))}let f=parseInt(i.getAttribute("headingRows")||"0"),h=parseInt(i.getAttribute("headingColumns")||"0"),m=r.firstRow<f&&f<=r.lastRow,p=r.firstColumn<h&&h<=r.lastColumn;if(m){let g={first:r.firstColumn,last:r.lastColumn},v=SI(i,f,g,o,r.firstRow);u.push(...v)}if(p){let g={first:r.firstRow,last:r.lastRow},v=AI(i,h,g,o);u.push(...v)}return u}_replaceTableSlotCell(e,t,i,r){let{cell:o,isAnchor:s}=e;return s&&r.remove(o),t?(r.insert(t,i),t):null}getTableIfOnlyTableInContent(e,t){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);let i=t.createRangeIn(e);for(let r of i.getItems())if(r.is("element","table")){let o=t.createRange(i.start,t.createPositionBefore(r));if(t.hasContent(o,{ignoreWhitespaces:!0}))return null;let s=t.createRange(t.createPositionAfter(r),i.end);return t.hasContent(s,{ignoreWhitespaces:!0})?null:r}return null}};function H1e(n,e,t,i){let r=n[0].findAncestor("table"),o=i.getColumnIndexes(n),s=i.getRowIndexes(n),a={firstColumn:o.first,lastColumn:o.last,firstRow:s.first,lastRow:s.last},l=n.length===1;return l&&(a.lastRow+=e.height-1,a.lastColumn+=e.width-1,W1e(r,a.lastRow+1,a.lastColumn+1,i)),l||!i.isSelectionRectangular(n)?q1e(r,a,t):(a.lastRow=tU(r,a),a.lastColumn=nU(r,a)),a}function W1e(n,e,t,i){let r=i.getColumns(n),o=i.getRows(n);t>r&&i.insertColumns(n,{at:r,columns:t-r}),e>o&&i.insertRows(n,{at:o,rows:e-o})}function $1e(n,e,t){let i=new Array(t).fill(null).map(()=>new Array(e).fill(null));for(let{column:r,row:o,cell:s}of new Wi(n))i[o][r]=s;return i}function q1e(n,e,t){let{firstRow:i,lastRow:r,firstColumn:o,lastColumn:s}=e,a={first:i,last:r},l={first:o,last:s};AI(n,o,a,t),AI(n,s+1,a,t),SI(n,i,l,t),SI(n,r+1,l,t,i)}function SI(n,e,t,i,r=0){return e<1?void 0:Yz(n,e,r).filter(({column:a,cellWidth:l})=>rU(a,l,t)).map(({cell:a})=>Xz(a,e,i))}function AI(n,e,t,i){return e<1?void 0:Jz(n,e).filter(({row:s,cellHeight:a})=>rU(s,a,t)).map(({cell:s,column:a})=>Qz(s,a,e,i))}function rU(n,e,t){let i=n+e-1,{first:r,last:o}=t,s=n>=r&&n<=o,a=n<r&&i>=r;return s||a}var TI=class extends yt{static get pluginName(){return"TableKeyboard"}static get requires(){return[ud,Bo]}init(){let e=this.editor,i=e.editing.view.document,r=e.t;this.listenTo(i,"arrowKey",(...o)=>this._onArrowKey(...o),{context:"table"}),this.listenTo(i,"tab",(...o)=>this._handleTabOnSelectedTable(...o),{context:"figure"}),this.listenTo(i,"tab",(...o)=>this._handleTab(...o),{context:["th","td"]}),e.accessibility.addKeystrokeInfoGroup({id:"table",label:r("Keystrokes that can be used in a table cell"),keystrokes:[{label:r("Move the selection to the next cell"),keystroke:"Tab"},{label:r("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:r("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:r("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(e,t){let i=this.editor,o=i.model.document.selection.getSelectedElement();!o||!o.is("element","table")||(t.preventDefault(),t.stopPropagation(),e.stop(),i.model.change(s=>{s.setSelection(s.createRangeIn(o.getChild(0).getChild(0)))}))}_handleTab(e,t){let i=this.editor,r=this.editor.plugins.get(Bo),o=this.editor.plugins.get("TableSelection"),s=i.model.document.selection,a=!t.shiftKey,l=r.getTableCellsContainingSelection(s)[0];if(l||(l=o.getFocusCell()),!l)return;t.preventDefault(),t.stopPropagation(),e.stop();let c=l.parent,u=c.parent,d=u.getChildIndex(c),f=c.getChildIndex(l),h=f===0;if(!a&&h&&d===0){i.model.change(v=>{v.setSelection(v.createRangeOn(u))});return}let m=f===c.childCount-1,p=d===r.getRows(u)-1;if(a&&p&&m&&(i.execute("insertTableRowBelow"),d===r.getRows(u)-1)){i.model.change(v=>{v.setSelection(v.createRangeOn(u))});return}let g;if(a&&m)g=u.getChild(d+1).getChild(0);else if(!a&&h){let v=u.getChild(d-1);g=v.getChild(v.childCount-1)}else g=c.getChild(f+(a?1:-1));i.model.change(v=>{v.setSelection(v.createRangeIn(g))})}_onArrowKey(e,t){let i=this.editor,r=t.keyCode,o=Tg(r,i.locale.contentLanguageDirection);this._handleArrowKeys(o,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop())}_handleArrowKeys(e,t){let i=this.editor.plugins.get(Bo),r=this.editor.plugins.get("TableSelection"),o=this.editor.model,s=o.document.selection,a=["right","down"].includes(e),l=i.getSelectedTableCells(s);if(l.length){let u;return t?u=r.getFocusCell():u=a?l[l.length-1]:l[0],this._navigateFromCellInDirection(u,e,t),!0}let c=s.focus.findAncestor("tableCell");if(!c)return!1;if(!s.isCollapsed)if(t){if(s.isBackward==a&&!s.containsEntireContent(c))return!1}else{let u=s.getSelectedElement();if(!u||!o.schema.isObject(u))return!1}return this._isSelectionAtCellEdge(s,c,a)?(this._navigateFromCellInDirection(c,e,t),!0):!1}_isSelectionAtCellEdge(e,t,i){let r=this.editor.model,o=this.editor.model.schema,s=i?e.getLastPosition():e.getFirstPosition();if(!o.getLimitElement(s).is("element","tableCell"))return r.createPositionAt(t,i?"end":0).isTouching(s);let a=r.createSelection(s);return r.modifySelection(a,{direction:i?"forward":"backward"}),s.isEqual(a.focus)}_navigateFromCellInDirection(e,t,i=!1){let r=this.editor.model,o=e.findAncestor("table"),s=[...new Wi(o,{includeAllSlots:!0})],{row:a,column:l}=s[s.length-1],c=s.find(({cell:x})=>x==e),{row:u,column:d}=c;switch(t){case"left":d--;break;case"up":u--;break;case"right":d+=c.cellWidth;break;case"down":u+=c.cellHeight;break}let f=u<0||u>a,h=d<0&&u<=0,m=d>l&&u>=a;if(f||h||m){r.change(x=>{x.setSelection(x.createRangeOn(o))});return}d<0?(d=i?0:l,u--):d>l&&(d=i?l:0,u++);let p=s.find(x=>x.row==u&&x.column==d).cell,g=["right","down"].includes(t),v=this.editor.plugins.get("TableSelection");if(i&&v.isEnabled){let x=v.getAnchorCell()||e;v.setCellSelection(x,p)}else{let x=r.createPositionAt(p,g?0:"end");r.change(I=>{I.setSelection(x)})}}},II=class extends Ua{domEventType=["mousemove","mouseleave"];onDomEvent(e){this.fire(e.type,e)}},MI=class extends yt{static get pluginName(){return"TableMouse"}static get requires(){return[ud,Bo]}init(){this.editor.editing.view.addObserver(II),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){let e=this.editor,t=e.plugins.get(Bo),i=!1,r=e.plugins.get(ud);this.listenTo(e.editing.view.document,"mousedown",(o,s)=>{let a=e.model.document.selection;if(!this.isEnabled||!r.isEnabled||!s.domEvent.shiftKey)return;let l=r.getAnchorCell()||t.getTableCellsContainingSelection(a)[0];if(!l)return;let c=this._getModelTableCellFromDomEvent(s);c&&Gz(l,c)&&(i=!0,r.setCellSelection(l,c),s.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{i=!1}),this.listenTo(e.editing.view.document,"selectionChange",o=>{i&&o.stop()},{priority:"highest"})}_enableMouseDragSelection(){let e=this.editor,t,i,r=!1,o=!1,s=e.plugins.get(ud);this.listenTo(e.editing.view.document,"mousedown",(a,l)=>{!this.isEnabled||!s.isEnabled||l.domEvent.shiftKey||l.domEvent.ctrlKey||l.domEvent.altKey||(t=this._getModelTableCellFromDomEvent(l))}),this.listenTo(e.editing.view.document,"mousemove",(a,l)=>{if(!l.domEvent.buttons||!t)return;let c=this._getModelTableCellFromDomEvent(l);c&&Gz(t,c)&&(i=c,!r&&i!=t&&(r=!0)),r&&(o=!0,s.setCellSelection(t,i),l.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{r=!1,o=!1,t=null,i=null}),this.listenTo(e.editing.view.document,"selectionChange",a=>{o&&a.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){let t=e.target,i=this.editor.editing.view.createPositionAt(t,0);return this.editor.editing.mapper.toModelPosition(i).parent.findAncestor("tableCell",{includeSelf:!0})}};function Gz(n,e){return n.parent.parent==e.parent.parent}var S0=class extends yt{static get requires(){return[CI,kI,ud,MI,TI,EI,Ol]}static get pluginName(){return"Table"}};function G1e(n){let e=n.getSelectedElement();return e&&oU(e)?e:null}function K1e(n){let e=n.getFirstPosition();if(!e)return null;let t=e.parent;for(;t;){if(t.is("element")&&oU(t))return t;t=t.parent}return null}function oU(n){return!!n.getCustomProperty("table")&&Tr(n)}var A0=class extends yt{static get requires(){return[xm]}static get pluginName(){return"TableToolbar"}afterInit(){let e=this.editor,t=e.t,i=e.plugins.get(xm),r=e.config.get("table.contentToolbar"),o=e.config.get("table.tableToolbar");r&&i.register("tableContent",{ariaLabel:t("Table toolbar"),items:r,getRelatedElement:K1e}),o&&i.register("table",{ariaLabel:t("Table toolbar"),items:o,getRelatedElement:G1e})}};var cC={es:{dictionary:{"Words: %0":"Palabras: %0","Characters: %0":"Caracteres: %0","Widget toolbar":"Barra de herramientas del widget","Insert paragraph before block":"Insertar p\xE1rrafo antes del bloque","Insert paragraph after block":"Insertar p\xE1rrafo despu\xE9s del bloque","Press Enter to type after or press Shift + Enter to type before the widget":"Pulse Intro para escribir despu\xE9s o pulse May\xFAs + Intro para escribir antes del \xABwidget\xBB.","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Teclas que se pueden utilizar cuando se selecciona un m\xF3dulo interactivo (por ejemplo: imagen, tabla, etc.)","Insert a new paragraph directly after a widget":"Inserta un nuevo p\xE1rrafo directamente despu\xE9s de un m\xF3dulo interactivo","Insert a new paragraph directly before a widget":"Inserta un nuevo p\xE1rrafo directamente antes de un m\xF3dulo interactivo","Move the caret to allow typing directly before a widget":"Mueve el cursor para permitir escribir directamente antes de un m\xF3dulo interactivo","Move the caret to allow typing directly after a widget":"Mueve el cursor para permitir escribir directamente despu\xE9s de un m\xF3dulo interactivo","Move focus from an editable area back to the parent widget":"Cambiar el foco de un \xE1rea editable al widget principal","Upload in progress":"Subida en progreso",Undo:"Deshacer",Redo:"Rehacer","Rich Text Editor":"Editor de Texto Enriquecido","Edit block":"Cuadro de edici\xF3n","Click to edit block":"Haz clic para editar el bloque","Drag to move":"Arrastra para mover",Next:"Siguiente",Previous:"Anterior","Editor toolbar":"Barra de herramientas de edici\xF3n","Dropdown toolbar":"Barra de herramientas desplegable","Dropdown menu":"Men\xFA desplegable",Black:"Negro","Dim grey":"Gris oscuro",Grey:"Gris","Light grey":"Gris claro",White:"Blanco",Red:"Rojo",Orange:"Naranja",Yellow:"Amarillo","Light green":"Verde claro",Green:"Verde",Aquamarine:"Aguamarina",Turquoise:"Turquesa","Light blue":"Azul claro",Blue:"Azul",Purple:"Morado","Editor block content toolbar":"Barra de herramientas de contenido del bloque del editor","Editor contextual toolbar":"Barra de herramientas contextual del editor",HEX:"HEX","No results found":"No se han encontrado resultados","No searchable items":"No hay elementos que buscar","Editor dialog":"Di\xE1logo del editor",Close:"Cerrar","Help Contents. To close this dialog press ESC.":"Contenidos de ayuda. Presione ESC para cerrar este cuadro de di\xE1logo.","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"A continuaci\xF3n, encontrar\xE1 una lista de atajos de teclado que se pueden utilizar en el editor.","(may require <kbd>Fn</kbd>)":"(puede requerir <kbd>Fn</kbd>)",Accessibility:"Accesibilidad","Accessibility help":"Ayuda de accesibilidad","Press %0 for help.":"Presione %0 para obtener ayuda.","Move focus in and out of an active dialog window":"Mueve el foco dentro y fuera de una ventana de di\xE1logo activa",MENU_BAR_MENU_FILE:"Archivo",MENU_BAR_MENU_EDIT:"Editar",MENU_BAR_MENU_VIEW:"Ver",MENU_BAR_MENU_INSERT:"Insertar",MENU_BAR_MENU_FORMAT:"Formato",MENU_BAR_MENU_TOOLS:"Herramientas",MENU_BAR_MENU_HELP:"Ayuda",MENU_BAR_MENU_TEXT:"Texto",MENU_BAR_MENU_FONT:"Fuente","Editor menu bar":"Barra de men\xFA del editor",'Please enter a valid color (e.g. "ff0000").':'Introduzca un color v\xE1lido (p. ej., "ff0000").',"Insert table":"Insertar tabla","Header column":"Columna de encabezado","Insert column left":"Insertar columna izquierda","Insert column right":"Insertar columna derecha","Delete column":"Eliminar columna","Select column":"Seleccionar columna",Column:"Columna","Header row":"Fila de encabezado","Insert row below":"Insertar fila debajo","Insert row above":"Insertar fila encima","Delete row":"Eliminar fila","Select row":"Seleccionar fila",Row:"Fila","Merge cell up":"Combinar celda superior","Merge cell right":"Combinar celda derecha","Merge cell down":"Combinar celda inferior","Merge cell left":"Combinar celda izquierda","Split cell vertically":"Dividir celdas verticalmente","Split cell horizontally":"Dividir celdas horizontalmente","Merge cells":"Combinar celdas","Table toolbar":"Barra de herramientas de tabla","Table properties":"Propiedades de tabla","Cell properties":"Propiedades de celda",Border:"Borde",Style:"Estilo",Width:"Ancho",Height:"Altura",Color:"Color",Background:"Fondo",Padding:"M\xE1rgenes",Dimensions:"Dimensiones","Table cell text alignment":"Alineaci\xF3n texto de celda",Alignment:"Alineaci\xF3n","Horizontal text alignment toolbar":"Alineaci\xF3n horizontal de texto","Vertical text alignment toolbar":"Alineaci\xF3n vertical de texto","Table alignment toolbar":"Alineaci\xF3n de tabla",None:"Ninguno",Solid:"S\xF3lido",Dotted:"L\xEDnea de puntos",Dashed:"L\xEDnea discontinua",Double:"Doble l\xEDnea",Groove:"Bisel",Ridge:"Marco",Inset:"Incrustaci\xF3n",Outset:"Relieve","Align cell text to the left":"Alinear texto de celda a la izquierda","Align cell text to the center":"Centrar texto de celda","Align cell text to the right":"Alinear texto de celda a la derecha","Justify cell text":"Justificar texto de celda","Align cell text to the top":"Alinear texto de celda hacia arriba","Align cell text to the middle":"Alinear texto de celda al medio","Align cell text to the bottom":"Alinear texto de celda hacia abajo","Align table to the left":"Alinear tabla a la izquierda","Center table":"Centrar tabla","Align table to the right":"Alinear tabla a la derecha",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'El color es inv\xE1lido. Intente con "#FF0000", "rgb(255,0,0)" o "red".','The value is invalid. Try "10px" or "2em" or simply "2".':'El valor es inv\xE1lido. Intente con "10px", "2em" o simplemente "2".',"Color picker":"Selector de color","Enter table caption":"Ingresar t\xEDtulo de tabla","Keystrokes that can be used in a table cell":"Teclas que se pueden utilizar en una celda de tabla","Move the selection to the next cell":"Mueve la selecci\xF3n a la siguiente celda","Move the selection to the previous cell":"Mueve la selecci\xF3n a la celda anterior","Insert a new table row (when in the last cell of a table)":"Inserta una nueva fila de la tabla (cuando est\xE9 en la \xFAltima celda de una tabla)","Navigate through the table":"Navega por la tabla",Table:"Tabla",Styles:"Estilos","Multiple styles":"M\xFAltiples estilos","Block styles":"Estilos de bloque","Text styles":"Estilos de texto","Special characters":"Caracteres especiales",Category:"Categor\xEDa",All:"Todos",Arrows:"Flechas",Currency:"Monedas",Latin:"Lat\xEDn",Mathematical:"Matem\xE1ticas",Text:"Texto","leftwards simple arrow":"flecha simple hacia la izquierda","rightwards simple arrow":"flecha simple hacia la derecha","upwards simple arrow":"flecha simple hacia arriba","downwards simple arrow":"flecha simple hacia abajo","leftwards double arrow":"flecha doble hacia la izquierda","rightwards double arrow":"flecha doble hacia la derecha","upwards double arrow":"flecha doble hacia arriba","downwards double arrow":"flecha doble hacia abajo","leftwards dashed arrow":"flecha punteada hacia la izquierda","rightwards dashed arrow":"flecha punteada hacia la derecha","upwards dashed arrow":"flecha punteada hacia arriba","downwards dashed arrow":"flecha punteada hacia abajo","leftwards arrow to bar":"flecha hacia la izquierda hasta una barra","rightwards arrow to bar":"flecha hacia la derecha hasta una barra","upwards arrow to bar":"flecha hacia arriba hasta una barra","downwards arrow to bar":"flecha hacia abajo hasta una barra","up down arrow with base":"flecha hacia arriba y abajo con una base","back with leftwards arrow above":"\xABback\xBB con una flecha hacia la izquierda arriba","end with leftwards arrow above":"\xABend\xBB con una flecha hacia la izquierda arriba","on with exclamation mark with left right arrow above":"\xABon\xBB seguido de un signo de exclamaci\xF3n y con una flecha hacia la izquierda y derecha arriba","soon with rightwards arrow above":"\xABsoon\xBB con una flecha hacia la derecha arriba","top with upwards arrow above":"\xABtop\xBB con una flecha hacia arriba arriba","Dollar sign":"Signo del d\xF3lar","Euro sign":"Signo del euro","Yen sign":"Signo del yen","Pound sign":"Signo de la libra","Cent sign":"Signo del centavo","Euro-currency sign":"Signo de la moneda euro","Colon sign":"Signo del col\xF3n","Cruzeiro sign":"Signo del cruceiro","French franc sign":"Signo del franco franc\xE9s","Lira sign":"Signo de la lira","Currency sign":"Signo monetario","Bitcoin sign":"Signo del bitc\xF3in","Mill sign":"Signo de mil\xE9sima","Naira sign":"Signo de naira","Peseta sign":"Signo de la peseta","Rupee sign":"Signo de la rupia","Won sign":"Signo del won","New sheqel sign":"Signo del nuevo s\xE9quel","Dong sign":"Signo de dong","Kip sign":"Signo de kip","Tugrik sign":"Signo de tugrik","Drachma sign":"Signo de dracma","German penny sign":"Signo de centavo alem\xE1n","Peso sign":"Signo del peso","Guarani sign":"Signo del guaran\xED","Austral sign":"Signo de austral","Hryvnia sign":"Signo de grivna","Cedi sign":"Signo de cedi","Livre tournois sign":"Signo de libra tornesa","Spesmilo sign":"Signo de spesmilo","Tenge sign":"Signo de tenge","Indian rupee sign":"Signo de rupia india","Turkish lira sign":"Signo de lira turca","Nordic mark sign":"Signo de marco n\xF3rdico","Manat sign":"Signo de manat","Ruble sign":"Signo del rublo","Latin capital letter a with macron":"Letra latina may\xFAscula \xABA\xBB con macr\xF3n","Latin small letter a with macron":"Letra latina min\xFAscula \xABa\xBB con macr\xF3n","Latin capital letter a with breve":"Letra latina may\xFAscula \xABA\xBB con acento breve","Latin small letter a with breve":"Letra latina min\xFAscula \xABa\xBB con acento breve","Latin capital letter a with ogonek":"Letra latina may\xFAscula \xABA\xBB con ogonek","Latin small letter a with ogonek":"Letra latina min\xFAscula \xABa\xBB con ogonek","Latin capital letter c with acute":"Letra latina may\xFAscula \xABC\xBB con acento agudo","Latin small letter c with acute":"Letra latina min\xFAscula \xABc\xBB con acento agudo","Latin capital letter c with circumflex":"Letra latina may\xFAscula \xABC\xBB con acento circunflejo","Latin small letter c with circumflex":"Letra latina min\xFAscula \xABc\xBB con acento circunflejo","Latin capital letter c with dot above":"Letra latina may\xFAscula \xABC\xBB con punto superior","Latin small letter c with dot above":"Letra latina min\xFAscula \xABc\xBB con punto superior","Latin capital letter c with caron":"Letra latina may\xFAscula \xABC\xBB con acento anticircunflejo","Latin small letter c with caron":"Letra latina min\xFAscula \xABc\xBB con acento anticircunflejo","Latin capital letter d with caron":"Letra latina may\xFAscula \xABD\xBB con acento anticircunflejo","Latin small letter d with caron":"Letra latina min\xFAscula \xABd\xBB con acento anticircunflejo","Latin capital letter d with stroke":"Letra latina may\xFAscula \xABD\xBB con barra horizontal","Latin small letter d with stroke":"Letra latina min\xFAscula \xABd\xBB con barra horizontal","Latin capital letter e with macron":"Letra latina may\xFAscula \xABE\xBB con macr\xF3n","Latin small letter e with macron":"Letra latina min\xFAscula \xABe\xBB con macr\xF3n","Latin capital letter e with breve":"Letra latina may\xFAscula \xABe\xBB con acento breve","Latin small letter e with breve":"Letra latina min\xFAscula \xABe\xBB con acento breve","Latin capital letter e with dot above":"Letra latina may\xFAscula \xABE\xBB con punto superior","Latin small letter e with dot above":"Letra latina min\xFAscula \xABe\xBB con punto superior","Latin capital letter e with ogonek":"Letra latina may\xFAscula \xABE\xBB con ogonek","Latin small letter e with ogonek":"Letra latina min\xFAscula \xABe\xBB con ogonek","Latin capital letter e with caron":"Letra latina may\xFAscula \xABE\xBB con acento anticircunflejo","Latin small letter e with caron":"Letra latina min\xFAscula \xABe\xBB con acento anticircunflejo","Latin capital letter g with circumflex":"Letra latina may\xFAscula \xABG\xBB con acento circunflejo","Latin small letter g with circumflex":"Letra latina min\xFAscula \xABg\xBB con acento circunflejo","Latin capital letter g with breve":"Letra latina may\xFAscula \xABG\xBB con acento breve","Latin small letter g with breve":"Letra latina min\xFAscula \xABg\xBB con acento breve","Latin capital letter g with dot above":"Letra latina may\xFAscula \xABG\xBB con punto superior","Latin small letter g with dot above":"Letra latina min\xFAscula \xABg\xBB con punto superior","Latin capital letter g with cedilla":"Letra latina may\xFAscula \xABG\xBB con cedilla","Latin small letter g with cedilla":"Letra latina min\xFAscula \xABg\xBB con cedilla","Latin capital letter h with circumflex":"Letra latina may\xFAscula \xABH\xBB con acento circunflejo","Latin small letter h with circumflex":"Letra latina min\xFAscula \xABh\xBB con acento circunflejo","Latin capital letter h with stroke":"Letra latina may\xFAscula \xABH\xBB con barra horizontal","Latin small letter h with stroke":"Letra latina min\xFAscula \xABh\xBB con barra horizontal","Latin capital letter i with tilde":"Letra latina may\xFAscula \xABI\xBB con tilde","Latin small letter i with tilde":"Letra latina min\xFAscula \xABi\xBB con tilde","Latin capital letter i with macron":"Letra latina may\xFAscula \xABI\xBB con macr\xF3n","Latin small letter i with macron":"Letra latina min\xFAscula \xABi\xBB con macr\xF3n","Latin capital letter i with breve":"Letra latina may\xFAscula \xABI\xBB con acento breve","Latin small letter i with breve":"Letra latina min\xFAscula \xABi\xBB con acento breve","Latin capital letter i with ogonek":"Letra latina may\xFAscula \xABI\xBB con ogonek","Latin small letter i with ogonek":"Letra latina min\xFAscula \xABi\xBB con ogonek","Latin capital letter i with dot above":"Letra latina may\xFAscula \xABI\xBB con punto superior","Latin small letter dotless i":"Letra latina min\xFAscula \xABi\xBB sin punto","Latin capital ligature ij":"Ligadura latina may\xFAscula \xABIJ\xBB","Latin small ligature ij":"Ligadura latina min\xFAscula \xABij\xBB","Latin capital letter j with circumflex":"Letra latina may\xFAscula \xABJ\xBB con acento circunflejo","Latin small letter j with circumflex":"Letra latina min\xFAscula \xABj\xBB con acento circunflejo","Latin capital letter k with cedilla":"Letra latina may\xFAscula \xABK\xBB con cedilla","Latin small letter k with cedilla":"Letra latina min\xFAscula \xABk\xBB con cedilla","Latin small letter kra":"Letra latina min\xFAscula \xABkra\xBB","Latin capital letter l with acute":"Letra latina may\xFAscula \xABL\xBB con acento agudo","Latin small letter l with acute":"Letra latina min\xFAscula \xABl\xBB con acento agudo","Latin capital letter l with cedilla":"Letra latina may\xFAscula \xABI\xBB con cedilla","Latin small letter l with cedilla":"Letra latina min\xFAscula \xABl\xBB con cedilla","Latin capital letter l with caron":"Letra latina may\xFAscula \xABI\xBB con acento anticircunflejo","Latin small letter l with caron":"Letra latina min\xFAscula \xABi\xBB con acento anticircunflejo","Latin capital letter l with middle dot":"Letra latina may\xFAscula \xABL\xBB con punto medio","Latin small letter l with middle dot":"Letra latina min\xFAscula \xABl\xBB con punto medio","Latin capital letter l with stroke":"Letra latina may\xFAscula \xABL\xBB con barra diagonal","Latin small letter l with stroke":"Letra latina min\xFAscula \xABl\xBB con barra diagonal","Latin capital letter n with acute":"Letra latina may\xFAscula \xABN\xBB con acento agudo","Latin small letter n with acute":"Letra latina min\xFAscula \xABn\xBB con acento agudo","Latin capital letter n with cedilla":"Letra latina may\xFAscula \xABN\xBB con cedilla","Latin small letter n with cedilla":"Letra latina min\xFAscula \xABn\xBB con cedilla","Latin capital letter n with caron":"Letra latina may\xFAscula \xABn\xBB con acento anticircunflejo","Latin small letter n with caron":"Letra latina min\xFAscula \xABn\xBB con acento anticircunflejo","Latin small letter n preceded by apostrophe":"Letra latina min\xFAscula \xABn\xBB precedida de ap\xF3strofo","Latin capital letter eng":"Letra latina may\xFAscula \xABEng\xBB","Latin small letter eng":"Letra latina min\xFAscula \xABeng\xBB","Latin capital letter o with macron":"Letra latina may\xFAscula \xABO\xBB con macr\xF3n","Latin small letter o with macron":"Letra latina min\xFAscula \xABo\xBB con macr\xF3n","Latin capital letter o with breve":"Letra latina may\xFAscula \xABO\xBB con acento breve","Latin small letter o with breve":"Letra latina min\xFAscula \xABo\xBB con acento breve","Latin capital letter o with double acute":"Letra latina may\xFAscula \xABO\xBB con doble acento agudo","Latin small letter o with double acute":"Letra latina min\xFAscula \xABo\xBB con doble acento agudo","Latin capital ligature oe":"Ligadura latina may\xFAscula \xABOE\xBB","Latin small ligature oe":"Ligadura latina min\xFAscula \xABoe\xBB","Latin capital letter r with acute":"Letra latina may\xFAscula \xABR\xBB con acento agudo","Latin small letter r with acute":"Letra latina min\xFAscula \xABr\xBB con acento agudo","Latin capital letter r with cedilla":"Letra latina may\xFAscula \xABR\xBB con cedilla","Latin small letter r with cedilla":"Letra latina min\xFAscula \xABr\xBB con cedilla","Latin capital letter r with caron":"Letra latina may\xFAscula \xABR\xBB con acento anticircunflejo","Latin small letter r with caron":"Letra latina min\xFAscula \xABr\xBB con acento anticircunflejo","Latin capital letter s with acute":"Letra latina may\xFAscula \xABS\xBB con acento agudo","Latin small letter s with acute":"Letra latina min\xFAscula \xABs\xBB con acento agudo","Latin capital letter s with circumflex":"Letra latina may\xFAscula \xABS\xBB con acento circunflejo","Latin small letter s with circumflex":"Letra latina min\xFAscula \xABs\xBB con acento circunflejo","Latin capital letter s with cedilla":"Letra latina may\xFAscula \xABS\xBB con cedilla","Latin small letter s with cedilla":"Letra latina min\xFAscula \xABs\xBB con cedilla","Latin capital letter s with caron":"Letra latina may\xFAscula \xABS\xBB con acento anticircunflejo","Latin small letter s with caron":"Letra latina min\xFAscula \xABs\xBB con acento anticircunflejo","Latin capital letter t with cedilla":"Letra latina may\xFAscula \xABT\xBB con cedilla","Latin small letter t with cedilla":"Letra latina min\xFAscula \xABt\xBB con cedilla","Latin capital letter t with caron":"Letra latina may\xFAscula \xABT\xBB con acento anticircunflejo","Latin small letter t with caron":"Letra latina min\xFAscula \xABt\xBB con acento anticircunflejo","Latin capital letter t with stroke":"Letra latina may\xFAscula \xABT\xBB con barra horizontal","Latin small letter t with stroke":"Letra latina min\xFAscula \xABt\xBB con barra horizontal","Latin capital letter u with tilde":"Letra latina may\xFAscula \xABU\xBB con tilde","Latin small letter u with tilde":"Letra latina min\xFAscula \xABu\xBB con tilde","Latin capital letter u with macron":"Letra latina may\xFAscula \xABU\xBB con macr\xF3n","Latin small letter u with macron":"Letra latina min\xFAscula \xABu\xBB con macr\xF3n","Latin capital letter u with breve":"Letra latina may\xFAscula \xABU\xBB con acento breve","Latin small letter u with breve":"Letra latina min\xFAscula \xABu\xBB con acento breve","Latin capital letter u with ring above":"Letra latina may\xFAscula \xABU\xBB con anillo superior","Latin small letter u with ring above":"Letra latina min\xFAscula \xABu\xBB con anillo superior","Latin capital letter u with double acute":"Letra latina may\xFAscula \xABU\xBB con doble acento agudo","Latin small letter u with double acute":"Letra latina min\xFAscula \xABu\xBB con doble acento agudo","Latin capital letter u with ogonek":"Letra latina may\xFAscula \xABU\xBB con ogonek","Latin small letter u with ogonek":"Letra latina min\xFAscula \xABu\xBB con ogonek","Latin capital letter w with circumflex":"Letra latina may\xFAscula \xABW\xBB con acento circunflejo","Latin small letter w with circumflex":"Letra latina min\xFAscula \xABw\xBB con acento circunflejo","Latin capital letter y with circumflex":"Letra latina may\xFAscula \xABY\xBB con acento circunflejo","Latin small letter y with circumflex":"Letra latina min\xFAscula \xABy\xBB con acento circunflejo","Latin capital letter y with diaeresis":"Letra latina may\xFAscula \xABY\xBB con di\xE9resis","Latin capital letter z with acute":"Letra latina may\xFAscula \xABZ\xBB con acento agudo","Latin small letter z with acute":"Letra latina min\xFAscula \xABz\xBB con acento agudo","Latin capital letter z with dot above":"Letra latina may\xFAscula \xABZ\xBB con punto superior","Latin small letter z with dot above":"Letra latina min\xFAscula \xABz\xBB con punto superior","Latin capital letter z with caron":"Letra latina may\xFAscula \xABZ\xBB con acento anticircunflejo","Latin small letter z with caron":"Letra latina min\xFAscula \xABz\xBB con acento anticircunflejo","Latin small letter long s":"Letra latina min\xFAscula \xABs\xBB larga","Less-than sign":"Signo de menor que","Greater-than sign":"Signo de mayor que","Less-than or equal to":"Menor que o igual a","Greater-than or equal to":"Mayor que o igual a","En dash":"Semirraya","Em dash":"Raya",Macron:"Macr\xF3n",Overline:"L\xEDnea alta","Degree sign":"Signo de grado","Minus sign":"Signo de resta","Plus-minus sign":"Signo m\xE1s-menos","Division sign":"Signo de divisi\xF3n","Fraction slash":"Barra fraccionaria","Multiplication sign":"Signo de multiplicaci\xF3n","Latin small letter f with hook":"Letra latina min\xFAscula \xABf\xBB con gancho",Integral:"Integral","N-ary summation":"Sumatoria",Infinity:"Infinito","Square root":"Ra\xEDz cuadrada","Tilde operator":"Operador de tilde","Approximately equal to":"Aproximadamente igual a","Almost equal to":"Casi igual a","Not equal to":"No igual a","Identical to":"Id\xE9ntico a","Element of":"Elemento de","Not an element of":"No es un elemento de","Contains as member":"Contiene como miembro","N-ary product":"Productorio","Logical and":"Y l\xF3gico","Logical or":"O l\xF3gico","Not sign":"Signo de negaci\xF3n",Intersection:"Intersecci\xF3n",Union:"Uni\xF3n","Partial differential":"Diferencial parcial","For all":"Para todo","There exists":"Existe","Empty set":"Conjunto vac\xEDo",Nabla:"Nabla","Asterisk operator":"Operador asterisco","Proportional to":"Proporcional a",Angle:"\xC1ngulo","Vulgar fraction one quarter":"Fracci\xF3n ordinaria de un cuarto","Vulgar fraction one half":"Fracci\xF3n ordinaria de un medio","Vulgar fraction three quarters":"Fracci\xF3n ordinaria de tres cuartos","Single left-pointing angle quotation mark":"Comilla tipogr\xE1fica simple angular de apertura","Single right-pointing angle quotation mark":"Comilla tipogr\xE1fica simple angular de cierre","Left-pointing double angle quotation mark":"Comilla tipogr\xE1fica doble angular de apertura","Right-pointing double angle quotation mark":"Comilla tipogr\xE1fica dobe angular de cierre","Left single quotation mark":"Comilla tipogr\xE1fica de apertura","Right single quotation mark":"Comilla tipogr\xE1fica de cierre","Left double quotation mark":"Comilla tipogr\xE1fica doble de apertura","Right double quotation mark":"Comilla tipogr\xE1fica de cierre","Single low-9 quotation mark":"Comilla tipogr\xE1fica en forma de 9 simple y baja","Double low-9 quotation mark":"Comilla tipogr\xE1fica en forma de 9 doble y baja","Inverted exclamation mark":"Signo de exclamaci\xF3n de apertura","Inverted question mark":"Signo de interrogaci\xF3n de apertura","Two dot leader":"Punto de inicio doble","Horizontal ellipsis":"Puntos suspensivos horizontales","Double dagger":"Cruz doble","Per mille sign":"Signo de por mil","Per ten thousand sign":"Signo de por diez mil","Double exclamation mark":"Signo de exclamaci\xF3n doble","Question exclamation mark":"Signo de exclamaci\xF3n interrogativa","Exclamation question mark":"Signo de interrogaci\xF3n exclamativa","Double question mark":"Signo de interrogaci\xF3n doble","Copyright sign":"Signo de derechos de autor","Registered sign":"Signo de marca registrada","Trade mark sign":"Signo de marca comercial","Section sign":"Signo de secci\xF3n","Paragraph sign":"Signo de p\xE1rrafo","Reversed paragraph sign":"Signo de ant\xEDgrafo invertido",Source:"Origen","Show source":"Mostrar fuente","Show blocks":"Mostrar bloques","Select all":"Seleccionar todo","Disable editing":"Inhabilitar edici\xF3n","Enable editing":"Habilitar edici\xF3n","Previous editable region":"Anterior zona editable","Next editable region":"Siguiente zona editable","Navigate editable regions":"Navegar por las zonas editables","Remove Format":"Quitar Formato","Page break":"Salto de p\xE1gina","media widget":"Widget de contenido multimedia","Media URL":"URL del contenido multimedia","Paste the media URL in the input.":"Pega la URL del contenido multimedia","Tip: Paste the URL into the content to embed faster.":"Tip: pega la URL dentro del contenido para embeber m\xE1s r\xE1pido","The URL must not be empty.":"La URL no debe estar vac\xEDa","This media URL is not supported.":"La URL de este contenido multimedia no est\xE1 soportada","Insert media":"Insertar contenido multimedia",Media:"Multimedia","Media toolbar":"Barra de herramientas de contenido multimedia","Open media in new tab":"Abrir medio en una pesta\xF1a nueva","Numbered List":"Lista numerada","Bulleted List":"Lista con vi\xF1etas","To-do List":"Lista de tareas","Bulleted list styles toolbar":"Estilos de lista con vi\xF1etas","Numbered list styles toolbar":"Estilos de lista numerada","Toggle the disc list style":"Cambiar estilo de vi\xF1eta a disco","Toggle the circle list style":"Cambiar estilo de vi\xF1eta a c\xEDrculo","Toggle the square list style":"Cambiar estilo de vi\xF1eta a cuadrado","Toggle the decimal list style":"Cambiar estilo de lista a decimal","Toggle the decimal with leading zero list style":"Cambiar estilo de lista decimal empezando con cero","Toggle the lower\u2013roman list style":"Cambiar estilo de lista a n\xFAmeros romanos en min\xFAsculas","Toggle the upper\u2013roman list style":"Cambiar estilo de lista a n\xFAmeros roanos en may\xFAsculas","Toggle the lower\u2013latin list style":"Cambiar estilo de lista a n\xFAmeros latinos en min\xFAsculas","Toggle the upper\u2013latin list style":"Cambiar estilo de lista a n\xFAmeros latinos en may\xFAsculas",Disc:"Disco",Circle:"C\xEDrculo",Square:"Cuadrado",Decimal:"Decimal","Decimal with leading zero":"Decimal con cero","Lower\u2013roman":"Romanos min\xFAsculas","Upper-roman":"Romanos may\xFAscula","Lower-latin":"Latinos min\xFAsculas","Upper-latin":"Latinos min\xFAsculas","List properties":"Propiedades de la lista","Start at":"Empezar en","Invalid start index value.":"Valor de \xEDndice de inicio no v\xE1lido.","Start index must be greater than 0.":"El n\xFAmero de inicio debe ser mayor que 0.","Reversed order":"Orden inverso","Keystrokes that can be used in a list":"Teclas que se pueden utilizar en una lista","Increase list item indent":"Aumenta la sangr\xEDa de los elementos de la lista","Decrease list item indent":"Reduce la sangr\xEDa de los elementos de la lista","Entering a to-do list":"Ingresando lista de tareas pendientes","Leaving a to-do list":"Abandonando lista de tareas pendientes",Unlink:"Quitar enlace",Link:"Enlace","Link URL":"URL del enlace","Link URL must not be empty.":"La URL del enlace no puede estar vac\xEDa.","Link image":"URL de la imagen","Edit link":"Editar enlace","Open link in new tab":"Abrir enlace en una pesta\xF1a nueva","This link has no URL":"Este enlace no tiene URL","Open in a new tab":"Abrir en una pesta\xF1a nueva ",Downloadable:"Descargable","Create link":"Crea un enlace","Move out of a link":"Sale de un enlace",Language:"Idioma","Choose language":"Elija el idioma","Remove language":"Quitar idioma","Increase indent":"Aumentar sangr\xEDa","Decrease indent":"Disminuir sangr\xEDa","image widget":"Widget de imagen","Wrap text":"Mantener texto unido","Break text":"Permitir quebrar texto","In line":"En l\xEDnea","Side image":"Imagen lateral","Full size image":"Imagen a tama\xF1o completo","Left aligned image":"Imagen alineada a la izquierda","Centered image":"Imagen centrada","Right aligned image":"Imagen alineada a la derecha","Change image text alternative":"Cambiar el texto alternativo de la imagen","Text alternative":"Texto alternativo","Enter image caption":"Introducir t\xEDtulo de la imagen","Insert image":"Insertar imagen","Replace image":"Reemplazar imagen","Upload from computer":"Subir desde el ordenador","Replace from computer":"Reemplazar desde el ordenador","Upload image from computer":"Subir imagen desde el ordenador","Image from computer":"Imagen del ordenador","From computer":"Desde el ordenador","Replace image from computer":"Reemplazar imagen del ordenador","Upload failed":"Fallo en la subida","You have no image upload permissions.":"No tienes permiso para subir im\xE1genes.","Image toolbar":"Barra de herramientas de imagen","Resize image":"Redimensionar imagen","Resize image to %0":"Redimensionar imagen al %0","Resize image to the original size":"Redimensionar imagen al tama\xF1o original","Resize image (in %0)":"Cambiar tama\xF1o de la imagen (en un %0)",Original:"Original","Custom image size":"Personalizar tama\xF1o de imagen",Custom:"Personalizar","Image resize list":"Listado para redimensionar imagen","Insert image via URL":"Insertar imagen v\xEDa URL","Insert via URL":"Insertar mediante URL","Image via URL":"Imagen mediante URL","Via URL":"Mediante URL","Update image URL":"Actualizar imagen v\xEDa URL","Caption for the image":"Descripci\xF3n de la imagen","Caption for image: %0":"T\xEDtulo de la imagen: %0","The value must not be empty.":"El valor no puede estar vac\xEDo.","The value should be a plain number.":"El valor debe ser un n\xFAmero simple.","Uploading image":"Cargando imagen","Image upload complete":"Carga de imagen completa","Error during image upload":"Error durante la carga de la imagen",Image:"Imagen","HTML object":"Objeto HTML","Insert HTML":"Insertar HTML","HTML snippet":"Fragmento HTML","Paste raw HTML here...":"Pegue el c\xF3digo HTML aqu\xED\u2026","Edit source":"Editar fuente","Save changes":"Guardar cambios","No preview available":"No hay ninguna previsualizaci\xF3n","Empty snippet content":"Fragmento vac\xEDo","Horizontal line":"L\xEDnea horizontal","Yellow marker":"Marcador amarillo","Green marker":"Marcador verde","Pink marker":"Marcador rosa","Blue marker":"Marcador azul","Red pen":"Texto rojo","Green pen":"Texto verde","Remove highlight":"Quitar resaltado",Highlight:"Resaltar","Text highlight toolbar":"Barra de herramientas de resaltado de texto",Paragraph:"P\xE1rrafo",Heading:"Encabezado","Choose heading":"Elegir Encabezado","Heading 1":"Encabezado 1","Heading 2":"Encabezado 2","Heading 3":"Encabezado 3","Heading 4":"Encabezado 4","Heading 5":"Encabezado 5","Heading 6":"Encabezado 6","Type your title":"Introduce tu t\xEDtulo","Type or paste your content here.":"Introduce o pega tu contenido aqu\xED","Font Size":"Tama\xF1o de fuente",Tiny:"Min\xFAsculo",Small:"Peque\xF1o",Big:"Grande",Huge:"Enorme","Font Family":"Fuente",Default:"Por defecto","Font Color":"Color de Fuente","Font Background Color":"Color de Fondo","Document colors":"Colores del documento","Find and replace":"Buscar y reemplazar","Find in text\u2026":"Buscar en el texto...",Find:"Buscar","Previous result":"Resultado anterior","Next result":"Siguiente resultado",Replace:"Reemplazar","Replace all":"Reemplazar todo","Match case":"Respetar may\xFAsculas y min\xFAsculas","Whole words only":"Solo palabras completas","Replace with\u2026":"Reemplazar con...","Text to find must not be empty.":"El texto a buscar no debe estar vac\xEDo.","Tip: Find some text first in order to replace it.":"Consejo: Primero busque alg\xFAn texto para reemplazar.","Advanced options":"Opciones avanzadas","Find in the document":"Busca en el documento","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Inserta un salto de l\xEDnea (un elemento <code>&lt;br&gt;</code>)","Insert a hard break (a new paragraph)":"Inserta un salto de p\xE1rrafo (un nuevo p\xE1rrafo)",Cancel:"Cancelar",Clear:"Borrar","Remove color":"Quitar color","Restore default":"Restaurar valores predeterminados",Save:"Guardar","Show more items":"Mostrar m\xE1s elementos","%0 of %1":"%0 de %1","Cannot upload file:":"No se pudo cargar el archivo:","Rich Text Editor. Editing area: %0":"Editor de texto enriquecido. \xC1rea de edici\xF3n: %0","Insert with file manager":"Insertar con administrador de archivos","Replace with file manager":"Reemplazar con administrador de archivos","Insert image with file manager":"Insertar imagen con administrador de archivos","Replace image with file manager":"Reemplazar imagen con administrador de archivos",File:"Archivo","With file manager":"Con el administrador de archivos","Toggle caption off":"Desactivar t\xEDtulo","Toggle caption on":"Activar t\xEDtulo","Content editing keystrokes":"Teclas de edici\xF3n de contenido","These keyboard shortcuts allow for quick access to content editing features.":"Estos atajos de teclado permiten acceder r\xE1pidamente a las funciones de edici\xF3n de contenido.","User interface and content navigation keystrokes":"Teclas de navegaci\xF3n de contenido e interfaz de usuario","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Utilice las siguientes combinaciones de teclas para una navegaci\xF3n m\xE1s eficiente en la interfaz de usuario de CKEditor 5.","Close contextual balloons, dropdowns, and dialogs":"Cierra globos contextuales, men\xFAs desplegables y cuadros de di\xE1logo","Open the accessibility help dialog":"Abre el cuadro de di\xE1logo de ayuda de accesibilidad","Move focus between form fields (inputs, buttons, etc.)":"Mueve el foco entre campos de formulario (entradas, botones, etc.)","Move focus to the menu bar, navigate between menu bars":"Mover el foco a la barra de men\xFA, navegar entre las barras de men\xFA","Move focus to the toolbar, navigate between toolbars":"Mueve el foco a la barra de herramientas y navega entre barras de herramientas","Navigate through the toolbar or menu bar":"Navegar por la barra de herramientas o la barra de men\xFA","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"Ejecutar el bot\xF3n actualmente enfocado. Al ejecutar botones que interact\xFAan con el contenido del editor, el foco vuelve al contenido.",Accept:"Aceptar","Insert code block":"Insertar bloque de c\xF3digo","Plain text":"Texto plano","Leaving %0 code snippet":"Abandonando fragmento de c\xF3digo %0","Entering %0 code snippet":"Ingresando fragmento de c\xF3digo %0","Entering code snippet":"Ingresando fragmento de c\xF3digo","Leaving code snippet":"Abandonando fragmento de c\xF3digo","Code block":"Bloque de c\xF3digo","Copy selected content":"Copia el contenido seleccionado","Paste content":"Pega el contenido","Paste content as plain text":"Pega el contenido como texto sin formato","Insert image or file":"Insertar imagen o archivo","Could not obtain resized image URL.":"No se pudo obtener el URL de la imagen redimensionada.","Selecting resized image failed":"No se pudo seleccionar la imagen redimensionada","Could not insert image at the current position.":"No se pudo insertar la imagen en la posici\xF3n actual.","Inserting image failed":"Error al insertar la imagen","Open file manager":"Abrir gestor de archivos","Cannot determine a category for the uploaded file.":"No se puede determinar una categor\xEDa para el archivo subido.","Cannot access default workspace.":"No se puede acceder al espacio de trabajo predeterminado.","You have no image editing permissions.":"No tienes permiso para editar im\xE1genes.","Edit image":"Editar imagen","Processing the edited image.":"Procesando la imagen editada.","Server failed to process the image.":"El servidor no pudo procesar la imagen.","Failed to determine category of edited image.":"No se pudo determinar la categor\xEDa de la imagen editada.","Block quote":"Bloque de cita",Bold:"Negrita",Italic:"Cursiva",Underline:"Subrayado",Code:"C\xF3digo",Strikethrough:"Tachado",Subscript:"Sub\xEDndice",Superscript:"Super\xEDndice","Italic text":"Texto en cursiva","Move out of an inline code style":"Sale de un estilo de c\xF3digo en l\xEDnea","Bold text":"Texto en negrita","Underline text":"Subraya el texto","Strikethrough text":"Tacha el texto","Saving changes":"Guardando cambios","Revert autoformatting action":"Revierte la acci\xF3n de formato autom\xE1tico","Align left":"Alinear a la izquierda","Align right":"Alinear a la derecha","Align center":"Centrar",Justify:"Justificar","Text alignment":"Alineaci\xF3n del texto","Text alignment toolbar":"Barra de herramientas de alineaci\xF3n del texto"},getPluralForm(n){return n==1?0:n!=0&&n%1e6==0?1:2}}};var uC=Qr(Eo());var Z1e=["imagen"];function Y1e(n,e){if(n&1){let t=Ut();O(0,"ckeditor",36),Je("ngModelChange",function(r){Pe(t);let o=Re();return Qe(o.datos[1],r)||(o.datos[1]=r),De(r)}),A()}if(n&2){let t=Re();fe("editor",t.Editor)("config",t.config),Xe("ngModel",t.datos[1])}}function X1e(n,e){if(n&1){let t=Ut();O(0,"span"),Ce(1,"img",37),O(2,"span",38),ve("click",function(){let r=Pe(t).$implicit,o=Re();return De(o.cambiarOrden(r.id))}),U(3),A()()}if(n&2){let t=e.$implicit;ee(),Ra("id","foto",t.id,""),In("src",t.link,Rr),ee(2),et(t.id)}}var sU=(()=>{class n{changeDetector;sanitizer;api;datos=["","","ARS","","","","",[],[],!0,""];alertas=["","","","","","","","","",""];sources=[];messageEvent=new tn;inputImagen;cerrarModal(){this.datos=["","","ARS","","","","",[],[],!0,""],this.alertas=["","","","","","","","",""],this.sources=[],this.inputImagen.nativeElement.value="",this.messageEvent.emit(!1)}constructor(t,i,r){this.changeDetector=t,this.sanitizer=i,this.api=r}isLayoutReady=!1;Editor=g0;config={};ngAfterViewInit(){this.config={toolbar:{items:["undo","redo","|","bold","italic","underline","|","specialCharacters","link","insertTable","|","alignment","|","outdent","indent"],shouldNotGroupWhenFull:!1},plugins:[Hh,n0,l0,d0,b0,w0,y0,h0,_0,km,Yh,C0,S0,A0,f0,cu],initialData:this.datos[1],language:"es",link:{addTargetToExternalLinks:!0,defaultProtocol:"https://",decorators:{toggleDownloadable:{mode:"manual",label:"Downloadable",attributes:{download:"file"}}}},placeholder:"Descripcion",table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},translations:[cC]},this.isLayoutReady=!0,this.changeDetector.detectChanges()}showImg(t){this.sources=[],this.datos[7]=[];let i=t.currentTarget,r=i.files?.length||0;if(this.datos[7]=i.files,r==0)this.sources=[];else for(let a=0;a<r;a++){var o=i.files[a].name.split("."),s=o[o.length-1];s!="pdf"&&setTimeout(()=>{let l=new FileReader;l.readAsDataURL(i.files[a]),l.onloadend=()=>{this.sources.push({id:a+1,link:l.result,name:i.files[a].name})}},a*200)}}transform(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)}crearLote(){let t=!0;for(let i=0;i<this.datos.length;i++)i!=1&&i!=4&&i!=5&&i!=6&&i!=7&&i!=8&&i!=9&&i!=10&&this.datos[i]==""&&(t=!1),this.alertas[i]=i!=1&&i!=5&&i!=6&&i!=9&&i!=10&&this.datos[i]==""?"Campo obligatorio":"";if(this.datos[7].length==0&&(t=!1),this.alertas[7]=this.datos[7].length==0?"Campo obligatorio":"",t){let i=new FormData;i.append("titulo",this.datos[0]),i.append("descripcion",this.datos[1]),i.append("moneda",this.datos[2]),i.append("precio_base",this.datos[3]),i.append("incremento",this.datos[4]),i.append("precio_salida",this.datos[5]),i.append("aclaracion",this.datos[6]),i.append("base_salida",this.datos[9]),i.append("informacion",this.datos[10]),i.append("token",localStorage.getItem("token")),i.append("tipo","1");for(let r=0;r<this.datos[7].length;r++)i.append("img",this.datos[7][r]),i.append("imgOrden",this.sources[r].name);this.api.crearLote(i).then(r=>{r.ok?uC.default.fire({title:"Lote creado con exito",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}):uC.default.fire({title:r.msg,confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),this.cerrarModal()},r=>{uC.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),this.cerrarModal()})}}cambiarOrden(t){let i=t-1,r=this.sources[i].link,o=this.sources[i].name;t==this.sources.length?(this.sources[i].link=this.sources[0].link,this.sources[0].link=r,this.sources[i].name=this.sources[0].name,this.sources[0].name=o):(this.sources[i].link=this.sources[t].link,this.sources[t].link=r,this.sources[i].name=this.sources[t].name,this.sources[t].name=o)}static \u0275fac=function(i){return new(i||n)(ze(Do),ze(Oo),ze(Xi))};static \u0275cmp=Lt({type:n,selectors:[["app-crear-lote"]],viewQuery:function(i,r){if(i&1&&sr(Z1e,5),i&2){let o;Gi(o=Ki())&&(r.inputImagen=o.first)}},outputs:{messageEvent:"messageEvent"},standalone:!0,features:[Ht],decls:95,vars:24,consts:[["editorContainerElement",""],["editorElement",""],["imagen",""],["id","myModal",1,"modal",2,"overflow","auto"],[1,"modal-content",2,"width","50%"],[2,"display","flex","justify-content","flex-end","font-size","x-large"],[1,"fa-solid","fa-xmark","icerrar",3,"click"],[1,"msg"],[1,"col-3",2,"display","flex","flex-direction","column","margin-bottom","2%"],["type","text","placeholder","Titulo",1,"effect-1",2,"height","2.5rem",3,"ngModelChange","ngModel"],[1,"focus-border2"],[1,"main-container"],[1,"editor-container","editor-container_classic-editor"],[1,"editor-container__editor"],[3,"editor","config","ngModel","ngModelChange",4,"ngIf"],["type","text","placeholder","Informacion",1,"effect-1",2,"height","2.5rem",3,"ngModelChange","ngModel"],[1,"effect-1",2,"width","100%","height","2.5rem",3,"ngModelChange","ngModel"],["value","ARS","selected",""],["value","USD"],[1,"border","rounded","glass","colorWhite",2,"width","100%","margin-bottom","2%"],[2,"margin","1.5%","display","block","font-family","Avenir"],["selected","",3,"ngValue"],[3,"ngValue"],[1,"col-3",2,"display","flex","flex-direction","row","margin-bottom","2%"],[2,"display","flex","flex-direction","column","width","32%","margin-right","2%"],[2,"display","flex","flex-direction","row"],["type","number",1,"effect-1",2,"height","2.5rem",3,"ngModelChange","placeholder","ngModel"],[1,"focus-border2",2,"position","relative !important"],["type","number","placeholder","Incremento minimo",1,"effect-1",2,"height","2.5rem",3,"ngModelChange","ngModel"],[2,"display","flex","flex-direction","column","width","32%"],["type","text","placeholder","Aclaracion",1,"effect-1",2,"height","2.5rem",3,"ngModelChange","ngModel"],[2,"margin-top","2%","text-align","center","margin-bottom","4%"],[4,"ngFor","ngForOf"],["type","file","name","imagen","id","imagen","accept","image/*,","multiple","",2,"margin-bottom","2%",3,"change"],[2,"display","flex","justify-content","flex-end"],[1,"border","rounded","boton","boton2","botones",3,"click"],[3,"ngModelChange","editor","config","ngModel"],["alt","",2,"width","100px",3,"id","src"],[1,"boton","boton2","glassAzul","border","rounded","colorWhite",2,"position","relative","left","-10px","bottom","-5px","display","inline-block","width","1rem","cursor","pointer",3,"click"]],template:function(i,r){if(i&1){let o=Ut();O(0,"div",3)(1,"div",4)(2,"div",5)(3,"i",6),ve("click",function(){return Pe(o),De(r.cerrarModal())}),A()(),O(4,"label"),U(5,"Titulo: "),A(),O(6,"span",7),U(7),A(),O(8,"div",8)(9,"input",9),Je("ngModelChange",function(a){return Pe(o),Qe(r.datos[0],a)||(r.datos[0]=a),De(a)}),A(),Ce(10,"span",10),A(),O(11,"label"),U(12,"Descripcion: "),A(),O(13,"span",7),U(14),A(),O(15,"div",8)(16,"div")(17,"div",11)(18,"div",12,0)(20,"div",13)(21,"div",null,1),_t(23,Y1e,1,3,"ckeditor",14),A()()()()()(),O(24,"label"),U(25,"Informacion: "),A(),O(26,"span",7),U(27),A(),O(28,"div",8)(29,"input",15),Je("ngModelChange",function(a){return Pe(o),Qe(r.datos[10],a)||(r.datos[10]=a),De(a)}),A(),Ce(30,"span",10),A(),O(31,"label"),U(32,"Moneda: "),A(),O(33,"span",7),U(34),A(),O(35,"div",8)(36,"select",16),Je("ngModelChange",function(a){return Pe(o),Qe(r.datos[2],a)||(r.datos[2]=a),De(a)}),O(37,"option",17),U(38,"Peso Argentino (ARS)"),A(),O(39,"option",18),U(40,"Dolar Americano (USD)"),A()(),Ce(41,"span",10),A(),O(42,"div",19)(43,"span",20),U(44," No utilice separadores de miles."),Ce(45,"br"),U(46," Utilice el PUNTO (.) como separador de decimales. "),A()(),O(47,"div",8)(48,"select",16),Je("ngModelChange",function(a){return Pe(o),Qe(r.datos[9],a)||(r.datos[9]=a),De(a)}),O(49,"option",21),U(50,"Precio base / Precio salida"),A(),O(51,"option",22),U(52,"Monto arranque / Monto esperado"),A()(),Ce(53,"span",10),A(),O(54,"div",23)(55,"div",24)(56,"div",25)(57,"label"),U(58),A(),O(59,"span",7),U(60),A()(),O(61,"input",26),Je("ngModelChange",function(a){return Pe(o),Qe(r.datos[3],a)||(r.datos[3]=a),De(a)}),A(),Ce(62,"span",27),A(),O(63,"div",24)(64,"div",25)(65,"label"),U(66,"Incremento minimo: "),A()(),O(67,"input",28),Je("ngModelChange",function(a){return Pe(o),Qe(r.datos[4],a)||(r.datos[4]=a),De(a)}),A(),Ce(68,"span",27),A(),O(69,"div",29)(70,"div",25)(71,"label"),U(72),A(),O(73,"span",7),U(74),A()(),O(75,"input",26),Je("ngModelChange",function(a){return Pe(o),Qe(r.datos[5],a)||(r.datos[5]=a),De(a)}),A(),Ce(76,"span",27),A()(),O(77,"label"),U(78,"Aclaracion: "),A(),O(79,"span",7),U(80),A(),O(81,"div",8)(82,"input",30),Je("ngModelChange",function(a){return Pe(o),Qe(r.datos[6],a)||(r.datos[6]=a),De(a)}),A(),Ce(83,"span",10),A(),O(84,"label"),U(85,"Imagenes del lote: "),A(),O(86,"span",7),U(87),A(),O(88,"div",31),_t(89,X1e,4,4,"span",32),A(),O(90,"input",33,2),ve("change",function(a){return Pe(o),De(r.showImg(a))}),A(),O(92,"div",34)(93,"button",35),ve("click",function(){return Pe(o),De(r.crearLote())}),U(94,"Crear lote"),A()()()()}i&2&&(ee(7),Ct("*",r.alertas[0],""),ee(2),Xe("ngModel",r.datos[0]),ee(5),et(r.alertas[1]),ee(9),fe("ngIf",r.isLayoutReady),ee(4),et(r.alertas[6]),ee(2),Xe("ngModel",r.datos[10]),ee(5),et(r.alertas[2]),ee(2),Xe("ngModel",r.datos[2]),ee(12),Xe("ngModel",r.datos[9]),ee(),fe("ngValue",!0),ee(2),fe("ngValue",!1),ee(7),Ct("",r.datos[9]?"Precio base":"Monto arranque",": "),ee(2),Ct("*",r.alertas[3],""),ee(),In("placeholder",r.datos[9]?"Precio base":"Monto arranque"),Xe("ngModel",r.datos[3]),ee(6),Xe("ngModel",r.datos[4]),ee(5),Ct("",r.datos[9]?"Precio salida":"Monto esperado",": "),ee(2),et(r.alertas[5]),ee(),In("placeholder",r.datos[9]?"Precio salida":"Monto esperado"),Xe("ngModel",r.datos[5]),ee(5),et(r.alertas[6]),ee(2),Xe("ngModel",r.datos[6]),ee(5),Ct("*",r.alertas[7],""),ee(2),fe("ngForOf",r.sources))},dependencies:[Hn,Cr,kr,mi,tc,ar,oi,ti,sn,Ti,Rn,v_,b_],styles:[`.celda{border-right:1px solid rgb(48,131,220,.2);border-color:#3083dc33!important;width:16%;padding:1%;font-family:Avenir}.celda i{margin-right:2%}.linea{transition:all .5s linear}.linea:hover{background-color:#ff900033}.load{display:flex;align-items:center;width:20%;justify-content:space-around}.paginacion{height:2rem;width:6rem;font-size:medium}@media (max-width: 650px){.paginacion{width:3.5rem}}.paginacionof{height:2rem;width:8rem;font-size:medium}@media (max-width: 650px){.paginacionof{width:3.5rem}}.ibtn{display:flex;align-items:center;justify-content:center;width:2rem}.ibtn:hover{cursor:pointer}.tooltip{position:relative}.tooltip .tooltiptext{visibility:hidden;padding:.25em .5em;color:#fff;text-align:center;white-space:nowrap;position:absolute;z-index:1;top:-60%;left:-30%;transition-property:visibility;transition-delay:0s;font-family:avenir}.tooltip:hover .tooltiptext{visibility:visible;transition-delay:.3s}.modal{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;background-color:#000;background-color:#0006}.modal-content{background-color:#fefefe;margin:7% auto;margin-top:7rem;padding:1%;border:1px solid var(--amarello);width:80%}@media (max-width: 1000px){.modal-content{width:97.5%!important}}.campoOferta{width:30rem}@media (max-width: 530px){.campoOferta{width:100%}}@media (max-width: 600px){.datoLote{font-size:smaller}}.icerrar{color:var(--amarello)}.icerrar:hover{cursor:pointer;color:var(--blue)}.borderAbajo{border-bottom:1px solid rgb(48,131,220,.2)}.marginCerrar{margin-right:5rem}@media (max-width: 1000px){.marginCerrar{margin-right:2rem}}.h1btn:hover{color:var(--amarello);cursor:pointer}.h1btn2{color:var(--amarello);text-decoration:underline}.none2{transform:scale3d(1,0,1);visibility:hidden;opacity:0}.campoUser{display:flex}@media (max-width: 650px){.campoUser{flex-wrap:wrap}.campoUser div{width:100%!important}}
`],encapsulation:2})}return n})();var ss=Qr(Eo());var dC=(()=>{class n{_sanitizer;constructor(t){this._sanitizer=t}transform(t){return this._sanitizer.bypassSecurityTrustHtml(t)}static \u0275fac=function(i){return new(i||n)(ze(Oo,16))};static \u0275pipe=mE({name:"sanitizeHtml",type:n,pure:!0,standalone:!0})}return n})();var Ds=Uint8Array,qa=Uint16Array,VI=Int32Array,hC=new Ds([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fC=new Ds([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),NI=new Ds([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),uU=function(n,e){for(var t=new qa(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var r=new VI(t[30]),i=1;i<30;++i)for(var o=t[i];o<t[i+1];++o)r[o]=o-t[i]<<5|i;return{b:t,r}},dU=uU(hC,2),hU=dU.b,LI=dU.r;hU[28]=258,LI[258]=28;var fU=uU(fC,0),J1e=fU.b,aU=fU.r,FI=new qa(32768);for($i=0;$i<32768;++$i)dd=($i&43690)>>1|($i&21845)<<1,dd=(dd&52428)>>2|(dd&13107)<<2,dd=(dd&61680)>>4|(dd&3855)<<4,FI[$i]=((dd&65280)>>8|(dd&255)<<8)>>1;var dd,$i,du=function(n,e,t){for(var i=n.length,r=0,o=new qa(e);r<i;++r)n[r]&&++o[n[r]-1];var s=new qa(e);for(r=1;r<e;++r)s[r]=s[r-1]+o[r-1]<<1;var a;if(t){a=new qa(1<<e);var l=15-e;for(r=0;r<i;++r)if(n[r])for(var c=r<<4|n[r],u=e-n[r],d=s[n[r]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)a[FI[d]>>l]=c}else for(a=new qa(i),r=0;r<i;++r)n[r]&&(a[r]=FI[s[n[r]-1]++]>>15-n[r]);return a},Qh=new Ds(288);for($i=0;$i<144;++$i)Qh[$i]=8;var $i;for($i=144;$i<256;++$i)Qh[$i]=9;var $i;for($i=256;$i<280;++$i)Qh[$i]=7;var $i;for($i=280;$i<288;++$i)Qh[$i]=8;var $i,Fv=new Ds(32);for($i=0;$i<32;++$i)Fv[$i]=5;var $i,Q1e=du(Qh,9,0),eve=du(Qh,9,1),tve=du(Fv,5,0),nve=du(Fv,5,1),DI=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},dc=function(n,e,t){var i=e/8|0;return(n[i]|n[i+1]<<8)>>(e&7)&t},OI=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},jI=function(n){return(n+7)/8|0},mU=function(n,e,t){return(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length),new Ds(n.subarray(e,t))};var ive=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],hc=function(n,e,t){var i=new Error(e||ive[n]);if(i.code=n,Error.captureStackTrace&&Error.captureStackTrace(i,hc),!t)throw i;return i},rve=function(n,e,t,i){var r=n.length,o=i?i.length:0;if(!r||e.f&&!e.l)return t||new Ds(0);var s=!t,a=s||e.i!=2,l=e.i;s&&(t=new Ds(r*3));var c=function(re){var ce=t.length;if(re>ce){var _e=new Ds(Math.max(ce*2,re));_e.set(t),t=_e}},u=e.f||0,d=e.p||0,f=e.b||0,h=e.l,m=e.d,p=e.m,g=e.n,v=r*8;do{if(!h){u=dc(n,d,1);var x=dc(n,d+1,3);if(d+=3,x)if(x==1)h=eve,m=nve,p=9,g=5;else if(x==2){var F=dc(n,d,31)+257,B=dc(n,d+10,15)+4,V=F+dc(n,d+5,31)+1;d+=14;for(var G=new Ds(V),W=new Ds(19),k=0;k<B;++k)W[NI[k]]=dc(n,d+k*3,7);d+=B*3;for(var E=DI(W),L=(1<<E)-1,b=du(W,E,1),k=0;k<V;){var w=b[dc(n,d,L)];d+=w&15;var I=w>>4;if(I<16)G[k++]=I;else{var _=0,y=0;for(I==16?(y=3+dc(n,d,3),d+=2,_=G[k-1]):I==17?(y=3+dc(n,d,7),d+=3):I==18&&(y=11+dc(n,d,127),d+=7);y--;)G[k++]=_}}var C=G.subarray(0,F),S=G.subarray(F);p=DI(C),g=DI(S),h=du(C,p,1),m=du(S,g,1)}else hc(1);else{var I=jI(d)+4,N=n[I-4]|n[I-3]<<8,H=I+N;if(H>r){l&&hc(0);break}a&&c(f+N),t.set(n.subarray(I,H),f),e.b=f+=N,e.p=d=H*8,e.f=u;continue}if(d>v){l&&hc(0);break}}a&&c(f+131072);for(var R=(1<<p)-1,Z=(1<<g)-1,j=d;;j=d){var _=h[OI(n,d)&R],X=_>>4;if(d+=_&15,d>v){l&&hc(0);break}if(_||hc(2),X<256)t[f++]=X;else if(X==256){j=d,h=null;break}else{var D=X-254;if(X>264){var k=X-257,Y=hC[k];D=dc(n,d,(1<<Y)-1)+hU[k],d+=Y}var P=m[OI(n,d)&Z],M=P>>4;P||hc(3),d+=P&15;var S=J1e[M];if(M>3){var Y=fC[M];S+=OI(n,d)&(1<<Y)-1,d+=Y}if(d>v){l&&hc(0);break}a&&c(f+131072);var $=f+D;if(f<S){var te=o-S,ue=Math.min(S,$);for(te+f<0&&hc(3);f<ue;++f)t[f]=i[te+f]}for(;f<$;++f)t[f]=t[f-S]}}e.l=h,e.p=j,e.b=f,e.f=u,h&&(u=1,e.m=p,e.d=m,e.n=g)}while(!u);return f!=t.length&&s?mU(t,0,f):t.subarray(0,f)},hd=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8},Nv=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8,n[i+2]|=t>>16},RI=function(n,e){for(var t=[],i=0;i<n.length;++i)n[i]&&t.push({s:i,f:n[i]});var r=t.length,o=t.slice();if(!r)return{t:gU,l:0};if(r==1){var s=new Ds(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(H,F){return H.f-F.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,u=1,d=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=r-1;)a=t[t[c].f<t[d].f?c++:d++],l=t[c!=u&&t[c].f<t[d].f?c++:d++],t[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var f=o[0].s,i=1;i<r;++i)o[i].s>f&&(f=o[i].s);var h=new qa(f+1),m=BI(t[u-1],h,0);if(m>e){var i=0,p=0,g=m-e,v=1<<g;for(o.sort(function(F,B){return h[B.s]-h[F.s]||F.f-B.f});i<r;++i){var x=o[i].s;if(h[x]>e)p+=v-(1<<m-h[x]),h[x]=e;else break}for(p>>=g;p>0;){var I=o[i].s;h[I]<e?p-=1<<e-h[I]++-1:++i}for(;i>=0&&p;--i){var N=o[i].s;h[N]==e&&(--h[N],++p)}m=e}return{t:new Ds(h),l:m}},BI=function(n,e,t){return n.s==-1?Math.max(BI(n.l,e,t+1),BI(n.r,e,t+1)):e[n.s]=t},lU=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new qa(++e),i=0,r=n[0],o=1,s=function(l){t[i++]=l},a=1;a<=e;++a)if(n[a]==r&&a!=e)++o;else{if(!r&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(r),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(r);o=1,r=n[a]}return{c:t.subarray(0,i),n:e}},Lv=function(n,e){for(var t=0,i=0;i<e.length;++i)t+=n[i]*e[i];return t},pU=function(n,e,t){var i=t.length,r=jI(e+2);n[r]=i&255,n[r+1]=i>>8,n[r+2]=n[r]^255,n[r+3]=n[r+1]^255;for(var o=0;o<i;++o)n[r+o+4]=t[o];return(r+4+i)*8},cU=function(n,e,t,i,r,o,s,a,l,c,u){hd(e,u++,t),++r[256];for(var d=RI(r,15),f=d.t,h=d.l,m=RI(o,15),p=m.t,g=m.l,v=lU(f),x=v.c,I=v.n,N=lU(p),H=N.c,F=N.n,B=new qa(19),V=0;V<x.length;++V)++B[x[V]&31];for(var V=0;V<H.length;++V)++B[H[V]&31];for(var G=RI(B,7),W=G.t,k=G.l,E=19;E>4&&!W[NI[E-1]];--E);var L=c+5<<3,b=Lv(r,Qh)+Lv(o,Fv)+s,w=Lv(r,f)+Lv(o,p)+s+14+3*E+Lv(B,W)+2*B[16]+3*B[17]+7*B[18];if(l>=0&&L<=b&&L<=w)return pU(e,u,n.subarray(l,l+c));var _,y,C,S;if(hd(e,u,1+(w<b)),u+=2,w<b){_=du(f,h,0),y=f,C=du(p,g,0),S=p;var R=du(W,k,0);hd(e,u,I-257),hd(e,u+5,F-1),hd(e,u+10,E-4),u+=14;for(var V=0;V<E;++V)hd(e,u+3*V,W[NI[V]]);u+=3*E;for(var Z=[x,H],j=0;j<2;++j)for(var X=Z[j],V=0;V<X.length;++V){var D=X[V]&31;hd(e,u,R[D]),u+=W[D],D>15&&(hd(e,u,X[V]>>5&127),u+=X[V]>>12)}}else _=Q1e,y=Qh,C=tve,S=Fv;for(var V=0;V<a;++V){var Y=i[V];if(Y>255){var D=Y>>18&31;Nv(e,u,_[D+257]),u+=y[D+257],D>7&&(hd(e,u,Y>>23&31),u+=hC[D]);var P=Y&31;Nv(e,u,C[P]),u+=S[P],P>3&&(Nv(e,u,Y>>5&8191),u+=fC[P])}else Nv(e,u,_[Y]),u+=y[Y]}return Nv(e,u,_[256]),u+y[256]},ove=new VI([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),gU=new Ds(0),sve=function(n,e,t,i,r,o){var s=o.z||n.length,a=new Ds(i+s+5*(1+Math.ceil(s/7e3))+r),l=a.subarray(i,a.length-r),c=o.l,u=(o.r||0)&7;if(e){u&&(l[0]=o.r>>3);for(var d=ove[e-1],f=d>>13,h=d&8191,m=(1<<t)-1,p=o.p||new qa(32768),g=o.h||new qa(m+1),v=Math.ceil(t/3),x=2*v,I=function(xe){return(n[xe]^n[xe+1]<<v^n[xe+2]<<x)&m},N=new VI(25e3),H=new qa(288),F=new qa(32),B=0,V=0,G=o.i||0,W=0,k=o.w||0,E=0;G+2<s;++G){var L=I(G),b=G&32767,w=g[L];if(p[b]=w,g[L]=b,k<=G){var _=s-G;if((B>7e3||W>24576)&&(_>423||!c)){u=cU(n,l,0,N,H,F,V,W,E,G-E,u),W=B=V=0,E=G;for(var y=0;y<286;++y)H[y]=0;for(var y=0;y<30;++y)F[y]=0}var C=2,S=0,R=h,Z=b-w&32767;if(_>2&&L==I(G-Z))for(var j=Math.min(f,_)-1,X=Math.min(32767,G),D=Math.min(258,_);Z<=X&&--R&&b!=w;){if(n[G+C]==n[G+C-Z]){for(var Y=0;Y<D&&n[G+Y]==n[G+Y-Z];++Y);if(Y>C){if(C=Y,S=Z,Y>j)break;for(var P=Math.min(Z,Y-2),M=0,y=0;y<P;++y){var $=G-Z+y&32767,te=p[$],ue=$-te&32767;ue>M&&(M=ue,w=$)}}}b=w,w=p[b],Z+=b-w&32767}if(S){N[W++]=268435456|LI[C]<<18|aU[S];var re=LI[C]&31,ce=aU[S]&31;V+=hC[re]+fC[ce],++H[257+re],++F[ce],k=G+C,++B}else N[W++]=n[G],++H[n[G]]}}for(G=Math.max(G,k);G<s;++G)N[W++]=n[G],++H[n[G]];u=cU(n,l,c,N,H,F,V,W,E,G-E,u),c||(o.r=u&7|l[u/8|0]<<3,u-=7,o.h=g,o.p=p,o.i=G,o.w=k)}else{for(var G=o.w||0;G<s+c;G+=65535){var _e=G+65535;_e>=s&&(l[u/8|0]=c,_e=s),u=pU(l,u+1,n.subarray(G,_e))}o.i=s}return mU(a,0,i+jI(u)+r)};var bU=function(){var n=1,e=0;return{p:function(t){for(var i=n,r=e,o=t.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)r+=i+=t[s];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}n=i,e=r},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},ave=function(n,e,t,i,r){if(!r&&(r={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new Ds(o.length+n.length);s.set(o),s.set(n,o.length),n=s,r.w=o.length}return sve(n,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,i,r)};var vU=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8};var lve=function(n,e){var t=e.level,i=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=i<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var r=bU();r.p(e.dictionary),vU(n,2,r.d())}},cve=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&hc(6,"invalid zlib data"),(n[1]>>5&1)==+!e&&hc(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function mC(n,e){e||(e={});var t=bU();t.p(n);var i=ave(n,e,e.dictionary?6:2,4);return lve(i,e),vU(i,i.length-4,t.d()),i}function wU(n,e){return rve(n.subarray(cve(n,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var uve=typeof TextDecoder<"u"&&new TextDecoder,dve=0;try{uve.decode(gU,{stream:!0}),dve=1}catch{}var Nn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function zI(){Nn.console&&typeof Nn.console.log=="function"&&Nn.console.log.apply(Nn.console,arguments)}var wr={log:zI,warn:function(n){Nn.console&&(typeof Nn.console.warn=="function"?Nn.console.warn.apply(Nn.console,arguments):zI.call(null,arguments))},error:function(n){Nn.console&&(typeof Nn.console.error=="function"?Nn.console.error.apply(Nn.console,arguments):zI(n))}};function UI(n,e,t){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){Sm(i.response,e,t)},i.onerror=function(){wr.error("could not download file")},i.send()}function yU(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function pC(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Bv,GI,Sm=Nn.saveAs||((typeof window>"u"?"undefined":or(window))!=="object"||window!==Nn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var i=Nn.URL||Nn.webkitURL,r=document.createElement("a");e=e||n.name||"download",r.download=e,r.rel="noopener",typeof n=="string"?(r.href=n,r.origin!==location.origin?yU(r.href)?UI(n,e,t):pC(r,r.target="_blank"):pC(r)):(r.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){pC(r)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(yU(n))UI(n,e,t);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){pC(i)})}else navigator.msSaveOrOpenBlob(function(r,o){return o===void 0?o={autoBom:!1}:or(o)!=="object"&&(wr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(n,t),e)}:function(n,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return UI(n,e,t);var r=n.type==="application/octet-stream",o=/constructor/i.test(Nn.HTMLElement)||Nn.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||r&&o)&&(typeof FileReader>"u"?"undefined":or(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=u:location=u,i=null},a.readAsDataURL(n)}else{var l=Nn.URL||Nn.webkitURL,c=l.createObjectURL(n);i?i.location=c:location.href=c,i=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function FU(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],i=0;i<t.length;i++){var r=t[i].re,o=t[i].process,s=r.exec(n);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}function HI(n,e){var t=n[0],i=n[1],r=n[2],o=n[3];t=Os(t,i,r,o,e[0],7,-680876936),o=Os(o,t,i,r,e[1],12,-389564586),r=Os(r,o,t,i,e[2],17,606105819),i=Os(i,r,o,t,e[3],22,-1044525330),t=Os(t,i,r,o,e[4],7,-176418897),o=Os(o,t,i,r,e[5],12,1200080426),r=Os(r,o,t,i,e[6],17,-1473231341),i=Os(i,r,o,t,e[7],22,-45705983),t=Os(t,i,r,o,e[8],7,1770035416),o=Os(o,t,i,r,e[9],12,-1958414417),r=Os(r,o,t,i,e[10],17,-42063),i=Os(i,r,o,t,e[11],22,-1990404162),t=Os(t,i,r,o,e[12],7,1804603682),o=Os(o,t,i,r,e[13],12,-40341101),r=Os(r,o,t,i,e[14],17,-1502002290),t=Rs(t,i=Os(i,r,o,t,e[15],22,1236535329),r,o,e[1],5,-165796510),o=Rs(o,t,i,r,e[6],9,-1069501632),r=Rs(r,o,t,i,e[11],14,643717713),i=Rs(i,r,o,t,e[0],20,-373897302),t=Rs(t,i,r,o,e[5],5,-701558691),o=Rs(o,t,i,r,e[10],9,38016083),r=Rs(r,o,t,i,e[15],14,-660478335),i=Rs(i,r,o,t,e[4],20,-405537848),t=Rs(t,i,r,o,e[9],5,568446438),o=Rs(o,t,i,r,e[14],9,-1019803690),r=Rs(r,o,t,i,e[3],14,-187363961),i=Rs(i,r,o,t,e[8],20,1163531501),t=Rs(t,i,r,o,e[13],5,-1444681467),o=Rs(o,t,i,r,e[2],9,-51403784),r=Rs(r,o,t,i,e[7],14,1735328473),t=Ns(t,i=Rs(i,r,o,t,e[12],20,-1926607734),r,o,e[5],4,-378558),o=Ns(o,t,i,r,e[8],11,-2022574463),r=Ns(r,o,t,i,e[11],16,1839030562),i=Ns(i,r,o,t,e[14],23,-35309556),t=Ns(t,i,r,o,e[1],4,-1530992060),o=Ns(o,t,i,r,e[4],11,1272893353),r=Ns(r,o,t,i,e[7],16,-155497632),i=Ns(i,r,o,t,e[10],23,-1094730640),t=Ns(t,i,r,o,e[13],4,681279174),o=Ns(o,t,i,r,e[0],11,-358537222),r=Ns(r,o,t,i,e[3],16,-722521979),i=Ns(i,r,o,t,e[6],23,76029189),t=Ns(t,i,r,o,e[9],4,-640364487),o=Ns(o,t,i,r,e[12],11,-421815835),r=Ns(r,o,t,i,e[15],16,530742520),t=Ls(t,i=Ns(i,r,o,t,e[2],23,-995338651),r,o,e[0],6,-198630844),o=Ls(o,t,i,r,e[7],10,1126891415),r=Ls(r,o,t,i,e[14],15,-1416354905),i=Ls(i,r,o,t,e[5],21,-57434055),t=Ls(t,i,r,o,e[12],6,1700485571),o=Ls(o,t,i,r,e[3],10,-1894986606),r=Ls(r,o,t,i,e[10],15,-1051523),i=Ls(i,r,o,t,e[1],21,-2054922799),t=Ls(t,i,r,o,e[8],6,1873313359),o=Ls(o,t,i,r,e[15],10,-30611744),r=Ls(r,o,t,i,e[6],15,-1560198380),i=Ls(i,r,o,t,e[13],21,1309151649),t=Ls(t,i,r,o,e[4],6,-145523070),o=Ls(o,t,i,r,e[11],10,-1120210379),r=Ls(r,o,t,i,e[2],15,718787259),i=Ls(i,r,o,t,e[9],21,-343485551),n[0]=tf(t,n[0]),n[1]=tf(i,n[1]),n[2]=tf(r,n[2]),n[3]=tf(o,n[3])}function EC(n,e,t,i,r,o){return e=tf(tf(e,n),tf(i,o)),tf(e<<r|e>>>32-r,t)}function Os(n,e,t,i,r,o,s){return EC(e&t|~e&i,n,e,r,o,s)}function Rs(n,e,t,i,r,o,s){return EC(e&i|t&~i,n,e,r,o,s)}function Ns(n,e,t,i,r,o,s){return EC(e^t^i,n,e,r,o,s)}function Ls(n,e,t,i,r,o,s){return EC(t^(e|~i),n,e,r,o,s)}function BU(n){var e,t=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)HI(i,hve(n.substring(e-64,e)));n=n.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)r[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(HI(i,r),e=0;e<16;e++)r[e]=0;return r[14]=8*t,HI(i,r),i}function hve(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}Bv=Nn.atob.bind(Nn),GI=Nn.btoa.bind(Nn);var _U="0123456789abcdef".split("");function fve(n){for(var e="",t=0;t<4;t++)e+=_U[n>>8*t+4&15]+_U[n>>8*t&15];return e}function mve(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function KI(n){return BU(n).map(mve).join("")}var pve=function(n){for(var e=0;e<n.length;e++)n[e]=fve(n[e]);return n.join("")}(BU("hello"))!="5d41402abc4b2a76b9719d911017c592";function tf(n,e){if(pve){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function ZI(n,e){var t,i,r,o;if(n!==t){for(var s=(r=n,o=1+(256/n.length>>0),new Array(o+1).join(r)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+s.charCodeAt(l))%256,a[l]=a[c],a[c]=u}t=n,i=a}else a=i;var d=e.length,f=0,h=0,m="";for(l=0;l<d;l++)h=(h+(u=a[f=(f+1)%256]))%256,a[f]=a[h],a[h]=u,s=a[(a[f]+a[h])%256],m+=String.fromCharCode(e.charCodeAt(l)^s);return m}var xU={print:4,modify:8,copy:16,"annot-forms":32};function M0(n,e,t,i){this.v=1,this.r=2;var r=192;n.forEach(function(a){if(xU.perm!==void 0)throw new Error("Invalid permission: "+a);r+=xU[a]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var o=(e+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^r)),this.encryptionKey=KI(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=ZI(this.encryptionKey,this.padding)}function P0(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,i=0;i<t;i++){var r=n.charCodeAt(i);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?e+="#"+("0"+r.toString(16)).slice(-2):e+=n[i]}return e}function CU(n){if(or(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,r){if(r=r||!1,typeof t!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[i,!!r],o},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var o in e[t]){var s=e[t][o];try{s[0].apply(n,i)}catch(a){Nn.console&&wr.error("jsPDF PubSub Error",a.message,a)}s[1]&&r.push(o)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function CC(n){if(!(this instanceof CC))return new CC(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function VU(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Am(n,e,t,i,r){if(!(this instanceof Am))return new Am(n,e,t,i,r);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,VU.call(this,i,r)}function D0(n,e,t,i,r){if(!(this instanceof D0))return new D0(n,e,t,i,r);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,VU.call(this,i,r)}function An(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],o=arguments[3],s=[],a=1,l=16,c="S",u=null;or(n=n||{})==="object"&&(t=n.orientation,i=n.unit||i,r=n.format||r,o=n.compress||n.compressPdf||o,(u=n.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),s=n.filters||(o===!0?["FlateEncode"]:s),i=i||"mm",t=(""+(t||"P")).toLowerCase();var d=n.putOnlyUsedFonts||!1,f={},h={internal:{},__private__:{}};h.__private__.PubSub=CU;var m="1.3",p=h.__private__.getPdfVersion=function(){return m};h.__private__.setPdfVersion=function(q){m=q};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return g};var v=h.__private__.getPageFormat=function(q){return g[q]};r=r||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},I=x.COMPAT;function N(){this.saveGraphicsState(),se(new St(st,0,0,-st,0,zl()*st).toString()+" cm"),this.setFontSize(this.getFontSize()/st),c="n",I=x.ADVANCED}function H(){this.restoreGraphicsState(),c="S",I=x.COMPAT}var F=h.__private__.combineFontStyleAndFontWeight=function(q,ae){if(q=="bold"&&ae=="normal"||q=="bold"&&ae==400||q=="normal"&&ae=="italic"||q=="bold"&&ae=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ae&&(q=ae==400||ae==="normal"?q==="italic"?"italic":"normal":ae!=700&&ae!=="bold"||q!=="normal"?(ae==700?"bold":ae)+""+q:"bold"),q};h.advancedAPI=function(q){var ae=I===x.COMPAT;return ae&&N.call(this),typeof q!="function"||(q(this),ae&&H.call(this)),this},h.compatAPI=function(q){var ae=I===x.ADVANCED;return ae&&H.call(this),typeof q!="function"||(q(this),ae&&N.call(this)),this},h.isAdvancedAPI=function(){return I===x.ADVANCED};var B,V=function(q){if(I!==x.ADVANCED)throw new Error(q+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=h.roundToPrecision=h.__private__.roundToPrecision=function(q,ae){var ke=e||ae;if(isNaN(q)||isNaN(ke))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return q.toFixed(ke).replace(/0+$/,"")};B=h.hpf=h.__private__.hpf=typeof l=="number"?function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.hpf");return G(q,l)}:l==="smart"?function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.hpf");return G(q,q>-1&&q<1?16:5)}:function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.hpf");return G(q,16)};var W=h.f2=h.__private__.f2=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.f2");return G(q,2)},k=h.__private__.f3=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.f3");return G(q,3)},E=h.scale=h.__private__.scale=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.scale");return I===x.COMPAT?q*st:I===x.ADVANCED?q:void 0},L=function(q){return I===x.COMPAT?zl()-q:I===x.ADVANCED?q:void 0},b=function(q){return E(L(q))};h.__private__.setPrecision=h.setPrecision=function(q){typeof parseInt(q,10)=="number"&&(e=parseInt(q,10))};var w,_="00000000000000000000000000000000",y=h.__private__.getFileId=function(){return _},C=h.__private__.setFileId=function(q){return _=q!==void 0&&/^[a-fA-F0-9]{32}$/.test(q)?q.toUpperCase():_.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(io=new M0(u.userPermissions,u.userPassword,u.ownerPassword,_)),_};h.setFileId=function(q){return C(q),this},h.getFileId=function(){return y()};var S=h.__private__.convertDateToPDFDate=function(q){var ae=q.getTimezoneOffset(),ke=ae<0?"+":"-",Oe=Math.floor(Math.abs(ae/60)),Ue=Math.abs(ae%60),rt=[ke,D(Oe),"'",D(Ue),"'"].join("");return["D:",q.getFullYear(),D(q.getMonth()+1),D(q.getDate()),D(q.getHours()),D(q.getMinutes()),D(q.getSeconds()),rt].join("")},R=h.__private__.convertPDFDateToDate=function(q){var ae=parseInt(q.substr(2,4),10),ke=parseInt(q.substr(6,2),10)-1,Oe=parseInt(q.substr(8,2),10),Ue=parseInt(q.substr(10,2),10),rt=parseInt(q.substr(12,2),10),xt=parseInt(q.substr(14,2),10);return new Date(ae,ke,Oe,Ue,rt,xt,0)},Z=h.__private__.setCreationDate=function(q){var ae;if(q===void 0&&(q=new Date),q instanceof Date)ae=S(q);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(q))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ae=q}return w=ae},j=h.__private__.getCreationDate=function(q){var ae=w;return q==="jsDate"&&(ae=R(w)),ae};h.setCreationDate=function(q){return Z(q),this},h.getCreationDate=function(q){return j(q)};var X,D=h.__private__.padd2=function(q){return("0"+parseInt(q)).slice(-2)},Y=h.__private__.padd2Hex=function(q){return("00"+(q=q.toString())).substr(q.length)},P=0,M=[],$=[],te=0,ue=[],re=[],ce=!1,_e=$,xe=function(){P=0,te=0,$=[],M=[],ue=[],li=vn(),Jt=vn()};h.__private__.setCustomOutputDestination=function(q){ce=!0,_e=q};var ie=function(q){ce||(_e=q)};h.__private__.resetCustomOutputDestination=function(){ce=!1,_e=$};var se=h.__private__.out=function(q){return q=q.toString(),te+=q.length+1,_e.push(q),_e},ge=h.__private__.write=function(q){return se(arguments.length===1?q.toString():Array.prototype.join.call(arguments," "))},Ae=h.__private__.getArrayBuffer=function(q){for(var ae=q.length,ke=new ArrayBuffer(ae),Oe=new Uint8Array(ke);ae--;)Oe[ae]=q.charCodeAt(ae);return ke},Ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Ee};var Te=n.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(q){return Te=I===x.ADVANCED?q/st:q,this};var Se,Fe=h.__private__.getFontSize=h.getFontSize=function(){return I===x.COMPAT?Te:Te*st},He=n.R2L||!1;h.__private__.setR2L=h.setR2L=function(q){return He=q,this},h.__private__.getR2L=h.getR2L=function(){return He};var Ze,ut=h.__private__.setZoomMode=function(q){var ae=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(q))Se=q;else if(isNaN(q)){if(ae.indexOf(q)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+q+'" is not recognized.');Se=q}else Se=parseInt(q,10)};h.__private__.getZoomMode=function(){return Se};var tt,pt=h.__private__.setPageMode=function(q){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(q)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+q+'" is not recognized.');Ze=q};h.__private__.getPageMode=function(){return Ze};var Zt=h.__private__.setLayoutMode=function(q){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(q)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+q+'" is not recognized.');tt=q};h.__private__.getLayoutMode=function(){return tt},h.__private__.setDisplayMode=h.setDisplayMode=function(q,ae,ke){return ut(q),Zt(ae),pt(ke),this};var bt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(q){if(Object.keys(bt).indexOf(q)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return bt[q]},h.__private__.getDocumentProperties=function(){return bt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(q){for(var ae in bt)bt.hasOwnProperty(ae)&&q[ae]&&(bt[ae]=q[ae]);return this},h.__private__.setDocumentProperty=function(q,ae){if(Object.keys(bt).indexOf(q)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return bt[q]=ae};var lt,st,vt,at,mn,Dt={},Vt={},jr=[],Rt={},rn={},Wn={},fn={},pn=null,wi=0,It=[],Ft=new CU(h),ur=n.hotfixes||[],on={},ln={},zr=[],St=function q(ae,ke,Oe,Ue,rt,xt){if(!(this instanceof q))return new q(ae,ke,Oe,Ue,rt,xt);isNaN(ae)&&(ae=1),isNaN(ke)&&(ke=0),isNaN(Oe)&&(Oe=0),isNaN(Ue)&&(Ue=1),isNaN(rt)&&(rt=0),isNaN(xt)&&(xt=0),this._matrix=[ae,ke,Oe,Ue,rt,xt]};Object.defineProperty(St.prototype,"sx",{get:function(){return this._matrix[0]},set:function(q){this._matrix[0]=q}}),Object.defineProperty(St.prototype,"shy",{get:function(){return this._matrix[1]},set:function(q){this._matrix[1]=q}}),Object.defineProperty(St.prototype,"shx",{get:function(){return this._matrix[2]},set:function(q){this._matrix[2]=q}}),Object.defineProperty(St.prototype,"sy",{get:function(){return this._matrix[3]},set:function(q){this._matrix[3]=q}}),Object.defineProperty(St.prototype,"tx",{get:function(){return this._matrix[4]},set:function(q){this._matrix[4]=q}}),Object.defineProperty(St.prototype,"ty",{get:function(){return this._matrix[5]},set:function(q){this._matrix[5]=q}}),Object.defineProperty(St.prototype,"a",{get:function(){return this._matrix[0]},set:function(q){this._matrix[0]=q}}),Object.defineProperty(St.prototype,"b",{get:function(){return this._matrix[1]},set:function(q){this._matrix[1]=q}}),Object.defineProperty(St.prototype,"c",{get:function(){return this._matrix[2]},set:function(q){this._matrix[2]=q}}),Object.defineProperty(St.prototype,"d",{get:function(){return this._matrix[3]},set:function(q){this._matrix[3]=q}}),Object.defineProperty(St.prototype,"e",{get:function(){return this._matrix[4]},set:function(q){this._matrix[4]=q}}),Object.defineProperty(St.prototype,"f",{get:function(){return this._matrix[5]},set:function(q){this._matrix[5]=q}}),Object.defineProperty(St.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(St.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(St.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(St.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),St.prototype.join=function(q){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(q)},St.prototype.multiply=function(q){var ae=q.sx*this.sx+q.shy*this.shx,ke=q.sx*this.shy+q.shy*this.sy,Oe=q.shx*this.sx+q.sy*this.shx,Ue=q.shx*this.shy+q.sy*this.sy,rt=q.tx*this.sx+q.ty*this.shx+this.tx,xt=q.tx*this.shy+q.ty*this.sy+this.ty;return new St(ae,ke,Oe,Ue,rt,xt)},St.prototype.decompose=function(){var q=this.sx,ae=this.shy,ke=this.shx,Oe=this.sy,Ue=this.tx,rt=this.ty,xt=Math.sqrt(q*q+ae*ae),qt=(q/=xt)*ke+(ae/=xt)*Oe;ke-=q*qt,Oe-=ae*qt;var wn=Math.sqrt(ke*ke+Oe*Oe);return qt/=wn,q*(Oe/=wn)<ae*(ke/=wn)&&(q=-q,ae=-ae,qt=-qt,xt=-xt),{scale:new St(xt,0,0,wn,0,0),translate:new St(1,0,0,1,Ue,rt),rotate:new St(q,ae,-ae,q,0,0),skew:new St(1,0,qt,1,0,0)}},St.prototype.toString=function(q){return this.join(" ")},St.prototype.inversed=function(){var q=this.sx,ae=this.shy,ke=this.shx,Oe=this.sy,Ue=this.tx,rt=this.ty,xt=1/(q*Oe-ae*ke),qt=Oe*xt,wn=-ae*xt,Vn=-ke*xt,Fn=q*xt;return new St(qt,wn,Vn,Fn,-qt*Ue-Vn*rt,-wn*Ue-Fn*rt)},St.prototype.applyToPoint=function(q){var ae=q.x*this.sx+q.y*this.shx+this.tx,ke=q.x*this.shy+q.y*this.sy+this.ty;return new kc(ae,ke)},St.prototype.applyToRectangle=function(q){var ae=this.applyToPoint(q),ke=this.applyToPoint(new kc(q.x+q.w,q.y+q.h));return new Ed(ae.x,ae.y,ke.x-ae.x,ke.y-ae.y)},St.prototype.clone=function(){var q=this.sx,ae=this.shy,ke=this.shx,Oe=this.sy,Ue=this.tx,rt=this.ty;return new St(q,ae,ke,Oe,Ue,rt)},h.Matrix=St;var Ie=h.matrixMult=function(q,ae){return ae.multiply(q)},$e=new St(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=$e;var Ye=function(q,ae){if(!rn[q]){var ke=(ae instanceof Am?"Sh":"P")+(Object.keys(Rt).length+1).toString(10);ae.id=ke,rn[q]=ke,Rt[ke]=ae,Ft.publish("addPattern",ae)}};h.ShadingPattern=Am,h.TilingPattern=D0,h.addShadingPattern=function(q,ae){return V("addShadingPattern()"),Ye(q,ae),this},h.beginTilingPattern=function(q){V("beginTilingPattern()"),Ad(q.boundingBox[0],q.boundingBox[1],q.boundingBox[2]-q.boundingBox[0],q.boundingBox[3]-q.boundingBox[1],q.matrix)},h.endTilingPattern=function(q,ae){V("endTilingPattern()"),ae.stream=re[X].join(`
`),Ye(q,ae),Ft.publish("endTilingPattern",ae),zr.pop().restore()};var ct=h.__private__.newObject=function(){var q=vn();return Mt(q,!0),q},vn=h.__private__.newObjectDeferred=function(){return P++,M[P]=function(){return te},P},Mt=function(q,ae){return ae=typeof ae=="boolean"&&ae,M[q]=te,ae&&se(q+" 0 obj"),q},Et=h.__private__.newAdditionalObject=function(){var q={objId:vn(),content:""};return ue.push(q),q},li=vn(),Jt=vn(),Bt=h.__private__.decodeColorString=function(q){var ae=q.split(" ");if(ae.length!==2||ae[1]!=="g"&&ae[1]!=="G")ae.length===5&&(ae[4]==="k"||ae[4]==="K")&&(ae=[(1-ae[0])*(1-ae[3]),(1-ae[1])*(1-ae[3]),(1-ae[2])*(1-ae[3]),"r"]);else{var ke=parseFloat(ae[0]);ae=[ke,ke,ke,"r"]}for(var Oe="#",Ue=0;Ue<3;Ue++)Oe+=("0"+Math.floor(255*parseFloat(ae[Ue])).toString(16)).slice(-2);return Oe},Kn=h.__private__.encodeColorString=function(q){var ae;typeof q=="string"&&(q={ch1:q});var ke=q.ch1,Oe=q.ch2,Ue=q.ch3,rt=q.ch4,xt=q.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ke=="string"&&ke.charAt(0)!=="#"){var qt=new FU(ke);if(qt.ok)ke=qt.toHex();else if(!/^\d*\.?\d*$/.test(ke))throw new Error('Invalid color "'+ke+'" passed to jsPDF.encodeColorString.')}if(typeof ke=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ke)&&(ke="#"+ke[1]+ke[1]+ke[2]+ke[2]+ke[3]+ke[3]),typeof ke=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ke)){var wn=parseInt(ke.substr(1),16);ke=wn>>16&255,Oe=wn>>8&255,Ue=255&wn}if(Oe===void 0||rt===void 0&&ke===Oe&&Oe===Ue)if(typeof ke=="string")ae=ke+" "+xt[0];else switch(q.precision){case 2:ae=W(ke/255)+" "+xt[0];break;case 3:default:ae=k(ke/255)+" "+xt[0]}else if(rt===void 0||or(rt)==="object"){if(rt&&!isNaN(rt.a)&&rt.a===0)return ae=["1.","1.","1.",xt[1]].join(" ");if(typeof ke=="string")ae=[ke,Oe,Ue,xt[1]].join(" ");else switch(q.precision){case 2:ae=[W(ke/255),W(Oe/255),W(Ue/255),xt[1]].join(" ");break;default:case 3:ae=[k(ke/255),k(Oe/255),k(Ue/255),xt[1]].join(" ")}}else if(typeof ke=="string")ae=[ke,Oe,Ue,rt,xt[2]].join(" ");else switch(q.precision){case 2:ae=[W(ke),W(Oe),W(Ue),W(rt),xt[2]].join(" ");break;case 3:default:ae=[k(ke),k(Oe),k(Ue),k(rt),xt[2]].join(" ")}return ae},Dn=h.__private__.getFilters=function(){return s},kn=h.__private__.putStream=function(q){var ae=(q=q||{}).data||"",ke=q.filters||Dn(),Oe=q.alreadyAppliedFilters||[],Ue=q.addLength1||!1,rt=ae.length,xt=q.objectId,qt=function(Uo){return Uo};if(u!==null&&xt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(qt=io.encryptor(xt,0));var wn={};ke===!0&&(ke=["FlateEncode"]);var Vn=q.additionalKeyValues||[],Fn=(wn=An.API.processDataByFilters!==void 0?An.API.processDataByFilters(ae,ke):{data:ae,reverseChain:[]}).reverseChain+(Array.isArray(Oe)?Oe.join(" "):Oe.toString());if(wn.data.length!==0&&(Vn.push({key:"Length",value:wn.data.length}),Ue===!0&&Vn.push({key:"Length1",value:rt})),Fn.length!=0)if(Fn.split("/").length-1==1)Vn.push({key:"Filter",value:Fn});else{Vn.push({key:"Filter",value:"["+Fn+"]"});for(var Ci=0;Ci<Vn.length;Ci+=1)if(Vn[Ci].key==="DecodeParms"){for(var Pr=[],Hr=0;Hr<wn.reverseChain.split("/").length-1;Hr+=1)Pr.push("null");Pr.push(Vn[Ci].value),Vn[Ci].value="["+Pr.join(" ")+"]"}}se("<<");for(var ro=0;ro<Vn.length;ro++)se("/"+Vn[ro].key+" "+Vn[ro].value);se(">>"),wn.data.length!==0&&(se("stream"),se(qt(wn.data)),se("endstream"))},Xn=h.__private__.putPage=function(q){var ae=q.number,ke=q.data,Oe=q.objId,Ue=q.contentsObjId;Mt(Oe,!0),se("<</Type /Page"),se("/Parent "+q.rootDictionaryObjId+" 0 R"),se("/Resources "+q.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(B(q.mediaBox.bottomLeftX))+" "+parseFloat(B(q.mediaBox.bottomLeftY))+" "+B(q.mediaBox.topRightX)+" "+B(q.mediaBox.topRightY)+"]"),q.cropBox!==null&&se("/CropBox ["+B(q.cropBox.bottomLeftX)+" "+B(q.cropBox.bottomLeftY)+" "+B(q.cropBox.topRightX)+" "+B(q.cropBox.topRightY)+"]"),q.bleedBox!==null&&se("/BleedBox ["+B(q.bleedBox.bottomLeftX)+" "+B(q.bleedBox.bottomLeftY)+" "+B(q.bleedBox.topRightX)+" "+B(q.bleedBox.topRightY)+"]"),q.trimBox!==null&&se("/TrimBox ["+B(q.trimBox.bottomLeftX)+" "+B(q.trimBox.bottomLeftY)+" "+B(q.trimBox.topRightX)+" "+B(q.trimBox.topRightY)+"]"),q.artBox!==null&&se("/ArtBox ["+B(q.artBox.bottomLeftX)+" "+B(q.artBox.bottomLeftY)+" "+B(q.artBox.topRightX)+" "+B(q.artBox.topRightY)+"]"),typeof q.userUnit=="number"&&q.userUnit!==1&&se("/UserUnit "+q.userUnit),Ft.publish("putPage",{objId:Oe,pageContext:It[ae],pageNumber:ae,page:ke}),se("/Contents "+Ue+" 0 R"),se(">>"),se("endobj");var rt=ke.join(`
`);return I===x.ADVANCED&&(rt+=`
Q`),Mt(Ue,!0),kn({data:rt,filters:Dn(),objectId:Ue}),se("endobj"),Oe},Ei=h.__private__.putPages=function(){var q,ae,ke=[];for(q=1;q<=wi;q++)It[q].objId=vn(),It[q].contentsObjId=vn();for(q=1;q<=wi;q++)ke.push(Xn({number:q,data:re[q],objId:It[q].objId,contentsObjId:It[q].contentsObjId,mediaBox:It[q].mediaBox,cropBox:It[q].cropBox,bleedBox:It[q].bleedBox,trimBox:It[q].trimBox,artBox:It[q].artBox,userUnit:It[q].userUnit,rootDictionaryObjId:li,resourceDictionaryObjId:Jt}));Mt(li,!0),se("<</Type /Pages");var Oe="/Kids [";for(ae=0;ae<wi;ae++)Oe+=ke[ae]+" 0 R ";se(Oe+"]"),se("/Count "+wi),se(">>"),se("endobj"),Ft.publish("postPutPages")},er=function(q){Ft.publish("putFont",{font:q,out:se,newObject:ct,putStream:kn}),q.isAlreadyPutted!==!0&&(q.objectNumber=ct(),se("<<"),se("/Type /Font"),se("/BaseFont /"+P0(q.postScriptName)),se("/Subtype /Type1"),typeof q.encoding=="string"&&se("/Encoding /"+q.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},yr=function(){for(var q in Dt)Dt.hasOwnProperty(q)&&(d===!1||d===!0&&f.hasOwnProperty(q))&&er(Dt[q])},Ln=function(q){q.objectNumber=ct();var ae=[];ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Form"}),ae.push({key:"BBox",value:"["+[B(q.x),B(q.y),B(q.x+q.width),B(q.y+q.height)].join(" ")+"]"}),ae.push({key:"Matrix",value:"["+q.matrix.toString()+"]"});var ke=q.pages[1].join(`
`);kn({data:ke,additionalKeyValues:ae,objectId:q.objectNumber}),se("endobj")},Ur=function(){for(var q in on)on.hasOwnProperty(q)&&Ln(on[q])},ye=function(q,ae){var ke,Oe=[],Ue=1/(ae-1);for(ke=0;ke<1;ke+=Ue)Oe.push(ke);if(Oe.push(1),q[0].offset!=0){var rt={offset:0,color:q[0].color};q.unshift(rt)}if(q[q.length-1].offset!=1){var xt={offset:1,color:q[q.length-1].color};q.push(xt)}for(var qt="",wn=0,Vn=0;Vn<Oe.length;Vn++){for(ke=Oe[Vn];ke>q[wn+1].offset;)wn++;var Fn=q[wn].offset,Ci=(ke-Fn)/(q[wn+1].offset-Fn),Pr=q[wn].color,Hr=q[wn+1].color;qt+=Y(Math.round((1-Ci)*Pr[0]+Ci*Hr[0]).toString(16))+Y(Math.round((1-Ci)*Pr[1]+Ci*Hr[1]).toString(16))+Y(Math.round((1-Ci)*Pr[2]+Ci*Hr[2]).toString(16))}return qt.trim()},We=function(q,ae){ae||(ae=21);var ke=ct(),Oe=ye(q.colors,ae),Ue=[];Ue.push({key:"FunctionType",value:"0"}),Ue.push({key:"Domain",value:"[0.0 1.0]"}),Ue.push({key:"Size",value:"["+ae+"]"}),Ue.push({key:"BitsPerSample",value:"8"}),Ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),kn({data:Oe,additionalKeyValues:Ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ke}),se("endobj"),q.objectNumber=ct(),se("<< /ShadingType "+q.type),se("/ColorSpace /DeviceRGB");var rt="/Coords ["+B(parseFloat(q.coords[0]))+" "+B(parseFloat(q.coords[1]))+" ";q.type===2?rt+=B(parseFloat(q.coords[2]))+" "+B(parseFloat(q.coords[3])):rt+=B(parseFloat(q.coords[2]))+" "+B(parseFloat(q.coords[3]))+" "+B(parseFloat(q.coords[4]))+" "+B(parseFloat(q.coords[5])),se(rt+="]"),q.matrix&&se("/Matrix ["+q.matrix.toString()+"]"),se("/Function "+ke+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},dt=function(q,ae){var ke=vn(),Oe=ct();ae.push({resourcesOid:ke,objectOid:Oe}),q.objectNumber=Oe;var Ue=[];Ue.push({key:"Type",value:"/Pattern"}),Ue.push({key:"PatternType",value:"1"}),Ue.push({key:"PaintType",value:"1"}),Ue.push({key:"TilingType",value:"1"}),Ue.push({key:"BBox",value:"["+q.boundingBox.map(B).join(" ")+"]"}),Ue.push({key:"XStep",value:B(q.xStep)}),Ue.push({key:"YStep",value:B(q.yStep)}),Ue.push({key:"Resources",value:ke+" 0 R"}),q.matrix&&Ue.push({key:"Matrix",value:"["+q.matrix.toString()+"]"}),kn({data:q.stream,additionalKeyValues:Ue,objectId:q.objectNumber}),se("endobj")},it=function(q){var ae;for(ae in Rt)Rt.hasOwnProperty(ae)&&(Rt[ae]instanceof Am?We(Rt[ae]):Rt[ae]instanceof D0&&dt(Rt[ae],q))},Pt=function(q){for(var ae in q.objectNumber=ct(),se("<<"),q)switch(ae){case"opacity":se("/ca "+W(q[ae]));break;case"stroke-opacity":se("/CA "+W(q[ae]))}se(">>"),se("endobj")},Qt=function(){var q;for(q in Wn)Wn.hasOwnProperty(q)&&Pt(Wn[q])},Yt=function(){for(var q in se("/XObject <<"),on)on.hasOwnProperty(q)&&on[q].objectNumber>=0&&se("/"+q+" "+on[q].objectNumber+" 0 R");Ft.publish("putXobjectDict"),se(">>")},Jn=function(){io.oid=ct(),se("<<"),se("/Filter /Standard"),se("/V "+io.v),se("/R "+io.r),se("/U <"+io.toHexString(io.U)+">"),se("/O <"+io.toHexString(io.O)+">"),se("/P "+io.P),se(">>"),se("endobj")},xn=function(){for(var q in se("/Font <<"),Dt)Dt.hasOwnProperty(q)&&(d===!1||d===!0&&f.hasOwnProperty(q))&&se("/"+q+" "+Dt[q].objectNumber+" 0 R");se(">>")},yn=function(){if(Object.keys(Rt).length>0){for(var q in se("/Shading <<"),Rt)Rt.hasOwnProperty(q)&&Rt[q]instanceof Am&&Rt[q].objectNumber>=0&&se("/"+q+" "+Rt[q].objectNumber+" 0 R");Ft.publish("putShadingPatternDict"),se(">>")}},Cn=function(q){if(Object.keys(Rt).length>0){for(var ae in se("/Pattern <<"),Rt)Rt.hasOwnProperty(ae)&&Rt[ae]instanceof h.TilingPattern&&Rt[ae].objectNumber>=0&&Rt[ae].objectNumber<q&&se("/"+ae+" "+Rt[ae].objectNumber+" 0 R");Ft.publish("putTilingPatternDict"),se(">>")}},tr=function(){if(Object.keys(Wn).length>0){var q;for(q in se("/ExtGState <<"),Wn)Wn.hasOwnProperty(q)&&Wn[q].objectNumber>=0&&se("/"+q+" "+Wn[q].objectNumber+" 0 R");Ft.publish("putGStateDict"),se(">>")}},$n=function(q){Mt(q.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),xn(),yn(),Cn(q.objectOid),tr(),Yt(),se(">>"),se("endobj")},yi=function(){var q=[];yr(),Qt(),Ur(),it(q),Ft.publish("putResources"),q.forEach($n),$n({resourcesOid:Jt,objectOid:Number.MAX_SAFE_INTEGER}),Ft.publish("postPutResources")},Ii=function(){Ft.publish("putAdditionalObjects");for(var q=0;q<ue.length;q++){var ae=ue[q];Mt(ae.objId,!0),se(ae.content),se("endobj")}Ft.publish("postPutAdditionalObjects")},Yr=function(q){Vt[q.fontName]=Vt[q.fontName]||{},Vt[q.fontName][q.fontStyle]=q.id},ho=function(q,ae,ke,Oe,Ue){var rt={id:"F"+(Object.keys(Dt).length+1).toString(10),postScriptName:q,fontName:ae,fontStyle:ke,encoding:Oe,isStandardFont:Ue||!1,metadata:{}};return Ft.publish("addFont",{font:rt,instance:this}),Dt[rt.id]=rt,Yr(rt),rt.id},zo=function(q){for(var ae=0,ke=Ee.length;ae<ke;ae++){var Oe=ho.call(this,q[ae][0],q[ae][1],q[ae][2],Ee[ae][3],!0);d===!1&&(f[Oe]=!0);var Ue=q[ae][0].split("-");Yr({id:Oe,fontName:Ue[0],fontStyle:Ue[1]||""})}Ft.publish("addFonts",{fonts:Dt,dictionary:Vt})},Mr=function(q){return q.foo=function(){try{return q.apply(this,arguments)}catch(Oe){var ae=Oe.stack||"";~ae.indexOf(" at ")&&(ae=ae.split(" at ")[1]);var ke="Error in function "+ae.split(`
`)[0].split("<")[0]+": "+Oe.message;if(!Nn.console)throw new Error(ke);Nn.console.error(ke,Oe),Nn.alert&&alert(ke)}},q.foo.bar=q,q.foo},_s=function(q,ae){var ke,Oe,Ue,rt,xt,qt,wn,Vn,Fn;if(Ue=(ae=ae||{}).sourceEncoding||"Unicode",xt=ae.outputEncoding,(ae.autoencode||xt)&&Dt[lt].metadata&&Dt[lt].metadata[Ue]&&Dt[lt].metadata[Ue].encoding&&(rt=Dt[lt].metadata[Ue].encoding,!xt&&Dt[lt].encoding&&(xt=Dt[lt].encoding),!xt&&rt.codePages&&(xt=rt.codePages[0]),typeof xt=="string"&&(xt=rt[xt]),xt)){for(wn=!1,qt=[],ke=0,Oe=q.length;ke<Oe;ke++)(Vn=xt[q.charCodeAt(ke)])?qt.push(String.fromCharCode(Vn)):qt.push(q[ke]),qt[ke].charCodeAt(0)>>8&&(wn=!0);q=qt.join("")}for(ke=q.length;wn===void 0&&ke!==0;)q.charCodeAt(ke-1)>>8&&(wn=!0),ke--;if(!wn)return q;for(qt=ae.noBOM?[]:[254,255],ke=0,Oe=q.length;ke<Oe;ke++){if((Fn=(Vn=q.charCodeAt(ke))>>8)>>8)throw new Error("Character at position "+ke+" of string '"+q+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qt.push(Fn),qt.push(Vn-(Fn<<8))}return String.fromCharCode.apply(void 0,qt)},fo=h.__private__.pdfEscape=h.pdfEscape=function(q,ae){return _s(q,ae).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ao=h.__private__.beginPage=function(q){re[++wi]=[],It[wi]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(q[0]),topRightY:Number(q[1])}},Ya(wi),ie(re[X])},di=function(q,ae){var ke,Oe,Ue;switch(t=ae||t,typeof q=="string"&&(ke=v(q.toLowerCase()),Array.isArray(ke)&&(Oe=ke[0],Ue=ke[1])),Array.isArray(q)&&(Oe=q[0]*st,Ue=q[1]*st),isNaN(Oe)&&(Oe=r[0],Ue=r[1]),(Oe>14400||Ue>14400)&&(wr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Oe=Math.min(14400,Oe),Ue=Math.min(14400,Ue)),r=[Oe,Ue],t.substr(0,1)){case"l":Ue>Oe&&(r=[Ue,Oe]);break;case"p":Oe>Ue&&(r=[Ue,Oe])}Ao(r),zm(xd),se(Ma),df!==0&&se(df+" J"),kd!==0&&se(kd+" j"),Ft.publish("addPage",{pageNumber:wi})},Mi=function(q){q>0&&q<=wi&&(re.splice(q,1),It.splice(q,1),wi--,X>wi&&(X=wi),this.setPage(X))},Ya=function(q){q>0&&q<=wi&&(X=q)},na=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return re.length-1},Ll=function(q,ae,ke){var Oe,Ue=void 0;return ke=ke||{},q=q!==void 0?q:Dt[lt].fontName,ae=ae!==void 0?ae:Dt[lt].fontStyle,Oe=q.toLowerCase(),Vt[Oe]!==void 0&&Vt[Oe][ae]!==void 0?Ue=Vt[Oe][ae]:Vt[q]!==void 0&&Vt[q][ae]!==void 0?Ue=Vt[q][ae]:ke.disableWarning===!1&&wr.warn("Unable to look up font label for font '"+q+"', '"+ae+"'. Refer to getFontList() for available fonts."),Ue||ke.noFallback||(Ue=Vt.times[ae])==null&&(Ue=Vt.times.normal),Ue},To=h.__private__.putInfo=function(){var q=ct(),ae=function(Oe){return Oe};for(var ke in u!==null&&(ae=io.encryptor(q,0)),se("<<"),se("/Producer ("+fo(ae("jsPDF "+An.version))+")"),bt)bt.hasOwnProperty(ke)&&bt[ke]&&se("/"+ke.substr(0,1).toUpperCase()+ke.substr(1)+" ("+fo(ae(bt[ke]))+")");se("/CreationDate ("+fo(ae(w))+")"),se(">>"),se("endobj")},as=h.__private__.putCatalog=function(q){var ae=(q=q||{}).rootDictionaryObjId||li;switch(ct(),se("<<"),se("/Type /Catalog"),se("/Pages "+ae+" 0 R"),Se||(Se="fullwidth"),Se){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ke=""+Se;ke.substr(ke.length-1)==="%"&&(Se=parseInt(Se)/100),typeof Se=="number"&&se("/OpenAction [3 0 R /XYZ null null "+W(Se)+"]")}switch(tt||(tt="continuous"),tt){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}Ze&&se("/PageMode /"+Ze),Ft.publish("putCatalog"),se(">>"),se("endobj")},ia=h.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(P+1)),se("/Root "+P+" 0 R"),se("/Info "+(P-1)+" 0 R"),u!==null&&se("/Encrypt "+io.oid+" 0 R"),se("/ID [ <"+_+"> <"+_+"> ]"),se(">>")},Fl=h.__private__.putHeader=function(){se("%PDF-"+m),se("%\xBA\xDF\xAC\xE0")},vc=h.__private__.putXRef=function(){var q="0000000000";se("xref"),se("0 "+(P+1)),se("0000000000 65535 f ");for(var ae=1;ae<=P;ae++)typeof M[ae]=="function"?se((q+M[ae]()).slice(-10)+" 00000 n "):M[ae]!==void 0?se((q+M[ae]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},Xr=h.__private__.buildDocument=function(){xe(),ie($),Ft.publish("buildDocument"),Fl(),Ei(),Ii(),yi(),u!==null&&Jn(),To(),as();var q=te;return vc(),ia(),se("startxref"),se(""+q),se("%%EOF"),ie(re[X]),$.join(`
`)},ls=h.__private__.getBlob=function(q){return new Blob([Ae(q)],{type:"application/pdf"})},Xa=h.output=h.__private__.output=Mr(function(q,ae){switch(typeof(ae=ae||{})=="string"?ae={filename:ae}:ae.filename=ae.filename||"generated.pdf",q){case void 0:return Xr();case"save":h.save(ae.filename);break;case"arraybuffer":return Ae(Xr());case"blob":return ls(Xr());case"bloburi":case"bloburl":if(Nn.URL!==void 0&&typeof Nn.URL.createObjectURL=="function")return Nn.URL&&Nn.URL.createObjectURL(ls(Xr()))||void 0;wr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ke="",Oe=Xr();try{ke=GI(Oe)}catch{ke=GI(unescape(encodeURIComponent(Oe)))}return"data:application/pdf;filename="+ae.filename+";base64,"+ke;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Nn)==="[object Window]"){var Ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",rt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ae.pdfObjectUrl&&(Ue=ae.pdfObjectUrl,rt="");var xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ue+'"'+rt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ae)+");<\/script></body></html>",qt=Nn.open();return qt!==null&&qt.document.write(xt),qt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Nn)==="[object Window]"){var wn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ae.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ae.filename+'" width="500px" height="400px" /></body></html>',Vn=Nn.open();if(Vn!==null){Vn.document.write(wn);var Fn=this;Vn.document.documentElement.querySelector("#pdfViewer").onload=function(){Vn.document.title=ae.filename,Vn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Fn.output("bloburl"))}}return Vn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Nn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ci='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ae)+'"></iframe></body></html>',Pr=Nn.open();if(Pr!==null&&(Pr.document.write(Ci),Pr.document.title=ae.filename),Pr||typeof safari>"u")return Pr;break;case"datauri":case"dataurl":return Nn.document.location.href=this.output("datauristring",ae);default:return null}}),Ja=function(q){return Array.isArray(ur)===!0&&ur.indexOf(q)>-1};switch(i){case"pt":st=1;break;case"mm":st=72/25.4;break;case"cm":st=72/2.54;break;case"in":st=72;break;case"px":st=Ja("px_scaling")==1?.75:96/72;break;case"pc":case"em":st=12;break;case"ex":st=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);st=i}var io=null;Z(),C();var wc=function(q){return u!==null?io.encryptor(q,0):function(ae){return ae}},Bl=h.__private__.getPageInfo=h.getPageInfo=function(q){if(isNaN(q)||q%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:It[q].objId,pageNumber:q,pageContext:It[q]}},On=h.__private__.getPageInfoByObjId=function(q){if(isNaN(q)||q%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ae in It)if(It[ae].objId===q)break;return Bl(ae)},yc=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:It[X].objId,pageNumber:X,pageContext:It[X]}};h.addPage=function(){return di.apply(this,arguments),this},h.setPage=function(){return Ya.apply(this,arguments),ie.call(this,re[X]),this},h.insertPage=function(q){return this.addPage(),this.movePage(X,q),this},h.movePage=function(q,ae){var ke,Oe;if(q>ae){ke=re[q],Oe=It[q];for(var Ue=q;Ue>ae;Ue--)re[Ue]=re[Ue-1],It[Ue]=It[Ue-1];re[ae]=ke,It[ae]=Oe,this.setPage(ae)}else if(q<ae){ke=re[q],Oe=It[q];for(var rt=q;rt<ae;rt++)re[rt]=re[rt+1],It[rt]=It[rt+1];re[ae]=ke,It[ae]=Oe,this.setPage(ae)}return this},h.deletePage=function(){return Mi.apply(this,arguments),this},h.__private__.text=h.text=function(q,ae,ke,Oe,Ue){var rt,xt,qt,wn,Vn,Fn,Ci,Pr,Hr,ro=(Oe=Oe||{}).scope||this;if(typeof q=="number"&&typeof ae=="number"&&(typeof ke=="string"||Array.isArray(ke))){var Uo=ke;ke=ae,ae=q,q=Uo}if(arguments[3]instanceof St?(V("The transform parameter of text() with a Matrix value"),Hr=Ue):(qt=arguments[4],wn=arguments[5],or(Ci=arguments[3])==="object"&&Ci!==null||(typeof qt=="string"&&(wn=qt,qt=null),typeof Ci=="string"&&(wn=Ci,Ci=null),typeof Ci=="number"&&(qt=Ci,Ci=null),Oe={flags:Ci,angle:qt,align:wn})),isNaN(ae)||isNaN(ke)||q==null)throw new Error("Invalid arguments passed to jsPDF.text");if(q.length===0)return ro;var mo="",Pa=!1,xs=typeof Oe.lineHeightFactor=="number"?Oe.lineHeightFactor:bu,il=ro.internal.scaleFactor;function hf(nr){return nr=nr.split("	").join(Array(Oe.TabLen||9).join(" ")),fo(nr,Ci)}function vu(nr){for(var ir,Wr=nr.concat(),po=[],$l=Wr.length;$l--;)typeof(ir=Wr.shift())=="string"?po.push(ir):Array.isArray(nr)&&(ir.length===1||ir[1]===void 0&&ir[2]===void 0)?po.push(ir[0]):po.push([ir[0],ir[1],ir[2]]);return po}function ff(nr,ir){var Wr;if(typeof nr=="string")Wr=ir(nr)[0];else if(Array.isArray(nr)){for(var po,$l,_f=nr.concat(),ds=[],Cu=_f.length;Cu--;)typeof(po=_f.shift())=="string"?ds.push(ir(po)[0]):Array.isArray(po)&&typeof po[0]=="string"&&($l=ir(po[0],po[1],po[2]),ds.push([$l[0],$l[1],$l[2]]));Wr=ds}return Wr}var Dd=!1,mf=!0;if(typeof q=="string")Dd=!0;else if(Array.isArray(q)){var pf=q.concat();xt=[];for(var Ul,Io=pf.length;Io--;)(typeof(Ul=pf.shift())!="string"||Array.isArray(Ul)&&typeof Ul[0]!="string")&&(mf=!1);Dd=mf}if(Dd===!1)throw new Error('Type of text must be string or Array. "'+q+'" is not recognized.');typeof q=="string"&&(q=q.match(/[\r?\n]/)?q.split(/\r\n|\r|\n/g):[q]);var Od=Te/ro.internal.scaleFactor,Rd=Od*(xs-1);switch(Oe.baseline){case"bottom":ke-=Rd;break;case"top":ke+=Od-Rd;break;case"hanging":ke+=Od-2*Rd;break;case"middle":ke+=Od/2-Rd}if((Fn=Oe.maxWidth||0)>0&&(typeof q=="string"?q=ro.splitTextToSize(q,Fn):Object.prototype.toString.call(q)==="[object Array]"&&(q=q.reduce(function(nr,ir){return nr.concat(ro.splitTextToSize(ir,Fn))},[]))),rt={text:q,x:ae,y:ke,options:Oe,mutex:{pdfEscape:fo,activeFontKey:lt,fonts:Dt,activeFontSize:Te}},Ft.publish("preProcessText",rt),q=rt.text,qt=(Oe=rt.options).angle,!(Hr instanceof St)&&qt&&typeof qt=="number"){qt*=Math.PI/180,Oe.rotationDirection===0&&(qt=-qt),I===x.ADVANCED&&(qt=-qt);var Nd=Math.cos(qt),Ld=Math.sin(qt);Hr=new St(Nd,Ld,-Ld,Nd,0,0)}else qt&&qt instanceof St&&(Hr=qt);I!==x.ADVANCED||Hr||(Hr=$e),(Vn=Oe.charSpace||Cd)!==void 0&&(mo+=B(E(Vn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Pr=Oe.horizontalScale)!==void 0&&(mo+=B(100*Pr)+` Tz
`),Oe.lang;var Cs=-1,sb=Oe.renderingMode!==void 0?Oe.renderingMode:Oe.stroke,gf=ro.internal.getCurrentPageInfo().pageContext;switch(sb){case 0:case!1:case"fill":Cs=0;break;case 1:case!0:case"stroke":Cs=1;break;case 2:case"fillThenStroke":Cs=2;break;case 3:case"invisible":Cs=3;break;case 4:case"fillAndAddForClipping":Cs=4;break;case 5:case"strokeAndAddPathForClipping":Cs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Cs=6;break;case 7:case"addToPathForClipping":Cs=7}var Gm=gf.usedRenderingMode!==void 0?gf.usedRenderingMode:-1;Cs!==-1?mo+=Cs+` Tr
`:Gm!==-1&&(mo+=`0 Tr
`),Cs!==-1&&(gf.usedRenderingMode=Cs),wn=Oe.align||"left";var Fs,wu=Te*xs,Km=ro.internal.pageSize.getWidth(),Zm=Dt[lt];Vn=Oe.charSpace||Cd,Fn=Oe.maxWidth||0,Ci=Object.assign({autoencode:!0,noBOM:!0},Oe.flags);var Sc=[],Ac=function(nr){return ro.getStringUnitWidth(nr,{font:Zm,charSpace:Vn,fontSize:Te,doKerning:!1})*Te/il};if(Object.prototype.toString.call(q)==="[object Array]"){var Ho;xt=vu(q),wn!=="left"&&(Fs=xt.map(Ac));var cs,Tc=0;if(wn==="right"){ae-=Fs[0],q=[],Io=xt.length;for(var Hl=0;Hl<Io;Hl++)Hl===0?(cs=tl(ae),Ho=jl(ke)):(cs=E(Tc-Fs[Hl]),Ho=-wu),q.push([xt[Hl],cs,Ho]),Tc=Fs[Hl]}else if(wn==="center"){ae-=Fs[0]/2,q=[],Io=xt.length;for(var Ic=0;Ic<Io;Ic++)Ic===0?(cs=tl(ae),Ho=jl(ke)):(cs=E((Tc-Fs[Ic])/2),Ho=-wu),q.push([xt[Ic],cs,Ho]),Tc=Fs[Ic]}else if(wn==="left"){q=[],Io=xt.length;for(var bf=0;bf<Io;bf++)q.push(xt[bf])}else if(wn==="justify"&&Zm.encoding==="Identity-H"){q=[],Io=xt.length,Fn=Fn!==0?Fn:Km;for(var Mc=0,Jr=0;Jr<Io;Jr++)if(Ho=Jr===0?jl(ke):-wu,cs=Jr===0?tl(ae):Mc,Jr<Io-1){var vf=E((Fn-Fs[Jr])/(xt[Jr].split(" ").length-1)),Wo=xt[Jr].split(" ");q.push([Wo[0]+" ",cs,Ho]),Mc=0;for(var ra=1;ra<Wo.length;ra++){var Fd=(Ac(Wo[ra-1]+" "+Wo[ra])-Ac(Wo[ra]))*il+vf;ra==Wo.length-1?q.push([Wo[ra],Fd,0]):q.push([Wo[ra]+" ",Fd,0]),Mc-=Fd}}else q.push([xt[Jr],cs,Ho]);q.push(["",Mc,0])}else{if(wn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(q=[],Io=xt.length,Fn=Fn!==0?Fn:Km,Jr=0;Jr<Io;Jr++)Ho=Jr===0?jl(ke):-wu,cs=Jr===0?tl(ae):0,Jr<Io-1?Sc.push(B(E((Fn-Fs[Jr])/(xt[Jr].split(" ").length-1)))):Sc.push(0),q.push([xt[Jr],cs,Ho])}}var Ym=typeof Oe.R2L=="boolean"?Oe.R2L:He;Ym===!0&&(q=ff(q,function(nr,ir,Wr){return[nr.split("").reverse().join(""),ir,Wr]})),rt={text:q,x:ae,y:ke,options:Oe,mutex:{pdfEscape:fo,activeFontKey:lt,fonts:Dt,activeFontSize:Te}},Ft.publish("postProcessText",rt),q=rt.text,Pa=rt.mutex.isHex||!1;var wf=Dt[lt].encoding;wf!=="WinAnsiEncoding"&&wf!=="StandardEncoding"||(q=ff(q,function(nr,ir,Wr){return[hf(nr),ir,Wr]})),xt=vu(q),q=[];for(var yu,_u,Pc,xu=0,Bd=1,Bs=Array.isArray(xt[0])?Bd:xu,Wl="",yf=function(nr,ir,Wr){var po="";return Wr instanceof St?(Wr=typeof Oe.angle=="number"?Ie(Wr,new St(1,0,0,1,nr,ir)):Ie(new St(1,0,0,1,nr,ir),Wr),I===x.ADVANCED&&(Wr=Ie(new St(1,0,0,-1,0,0),Wr)),po=Wr.join(" ")+` Tm
`):po=B(nr)+" "+B(ir)+` Td
`,po},us=0;us<xt.length;us++){switch(Wl="",Bs){case Bd:Pc=(Pa?"<":"(")+xt[us][0]+(Pa?">":")"),yu=parseFloat(xt[us][1]),_u=parseFloat(xt[us][2]);break;case xu:Pc=(Pa?"<":"(")+xt[us]+(Pa?">":")"),yu=tl(ae),_u=jl(ke)}Sc!==void 0&&Sc[us]!==void 0&&(Wl=Sc[us]+` Tw
`),us===0?q.push(Wl+yf(yu,_u,Hr)+Pc):Bs===xu?q.push(Wl+Pc):Bs===Bd&&q.push(Wl+yf(yu,_u,Hr)+Pc)}q=Bs===xu?q.join(` Tj
T* `):q.join(` Tj
`),q+=` Tj
`;var oa=`BT
/`;return oa+=lt+" "+Te+` Tf
`,oa+=B(Te*xs)+` TL
`,oa+=nl+`
`,oa+=mo,oa+=q,se(oa+="ET"),f[lt]=!0,ro};var _c=h.__private__.clip=h.clip=function(q){return se(q==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return _c("evenodd")},h.__private__.discardPath=h.discardPath=function(){return se("n"),this};var Qa=h.__private__.isValidStyle=function(q){var ae=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(q)!==-1&&(ae=!0),ae};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(q){return Qa(q)&&(c=q),this};var Vl=h.__private__.getStyle=h.getStyle=function(q){var ae=c;switch(q){case"D":case"S":ae="S";break;case"F":ae="f";break;case"FD":case"DF":ae="B";break;case"f":case"f*":case"B":case"B*":ae=q}return ae},jm=h.close=function(){return se("h"),this};h.stroke=function(){return se("S"),this},h.fill=function(q){return wd("f",q),this},h.fillEvenOdd=function(q){return wd("f*",q),this},h.fillStroke=function(q){return wd("B",q),this},h.fillStrokeEvenOdd=function(q){return wd("B*",q),this};var wd=function(q,ae){or(ae)==="object"?el(ae,q):se(q)},yd=function(q){q===null||I===x.ADVANCED&&q===void 0||(q=Vl(q),se(q))};function tb(q,ae,ke,Oe,Ue){var rt=new D0(ae||this.boundingBox,ke||this.xStep,Oe||this.yStep,this.gState,Ue||this.matrix);rt.stream=this.stream;var xt=q+"$$"+this.cloneIndex+++"$$";return Ye(xt,rt),rt}var el=function(q,ae){var ke=rn[q.key],Oe=Rt[ke];if(Oe instanceof Am)se("q"),se(nb(ae)),Oe.gState&&h.setGState(Oe.gState),se(q.matrix.toString()+" cm"),se("/"+ke+" sh"),se("Q");else if(Oe instanceof D0){var Ue=new St(1,0,0,-1,0,zl());q.matrix&&(Ue=Ue.multiply(q.matrix||$e),ke=tb.call(Oe,q.key,q.boundingBox,q.xStep,q.yStep,Ue).id),se("q"),se("/Pattern cs"),se("/"+ke+" scn"),Oe.gState&&h.setGState(Oe.gState),se(ae),se("Q")}},nb=function(q){switch(q){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},_d=h.moveTo=function(q,ae){return se(B(E(q))+" "+B(b(ae))+" m"),this},Ta=h.lineTo=function(q,ae){return se(B(E(q))+" "+B(b(ae))+" l"),this},xc=h.curveTo=function(q,ae,ke,Oe,Ue,rt){return se([B(E(q)),B(b(ae)),B(E(ke)),B(b(Oe)),B(E(Ue)),B(b(rt)),"c"].join(" ")),this};h.__private__.line=h.line=function(q,ae,ke,Oe,Ue){if(isNaN(q)||isNaN(ae)||isNaN(ke)||isNaN(Oe)||!Qa(Ue))throw new Error("Invalid arguments passed to jsPDF.line");return I===x.COMPAT?this.lines([[ke-q,Oe-ae]],q,ae,[1,1],Ue||"S"):this.lines([[ke-q,Oe-ae]],q,ae,[1,1]).stroke()},h.__private__.lines=h.lines=function(q,ae,ke,Oe,Ue,rt){var xt,qt,wn,Vn,Fn,Ci,Pr,Hr,ro,Uo,mo,Pa;if(typeof q=="number"&&(Pa=ke,ke=ae,ae=q,q=Pa),Oe=Oe||[1,1],rt=rt||!1,isNaN(ae)||isNaN(ke)||!Array.isArray(q)||!Array.isArray(Oe)||!Qa(Ue)||typeof rt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(_d(ae,ke),xt=Oe[0],qt=Oe[1],Vn=q.length,Uo=ae,mo=ke,wn=0;wn<Vn;wn++)(Fn=q[wn]).length===2?(Uo=Fn[0]*xt+Uo,mo=Fn[1]*qt+mo,Ta(Uo,mo)):(Ci=Fn[0]*xt+Uo,Pr=Fn[1]*qt+mo,Hr=Fn[2]*xt+Uo,ro=Fn[3]*qt+mo,Uo=Fn[4]*xt+Uo,mo=Fn[5]*qt+mo,xc(Ci,Pr,Hr,ro,Uo,mo));return rt&&jm(),yd(Ue),this},h.path=function(q){for(var ae=0;ae<q.length;ae++){var ke=q[ae],Oe=ke.c;switch(ke.op){case"m":_d(Oe[0],Oe[1]);break;case"l":Ta(Oe[0],Oe[1]);break;case"c":xc.apply(this,Oe);break;case"h":jm()}}return this},h.__private__.rect=h.rect=function(q,ae,ke,Oe,Ue){if(isNaN(q)||isNaN(ae)||isNaN(ke)||isNaN(Oe)||!Qa(Ue))throw new Error("Invalid arguments passed to jsPDF.rect");return I===x.COMPAT&&(Oe=-Oe),se([B(E(q)),B(b(ae)),B(E(ke)),B(E(Oe)),"re"].join(" ")),yd(Ue),this},h.__private__.triangle=h.triangle=function(q,ae,ke,Oe,Ue,rt,xt){if(isNaN(q)||isNaN(ae)||isNaN(ke)||isNaN(Oe)||isNaN(Ue)||isNaN(rt)||!Qa(xt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ke-q,Oe-ae],[Ue-ke,rt-Oe],[q-Ue,ae-rt]],q,ae,[1,1],xt,!0),this},h.__private__.roundedRect=h.roundedRect=function(q,ae,ke,Oe,Ue,rt,xt){if(isNaN(q)||isNaN(ae)||isNaN(ke)||isNaN(Oe)||isNaN(Ue)||isNaN(rt)||!Qa(xt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var qt=4/3*(Math.SQRT2-1);return Ue=Math.min(Ue,.5*ke),rt=Math.min(rt,.5*Oe),this.lines([[ke-2*Ue,0],[Ue*qt,0,Ue,rt-rt*qt,Ue,rt],[0,Oe-2*rt],[0,rt*qt,-Ue*qt,rt,-Ue,rt],[2*Ue-ke,0],[-Ue*qt,0,-Ue,-rt*qt,-Ue,-rt],[0,2*rt-Oe],[0,-rt*qt,Ue*qt,-rt,Ue,-rt]],q+Ue,ae,[1,1],xt,!0),this},h.__private__.ellipse=h.ellipse=function(q,ae,ke,Oe,Ue){if(isNaN(q)||isNaN(ae)||isNaN(ke)||isNaN(Oe)||!Qa(Ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var rt=4/3*(Math.SQRT2-1)*ke,xt=4/3*(Math.SQRT2-1)*Oe;return _d(q+ke,ae),xc(q+ke,ae-xt,q+rt,ae-Oe,q,ae-Oe),xc(q-rt,ae-Oe,q-ke,ae-xt,q-ke,ae),xc(q-ke,ae+xt,q-rt,ae+Oe,q,ae+Oe),xc(q+rt,ae+Oe,q+ke,ae+xt,q+ke,ae),yd(Ue),this},h.__private__.circle=h.circle=function(q,ae,ke,Oe){if(isNaN(q)||isNaN(ae)||isNaN(ke)||!Qa(Oe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(q,ae,ke,ke,Oe)},h.setFont=function(q,ae,ke){return ke&&(ae=F(ae,ke)),lt=Ll(q,ae,{disableWarning:!1}),this};var ib=h.__private__.getFont=h.getFont=function(){return Dt[Ll.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var q,ae,ke={};for(q in Vt)if(Vt.hasOwnProperty(q))for(ae in ke[q]=[],Vt[q])Vt[q].hasOwnProperty(ae)&&ke[q].push(ae);return ke},h.addFont=function(q,ae,ke,Oe,Ue){var rt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&rt.indexOf(arguments[3])!==-1?Ue=arguments[3]:arguments[3]&&rt.indexOf(arguments[3])==-1&&(ke=F(ke,Oe)),Ue=Ue||"Identity-H",ho.call(this,q,ae,ke,Ue)};var bu,xd=n.lineWidth||.200025,Ia=h.__private__.getLineWidth=h.getLineWidth=function(){return xd},zm=h.__private__.setLineWidth=h.setLineWidth=function(q){return xd=q,se(B(E(q))+" w"),this};h.__private__.setLineDash=An.API.setLineDash=An.API.setLineDashPattern=function(q,ae){if(q=q||[],ae=ae||0,isNaN(ae)||!Array.isArray(q))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return q=q.map(function(ke){return B(E(ke))}).join(" "),ae=B(E(ae)),se("["+q+"] "+ae+" d"),this};var Um=h.__private__.getLineHeight=h.getLineHeight=function(){return Te*bu};h.__private__.getLineHeight=h.getLineHeight=function(){return Te*bu};var Hm=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(q){return typeof(q=q||1.15)=="number"&&(bu=q),this},Wm=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return bu};Hm(n.lineHeight);var tl=h.__private__.getHorizontalCoordinate=function(q){return E(q)},jl=h.__private__.getVerticalCoordinate=function(q){return I===x.ADVANCED?q:It[X].mediaBox.topRightY-It[X].mediaBox.bottomLeftY-E(q)},rb=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(q){return B(tl(q))},Cc=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(q){return B(jl(q))},Ma=n.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Bt(Ma)},h.__private__.setStrokeColor=h.setDrawColor=function(q,ae,ke,Oe){return Ma=Kn({ch1:q,ch2:ae,ch3:ke,ch4:Oe,pdfColorType:"draw",precision:2}),se(Ma),this};var uf=n.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Bt(uf)},h.__private__.setFillColor=h.setFillColor=function(q,ae,ke,Oe){return uf=Kn({ch1:q,ch2:ae,ch3:ke,ch4:Oe,pdfColorType:"fill",precision:2}),se(uf),this};var nl=n.textColor||"0 g",$m=h.__private__.getTextColor=h.getTextColor=function(){return Bt(nl)};h.__private__.setTextColor=h.setTextColor=function(q,ae,ke,Oe){return nl=Kn({ch1:q,ch2:ae,ch3:ke,ch4:Oe,pdfColorType:"text",precision:3}),this};var Cd=n.charSpace,ob=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Cd||0)};h.__private__.setCharSpace=h.setCharSpace=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Cd=q,this};var df=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(q){var ae=h.CapJoinStyles[q];if(ae===void 0)throw new Error("Line cap style of '"+q+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return df=ae,se(ae+" J"),this};var kd=0;h.__private__.setLineJoin=h.setLineJoin=function(q){var ae=h.CapJoinStyles[q];if(ae===void 0)throw new Error("Line join style of '"+q+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return kd=ae,se(ae+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(q){if(q=q||0,isNaN(q))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(B(E(q))+" M"),this},h.GState=CC,h.setGState=function(q){(q=typeof q=="string"?Wn[fn[q]]:qm(null,q)).equals(pn)||(se("/"+q.id+" gs"),pn=q)};var qm=function(q,ae){if(!q||!fn[q]){var ke=!1;for(var Oe in Wn)if(Wn.hasOwnProperty(Oe)&&Wn[Oe].equals(ae)){ke=!0;break}if(ke)ae=Wn[Oe];else{var Ue="GS"+(Object.keys(Wn).length+1).toString(10);Wn[Ue]=ae,ae.id=Ue}return q&&(fn[q]=ae.id),Ft.publish("addGState",ae),ae}};h.addGState=function(q,ae){return qm(q,ae),this},h.saveGraphicsState=function(){return se("q"),jr.push({key:lt,size:Te,color:nl}),this},h.restoreGraphicsState=function(){se("Q");var q=jr.pop();return lt=q.key,Te=q.size,nl=q.color,pn=null,this},h.setCurrentTransformationMatrix=function(q){return se(q.toString()+" cm"),this},h.comment=function(q){return se("#"+q),this};var kc=function(q,ae){var ke=q||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ke},set:function(rt){isNaN(rt)||(ke=parseFloat(rt))}});var Oe=ae||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Oe},set:function(rt){isNaN(rt)||(Oe=parseFloat(rt))}});var Ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ue},set:function(rt){Ue=rt.toString()}}),this},Ed=function(q,ae,ke,Oe){kc.call(this,q,ae),this.type="rect";var Ue=ke||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ue},set:function(xt){isNaN(xt)||(Ue=parseFloat(xt))}});var rt=Oe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return rt},set:function(xt){isNaN(xt)||(rt=parseFloat(xt))}}),this},Sd=function(){this.page=wi,this.currentPage=X,this.pages=re.slice(0),this.pagesContext=It.slice(0),this.x=vt,this.y=at,this.matrix=mn,this.width=Ec(X),this.height=zl(X),this.outputDestination=_e,this.id="",this.objectNumber=-1};Sd.prototype.restore=function(){wi=this.page,X=this.currentPage,It=this.pagesContext,re=this.pages,vt=this.x,at=this.y,mn=this.matrix,Md(X,this.width),Pd(X,this.height),_e=this.outputDestination};var Ad=function(q,ae,ke,Oe,Ue){zr.push(new Sd),wi=X=0,re=[],vt=q,at=ae,mn=Ue,Ao([ke,Oe])},Td=function(q){if(ln[q])zr.pop().restore();else{var ae=new Sd,ke="Xo"+(Object.keys(on).length+1).toString(10);ae.id=ke,ln[q]=ke,on[ke]=ae,Ft.publish("addFormObject",ae),zr.pop().restore()}};for(var Id in h.beginFormObject=function(q,ae,ke,Oe,Ue){return Ad(q,ae,ke,Oe,Ue),this},h.endFormObject=function(q){return Td(q),this},h.doFormObject=function(q,ae){var ke=on[ln[q]];return se("q"),se(ae.toString()+" cm"),se("/"+ke.id+" Do"),se("Q"),this},h.getFormObject=function(q){var ae=on[ln[q]];return{x:ae.x,y:ae.y,width:ae.width,height:ae.height,matrix:ae.matrix}},h.save=function(q,ae){return q=q||"generated.pdf",(ae=ae||{}).returnPromise=ae.returnPromise||!1,ae.returnPromise===!1?(Sm(ls(Xr()),q),typeof Sm.unload=="function"&&Nn.setTimeout&&setTimeout(Sm.unload,911),this):new Promise(function(ke,Oe){try{var Ue=Sm(ls(Xr()),q);typeof Sm.unload=="function"&&Nn.setTimeout&&setTimeout(Sm.unload,911),ke(Ue)}catch(rt){Oe(rt.message)}})},An.API)An.API.hasOwnProperty(Id)&&(Id==="events"&&An.API.events.length?function(q,ae){var ke,Oe,Ue;for(Ue=ae.length-1;Ue!==-1;Ue--)ke=ae[Ue][0],Oe=ae[Ue][1],q.subscribe.apply(q,[ke].concat(typeof Oe=="function"?[Oe]:Oe))}(Ft,An.API.events):h[Id]=An.API[Id]);var Ec=h.getPageWidth=function(q){return(It[q=q||X].mediaBox.topRightX-It[q].mediaBox.bottomLeftX)/st},Md=h.setPageWidth=function(q,ae){It[q].mediaBox.topRightX=ae*st+It[q].mediaBox.bottomLeftX},zl=h.getPageHeight=function(q){return(It[q=q||X].mediaBox.topRightY-It[q].mediaBox.bottomLeftY)/st},Pd=h.setPageHeight=function(q,ae){It[q].mediaBox.topRightY=ae*st+It[q].mediaBox.bottomLeftY};return h.internal={pdfEscape:fo,getStyle:Vl,getFont:ib,getFontSize:Fe,getCharSpace:ob,getTextColor:$m,getLineHeight:Um,getLineHeightFactor:Wm,getLineWidth:Ia,write:ge,getHorizontalCoordinate:tl,getVerticalCoordinate:jl,getCoordinateString:rb,getVerticalCoordinateString:Cc,collections:{},newObject:ct,newAdditionalObject:Et,newObjectDeferred:vn,newObjectDeferredBegin:Mt,getFilters:Dn,putStream:kn,events:Ft,scaleFactor:st,pageSize:{getWidth:function(){return Ec(X)},setWidth:function(q){Md(X,q)},getHeight:function(){return zl(X)},setHeight:function(q){Pd(X,q)}},encryptionOptions:u,encryption:io,getEncryptor:wc,output:Xa,getNumberOfPages:na,pages:re,out:se,f2:W,f3:k,getPageInfo:Bl,getPageInfoByObjId:On,getCurrentPageInfo:yc,getPDFVersion:p,Point:kc,Rectangle:Ed,Matrix:St,hasHotfix:Ja},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Ec(X)},set:function(q){Md(X,q)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return zl(X)},set:function(q){Pd(X,q)},enumerable:!0,configurable:!0}),zo.call(h,Ee),lt="F1",di(r,t),Ft.publish("initialized"),h}M0.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},M0.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},M0.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},M0.prototype.processOwnerPassword=function(n,e){return ZI(KI(e).substr(0,5),n)},M0.prototype.encryptor=function(n,e){var t=KI(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return ZI(t,i)}},CC.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||or(n)!==or(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;i++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return i===0},An.API={events:[]},An.version="2.5.2";var uo=An.API,QI=1,Im=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T0=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Yn=function(n){return n.toFixed(2)},ef=function(n){return n.toFixed(5)};uo.__acroform__={};var Aa=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},kU=function(n){return n*QI},hu=function(n){var e=new zU,t=cn.internal.getHeight(n)||0,i=cn.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Yn(i)),Number(Yn(t))],e},gve=uo.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},bve=uo.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},vve=uo.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},vo=uo.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return vve(n,e-1)},wo=uo.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return gve(n,e-1)},yo=uo.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return bve(n,e-1)},wve=uo.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,r=n[0],o=n[1],s=n[2],a=n[3],l={};return l.lowerLeft_X=t(r)||0,l.lowerLeft_Y=i(o+a)||0,l.upperRight_X=t(r+s)||0,l.upperRight_Y=i(o)||0,[Number(Yn(l.lowerLeft_X)),Number(Yn(l.lowerLeft_Y)),Number(Yn(l.upperRight_X)),Number(Yn(l.upperRight_Y))]},yve=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,i=YI(n,t),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+r+" "+Yn(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=hu(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},YI=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=n.multiline?r.map(function(k){return k.split(`
`)}):r.map(function(k){return[k]});var o=t,s=cn.internal.getHeight(n)||0;s=s<0?-s:s;var a=cn.internal.getWidth(n)||0;a=a<0?-a:a;var l=function(k,E,L){if(k+1<r.length){var b=E+" "+r[k+1][0];return gC(b,n,L).width<=a-4}return!1};o++;e:for(;o>0;){e="",o--;var c,u,d=gC("3",n,o).height,f=n.multiline?s-o:(s-d)/2,h=f+=2,m=0,p=0,g=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+gC(e,n,o=12).width+", FieldWidth:"+a+`
`;break}for(var v="",x=0,I=0;I<r.length;I++)if(r.hasOwnProperty(I)){var N=!1;if(r[I].length!==1&&g!==r[I].length-1){if((d+2)*(x+2)+2>s)continue e;v+=r[I][g],N=!0,p=I,I--}else{v=(v+=r[I][g]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var H=parseInt(I),F=l(H,v,o),B=I>=r.length-1;if(F&&!B){v+=" ",g=0;continue}if(F||B){if(B)p=H;else if(n.multiline&&(d+2)*(x+2)+2>s)continue e}else{if(!n.multiline||(d+2)*(x+2)+2>s)continue e;p=H}}for(var V="",G=m;G<=p;G++){var W=r[G];if(n.multiline){if(G===p){V+=W[g]+" ",g=(g+1)%W.length;continue}if(G===m){V+=W[W.length-1]+" ";continue}}V+=W[0]+" "}switch(V=V.substr(V.length-1)==" "?V.substr(0,V.length-1):V,u=gC(V,n,o).width,n.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;case"left":default:c=2}e+=Yn(c)+" "+Yn(h)+` Td
`,e+="("+Im(V)+`) Tj
`,e+=-Yn(c)+` 0 Td
`,h=-(o+2),u=0,m=N?p:p+1,x++,v=""}break}return i.text=e,i.fontSize=o,i},gC=function(n,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:r}},_ve={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},xve=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},Cve=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var i=t,r=n[t];e.internal.newObjectDeferredBegin(r.objId,!0),or(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete n[i]}},kve=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(mc.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(_ve)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");QI=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new UU,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var o=i[r];o.objId=void 0,o.hasAnnotation&&xve(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(i,r){var o=!i;for(var s in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(s)){var a=i[s],l=[],c=a.Rect;if(a.Rect&&(a.Rect=wve(a.Rect,r)),r.internal.newObjectDeferredBegin(a.objId,!0),a.DA=cn.createDefaultAppearanceStream(a),or(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=yve(a);l.push({key:"AP",value:"<</N "+u+">>"}),r.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var d="";for(var f in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(f)){var h=a.appearanceStreamContent[f];if(d+="/"+f+" ",d+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var m=h[s];typeof m=="function"&&(m=m.call(r,a)),d+="/"+s+" "+m+" ",r.internal.acroformPlugin.xForms.indexOf(m)>=0||r.internal.acroformPlugin.xForms.push(m)}}else typeof(m=h)=="function"&&(m=m.call(r,a)),d+="/"+s+" "+m,r.internal.acroformPlugin.xForms.indexOf(m)>=0||r.internal.acroformPlugin.xForms.push(m);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}r.internal.putStream({additionalKeyValues:l,objectId:a.objId}),r.internal.out("endobj")}o&&Cve(r.internal.acroformPlugin.xForms,r)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},jU=uo.__acroform__.arrayToPdfArray=function(n,e,t){var i=function(s){return s};if(Array.isArray(n)){for(var r="[",o=0;o<n.length;o++)switch(o!==0&&(r+=" "),or(n[o])){case"boolean":case"number":case"object":r+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(i=t.internal.getEncryptor(e)),r+="("+Im(i(n[o].toString()))+")"):r+=n[o].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},WI=function(n,e,t){var i=function(r){return r};return e!==void 0&&t&&(i=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+Im(i(n))+")"},fu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};fu.prototype.toString=function(){return this.objId+" 0 R"},fu.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},fu.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var i=e[t],r=this[i];r&&(Array.isArray(r)?n.push({key:i,value:jU(r,this.objId,this.scope)}):r instanceof fu?(r.scope=this.scope,n.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&n.push({key:i,value:r}))}return n};var zU=function(){fu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Aa(zU,fu);var UU=function(){fu.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Im(t(n))+")"}},set:function(t){n=t}})};Aa(UU,fu);var mc=function n(){fu.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!vo(e,3)},set:function(v){v?this.F=wo(e,3):this.F=yo(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');t=v}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(v){i=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(v){i[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(v){i[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(v){i[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(v){i[3]=v}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof kC)return;o="FieldObject"+n.FieldNum++}var v=function(x){return x};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Im(v(o))+")"},set:function(v){o=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(v){o=v}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/QI:c},set:function(v){c=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof kC||this instanceof Tm))return WI(d,this.objId,this.scope)},set:function(v){v=v.toString(),d=v}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof os?f:WI(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=this instanceof os?v:v.substr(0,1)==="("?T0(v.substr(1,v.length-2)):T0(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof os?T0(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof os?"/"+v:v}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof os?h:WI(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=this instanceof os?v:v.substr(0,1)==="("?T0(v.substr(1,v.length-2)):T0(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof os?T0(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof os?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(v){v=!!v,p=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(v){m=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!vo(this.Ff,1)},set:function(v){v?this.Ff=wo(this.Ff,1):this.Ff=yo(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!vo(this.Ff,2)},set:function(v){v?this.Ff=wo(this.Ff,2):this.Ff=yo(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!vo(this.Ff,3)},set:function(v){v?this.Ff=wo(this.Ff,3):this.Ff=yo(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');g=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(g){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:g=2;break;case"center":case 1:g=1;break;case"left":case 0:default:g=0}}})};Aa(mc,fu);var O0=function(){mc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return jU(e,this.objId,this.scope)},set:function(t){var i,r;r=[],typeof(i=t)=="string"&&(r=function(o,s,a){a||(a=1);for(var l,c=[];l=s.exec(o);)c.push(l[a]);return c}(i,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!vo(this.Ff,18)},set:function(t){t?this.Ff=wo(this.Ff,18):this.Ff=yo(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!vo(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=wo(this.Ff,19):this.Ff=yo(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!vo(this.Ff,20)},set:function(t){t?(this.Ff=wo(this.Ff,20),e.sort()):this.Ff=yo(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!vo(this.Ff,22)},set:function(t){t?this.Ff=wo(this.Ff,22):this.Ff=yo(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vo(this.Ff,23)},set:function(t){t?this.Ff=wo(this.Ff,23):this.Ff=yo(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!vo(this.Ff,27)},set:function(t){t?this.Ff=wo(this.Ff,27):this.Ff=yo(this.Ff,27)}}),this.hasAppearanceStream=!1};Aa(O0,mc);var R0=function(){O0.call(this),this.fontName="helvetica",this.combo=!1};Aa(R0,O0);var N0=function(){R0.call(this),this.combo=!0};Aa(N0,R0);var wC=function(){N0.call(this),this.edit=!0};Aa(wC,N0);var os=function(){mc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!vo(this.Ff,15)},set:function(t){t?this.Ff=wo(this.Ff,15):this.Ff=yo(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!vo(this.Ff,16)},set:function(t){t?this.Ff=wo(this.Ff,16):this.Ff=yo(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!vo(this.Ff,17)},set:function(t){t?this.Ff=wo(this.Ff,17):this.Ff=yo(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!vo(this.Ff,26)},set:function(t){t?this.Ff=wo(this.Ff,26):this.Ff=yo(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,r=[];for(i in r.push("<<"),e)r.push("/"+i+" ("+Im(t(e[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(t){or(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Aa(os,mc);var yC=function(){os.call(this),this.pushButton=!0};Aa(yC,os);var L0=function(){os.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Aa(L0,os);var kC=function(){var n,e;mc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),i)s.push("/"+o+" ("+Im(r(i[o]))+")");return s.push(">>"),s.join(`
`)},set:function(r){or(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=cn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Aa(kC,mc),L0.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},L0.prototype.createOption=function(n){var e=new kC;return e.Parent=this,e.optionName=n,this.Kids.push(e),Eve.call(this.scope,e),e};var _C=function(){os.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=cn.CheckBox.createAppearanceStream()};Aa(_C,os);var Tm=function(){mc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!vo(this.Ff,13)},set:function(e){e?this.Ff=wo(this.Ff,13):this.Ff=yo(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!vo(this.Ff,21)},set:function(e){e?this.Ff=wo(this.Ff,21):this.Ff=yo(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vo(this.Ff,23)},set:function(e){e?this.Ff=wo(this.Ff,23):this.Ff=yo(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!vo(this.Ff,24)},set:function(e){e?this.Ff=wo(this.Ff,24):this.Ff=yo(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!vo(this.Ff,25)},set:function(e){e?this.Ff=wo(this.Ff,25):this.Ff=yo(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!vo(this.Ff,26)},set:function(e){e?this.Ff=wo(this.Ff,26):this.Ff=yo(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Aa(Tm,mc);var xC=function(){Tm.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!vo(this.Ff,14)},set:function(n){n?this.Ff=wo(this.Ff,14):this.Ff=yo(this.Ff,14)}}),this.password=!0};Aa(xC,Tm);var cn={CheckBox:{createAppearanceStream:function(){return{N:{On:cn.CheckBox.YesNormal},D:{On:cn.CheckBox.YesPushDown,Off:cn.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=hu(n);e.scope=n.scope;var t=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),o=YI(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Yn(cn.internal.getWidth(n))+" "+Yn(cn.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+Yn(o.fontSize)+" Tf "+r),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=hu(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),r=[],o=cn.internal.getHeight(n),s=cn.internal.getWidth(n),a=YI(n,n.caption);return r.push("1 g"),r.push("0 0 "+Yn(s)+" "+Yn(o)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Yn(s-1)+" "+Yn(o-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+t+" "+Yn(a.fontSize)+" Tf "+i),r.push(a.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=hu(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Yn(cn.internal.getWidth(n))+" "+Yn(cn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:cn.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=cn.RadioButton.Circle.YesNormal,e.D[n]=cn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=hu(n);e.scope=n.scope;var t=[],i=cn.internal.getWidth(n)<=cn.internal.getHeight(n)?cn.internal.getWidth(n)/4:cn.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=cn.internal.Bezier_C,o=Number((i*r).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+ef(cn.internal.getWidth(n)/2)+" "+ef(cn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=hu(n);e.scope=n.scope;var t=[],i=cn.internal.getWidth(n)<=cn.internal.getHeight(n)?cn.internal.getWidth(n)/4:cn.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),o=Number((r*cn.internal.Bezier_C).toFixed(5)),s=Number((i*cn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ef(cn.internal.getWidth(n)/2)+" "+ef(cn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+ef(cn.internal.getWidth(n)/2)+" "+ef(cn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=hu(n);e.scope=n.scope;var t=[],i=cn.internal.getWidth(n)<=cn.internal.getHeight(n)?cn.internal.getWidth(n)/4:cn.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),o=Number((r*cn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ef(cn.internal.getWidth(n)/2)+" "+ef(cn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:cn.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=cn.RadioButton.Cross.YesNormal,e.D[n]=cn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=hu(n);e.scope=n.scope;var t=[],i=cn.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Yn(cn.internal.getWidth(n)-2)+" "+Yn(cn.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Yn(i.x1.x)+" "+Yn(i.x1.y)+" m"),t.push(Yn(i.x2.x)+" "+Yn(i.x2.y)+" l"),t.push(Yn(i.x4.x)+" "+Yn(i.x4.y)+" m"),t.push(Yn(i.x3.x)+" "+Yn(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=hu(n);e.scope=n.scope;var t=cn.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+Yn(cn.internal.getWidth(n))+" "+Yn(cn.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Yn(cn.internal.getWidth(n)-2)+" "+Yn(cn.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(Yn(t.x1.x)+" "+Yn(t.x1.y)+" m"),i.push(Yn(t.x2.x)+" "+Yn(t.x2.y)+" l"),i.push(Yn(t.x4.x)+" "+Yn(t.x4.y)+" m"),i.push(Yn(t.x3.x)+" "+Yn(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=hu(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Yn(cn.internal.getWidth(n))+" "+Yn(cn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};cn.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=cn.internal.getWidth(n),t=cn.internal.getHeight(n),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},cn.internal.getWidth=function(n){var e=0;return or(n)==="object"&&(e=kU(n.Rect[2])),e},cn.internal.getHeight=function(n){var e=0;return or(n)==="object"&&(e=kU(n.Rect[3])),e};var Eve=uo.addField=function(n){if(kve(this,n),!(n instanceof mc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};uo.AcroFormChoiceField=O0,uo.AcroFormListBox=R0,uo.AcroFormComboBox=N0,uo.AcroFormEditBox=wC,uo.AcroFormButton=os,uo.AcroFormPushButton=yC,uo.AcroFormRadioButton=L0,uo.AcroFormCheckBox=_C,uo.AcroFormTextField=Tm,uo.AcroFormPasswordField=xC,uo.AcroFormAppearance=cn,uo.AcroForm={ChoiceField:O0,ListBox:R0,ComboBox:N0,EditBox:wC,Button:os,PushButton:yC,RadioButton:L0,CheckBox:_C,TextField:Tm,PasswordField:xC,Appearance:cn},An.AcroForm={ChoiceField:O0,ListBox:R0,ComboBox:N0,EditBox:wC,Button:os,PushButton:yC,RadioButton:L0,CheckBox:_C,TextField:Tm,PasswordField:xC,Appearance:cn};var Dqe=An.AcroForm;function HU(n){return n.reduce(function(e,t,i){return e[t]=i,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(k,E){var L,b,w,_,y,C=e;if((E=E||e)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(F(k))for(y in t)for(w=t[y],L=0;L<w.length;L+=1){for(_=!0,b=0;b<w[L].length;b+=1)if(w[L][b]!==void 0&&w[L][b]!==k[b]){_=!1;break}if(_===!0){C=y;break}}else for(y in t)for(w=t[y],L=0;L<w.length;L+=1){for(_=!0,b=0;b<w[L].length;b+=1)if(w[L][b]!==void 0&&w[L][b]!==k.charCodeAt(b)){_=!1;break}if(_===!0){C=y;break}}return C===e&&E!==e&&(C=E),C},r=function k(E){for(var L=this.internal.write,b=this.internal.putStream,w=(0,this.internal.getFilters)();w.indexOf("FlateEncode")!==-1;)w.splice(w.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var _=[];if(_.push({key:"Type",value:"/XObject"}),_.push({key:"Subtype",value:"/Image"}),_.push({key:"Width",value:E.width}),_.push({key:"Height",value:E.height}),E.colorSpace===g.INDEXED?_.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(_.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===g.DEVICE_CMYK&&_.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),_.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&_.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)){for(var y="",C=0,S=E.transparency.length;C<S;C++)y+=E.transparency[C]+" "+E.transparency[C]+" ";_.push({key:"Mask",value:"["+y+"]"})}E.sMask!==void 0&&_.push({key:"SMask",value:E.objectId+1+" 0 R"});var R=E.filter!==void 0?["/"+E.filter]:void 0;if(b({data:E.data,additionalKeyValues:_,alreadyAppliedFilters:R,objectId:E.objectId}),L("endobj"),"sMask"in E&&E.sMask!==void 0){var Z="/Predictor "+E.predictor+" /Colors 1 /BitsPerComponent "+E.bitsPerComponent+" /Columns "+E.width,j={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:E.bitsPerComponent,decodeParameters:Z,data:E.sMask};"filter"in E&&(j.filter=E.filter),k.call(this,j)}if(E.colorSpace===g.INDEXED){var X=this.internal.newObject();b({data:V(new Uint8Array(E.palette)),objectId:X}),L("endobj")}},o=function(){var k=this.internal.collections.addImage_images;for(var E in k)r.call(this,k[E])},s=function(){var k,E=this.internal.collections.addImage_images,L=this.internal.write;for(var b in E)L("/I"+(k=E[b]).index,k.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var k=this.internal.collections.addImage_images;return a.call(this),k},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(k){return typeof n["process"+k.toUpperCase()]=="function"},d=function(k){return or(k)==="object"&&k.nodeType===1},f=function(k,E){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var L=""+k.getAttribute("src");if(L.indexOf("data:image/")===0)return Bv(unescape(L).split("base64,").pop());var b=n.loadFile(L,!0);if(b!==void 0)return b}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var w;switch(E){case"PNG":w="image/png";break;case"WEBP":w="image/webp";break;case"JPEG":case"JPG":default:w="image/jpeg"}return Bv(k.toDataURL(w,1).split("base64,").pop())}},h=function(k){var E=this.internal.collections.addImage_images;if(E){for(var L in E)if(k===E[L].alias)return E[L]}},m=function(k,E,L){return k||E||(k=-96,E=-96),k<0&&(k=-1*L.width*72/k/this.internal.scaleFactor),E<0&&(E=-1*L.height*72/E/this.internal.scaleFactor),k===0&&(k=E*L.width/L.height),E===0&&(E=k*L.height/L.width),[k,E]},p=function(k,E,L,b,w,_){var y=m.call(this,L,b,w),C=this.internal.getCoordinateString,S=this.internal.getVerticalCoordinateString,R=l.call(this);if(L=y[0],b=y[1],R[w.index]=w,_){_*=Math.PI/180;var Z=Math.cos(_),j=Math.sin(_),X=function(Y){return Y.toFixed(4)},D=[X(Z),X(j),X(-1*j),X(Z),0,0,"cm"]}this.internal.write("q"),_?(this.internal.write([1,"0","0",1,C(k),S(E+b),"cm"].join(" ")),this.internal.write(D.join(" ")),this.internal.write([C(L),"0","0",C(b),"0","0","cm"].join(" "))):this.internal.write([C(L),"0","0",C(b),C(k),S(E+b),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+w.index+" Do"),this.internal.write("Q")},g=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=n.__addimage__.sHashCode=function(k){var E,L,b=0;if(typeof k=="string")for(L=k.length,E=0;E<L;E++)b=(b<<5)-b+k.charCodeAt(E),b|=0;else if(F(k))for(L=k.byteLength/2,E=0;E<L;E++)b=(b<<5)-b+k[E],b|=0;return b},I=n.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var E=!0;return k.length===0&&(E=!1),k.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(E=!1),E},N=n.__addimage__.extractImageFromDataUrl=function(k){var E=(k=k||"").split("base64,"),L=null;if(E.length===2){var b=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(E[0]);Array.isArray(b)&&(L={mimeType:b[1],charset:b[2],data:E[1]})}return L},H=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(k){return H()&&k instanceof ArrayBuffer};var F=n.__addimage__.isArrayBufferView=function(k){return H()&&typeof Uint32Array<"u"&&(k instanceof Int8Array||k instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array)},B=n.__addimage__.binaryStringToUint8Array=function(k){for(var E=k.length,L=new Uint8Array(E),b=0;b<E;b++)L[b]=k.charCodeAt(b);return L},V=n.__addimage__.arrayBufferToBinaryString=function(k){for(var E="",L=F(k)?k:new Uint8Array(k),b=0;b<L.length;b+=8192)E+=String.fromCharCode.apply(null,L.subarray(b,b+8192));return E};n.addImage=function(){var k,E,L,b,w,_,y,C,S;if(typeof arguments[1]=="number"?(E=e,L=arguments[1],b=arguments[2],w=arguments[3],_=arguments[4],y=arguments[5],C=arguments[6],S=arguments[7]):(E=arguments[1],L=arguments[2],b=arguments[3],w=arguments[4],_=arguments[5],y=arguments[6],C=arguments[7],S=arguments[8]),or(k=arguments[0])==="object"&&!d(k)&&"imageData"in k){var R=k;k=R.imageData,E=R.format||E||e,L=R.x||L||0,b=R.y||b||0,w=R.w||R.width||w,_=R.h||R.height||_,y=R.alias||y,C=R.compression||C,S=R.rotation||R.angle||S}var Z=this.internal.getFilters();if(C===void 0&&Z.indexOf("FlateEncode")!==-1&&(C="SLOW"),isNaN(L)||isNaN(b))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var j=G.call(this,k,E,y,C);return p.call(this,L,b,w,_,j,S),this};var G=function(k,E,L,b){var w,_,y;if(typeof k=="string"&&i(k)===e){k=unescape(k);var C=W(k,!1);(C!==""||(C=n.loadFile(k,!0))!==void 0)&&(k=C)}if(d(k)&&(k=f(k,E)),E=i(k,E),!u(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((y=L)==null||y.length===0)&&(L=function(S){return typeof S=="string"||F(S)?x(S):F(S.data)?x(S.data):null}(k)),(w=h.call(this,L))||(H()&&(k instanceof Uint8Array||E==="RGBA"||(_=k,k=B(k))),w=this["process"+E.toUpperCase()](k,c.call(this),L,function(S){return S&&typeof S=="string"&&(S=S.toUpperCase()),S in n.image_compression?S:v.NONE}(b),_)),!w)throw new Error("An unknown error occurred whilst processing the image.");return w},W=n.__addimage__.convertBase64ToBinaryString=function(k,E){var L;E=typeof E!="boolean"||E;var b,w="";if(typeof k=="string"){b=(L=N(k))!==null?L.data:k;try{w=Bv(b)}catch(_){if(E)throw I(b)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+_.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return w};n.getImageProperties=function(k){var E,L,b="";if(d(k)&&(k=f(k)),typeof k=="string"&&i(k)===e&&((b=W(k,!1))===""&&(b=n.loadFile(k)||""),k=b),L=i(k),!u(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(!H()||k instanceof Uint8Array||(k=B(k)),!(E=this["process"+L.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=L,E}})(An.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};An.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var i,r,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((i=c[d]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var f=0;f<c.length;f++){i=c[f];var h=this.internal.pdfEscape,m=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(p.objId),x=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(r="/Rect ["+s(i.bounds.x)+" "+a(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y)+"] ")+"/Contents ("+h(v(i.contents))+")",o+=" /Popup "+g.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+h(v(x))+") >>",p.content=o;var I=p.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+s(i.bounds.x+30)+" "+a(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w+30)+" "+a(i.bounds.y)+"] ")+" /Parent "+I,i.open&&(o+=" /Open true"),o+=" >>",g.content=o,this.internal.write(p.objId,"0 R",g.objId,"0 R");break;case"freetext":r="/Rect ["+s(i.bounds.x)+" "+a(i.bounds.y)+" "+s(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y+i.bounds.h)+"] ";var N=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+h(m(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(i.options.name){var H=this.annotations._nameMap[i.options.name];i.options.pageNumber=H.page,i.options.top=H.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+h(m(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var F=a(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+F+" "+i.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},n.link=function(t,i,r,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:c(i),w:l(t+r),h:c(i+o)},options:s,type:"link"})},n.textWithLink=function(t,i,r,o){var s,a,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var u=this.splitTextToSize(t,a).length;s=Math.ceil(c*u)}else a=l,s=c;return this.text(t,i,r,o),r+=.2*c,o.align==="center"&&(i-=l/2),o.align==="right"&&(i-=l),this.link(i,r-c,a,s,o),l},n.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor}}(An.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(p){return e[p.charCodeAt(0)]!==void 0},s=n.__arabicParser__.isArabicLetter=function(p){return typeof p=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},a=n.__arabicParser__.isArabicEndLetter=function(p){return s(p)&&o(p)&&e[p.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(p){return s(p)&&r.indexOf(p.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return s(p)&&o(p)&&e[p.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(p){return s(p)&&o(p)&&e[p.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(p){return s(p)&&o(p)&&e[p.charCodeAt(0)].length>=3};var u=n.__arabicParser__.arabicLetterHasMedialForm=function(p){return s(p)&&o(p)&&e[p.charCodeAt(0)].length==4},d=n.__arabicParser__.resolveLigatures=function(p){var g=0,v=t,x="",I=0;for(g=0;g<p.length;g+=1)v[p.charCodeAt(g)]!==void 0?(I++,typeof(v=v[p.charCodeAt(g)])=="number"&&(x+=String.fromCharCode(v),v=t,I=0),g===p.length-1&&(v=t,x+=p.charAt(g-(I-1)),g-=I-1,I=0)):(v=t,x+=p.charAt(g-I),g-=I,I=0);return x};n.__arabicParser__.isArabicDiacritic=function(p){return p!==void 0&&i[p.charCodeAt(0)]!==void 0};var f=n.__arabicParser__.getCorrectForm=function(p,g,v){return s(p)?o(p)===!1?-1:!c(p)||!s(g)&&!s(v)||!s(v)&&a(g)||a(p)&&!s(g)||a(p)&&l(g)||a(p)&&a(g)?0:u(p)&&s(g)&&!a(g)&&s(v)&&c(v)?3:a(p)||!s(v)?1:2:-1},h=function(p){var g=0,v=0,x=0,I="",N="",H="",F=(p=p||"").split("\\s+"),B=[];for(g=0;g<F.length;g+=1){for(B.push(""),v=0;v<F[g].length;v+=1)I=F[g][v],N=F[g][v-1],H=F[g][v+1],s(I)?(x=f(I,N,H),B[g]+=x!==-1?String.fromCharCode(e[I.charCodeAt(0)][x]):I):B[g]+=I;B[g]=d(B[g])}return B.join(" ")},m=n.__arabicParser__.processArabic=n.processArabic=function(){var p,g=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(g)){var x=0;for(v=[],x=0;x<g.length;x+=1)Array.isArray(g[x])?v.push([h(g[x][0]),g[x][1],g[x][2]]):v.push([h(g[x])]);p=v}else p=h(g);return typeof arguments[0]=="string"?p:(arguments[0].text=p,arguments[0])};n.events.push(["preProcessText",m])}(An.API),An.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var r;if((t=t||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(An.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(p){l=p}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(p){d=p}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(p){h=p}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(p){m=p}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return i.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,c){i.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),f=c.scaleFactor||this.internal.scaleFactor,h=0,m=0,p=0,g=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=c.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(I,N){return I.concat(g.splitTextToSize(N,v))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)h<(p=this.getStringUnitWidth(l[x],{font:d})*u)&&(h=p);return h!==0&&(m=l.length),{w:h/=f,h:Math.max((m*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=n.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,h&&f&&(this.printHeaderRow(l.lineNumber,!0),l.y+=f[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,u,d,f){if(i.call(this),!u)throw new Error("No data for PDF table.");var h,m,p,g,v=[],x=[],I=[],N={},H={},F=[],B=[],V=(f=f||{}).autoSize||!1,G=f.printHeaders!==!1,W=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,k=f.margins||Object.assign({width:this.getPageWidth()},e),E=typeof f.padding=="number"?f.padding:3,L=f.headerBackgroundColor||"#c8c8c8",b=f.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=G,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=W,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=b,this.setFontSize(W),d==null)x=v=Object.keys(u[0]),I=v.map(function(){return"left"});else if(Array.isArray(d)&&or(d[0])==="object")for(v=d.map(function(R){return R.name}),x=d.map(function(R){return R.prompt||R.name||""}),I=d.map(function(R){return R.align||"left"}),h=0;h<d.length;h+=1)H[d[h].name]=d[h].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(x=v=d,I=v.map(function(){return"left"}));if(V||Array.isArray(d)&&typeof d[0]=="string")for(h=0;h<v.length;h+=1){for(N[g=v[h]]=u.map(function(R){return R[g]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(x[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=N[g],this.setFont(void 0,"normal"),p=0;p<m.length;p+=1)F.push(this.getTextDimensions(m[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);H[g]=Math.max.apply(null,F)+E+E,F=[]}if(G){var w={};for(h=0;h<v.length;h+=1)w[v[h]]={},w[v[h]].text=x[h],w[v[h]].align=I[h];var _=a.call(this,w,H);B=v.map(function(R){return new o(l,c,H[R],_,w[R].text,void 0,w[R].align)}),this.setTableHeaderRow(B),this.printHeaderRow(1,!1)}var y=d.reduce(function(R,Z){return R[Z.name]=Z.align,R},{});for(h=0;h<u.length;h+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:h,data:u[h]},this);var C=a.call(this,u[h],H);for(p=0;p<v.length;p+=1){var S=u[h][v[p]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:h,col:p,data:S},this),s.call(this,new o(l,c,H[v[p]],C,S,h+2,y[v[p]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(l).map(function(h){var m=l[h];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*d/f+u+u},this).reduce(function(h,m){return Math.max(h,m)},0)};n.setTableHeaderRow=function(l){i.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(m)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),t=!1}}(An.API);var WU={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},$U=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],XI=HU($U),qU=[100,200,300,400,500,600,700,800,900],Sve=HU(qU);function JI(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(o){return WU[o=o||"normal"]?o:"normal"}(n.style),i=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(n.weight),r=function(o){return typeof XI[o=o||"normal"]=="number"?o:"normal"}(n.stretch);return{family:e,style:t,weight:i,stretch:r,src:n.src||[],ref:n.ref||{name:e,style:[r,t,i].join(" ")}}}function EU(n,e,t,i){var r;for(r=t;r>=0&&r<e.length;r+=i)if(n[e[r]])return n[e[r]];for(r=t;r>=0&&r<e.length;r-=i)if(n[e[r]])return n[e[r]]}var Ave={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},SU={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function AU(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Tve(n,e,t){for(var i=(t=t||{}).defaultFontFamily||"times",r=Object.assign({},Ave,t.genericFontFamilies||{}),o=null,s=null,a=0;a<e.length;++a)if(r[(o=JI(e[a])).family]&&(o.family=r[o.family]),n.hasOwnProperty(o.family)){s=n[o.family];break}if(!(s=s||n[i]))throw new Error("Could not find a font-family for the rule '"+AU(o)+"' and default family '"+i+"'.");if(s=function(l,c){if(c[l])return c[l];var u=XI[l],d=u<=XI.normal?-1:1,f=EU(c,$U,u,d);if(!f)throw new Error("Could not find a matching font-stretch value for "+l);return f}(o.stretch,s),s=function(l,c){if(c[l])return c[l];for(var u=WU[l],d=0;d<u.length;++d)if(c[u[d]])return c[u[d]];throw new Error("Could not find a matching font-style for "+l)}(o.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=Sve[l],d=EU(c,qU,u,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(o.weight,s)))throw new Error("Failed to resolve a font for the rule '"+AU(o)+"'.");return s}function TU(n){return n.trimLeft()}function Ive(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function Mve(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var bC,IU,MU,$I=["times"];(function(n){var e,t,i,r,o,s,a,l,c,u=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new l,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new s,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new s,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=j;Object.defineProperty(this,"pdf",{get:function(){return X}});var D=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return D},set:function(ie){D=!!ie}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(ie){Y=!!ie}});var P=0;Object.defineProperty(this,"posX",{get:function(){return P},set:function(ie){isNaN(ie)||(P=ie)}});var M=0;Object.defineProperty(this,"posY",{get:function(){return M},set:function(ie){isNaN(ie)||(M=ie)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ie){var se;typeof ie=="number"?se=[ie,ie,ie,ie]:((se=new Array(4))[0]=ie[0],se[1]=ie.length>=2?ie[1]:se[0],se[2]=ie.length>=3?ie[2]:se[0],se[3]=ie.length>=4?ie[3]:se[1]),c.margin=se}});var $=!1;Object.defineProperty(this,"autoPaging",{get:function(){return $},set:function(ie){$=ie}});var te=0;Object.defineProperty(this,"lastBreak",{get:function(){return te},set:function(ie){te=ie}});var ue=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ue},set:function(ie){ue=ie}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ie){ie instanceof u&&(c=ie)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ie){c.path=ie}});var re=[];Object.defineProperty(this,"ctxStack",{get:function(){return re},set:function(ie){re=ie}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ie){var se;se=f(ie),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ie){var se=f(ie);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ie){["butt","round","square"].indexOf(ie)!==-1&&(this.ctx.lineCap=ie,this.pdf.setLineCap(ie))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ie){isNaN(ie)||(this.ctx.lineWidth=ie,this.pdf.setLineWidth(ie))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ie){["bevel","round","miter"].indexOf(ie)!==-1&&(this.ctx.lineJoin=ie,this.pdf.setLineJoin(ie))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ie){isNaN(ie)||(this.ctx.miterLimit=ie,this.pdf.setMiterLimit(ie))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ie){this.ctx.textBaseline=ie}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ie){["right","end","center","left","start"].indexOf(ie)!==-1&&(this.ctx.textAlign=ie)}});var ce=null;function _e(ie,se){if(ce===null){var ge=function(Ae){var Ee=[];return Object.keys(Ae).forEach(function(Te){Ae[Te].forEach(function(Se){var Fe=null;switch(Se){case"bold":Fe={family:Te,weight:"bold"};break;case"italic":Fe={family:Te,style:"italic"};break;case"bolditalic":Fe={family:Te,weight:"bold",style:"italic"};break;case"":case"normal":Fe={family:Te}}Fe!==null&&(Fe.ref={name:Te,style:Se},Ee.push(Fe))})}),Ee}(ie.getFontList());ce=function(Ae){for(var Ee={},Te=0;Te<Ae.length;++Te){var Se=JI(Ae[Te]),Fe=Se.family,He=Se.stretch,Ze=Se.style,ut=Se.weight;Ee[Fe]=Ee[Fe]||{},Ee[Fe][He]=Ee[Fe][He]||{},Ee[Fe][He][Ze]=Ee[Fe][He][Ze]||{},Ee[Fe][He][Ze][ut]=Se}return Ee}(ge.concat(se))}return ce}var xe=null;Object.defineProperty(this,"fontFaces",{get:function(){return xe},set:function(ie){ce=null,xe=ie}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ie){var se;if(this.ctx.font=ie,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ie))!==null){var ge=se[1],Ae=(se[2],se[3]),Ee=se[4],Te=(se[5],se[6]),Se=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ee)[2];Ee=Math.floor(Se==="px"?parseFloat(Ee)*this.pdf.internal.scaleFactor:Se==="em"?parseFloat(Ee)*this.pdf.getFontSize():parseFloat(Ee)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ee);var Fe=function(bt){var lt,st,vt=[],at=bt.trim();if(at==="")return $I;if(at in SU)return[SU[at]];for(;at!=="";){switch(st=null,lt=(at=TU(at)).charAt(0)){case'"':case"'":st=Ive(at.substring(1),lt);break;default:st=Mve(at)}if(st===null||(vt.push(st[0]),(at=TU(st[1]))!==""&&at.charAt(0)!==","))return $I;at=at.replace(/^,/,"")}return vt}(Te);if(this.fontFaces){var He=Tve(_e(this.pdf,this.fontFaces),Fe.map(function(bt){return{family:bt,stretch:"normal",weight:Ae,style:ge}}));this.pdf.setFont(He.ref.name,He.ref.style)}else{var Ze="";(Ae==="bold"||parseInt(Ae,10)>=700||ge==="bold")&&(Ze="bold"),ge==="italic"&&(Ze+="italic"),Ze.length===0&&(Ze="normal");for(var ut="",tt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},pt=0;pt<Fe.length;pt++){if(this.pdf.internal.getFont(Fe[pt],Ze,{noFallback:!0,disableWarning:!0})!==void 0){ut=Fe[pt];break}if(Ze==="bolditalic"&&this.pdf.internal.getFont(Fe[pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ut=Fe[pt],Ze="bold";else if(this.pdf.internal.getFont(Fe[pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ut=Fe[pt],Ze="normal";break}}if(ut===""){for(var Zt=0;Zt<Fe.length;Zt++)if(tt[Fe[Zt]]){ut=tt[Fe[Zt]];break}}ut=ut===""?"Times":ut,this.pdf.setFont(ut,Ze)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ie){this.ctx.globalCompositeOperation=ie}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ie){this.ctx.globalAlpha=ie}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ie){this.ctx.lineDashOffset=ie,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ie){this.ctx.lineDash=ie,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ie){this.ctx.ignoreClearRect=!!ie}})};d.prototype.setLineDash=function(j){this.lineDash=j},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){N.call(this,"fill",!1)},d.prototype.stroke=function(){N.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(j,X){if(isNaN(j)||isNaN(X))throw wr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var D=this.ctx.transform.applyToPoint(new s(j,X));this.path.push({type:"mt",x:D.x,y:D.y}),this.ctx.lastPoint=new s(j,X)},d.prototype.closePath=function(){var j=new s(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&or(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){j=new s(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(j.x,j.y)},d.prototype.lineTo=function(j,X){if(isNaN(j)||isNaN(X))throw wr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var D=this.ctx.transform.applyToPoint(new s(j,X));this.path.push({type:"lt",x:D.x,y:D.y}),this.ctx.lastPoint=new s(D.x,D.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},d.prototype.quadraticCurveTo=function(j,X,D,Y){if(isNaN(D)||isNaN(Y)||isNaN(j)||isNaN(X))throw wr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var P=this.ctx.transform.applyToPoint(new s(D,Y)),M=this.ctx.transform.applyToPoint(new s(j,X));this.path.push({type:"qct",x1:M.x,y1:M.y,x:P.x,y:P.y}),this.ctx.lastPoint=new s(P.x,P.y)},d.prototype.bezierCurveTo=function(j,X,D,Y,P,M){if(isNaN(P)||isNaN(M)||isNaN(j)||isNaN(X)||isNaN(D)||isNaN(Y))throw wr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var $=this.ctx.transform.applyToPoint(new s(P,M)),te=this.ctx.transform.applyToPoint(new s(j,X)),ue=this.ctx.transform.applyToPoint(new s(D,Y));this.path.push({type:"bct",x1:te.x,y1:te.y,x2:ue.x,y2:ue.y,x:$.x,y:$.y}),this.ctx.lastPoint=new s($.x,$.y)},d.prototype.arc=function(j,X,D,Y,P,M){if(isNaN(j)||isNaN(X)||isNaN(D)||isNaN(Y)||isNaN(P))throw wr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(M=!!M,!this.ctx.transform.isIdentity){var $=this.ctx.transform.applyToPoint(new s(j,X));j=$.x,X=$.y;var te=this.ctx.transform.applyToPoint(new s(0,D)),ue=this.ctx.transform.applyToPoint(new s(0,0));D=Math.sqrt(Math.pow(te.x-ue.x,2)+Math.pow(te.y-ue.y,2))}Math.abs(P-Y)>=2*Math.PI&&(Y=0,P=2*Math.PI),this.path.push({type:"arc",x:j,y:X,radius:D,startAngle:Y,endAngle:P,counterclockwise:M})},d.prototype.arcTo=function(j,X,D,Y,P){throw new Error("arcTo not implemented.")},d.prototype.rect=function(j,X,D,Y){if(isNaN(j)||isNaN(X)||isNaN(D)||isNaN(Y))throw wr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,X),this.lineTo(j+D,X),this.lineTo(j+D,X+Y),this.lineTo(j,X+Y),this.lineTo(j,X),this.lineTo(j+D,X),this.lineTo(j,X)},d.prototype.fillRect=function(j,X,D,Y){if(isNaN(j)||isNaN(X)||isNaN(D)||isNaN(Y))throw wr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var P={};this.lineCap!=="butt"&&(P.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(P.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,X,D,Y),this.fill(),P.hasOwnProperty("lineCap")&&(this.lineCap=P.lineCap),P.hasOwnProperty("lineJoin")&&(this.lineJoin=P.lineJoin)}},d.prototype.strokeRect=function(j,X,D,Y){if(isNaN(j)||isNaN(X)||isNaN(D)||isNaN(Y))throw wr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(j,X,D,Y),this.stroke())},d.prototype.clearRect=function(j,X,D,Y){if(isNaN(j)||isNaN(X)||isNaN(D)||isNaN(Y))throw wr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,X,D,Y))},d.prototype.save=function(j){j=typeof j!="boolean"||j;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,D=0;D<this.pdf.internal.getNumberOfPages();D++)this.pdf.setPage(D+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},d.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,D=0;D<this.pdf.internal.getNumberOfPages();D++)this.pdf.setPage(D+1),this.pdf.internal.out("Q");this.pdf.setPage(X),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(j){var X,D,Y,P;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))X=0,D=0,Y=0,P=0;else{var M=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(M!==null)X=parseInt(M[1]),D=parseInt(M[2]),Y=parseInt(M[3]),P=1;else if((M=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)X=parseInt(M[1]),D=parseInt(M[2]),Y=parseInt(M[3]),P=parseFloat(M[4]);else{if(P=1,typeof j=="string"&&j.charAt(0)!=="#"){var $=new FU(j);j=$.ok?$.toHex():"#000000"}j.length===4?(X=j.substring(1,2),X+=X,D=j.substring(2,3),D+=D,Y=j.substring(3,4),Y+=Y):(X=j.substring(1,3),D=j.substring(3,5),Y=j.substring(5,7)),X=parseInt(X,16),D=parseInt(D,16),Y=parseInt(Y,16)}}return{r:X,g:D,b:Y,a:P,style:j}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(j,X,D,Y){if(isNaN(X)||isNaN(D)||typeof j!="string")throw wr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!h.call(this)){var P=C(this.ctx.transform.rotation),M=this.ctx.transform.scaleX;E.call(this,{text:j,x:X,y:D,scale:M,angle:P,align:this.textAlign,maxWidth:Y})}},d.prototype.strokeText=function(j,X,D,Y){if(isNaN(X)||isNaN(D)||typeof j!="string")throw wr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){Y=isNaN(Y)?void 0:Y;var P=C(this.ctx.transform.rotation),M=this.ctx.transform.scaleX;E.call(this,{text:j,x:X,y:D,scale:M,renderingMode:"stroke",angle:P,align:this.textAlign,maxWidth:Y})}},d.prototype.measureText=function(j){if(typeof j!="string")throw wr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,D=this.pdf.internal.scaleFactor,Y=X.internal.getFontSize(),P=X.getStringUnitWidth(j)*Y/X.internal.scaleFactor,M=function($){var te=($=$||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return te}}),this};return new M({width:P*=Math.round(96*D/72*1e4)/1e4})},d.prototype.scale=function(j,X){if(isNaN(j)||isNaN(X))throw wr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var D=new l(j,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(D)},d.prototype.rotate=function(j){if(isNaN(j))throw wr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new l(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},d.prototype.translate=function(j,X){if(isNaN(j)||isNaN(X))throw wr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var D=new l(1,0,0,1,j,X);this.ctx.transform=this.ctx.transform.multiply(D)},d.prototype.transform=function(j,X,D,Y,P,M){if(isNaN(j)||isNaN(X)||isNaN(D)||isNaN(Y)||isNaN(P)||isNaN(M))throw wr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var $=new l(j,X,D,Y,P,M);this.ctx.transform=this.ctx.transform.multiply($)},d.prototype.setTransform=function(j,X,D,Y,P,M){j=isNaN(j)?1:j,X=isNaN(X)?0:X,D=isNaN(D)?0:D,Y=isNaN(Y)?1:Y,P=isNaN(P)?0:P,M=isNaN(M)?0:M,this.ctx.transform=new l(j,X,D,Y,P,M)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(j,X,D,Y,P,M,$,te,ue){var re=this.pdf.getImageProperties(j),ce=1,_e=1,xe=1,ie=1;Y!==void 0&&te!==void 0&&(xe=te/Y,ie=ue/P,ce=re.width/Y*te/Y,_e=re.height/P*ue/P),M===void 0&&(M=X,$=D,X=0,D=0),Y!==void 0&&te===void 0&&(te=Y,ue=P),Y===void 0&&te===void 0&&(te=re.width,ue=re.height);for(var se,ge=this.ctx.transform.decompose(),Ae=C(ge.rotate.shx),Ee=new l,Te=(Ee=(Ee=(Ee=Ee.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale)).applyToRectangle(new a(M-X*xe,$-D*ie,Y*ce,P*_e)),Se=g.call(this,Te),Fe=[],He=0;He<Se.length;He+=1)Fe.indexOf(Se[He])===-1&&Fe.push(Se[He]);if(I(Fe),this.autoPaging)for(var Ze=Fe[0],ut=Fe[Fe.length-1],tt=Ze;tt<ut+1;tt++){this.pdf.setPage(tt);var pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Zt=tt===1?this.posY+this.margin[0]:this.margin[0],bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=tt===1?0:bt+(tt-2)*lt;if(this.ctx.clip_path.length!==0){var vt=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(se,this.posX+this.margin[3],-st+Zt+this.ctx.prevPageLastElemOffset),H.call(this,"fill",!0),this.path=vt}var at=JSON.parse(JSON.stringify(Te));at=x([at],this.posX+this.margin[3],-st+Zt+this.ctx.prevPageLastElemOffset)[0];var mn=(tt>Ze||tt<ut)&&p.call(this);mn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,lt,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",at.x,at.y,at.w,at.h,null,null,Ae),mn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(j,"JPEG",Te.x,Te.y,Te.w,Te.h,null,null,Ae)};var g=function(j,X,D){var Y=[];X=X||this.pdf.internal.pageSize.width,D=D||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var P=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":Y.push(Math.floor((j.y+P)/D)+1);break;case"arc":Y.push(Math.floor((j.y+P-j.radius)/D)+1),Y.push(Math.floor((j.y+P+j.radius)/D)+1);break;case"qct":var M=S(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);Y.push(Math.floor((M.y+P)/D)+1),Y.push(Math.floor((M.y+M.h+P)/D)+1);break;case"bct":var $=R(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);Y.push(Math.floor(($.y+P)/D)+1),Y.push(Math.floor(($.y+$.h+P)/D)+1);break;case"rect":Y.push(Math.floor((j.y+P)/D)+1),Y.push(Math.floor((j.y+j.h+P)/D)+1)}for(var te=0;te<Y.length;te+=1)for(;this.pdf.internal.getNumberOfPages()<Y[te];)v.call(this);return Y},v=function(){var j=this.fillStyle,X=this.strokeStyle,D=this.font,Y=this.lineCap,P=this.lineWidth,M=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=X,this.font=D,this.lineCap=Y,this.lineWidth=P,this.lineJoin=M},x=function(j,X,D){for(var Y=0;Y<j.length;Y++)switch(j[Y].type){case"bct":j[Y].x2+=X,j[Y].y2+=D;case"qct":j[Y].x1+=X,j[Y].y1+=D;case"mt":case"lt":case"arc":default:j[Y].x+=X,j[Y].y+=D}return j},I=function(j){return j.sort(function(X,D){return X-D})},N=function(j,X){for(var D,Y,P=this.fillStyle,M=this.strokeStyle,$=this.lineCap,te=this.lineWidth,ue=Math.abs(te*this.ctx.transform.scaleX),re=this.lineJoin,ce=JSON.parse(JSON.stringify(this.path)),_e=JSON.parse(JSON.stringify(this.path)),xe=[],ie=0;ie<_e.length;ie++)if(_e[ie].x!==void 0)for(var se=g.call(this,_e[ie]),ge=0;ge<se.length;ge+=1)xe.indexOf(se[ge])===-1&&xe.push(se[ge]);for(var Ae=0;Ae<xe.length;Ae++)for(;this.pdf.internal.getNumberOfPages()<xe[Ae];)v.call(this);if(I(xe),this.autoPaging)for(var Ee=xe[0],Te=xe[xe.length-1],Se=Ee;Se<Te+1;Se++){this.pdf.setPage(Se),this.fillStyle=P,this.strokeStyle=M,this.lineCap=$,this.lineWidth=ue,this.lineJoin=re;var Fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],He=Se===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=Se===1?0:Ze+(Se-2)*ut;if(this.ctx.clip_path.length!==0){var pt=this.path;D=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(D,this.posX+this.margin[3],-tt+He+this.ctx.prevPageLastElemOffset),H.call(this,j,!0),this.path=pt}if(Y=JSON.parse(JSON.stringify(ce)),this.path=x(Y,this.posX+this.margin[3],-tt+He+this.ctx.prevPageLastElemOffset),X===!1||Se===0){var Zt=(Se>Ee||Se<Te)&&p.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,ut,null).clip().discardPath()),H.call(this,j,X),Zt&&this.pdf.restoreGraphicsState()}this.lineWidth=te}else this.lineWidth=ue,H.call(this,j,X),this.lineWidth=te;this.path=ce},H=function(j,X){if((j!=="stroke"||X||!m.call(this))&&(j==="stroke"||X||!h.call(this))){for(var D,Y,P=[],M=this.path,$=0;$<M.length;$++){var te=M[$];switch(te.type){case"begin":P.push({begin:!0});break;case"close":P.push({close:!0});break;case"mt":P.push({start:te,deltas:[],abs:[]});break;case"lt":var ue=P.length;if(M[$-1]&&!isNaN(M[$-1].x)&&(D=[te.x-M[$-1].x,te.y-M[$-1].y],ue>0)){for(;ue>=0;ue--)if(P[ue-1].close!==!0&&P[ue-1].begin!==!0){P[ue-1].deltas.push(D),P[ue-1].abs.push(te);break}}break;case"bct":D=[te.x1-M[$-1].x,te.y1-M[$-1].y,te.x2-M[$-1].x,te.y2-M[$-1].y,te.x-M[$-1].x,te.y-M[$-1].y],P[P.length-1].deltas.push(D);break;case"qct":var re=M[$-1].x+2/3*(te.x1-M[$-1].x),ce=M[$-1].y+2/3*(te.y1-M[$-1].y),_e=te.x+2/3*(te.x1-te.x),xe=te.y+2/3*(te.y1-te.y),ie=te.x,se=te.y;D=[re-M[$-1].x,ce-M[$-1].y,_e-M[$-1].x,xe-M[$-1].y,ie-M[$-1].x,se-M[$-1].y],P[P.length-1].deltas.push(D);break;case"arc":P.push({deltas:[],abs:[],arc:!0}),Array.isArray(P[P.length-1].abs)&&P[P.length-1].abs.push(te)}}Y=X?null:j==="stroke"?"stroke":"fill";for(var ge=!1,Ae=0;Ae<P.length;Ae++)if(P[Ae].arc)for(var Ee=P[Ae].abs,Te=0;Te<Ee.length;Te++){var Se=Ee[Te];Se.type==="arc"?V.call(this,Se.x,Se.y,Se.radius,Se.startAngle,Se.endAngle,Se.counterclockwise,void 0,X,!ge):L.call(this,Se.x,Se.y),ge=!0}else if(P[Ae].close===!0)this.pdf.internal.out("h"),ge=!1;else if(P[Ae].begin!==!0){var Fe=P[Ae].start.x,He=P[Ae].start.y;b.call(this,P[Ae].deltas,Fe,He),ge=!0}Y&&G.call(this,Y),X&&W.call(this)}},F=function(j){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,D=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-D;case"top":return j+X-D;case"hanging":return j+X-2*D;case"middle":return j+X/2-D;case"ideographic":return j;case"alphabetic":default:return j}},B=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(X,D){this.colorStops.push([X,D])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var V=function(j,X,D,Y,P,M,$,te,ue){for(var re=_.call(this,D,Y,P,M),ce=0;ce<re.length;ce++){var _e=re[ce];ce===0&&(ue?k.call(this,_e.x1+j,_e.y1+X):L.call(this,_e.x1+j,_e.y1+X)),w.call(this,j,X,_e.x2,_e.y2,_e.x3,_e.y3,_e.x4,_e.y4)}te?W.call(this):G.call(this,$)},G=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},W=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(j,X){this.pdf.internal.out(t(j)+" "+i(X)+" m")},E=function(j){var X;switch(j.align){case"right":case"end":X="right";break;case"center":X="center";break;case"left":case"start":default:X="left"}var D=this.pdf.getTextDimensions(j.text),Y=F.call(this,j.y),P=B.call(this,Y)-D.h,M=this.ctx.transform.applyToPoint(new s(j.x,Y)),$=this.ctx.transform.decompose(),te=new l;te=(te=(te=te.multiply($.translate)).multiply($.skew)).multiply($.scale);for(var ue,re,ce,_e=this.ctx.transform.applyToRectangle(new a(j.x,Y,D.w,D.h)),xe=te.applyToRectangle(new a(j.x,P,D.w,D.h)),ie=g.call(this,xe),se=[],ge=0;ge<ie.length;ge+=1)se.indexOf(ie[ge])===-1&&se.push(ie[ge]);if(I(se),this.autoPaging)for(var Ae=se[0],Ee=se[se.length-1],Te=Ae;Te<Ee+1;Te++){this.pdf.setPage(Te);var Se=Te===1?this.posY+this.margin[0]:this.margin[0],Fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[2],Ze=He-this.margin[0],ut=this.pdf.internal.pageSize.width-this.margin[1],tt=ut-this.margin[3],pt=Te===1?0:Fe+(Te-2)*Ze;if(this.ctx.clip_path.length!==0){var Zt=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(ue,this.posX+this.margin[3],-1*pt+Se),H.call(this,"fill",!0),this.path=Zt}var bt=x([JSON.parse(JSON.stringify(xe))],this.posX+this.margin[3],-pt+Se+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*j.scale),ce=this.lineWidth,this.lineWidth=ce*j.scale);var lt=this.autoPaging!=="text";if(lt||bt.y+bt.h<=He){if(lt||bt.y>=Se&&bt.x<=ut){var st=lt?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||ut-bt.x)[0],vt=x([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-pt+Se+this.ctx.prevPageLastElemOffset)[0],at=lt&&(Te>Ae||Te<Ee)&&p.call(this);at&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,Ze,null).clip().discardPath()),this.pdf.text(st,vt.x,vt.y,{angle:j.angle,align:X,renderingMode:j.renderingMode}),at&&this.pdf.restoreGraphicsState()}}else bt.y<He&&(this.ctx.prevPageLastElemOffset+=He-bt.y);j.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=ce)}else j.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*j.scale),ce=this.lineWidth,this.lineWidth=ce*j.scale),this.pdf.text(j.text,M.x+this.posX,M.y+this.posY,{angle:j.angle,align:X,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=ce)},L=function(j,X,D,Y){D=D||0,Y=Y||0,this.pdf.internal.out(t(j+D)+" "+i(X+Y)+" l")},b=function(j,X,D){return this.pdf.lines(j,X,D,null,null)},w=function(j,X,D,Y,P,M,$,te){this.pdf.internal.out([e(r(D+j)),e(o(Y+X)),e(r(P+j)),e(o(M+X)),e(r($+j)),e(o(te+X)),"c"].join(" "))},_=function(j,X,D,Y){for(var P=2*Math.PI,M=Math.PI/2;X>D;)X-=P;var $=Math.abs(D-X);$<P&&Y&&($=P-$);for(var te=[],ue=Y?-1:1,re=X;$>1e-5;){var ce=re+ue*Math.min($,M);te.push(y.call(this,j,re,ce)),$-=Math.abs(ce-re),re=ce}return te},y=function(j,X,D){var Y=(D-X)/2,P=j*Math.cos(Y),M=j*Math.sin(Y),$=P,te=-M,ue=$*$+te*te,re=ue+$*P+te*M,ce=4/3*(Math.sqrt(2*ue*re)-re)/($*M-te*P),_e=$-ce*te,xe=te+ce*$,ie=_e,se=-xe,ge=Y+X,Ae=Math.cos(ge),Ee=Math.sin(ge);return{x1:j*Math.cos(X),y1:j*Math.sin(X),x2:_e*Ae-xe*Ee,y2:_e*Ee+xe*Ae,x3:ie*Ae-se*Ee,y3:ie*Ee+se*Ae,x4:j*Math.cos(D),y4:j*Math.sin(D)}},C=function(j){return 180*j/Math.PI},S=function(j,X,D,Y,P,M){var $=j+.5*(D-j),te=X+.5*(Y-X),ue=P+.5*(D-P),re=M+.5*(Y-M),ce=Math.min(j,P,$,ue),_e=Math.max(j,P,$,ue),xe=Math.min(X,M,te,re),ie=Math.max(X,M,te,re);return new a(ce,xe,_e-ce,ie-xe)},R=function(j,X,D,Y,P,M,$,te){var ue,re,ce,_e,xe,ie,se,ge,Ae,Ee,Te,Se,Fe,He,Ze=D-j,ut=Y-X,tt=P-D,pt=M-Y,Zt=$-P,bt=te-M;for(re=0;re<41;re++)Ae=(se=(ce=j+(ue=re/40)*Ze)+ue*((xe=D+ue*tt)-ce))+ue*(xe+ue*(P+ue*Zt-xe)-se),Ee=(ge=(_e=X+ue*ut)+ue*((ie=Y+ue*pt)-_e))+ue*(ie+ue*(M+ue*bt-ie)-ge),re==0?(Te=Ae,Se=Ee,Fe=Ae,He=Ee):(Te=Math.min(Te,Ae),Se=Math.min(Se,Ee),Fe=Math.max(Fe,Ae),He=Math.max(He,Ee));return new a(Math.round(Te),Math.round(Se),Math.round(Fe-Te),Math.round(He-Se))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,X,D=(j=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:X}));this.prevLineDash!==D&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=D)}}})(An.API),function(n){var e=function(o){var s,a,l,c,u,d,f,h,m,p;for(/[^\x00-\xFF]/.test(o),a=[],l=0,c=(o+=s="\0\0\0\0".slice(o.length%4||4)).length;c>l;l+=4)(u=(o.charCodeAt(l)<<24)+(o.charCodeAt(l+1)<<16)+(o.charCodeAt(l+2)<<8)+o.charCodeAt(l+3))!==0?(d=(u=((u=((u=((u=(u-(p=u%85))/85)-(m=u%85))/85)-(h=u%85))/85)-(f=u%85))/85)%85,a.push(d+33,f+33,h+33,m+33,p+33)):a.push(122);return function(g,v){for(var x=v;x>0;x--)g.pop()}(a,s.length),String.fromCharCode.apply(String,a)+"~>"},t=function(o){var s,a,l,c,u,d=String,f="length",h=255,m="charCodeAt",p="slice",g="replace";for(o[p](-2),o=o[p](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),l=[],c=0,u=(o+=s="uuuuu"[p](o[f]%5||5))[f];u>c;c+=5)a=52200625*(o[m](c)-33)+614125*(o[m](c+1)-33)+7225*(o[m](c+2)-33)+85*(o[m](c+3)-33)+(o[m](c+4)-33),l.push(h&a>>24,h&a>>16,h&a>>8,h&a);return function(v,x){for(var I=x;I>0;I--)v.pop()}(l,s[f]),d.fromCharCode.apply(d,l)},i=function(o){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),s.test(o)===!1)return"";for(var a="",l=0;l<o.length;l+=2)a+=String.fromCharCode("0x"+(o[l]+o[l+1]));return a},r=function(o){for(var s=new Uint8Array(o.length),a=o.length;a--;)s[a]=o.charCodeAt(a);return o=(s=mC(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};n.processDataByFilters=function(o,s){var a=0,l=o||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),a=0;a<s.length;a+=1)switch(s[a]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=i(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=r(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(An.API),function(n){n.loadFile=function(e,t,i){return function(r,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=function(l,c,u){var d=new XMLHttpRequest,f=0,h=function(m){var p=m.length,g=[],v=String.fromCharCode;for(f=0;f<p;f+=1)g.push(v(255&m.charCodeAt(f)));return g.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(h(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return h(d.responseText)}(r,o,s)}catch{}return a}(e,t,i)},n.loadImageFile=n.loadFile}(An.API),function(n){function e(){return(Nn.html2canvas?Promise.resolve(Nn.html2canvas):import("./chunk-A6KV56AT.js")).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function t(){return(Nn.DOMPurify?Promise.resolve(Nn.DOMPurify):import("./chunk-CYBZR5CH.js")).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var i=function(s){var a=or(s);return a==="undefined"?"undefined":a==="string"||s instanceof String?"string":a==="number"||s instanceof Number?"number":a==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":a==="object"?"object":"unknown"},r=function(s,a){var l=document.createElement(s);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},o=function s(a){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(a)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(s,a){return s.__proto__=a||o.prototype,s},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(s,a){return this.then(function(){switch(a=a||function(l){switch(i(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(t).then(function(l){return this.set({src:r("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},o.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var f=0;f<c.length;++f){var h=c[f],m=h.src.find(function(p){return p.format==="truetype"});m&&l.addFont(m.url,h.ref.name,h.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),a(this.prop.container,d)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(s,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,a):this.outputPdf(s,a)},o.prototype.outputPdf=function(s,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,a)})},o.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},o.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(s){if(i(s)!=="object")return this;var a=Object.keys(s||{}).map(function(l){if(l in o.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(a)})},o.prototype.get=function(s,a){return this.then(function(){var l=s in o.template.prop?this.prop[s]:this.opt[s];return a?a(l):l})},o.prototype.setMargin=function(s){return this.then(function(){switch(i(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},o.prototype.setPageSize=function(s){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||An.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:a(s.inner.width,s.k),height:a(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},o.prototype.setProgress=function(s,a,l,c){return s!=null&&(this.progress.val=s),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(s,a,l,c){return this.setProgress(s?this.progress.val+s:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(s,a){var l=this;return this.thenCore(s,a,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,u).then(function(d){return l.updateProgress(1),d})})},o.prototype.thenCore=function(s,a,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),u=l.call(c,s,a);return o.convert(u,this.__proto__)},o.prototype.thenExternal=function(s,a){return Promise.prototype.then.call(this,s,a)},o.prototype.thenList=function(s){var a=this;return s.forEach(function(l){a=a.thenCore(l)}),a},o.prototype.catch=function(s){s&&(s=s.bind(this));var a=Promise.prototype.catch.call(this,s);return o.convert(a,this)},o.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},o.prototype.error=function(s){return this.then(function(){throw new Error(s)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,An.getPageSize=function(s,a,l){if(or(s)==="object"){var c=s;s=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var u,d=(""+l).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var h,m=0,p=0;if(f.hasOwnProperty(d))m=f[d][1]/u,p=f[d][0]/u;else try{m=l[1],p=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",p>m&&(h=p,p=m,m=h);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",m>p&&(h=p,p=m,m=h)}return{width:p,height:m,unit:a,k:u,orientation:s}},n.html=function(s,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(JI):null;var l=new o(a);return a.worker?l:l.from(s).doCallback()}}(An.API),An.API.addJS=function(n){return MU=n,this.internal.events.subscribe("postPutResources",function(){bC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(bC+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),IU=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+MU+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){bC!==void 0&&IU!==void 0&&this.internal.out("/Names <</JavaScript "+bC+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=t.outline.render().split(/\r\n/),o=0;o<r.length;o++){var s=r[o],a=i.exec(s);if(a!=null){var l=a[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(o=0;o<c;o++){var d=t.internal.newObject();u.push(d);var f=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var h=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<u.length;o++)t.internal.write("(page_"+(o+1)+")"+u[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+h+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,r,o){var s={title:r,options:o,children:[]};return i==null&&(i=this.root),i.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var s=i.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var c=0;c<i.children.length;c++)this.renderItems(i.children[c])},t.outline.line=function(i){this.ctx.val+=i+`\r
`},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(i,r){for(var o=0;o<r.children.length;o++)i.count++,this.count_r(i,r.children[o]);return i.count}}])}(An.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,i,r,o,s,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=s||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(l=function(d){for(var f,h=256*d.charCodeAt(4)+d.charCodeAt(5),m=d.length,p={width:0,height:0,numcomponents:1},g=4;g<m;g+=2){if(g+=h,e.indexOf(d.charCodeAt(g+1))!==-1){f=256*d.charCodeAt(g+5)+d.charCodeAt(g+6),p={width:256*d.charCodeAt(g+7)+d.charCodeAt(g+8),height:f,numcomponents:d.charCodeAt(g+9)};break}h=256*d.charCodeAt(g+2)+d.charCodeAt(g+3)}return p}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:i,alias:r}}return u}}(An.API);var I0,vC,PU,DU,OU,Pve=function(){var n,e,t;function i(o){var s,a,l,c,u,d,f,h,m,p,g,v,x,I;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(s=this.readUInt32(),m=(function(){var N,H;for(H=[],N=0;N<4;++N)H.push(String.fromCharCode(this.data[this.pos++]));return H}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*u/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,s-=4),o=d?.data||this.imgData,v=0;0<=s?v<s:v>s;0<=s?++v:--v)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((p=l-this.transparency.indexed.length)>0)for(x=0;0<=p?x<p:x>p;0<=p?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":f=(g=this.read(s)).indexOf(0),h=String.fromCharCode.apply(String,g.slice(0,f)),this.text[h]=String.fromCharCode.apply(String,g.slice(f+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(I=this.colorType)===4||I===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(o){var s,a;for(a=[],s=0;0<=o?s<o:s>o;0<=o?++s:--s)a.push(this.data[this.pos++]);return a},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(o){var s=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*s),l=0,c=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function u(d,f,h,m){var p,g,v,x,I,N,H,F,B,V,G,W,k,E,L,b,w,_,y,C,S,R=Math.ceil((c.width-d)/h),Z=Math.ceil((c.height-f)/m),j=c.width==R&&c.height==Z;for(E=s*R,W=j?a:new Uint8Array(E*Z),N=o.length,k=0,g=0;k<Z&&l<N;){switch(o[l++]){case 0:for(x=w=0;w<E;x=w+=1)W[g++]=o[l++];break;case 1:for(x=_=0;_<E;x=_+=1)p=o[l++],I=x<s?0:W[g-s],W[g++]=(p+I)%256;break;case 2:for(x=y=0;y<E;x=y+=1)p=o[l++],v=(x-x%s)/s,L=k&&W[(k-1)*E+v*s+x%s],W[g++]=(L+p)%256;break;case 3:for(x=C=0;C<E;x=C+=1)p=o[l++],v=(x-x%s)/s,I=x<s?0:W[g-s],L=k&&W[(k-1)*E+v*s+x%s],W[g++]=(p+Math.floor((I+L)/2))%256;break;case 4:for(x=S=0;S<E;x=S+=1)p=o[l++],v=(x-x%s)/s,I=x<s?0:W[g-s],k===0?L=b=0:(L=W[(k-1)*E+v*s+x%s],b=v&&W[(k-1)*E+(v-1)*s+x%s]),H=I+L-b,F=Math.abs(H-I),V=Math.abs(H-L),G=Math.abs(H-b),B=F<=V&&F<=G?I:V<=G?L:b,W[g++]=(p+B)%256;break;default:throw new Error("Invalid filter algorithm: "+o[l-1])}if(!j){var X=((f+k*m)*c.width+d)*s,D=k*E;for(x=0;x<R;x+=1){for(var Y=0;Y<s;Y+=1)a[X++]=W[D++];X+=(h-1)*s}}k++}}return o=wU(o),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},i.prototype.decodePalette=function(){var o,s,a,l,c,u,d,f,h;for(a=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+a.length),l=0,o=0,s=d=0,f=a.length;d<f;s=d+=3)c[l++]=a[s],c[l++]=a[s+1],c[l++]=a[s+2],c[l++]=(h=u[o++])!=null?h:255;return c},i.prototype.copyToImageData=function(o,s){var a,l,c,u,d,f,h,m,p,g,v;if(l=this.colors,p=null,a=this.hasAlphaChannel,this.palette.length&&(p=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),l=4,a=!0),m=(c=o.data||o).length,d=p||s,u=f=0,l===1)for(;u<m;)h=p?4*s[u/4]:f,g=d[h++],c[u++]=g,c[u++]=g,c[u++]=g,c[u++]=a?d[h++]:255,f=h;else for(;u<m;)h=p?4*s[u/4]:f,c[u++]=d[h++],c[u++]=d[h++],c[u++]=d[h++],c[u++]=a?d[h++]:255,f=h},i.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var r=function(){if(Object.prototype.toString.call(Nn)==="[object Window]"){try{e=Nn.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return r(),n=function(o){var s;if(r()===!0)return t.width=o.width,t.height=o.height,t.clearRect(0,0,o.width,o.height),t.putImageData(o,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(o){var s,a,l,c,u,d,f,h;if(this.animation){for(h=[],a=u=0,d=(f=this.animation.frames).length;u<d;a=++u)s=f[a],l=o.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,h.push(s.image=n(l));return h}},i.prototype.renderFrame=function(o,s){var a,l,c;return a=(l=this.animation.frames)[s],c=l[s-1],s===0&&o.clearRect(0,0,this.width,this.height),c?.disposeOp===1?o.clearRect(c.xOffset,c.yOffset,c.width,c.height):c?.disposeOp===2&&o.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&o.clearRect(a.xOffset,a.yOffset,a.width,a.height),o.drawImage(a.image,a.xOffset,a.yOffset)},i.prototype.animate=function(o){var s,a,l,c,u,d,f=this;return a=0,d=this.animation,c=d.numFrames,l=d.frames,u=d.numPlays,(s=function(){var h,m;if(h=a++%c,m=l[h],f.renderFrame(o,h),c>1&&a/c<u)return f.animation._timeout=setTimeout(s,m.delay)})()},i.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},i.prototype.render=function(o){var s,a;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,s=o.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(a=s.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),s.putImageData(a,0,0))},i}();function Dve(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,i=n[e++]|n[e++]<<8,r=n[e++],o=r>>7,s=1<<(7&r)+1;n[e++],n[e++];var a=null,l=null;o&&(a=e,l=s,e+=3*s);var c=!0,u=[],d=0,f=null,h=0,m=null;for(this.width=t,this.height=i;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,m=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var p=n[e++];d=n[e++]|n[e++]<<8,f=n[e++],!(1&p)&&(f=null),h=p>>2&7,e++;break;case 254:for(;;){if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var g=n[e++]|n[e++]<<8,v=n[e++]|n[e++]<<8,x=n[e++]|n[e++]<<8,I=n[e++]|n[e++]<<8,N=n[e++],H=N>>6&1,F=1<<(7&N)+1,B=a,V=l,G=!1;N>>7&&(G=!0,B=e,V=F,e+=3*F);var W=e;for(e++;;){var k;if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}u.push({x:g,y:v,width:x,height:I,has_local_palette:G,palette_offset:B,palette_size:V,data_offset:W,data_length:e-W,transparent_index:f,interlaced:!!H,delay:d,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return m},this.frameInfo=function(E){if(E<0||E>=u.length)throw new Error("Frame index out of range.");return u[E]},this.decodeAndBlitFrameBGRA=function(E,L){var b=this.frameInfo(E),w=b.width*b.height,_=new Uint8Array(w);RU(n,b.data_offset,_,w);var y=b.palette_offset,C=b.transparent_index;C===null&&(C=256);var S=b.width,R=t-S,Z=S,j=4*(b.y*t+b.x),X=4*((b.y+b.height)*t+b.x),D=j,Y=4*R;b.interlaced===!0&&(Y+=4*t*7);for(var P=8,M=0,$=_.length;M<$;++M){var te=_[M];if(Z===0&&(Z=S,(D+=Y)>=X&&(Y=4*R+4*t*(P-1),D=j+(S+R)*(P<<1),P>>=1)),te===C)D+=4;else{var ue=n[y+3*te],re=n[y+3*te+1],ce=n[y+3*te+2];L[D++]=ce,L[D++]=re,L[D++]=ue,L[D++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(E,L){var b=this.frameInfo(E),w=b.width*b.height,_=new Uint8Array(w);RU(n,b.data_offset,_,w);var y=b.palette_offset,C=b.transparent_index;C===null&&(C=256);var S=b.width,R=t-S,Z=S,j=4*(b.y*t+b.x),X=4*((b.y+b.height)*t+b.x),D=j,Y=4*R;b.interlaced===!0&&(Y+=4*t*7);for(var P=8,M=0,$=_.length;M<$;++M){var te=_[M];if(Z===0&&(Z=S,(D+=Y)>=X&&(Y=4*R+4*t*(P-1),D=j+(S+R)*(P<<1),P>>=1)),te===C)D+=4;else{var ue=n[y+3*te],re=n[y+3*te+1],ce=n[y+3*te+2];L[D++]=ue,L[D++]=re,L[D++]=ce,L[D++]=255}--Z}}}function RU(n,e,t,i){for(var r=n[e++],o=1<<r,s=o+1,a=s+1,l=r+1,c=(1<<l)-1,u=0,d=0,f=0,h=n[e++],m=new Int32Array(4096),p=null;;){for(;u<16&&h!==0;)d|=n[e++]<<u,u+=8,h===1?h=n[e++]:--h;if(u<l)break;var g=d&c;if(d>>=l,u-=l,g!==o){if(g===s)break;for(var v=g<a?g:p,x=0,I=v;I>o;)I=m[I]>>8,++x;var N=I;if(f+x+(v!==g?1:0)>i)return void wr.log("Warning, gif stream longer than expected.");t[f++]=N;var H=f+=x;for(v!==g&&(t[f++]=N),I=v;x--;)I=m[I],t[--H]=255&I,I>>=8;p!==null&&a<4096&&(m[a++]=p<<8|N,a>=c+1&&l<12&&(++l,c=c<<1|1)),p=g}else a=s+1,c=(1<<(l=r+1))-1,p=null}return f!==i&&wr.log("Warning, gif stream shorter than expected."),t}function qI(n){var e,t,i,r,o,s=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),f=new Array(65535),h=new Array(64),m=new Array(64),p=[],g=0,v=7,x=new Array(64),I=new Array(64),N=new Array(64),H=new Array(256),F=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],V=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],b=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],w=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function _(j,X){for(var D=0,Y=0,P=new Array,M=1;M<=16;M++){for(var $=1;$<=j[M];$++)P[X[Y]]=[],P[X[Y]][0]=D,P[X[Y]][1]=M,Y++,D++;D*=2}return P}function y(j){for(var X=j[0],D=j[1]-1;D>=0;)X&1<<D&&(g|=1<<v),D--,--v<0&&(g==255?(C(255),C(0)):C(g),v=7,g=0)}function C(j){p.push(j)}function S(j){C(j>>8&255),C(255&j)}function R(j,X,D,Y,P){for(var M,$=P[0],te=P[240],ue=function(Ee,Te){var Se,Fe,He,Ze,ut,tt,pt,Zt,bt,lt,st=0;for(bt=0;bt<8;++bt){Se=Ee[st],Fe=Ee[st+1],He=Ee[st+2],Ze=Ee[st+3],ut=Ee[st+4],tt=Ee[st+5],pt=Ee[st+6];var vt=Se+(Zt=Ee[st+7]),at=Se-Zt,mn=Fe+pt,Dt=Fe-pt,Vt=He+tt,jr=He-tt,Rt=Ze+ut,rn=Ze-ut,Wn=vt+Rt,fn=vt-Rt,pn=mn+Vt,wi=mn-Vt;Ee[st]=Wn+pn,Ee[st+4]=Wn-pn;var It=.707106781*(wi+fn);Ee[st+2]=fn+It,Ee[st+6]=fn-It;var Ft=.382683433*((Wn=rn+jr)-(wi=Dt+at)),ur=.5411961*Wn+Ft,on=1.306562965*wi+Ft,ln=.707106781*(pn=jr+Dt),zr=at+ln,St=at-ln;Ee[st+5]=St+ur,Ee[st+3]=St-ur,Ee[st+1]=zr+on,Ee[st+7]=zr-on,st+=8}for(st=0,bt=0;bt<8;++bt){Se=Ee[st],Fe=Ee[st+8],He=Ee[st+16],Ze=Ee[st+24],ut=Ee[st+32],tt=Ee[st+40],pt=Ee[st+48];var Ie=Se+(Zt=Ee[st+56]),$e=Se-Zt,Ye=Fe+pt,ct=Fe-pt,vn=He+tt,Mt=He-tt,Et=Ze+ut,li=Ze-ut,Jt=Ie+Et,Bt=Ie-Et,Kn=Ye+vn,Dn=Ye-vn;Ee[st]=Jt+Kn,Ee[st+32]=Jt-Kn;var kn=.707106781*(Dn+Bt);Ee[st+16]=Bt+kn,Ee[st+48]=Bt-kn;var Xn=.382683433*((Jt=li+Mt)-(Dn=ct+$e)),Ei=.5411961*Jt+Xn,er=1.306562965*Dn+Xn,yr=.707106781*(Kn=Mt+ct),Ln=$e+yr,Ur=$e-yr;Ee[st+40]=Ur+Ei,Ee[st+24]=Ur-Ei,Ee[st+8]=Ln+er,Ee[st+56]=Ln-er,st++}for(bt=0;bt<64;++bt)lt=Ee[bt]*Te[bt],h[bt]=lt>0?lt+.5|0:lt-.5|0;return h}(j,X),re=0;re<64;++re)m[B[re]]=ue[re];var ce=m[0]-D;D=m[0],ce==0?y(Y[0]):(y(Y[f[M=32767+ce]]),y(d[M]));for(var _e=63;_e>0&&m[_e]==0;)_e--;if(_e==0)return y($),D;for(var xe,ie=1;ie<=_e;){for(var se=ie;m[ie]==0&&ie<=_e;)++ie;var ge=ie-se;if(ge>=16){xe=ge>>4;for(var Ae=1;Ae<=xe;++Ae)y(te);ge&=15}M=32767+m[ie],y(P[(ge<<4)+f[M]]),y(d[M]),ie++}return _e!=63&&y($),D}function Z(j){j=Math.min(Math.max(j,1),100),o!=j&&(function(X){for(var D=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var P=s((D[Y]*X+50)/100);P=Math.min(Math.max(P,1),255),a[B[Y]]=P}for(var M=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],$=0;$<64;$++){var te=s((M[$]*X+50)/100);te=Math.min(Math.max(te,1),255),l[B[$]]=te}for(var ue=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],re=0,ce=0;ce<8;ce++)for(var _e=0;_e<8;_e++)c[re]=1/(a[B[re]]*ue[ce]*ue[_e]*8),u[re]=1/(l[B[re]]*ue[ce]*ue[_e]*8),re++}(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),o=j)}this.encode=function(j,X){X&&Z(X),p=new Array,g=0,v=7,S(65496),S(65504),S(16),C(74),C(70),C(73),C(70),C(0),C(1),C(1),C(0),S(1),S(1),C(0),C(0),function(){S(65499),S(132),C(0);for(var Fe=0;Fe<64;Fe++)C(a[Fe]);C(1);for(var He=0;He<64;He++)C(l[He])}(),function(Fe,He){S(65472),S(17),C(8),S(He),S(Fe),C(3),C(1),C(17),C(0),C(2),C(17),C(1),C(3),C(17),C(1)}(j.width,j.height),function(){S(65476),S(418),C(0);for(var Fe=0;Fe<16;Fe++)C(V[Fe+1]);for(var He=0;He<=11;He++)C(G[He]);C(16);for(var Ze=0;Ze<16;Ze++)C(W[Ze+1]);for(var ut=0;ut<=161;ut++)C(k[ut]);C(1);for(var tt=0;tt<16;tt++)C(E[tt+1]);for(var pt=0;pt<=11;pt++)C(L[pt]);C(17);for(var Zt=0;Zt<16;Zt++)C(b[Zt+1]);for(var bt=0;bt<=161;bt++)C(w[bt])}(),S(65498),S(12),C(3),C(1),C(0),C(2),C(17),C(3),C(17),C(0),C(63),C(0);var D=0,Y=0,P=0;g=0,v=7,this.encode.displayName="_encode_";for(var M,$,te,ue,re,ce,_e,xe,ie,se=j.data,ge=j.width,Ae=j.height,Ee=4*ge,Te=0;Te<Ae;){for(M=0;M<Ee;){for(re=Ee*Te+M,_e=-1,xe=0,ie=0;ie<64;ie++)ce=re+(xe=ie>>3)*Ee+(_e=4*(7&ie)),Te+xe>=Ae&&(ce-=Ee*(Te+1+xe-Ae)),M+_e>=Ee&&(ce-=M+_e-Ee+4),$=se[ce++],te=se[ce++],ue=se[ce++],x[ie]=(F[$]+F[te+256>>0]+F[ue+512>>0]>>16)-128,I[ie]=(F[$+768>>0]+F[te+1024>>0]+F[ue+1280>>0]>>16)-128,N[ie]=(F[$+1280>>0]+F[te+1536>>0]+F[ue+1792>>0]>>16)-128;D=R(x,c,D,e,i),Y=R(I,u,Y,t,r),P=R(N,u,P,t,r),M+=32}Te+=8}if(v>=0){var Se=[];Se[1]=v+1,Se[0]=(1<<v+1)-1,y(Se)}return S(65497),new Uint8Array(p)},n=n||50,function(){for(var j=String.fromCharCode,X=0;X<256;X++)H[X]=j(X)}(),e=_(V,G),t=_(E,L),i=_(W,k),r=_(b,w),function(){for(var j=1,X=2,D=1;D<=15;D++){for(var Y=j;Y<X;Y++)f[32767+Y]=D,d[32767+Y]=[],d[32767+Y][1]=D,d[32767+Y][0]=Y;for(var P=-(X-1);P<=-j;P++)f[32767+P]=D,d[32767+P]=[],d[32767+P][1]=D,d[32767+P][0]=X-1+P;j<<=1,X<<=1}}(),function(){for(var j=0;j<256;j++)F[j]=19595*j,F[j+256>>0]=38470*j,F[j+512>>0]=7471*j+32768,F[j+768>>0]=-11059*j,F[j+1024>>0]=-21709*j,F[j+1280>>0]=32768*j+8421375,F[j+1536>>0]=-27439*j,F[j+1792>>0]=-5329*j}(),Z(n)}function fc(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function NU(n){function e(V){if(!V)throw Error("assert :P")}function t(V,G,W){for(var k=0;4>k;k++)if(V[G+k]!=W.charCodeAt(k))return!0;return!1}function i(V,G,W,k,E){for(var L=0;L<E;L++)V[G+L]=W[k+L]}function r(V,G,W,k){for(var E=0;E<k;E++)V[G+E]=W}function o(V){return new Int32Array(V)}function s(V,G){for(var W=[],k=0;k<V;k++)W.push(new G);return W}function a(V,G){var W=[];return function k(E,L,b){for(var w=b[L],_=0;_<w&&(E.push(b.length>L+1?[]:new G),!(b.length<L+1));_++)k(E[_],L+1,b)}(W,0,V),W}var l=function(){var V=this;function G(T,z){for(var J=1<<z-1>>>0;T&J;)J>>>=1;return J?(T&J-1)+J:T}function W(T,z,J,ne,le){e(!(ne%J));do T[z+(ne-=J)]=le;while(0<ne)}function k(T,z,J,ne,le){if(e(2328>=le),512>=le)var de=o(512);else if((de=o(le))==null)return 0;return function(he,me,pe,be,Ne,qe){var Ge,je,gt=me,ot=1<<pe,Le=o(16),Ve=o(16);for(e(Ne!=0),e(be!=null),e(he!=null),e(0<pe),je=0;je<Ne;++je){if(15<be[je])return 0;++Le[be[je]]}if(Le[0]==Ne)return 0;for(Ve[1]=0,Ge=1;15>Ge;++Ge){if(Le[Ge]>1<<Ge)return 0;Ve[Ge+1]=Ve[Ge]+Le[Ge]}for(je=0;je<Ne;++je)Ge=be[je],0<be[je]&&(qe[Ve[Ge]++]=je);if(Ve[15]==1)return(be=new E).g=0,be.value=qe[0],W(he,gt,1,ot,be),ot;var ft,wt=-1,mt=ot-1,en=0,zt=1,Tn=1,$t=1<<pe;for(je=0,Ge=1,Ne=2;Ge<=pe;++Ge,Ne<<=1){if(zt+=Tn<<=1,0>(Tn-=Le[Ge]))return 0;for(;0<Le[Ge];--Le[Ge])(be=new E).g=Ge,be.value=qe[je++],W(he,gt+en,Ne,$t,be),en=G(en,Ge)}for(Ge=pe+1,Ne=2;15>=Ge;++Ge,Ne<<=1){if(zt+=Tn<<=1,0>(Tn-=Le[Ge]))return 0;for(;0<Le[Ge];--Le[Ge]){if(be=new E,(en&mt)!=wt){for(gt+=$t,ft=1<<(wt=Ge)-pe;15>wt&&!(0>=(ft-=Le[wt]));)++wt,ft<<=1;ot+=$t=1<<(ft=wt-pe),he[me+(wt=en&mt)].g=ft+pe,he[me+wt].value=gt-me-wt}be.g=Ge-pe,be.value=qe[je++],W(he,gt+(en>>pe),Ne,$t,be),en=G(en,Ge)}}return zt!=2*Ve[15]-1?0:ot}(T,z,J,ne,le,de)}function E(){this.value=this.g=0}function L(){this.value=this.g=0}function b(){this.G=s(5,E),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Io,L)}function w(T,z,J,ne){e(T!=null),e(z!=null),e(2147483648>ne),T.Ca=254,T.I=0,T.b=-8,T.Ka=0,T.oa=z,T.pa=J,T.Jd=z,T.Yc=J+ne,T.Zc=4<=ne?J+ne-4+1:J,M(T)}function _(T,z){for(var J=0;0<z--;)J|=te(T,128)<<z;return J}function y(T,z){var J=_(T,z);return $(T)?-J:J}function C(T,z,J,ne){var le,de=0;for(e(T!=null),e(z!=null),e(4294967288>ne),T.Sb=ne,T.Ra=0,T.u=0,T.h=0,4<ne&&(ne=4),le=0;le<ne;++le)de+=z[J+le]<<8*le;T.Ra=de,T.bb=ne,T.oa=z,T.pa=J}function S(T){for(;8<=T.u&&T.bb<T.Sb;)T.Ra>>>=8,T.Ra+=T.oa[T.pa+T.bb]<<Nd-8>>>0,++T.bb,T.u-=8;D(T)&&(T.h=1,T.u=0)}function R(T,z){if(e(0<=z),!T.h&&z<=Rd){var J=X(T)&Od[z];return T.u+=z,S(T),J}return T.h=1,T.u=0}function Z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(T){return T.Ra>>>(T.u&Nd-1)>>>0}function D(T){return e(T.bb<=T.Sb),T.h||T.bb==T.Sb&&T.u>Nd}function Y(T,z){T.u=z,T.h=D(T)}function P(T){T.u>=Ld&&(e(T.u>=Ld),S(T))}function M(T){e(T!=null&&T.oa!=null),T.pa<T.Zc?(T.I=(T.oa[T.pa++]|T.I<<8)>>>0,T.b+=8):(e(T!=null&&T.oa!=null),T.pa<T.Yc?(T.b+=8,T.I=T.oa[T.pa++]|T.I<<8):T.Ka?T.b=0:(T.I<<=8,T.b+=8,T.Ka=1))}function $(T){return _(T,1)}function te(T,z){var J=T.Ca;0>T.b&&M(T);var ne=T.b,le=J*z>>>8,de=(T.I>>>ne>le)+0;for(de?(J-=le,T.I-=le+1<<ne>>>0):J=le+1,ne=J,le=0;256<=ne;)le+=8,ne>>=8;return ne=7^le+Cs[ne],T.b-=ne,T.Ca=(J<<ne)-1,de}function ue(T,z,J){T[z+0]=J>>24&255,T[z+1]=J>>16&255,T[z+2]=J>>8&255,T[z+3]=J>>0&255}function re(T,z){return T[z+0]<<0|T[z+1]<<8}function ce(T,z){return re(T,z)|T[z+2]<<16}function _e(T,z){return re(T,z)|re(T,z+2)<<16}function xe(T,z){var J=1<<z;return e(T!=null),e(0<z),T.X=o(J),T.X==null?0:(T.Mb=32-z,T.Xa=z,1)}function ie(T,z){e(T!=null),e(z!=null),e(T.Xa==z.Xa),i(z.X,0,T.X,0,1<<z.Xa)}function se(){this.X=[],this.Xa=this.Mb=0}function ge(T,z,J,ne){e(J!=null),e(ne!=null);var le=J[0],de=ne[0];return le==0&&(le=(T*de+z/2)/z),de==0&&(de=(z*le+T/2)/T),0>=le||0>=de?0:(J[0]=le,ne[0]=de,1)}function Ae(T,z){return T+(1<<z)-1>>>z}function Ee(T,z){return((4278255360&T)+(4278255360&z)>>>0&4278255360)+((16711935&T)+(16711935&z)>>>0&16711935)>>>0}function Te(T,z){V[z]=function(J,ne,le,de,he,me,pe){var be;for(be=0;be<he;++be){var Ne=V[T](me[pe+be-1],le,de+be);me[pe+be]=Ee(J[ne+be],Ne)}}}function Se(){this.ud=this.hd=this.jd=0}function Fe(T,z){return((4278124286&(T^z))>>>1)+(T&z)>>>0}function He(T){return 0<=T&&256>T?T:0>T?0:255<T?255:void 0}function Ze(T,z){return He(T+(T-z+.5>>1))}function ut(T,z,J){return Math.abs(z-J)-Math.abs(T-J)}function tt(T,z,J,ne,le,de,he){for(ne=de[he-1],J=0;J<le;++J)de[he+J]=ne=Ee(T[z+J],ne)}function pt(T,z,J,ne,le){var de;for(de=0;de<J;++de){var he=T[z+de],me=he>>8&255,pe=16711935&(pe=(pe=16711935&he)+((me<<16)+me));ne[le+de]=(4278255360&he)+pe>>>0}}function Zt(T,z){z.jd=T>>0&255,z.hd=T>>8&255,z.ud=T>>16&255}function bt(T,z,J,ne,le,de){var he;for(he=0;he<ne;++he){var me=z[J+he],pe=me>>>8,be=me,Ne=255&(Ne=(Ne=me>>>16)+((T.jd<<24>>24)*(pe<<24>>24)>>>5));be=255&(be=(be=be+((T.hd<<24>>24)*(pe<<24>>24)>>>5))+((T.ud<<24>>24)*(Ne<<24>>24)>>>5)),le[de+he]=(4278255360&me)+(Ne<<16)+be}}function lt(T,z,J,ne,le){V[z]=function(de,he,me,pe,be,Ne,qe,Ge,je){for(pe=qe;pe<Ge;++pe)for(qe=0;qe<je;++qe)be[Ne++]=le(me[ne(de[he++])])},V[T]=function(de,he,me,pe,be,Ne,qe){var Ge=8>>de.b,je=de.Ea,gt=de.K[0],ot=de.w;if(8>Ge)for(de=(1<<de.b)-1,ot=(1<<Ge)-1;he<me;++he){var Le,Ve=0;for(Le=0;Le<je;++Le)Le&de||(Ve=ne(pe[be++])),Ne[qe++]=le(gt[Ve&ot]),Ve>>=Ge}else V["VP8LMapColor"+J](pe,be,gt,ot,Ne,qe,he,me,je)}}function st(T,z,J,ne,le){for(J=z+J;z<J;){var de=T[z++];ne[le++]=de>>16&255,ne[le++]=de>>8&255,ne[le++]=de>>0&255}}function vt(T,z,J,ne,le){for(J=z+J;z<J;){var de=T[z++];ne[le++]=de>>16&255,ne[le++]=de>>8&255,ne[le++]=de>>0&255,ne[le++]=de>>24&255}}function at(T,z,J,ne,le){for(J=z+J;z<J;){var de=(he=T[z++])>>16&240|he>>12&15,he=he>>0&240|he>>28&15;ne[le++]=de,ne[le++]=he}}function mn(T,z,J,ne,le){for(J=z+J;z<J;){var de=(he=T[z++])>>16&248|he>>13&7,he=he>>5&224|he>>3&31;ne[le++]=de,ne[le++]=he}}function Dt(T,z,J,ne,le){for(J=z+J;z<J;){var de=T[z++];ne[le++]=de>>0&255,ne[le++]=de>>8&255,ne[le++]=de>>16&255}}function Vt(T,z,J,ne,le,de){if(de==0)for(J=z+J;z<J;)ue(ne,((de=T[z++])[0]>>24|de[1]>>8&65280|de[2]<<8&16711680|de[3]<<24)>>>0),le+=32;else i(ne,le,T,z,J)}function jr(T,z){V[z][0]=V[T+"0"],V[z][1]=V[T+"1"],V[z][2]=V[T+"2"],V[z][3]=V[T+"3"],V[z][4]=V[T+"4"],V[z][5]=V[T+"5"],V[z][6]=V[T+"6"],V[z][7]=V[T+"7"],V[z][8]=V[T+"8"],V[z][9]=V[T+"9"],V[z][10]=V[T+"10"],V[z][11]=V[T+"11"],V[z][12]=V[T+"12"],V[z][13]=V[T+"13"],V[z][14]=V[T+"0"],V[z][15]=V[T+"0"]}function Rt(T){return T==Q||T==oe||T==we||T==Ke}function rn(){this.eb=[],this.size=this.A=this.fb=0}function Wn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function fn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new rn,this.f.kb=new Wn,this.sd=null}function pn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function wi(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function It(T){return alert("todo:WebPSamplerProcessPlane"),T.T}function Ft(T,z){var J=T.T,ne=z.ba.f.RGBA,le=ne.eb,de=ne.fb+T.ka*ne.A,he=rl[z.ba.S],me=T.y,pe=T.O,be=T.f,Ne=T.N,qe=T.ea,Ge=T.W,je=z.cc,gt=z.dc,ot=z.Mc,Le=z.Nc,Ve=T.ka,ft=T.ka+T.T,wt=T.U,mt=wt+1>>1;for(Ve==0?he(me,pe,null,null,be,Ne,qe,Ge,be,Ne,qe,Ge,le,de,null,null,wt):(he(z.ec,z.fc,me,pe,je,gt,ot,Le,be,Ne,qe,Ge,le,de-ne.A,le,de,wt),++J);Ve+2<ft;Ve+=2)je=be,gt=Ne,ot=qe,Le=Ge,Ne+=T.Rc,Ge+=T.Rc,de+=2*ne.A,he(me,(pe+=2*T.fa)-T.fa,me,pe,je,gt,ot,Le,be,Ne,qe,Ge,le,de-ne.A,le,de,wt);return pe+=T.fa,T.j+ft<T.o?(i(z.ec,z.fc,me,pe,wt),i(z.cc,z.dc,be,Ne,mt),i(z.Mc,z.Nc,qe,Ge,mt),J--):1&ft||he(me,pe,null,null,be,Ne,qe,Ge,be,Ne,qe,Ge,le,de+ne.A,null,null,wt),J}function ur(T,z,J){var ne=T.F,le=[T.J];if(ne!=null){var de=T.U,he=z.ba.S,me=he==tp||he==we;z=z.ba.f.RGBA;var pe=[0],be=T.ka;pe[0]=T.T,T.Kb&&(be==0?--pe[0]:(--be,le[0]-=T.width),T.j+T.ka+T.T==T.o&&(pe[0]=T.o-T.j-be));var Ne=z.eb;be=z.fb+be*z.A,T=ir(ne,le[0],T.width,de,pe,Ne,be+(me?0:3),z.A),e(J==pe),T&&Rt(he)&&oa(Ne,be,me,de,pe,z.A)}return 0}function on(T){var z=T.ma,J=z.ba.S,ne=11>J,le=J==Qm||J==ep||J==tp||J==Vd||J==12||Rt(J);if(z.memory=null,z.Ib=null,z.Jb=null,z.Nd=null,!mf(z.Oa,T,le?11:12))return 0;if(le&&Rt(J)&&xt(),T.da)alert("todo:use_scaling");else{if(ne){if(z.Ib=It,T.Kb){if(J=T.U+1>>1,z.memory=o(T.U+2*J),z.memory==null)return 0;z.ec=z.memory,z.fc=0,z.cc=z.ec,z.dc=z.fc+T.U,z.Mc=z.cc,z.Nc=z.dc+J,z.Ib=Ft,xt()}}else alert("todo:EmitYUV");le&&(z.Jb=ur,ne&&Ue())}if(ne&&!SM){for(T=0;256>T;++T)f$[T]=89858*(T-128)+hw>>dw,g$[T]=-22014*(T-128)+hw,p$[T]=-45773*(T-128),m$[T]=113618*(T-128)+hw>>dw;for(T=cb;T<d5;++T)z=76283*(T-16)+hw>>dw,b$[T-cb]=xs(z,255),v$[T-cb]=xs(z+8>>4,15);SM=1}return 1}function ln(T){var z=T.ma,J=T.U,ne=T.T;return e(!(1&T.ka)),0>=J||0>=ne?0:(J=z.Ib(T,z),z.Jb!=null&&z.Jb(T,z,J),z.Dc+=J,1)}function zr(T){T.ma.memory=null}function St(T,z,J,ne){return R(T,8)!=47?0:(z[0]=R(T,14)+1,J[0]=R(T,14)+1,ne[0]=R(T,1),R(T,3)!=0?0:!T.h)}function Ie(T,z){if(4>T)return T+1;var J=T-2>>1;return(2+(1&T)<<J)+R(z,J)+1}function $e(T,z){return 120<z?z-120:1<=(J=((J=ab[z-1])>>4)*T+(8-(15&J)))?J:1;var J}function Ye(T,z,J){var ne=X(J),le=T[z+=255&ne].g-8;return 0<le&&(Y(J,J.u+8),ne=X(J),z+=T[z].value,z+=ne&(1<<le)-1),Y(J,J.u+T[z].g),T[z].value}function ct(T,z,J){return J.g+=T.g,J.value+=T.value<<z>>>0,e(8>=J.g),T.g}function vn(T,z,J){var ne=T.xc;return e((z=ne==0?0:T.vc[T.md*(J>>ne)+(z>>ne)])<T.Wb),T.Ya[z]}function Mt(T,z,J,ne){var le=T.ab,de=T.c*z,he=T.C;z=he+z;var me=J,pe=ne;for(ne=T.Ta,J=T.Ua;0<le--;){var be=T.gc[le],Ne=he,qe=z,Ge=me,je=pe,gt=(pe=ne,me=J,be.Ea);switch(e(Ne<qe),e(qe<=be.nc),be.hc){case 2:Gm(Ge,je,(qe-Ne)*gt,pe,me);break;case 0:var ot=Ne,Le=qe,Ve=pe,ft=me,wt=($t=be).Ea;ot==0&&(sb(Ge,je,null,null,1,Ve,ft),tt(Ge,je+1,0,0,wt-1,Ve,ft+1),je+=wt,ft+=wt,++ot);for(var mt=1<<$t.b,en=mt-1,zt=Ae(wt,$t.b),Tn=$t.K,$t=$t.w+(ot>>$t.b)*zt;ot<Le;){var Vi=Tn,Ji=$t,Li=1;for(gf(Ge,je,Ve,ft-wt,1,Ve,ft);Li<wt;){var Si=(Li&~en)+mt;Si>wt&&(Si=wt),(0,Sc[Vi[Ji++]>>8&15])(Ge,je+ +Li,Ve,ft+Li-wt,Si-Li,Ve,ft+Li),Li=Si}je+=wt,ft+=wt,++ot&en||($t+=zt)}qe!=be.nc&&i(pe,me-gt,pe,me+(qe-Ne-1)*gt,gt);break;case 1:for(gt=Ge,Le=je,wt=(Ge=be.Ea)-(ft=Ge&~(Ve=(je=1<<be.b)-1)),ot=Ae(Ge,be.b),mt=be.K,be=be.w+(Ne>>be.b)*ot;Ne<qe;){for(en=mt,zt=be,Tn=new Se,$t=Le+ft,Vi=Le+Ge;Le<$t;)Zt(en[zt++],Tn),Ac(Tn,gt,Le,je,pe,me),Le+=je,me+=je;Le<Vi&&(Zt(en[zt++],Tn),Ac(Tn,gt,Le,wt,pe,me),Le+=wt,me+=wt),++Ne&Ve||(be+=ot)}break;case 3:if(Ge==pe&&je==me&&0<be.b){for(Le=pe,Ge=gt=me+(qe-Ne)*gt-(ft=(qe-Ne)*Ae(be.Ea,be.b)),je=pe,Ve=me,ot=[],ft=(wt=ft)-1;0<=ft;--ft)ot[ft]=je[Ve+ft];for(ft=wt-1;0<=ft;--ft)Le[Ge+ft]=ot[ft];Fs(be,Ne,qe,pe,gt,pe,me)}else Fs(be,Ne,qe,Ge,je,pe,me)}me=ne,pe=J}pe!=J&&i(ne,J,me,pe,de)}function Et(T,z){var J=T.V,ne=T.Ba+T.c*T.C,le=z-T.C;if(e(z<=T.l.o),e(16>=le),0<le){var de=T.l,he=T.Ta,me=T.Ua,pe=de.width;if(Mt(T,le,J,ne),le=me=[me],e((J=T.C)<(ne=z)),e(de.v<de.va),ne>de.o&&(ne=de.o),J<de.j){var be=de.j-J;J=de.j,le[0]+=be*pe}if(J>=ne?J=0:(le[0]+=4*de.v,de.ka=J-de.j,de.U=de.va-de.v,de.T=ne-J,J=1),J){if(me=me[0],11>(J=T.ca).S){var Ne=J.f.RGBA,qe=(ne=J.S,le=de.U,de=de.T,be=Ne.eb,Ne.A),Ge=de;for(Ne=Ne.fb+T.Ma*Ne.A;0<Ge--;){var je=he,gt=me,ot=le,Le=be,Ve=Ne;switch(ne){case Jm:Ho(je,gt,ot,Le,Ve);break;case Qm:cs(je,gt,ot,Le,Ve);break;case Q:cs(je,gt,ot,Le,Ve),oa(Le,Ve,0,ot,1,0);break;case uw:Ic(je,gt,ot,Le,Ve);break;case ep:Vt(je,gt,ot,Le,Ve,1);break;case oe:Vt(je,gt,ot,Le,Ve,1),oa(Le,Ve,0,ot,1,0);break;case tp:Vt(je,gt,ot,Le,Ve,0);break;case we:Vt(je,gt,ot,Le,Ve,0),oa(Le,Ve,1,ot,1,0);break;case Vd:Tc(je,gt,ot,Le,Ve);break;case Ke:Tc(je,gt,ot,Le,Ve),nr(Le,Ve,ot,1,0);break;case K:Hl(je,gt,ot,Le,Ve);break;default:e(0)}me+=pe,Ne+=qe}T.Ma+=de}else alert("todo:EmitRescaledRowsYUVA");e(T.Ma<=J.height)}}T.C=z,e(T.C<=T.i)}function li(T){var z;if(0<T.ua)return 0;for(z=0;z<T.Wb;++z){var J=T.Ya[z].G,ne=T.Ya[z].H;if(0<J[1][ne[1]+0].g||0<J[2][ne[2]+0].g||0<J[3][ne[3]+0].g)return 0}return 1}function Jt(T,z,J,ne,le,de){if(T.Z!=0){var he=T.qd,me=T.rd;for(e(Ud[T.Z]!=null);z<J;++z)Ud[T.Z](he,me,ne,le,ne,le,de),he=ne,me=le,le+=de;T.qd=he,T.rd=me}}function Bt(T,z){var J=T.l.ma,ne=J.Z==0||J.Z==1?T.l.j:T.C;if(ne=T.C<ne?ne:T.C,e(z<=T.l.o),z>ne){var le=T.l.width,de=J.ca,he=J.tb+le*ne,me=T.V,pe=T.Ba+T.c*ne,be=T.gc;e(T.ab==1),e(be[0].hc==3),Km(be[0],ne,z,me,pe,de,he),Jt(J,ne,z,de,he,le)}T.C=T.Ma=z}function Kn(T,z,J,ne,le,de,he){var me=T.$/ne,pe=T.$%ne,be=T.m,Ne=T.s,qe=J+T.$,Ge=qe;le=J+ne*le;var je=J+ne*de,gt=280+Ne.ua,ot=T.Pb?me:16777216,Le=0<Ne.ua?Ne.Wa:null,Ve=Ne.wc,ft=qe<je?vn(Ne,pe,me):null;e(T.C<de),e(je<=le);var wt=!1;e:for(;;){for(;wt||qe<je;){var mt=0;if(me>=ot){var en=qe-J;e((ot=T).Pb),ot.wd=ot.m,ot.xd=en,0<ot.s.ua&&ie(ot.s.Wa,ot.s.vb),ot=me+t$}if(pe&Ve||(ft=vn(Ne,pe,me)),e(ft!=null),ft.Qb&&(z[qe]=ft.qb,wt=!0),!wt)if(P(be),ft.jc){mt=be,en=z;var zt=qe,Tn=ft.pd[X(mt)&Io-1];e(ft.jc),256>Tn.g?(Y(mt,mt.u+Tn.g),en[zt]=Tn.value,mt=0):(Y(mt,mt.u+Tn.g-256),e(256<=Tn.value),mt=Tn.value),mt==0&&(wt=!0)}else mt=Ye(ft.G[0],ft.H[0],be);if(be.h)break;if(wt||256>mt){if(!wt)if(ft.nd)z[qe]=(ft.qb|mt<<8)>>>0;else{if(P(be),wt=Ye(ft.G[1],ft.H[1],be),P(be),en=Ye(ft.G[2],ft.H[2],be),zt=Ye(ft.G[3],ft.H[3],be),be.h)break;z[qe]=(zt<<24|wt<<16|mt<<8|en)>>>0}if(wt=!1,++qe,++pe>=ne&&(pe=0,++me,he!=null&&me<=de&&!(me%16)&&he(T,me),Le!=null))for(;Ge<qe;)mt=z[Ge++],Le.X[(506832829*mt&4294967295)>>>Le.Mb]=mt}else if(280>mt){if(mt=Ie(mt-256,be),en=Ye(ft.G[4],ft.H[4],be),P(be),en=$e(ne,en=Ie(en,be)),be.h)break;if(qe-J<en||le-qe<mt)break e;for(zt=0;zt<mt;++zt)z[qe+zt]=z[qe+zt-en];for(qe+=mt,pe+=mt;pe>=ne;)pe-=ne,++me,he!=null&&me<=de&&!(me%16)&&he(T,me);if(e(qe<=le),pe&Ve&&(ft=vn(Ne,pe,me)),Le!=null)for(;Ge<qe;)mt=z[Ge++],Le.X[(506832829*mt&4294967295)>>>Le.Mb]=mt}else{if(!(mt<gt))break e;for(wt=mt-280,e(Le!=null);Ge<qe;)mt=z[Ge++],Le.X[(506832829*mt&4294967295)>>>Le.Mb]=mt;mt=qe,e(!(wt>>>(en=Le).Xa)),z[mt]=en.X[wt],wt=!0}wt||e(be.h==D(be))}if(T.Pb&&be.h&&qe<le)e(T.m.h),T.a=5,T.m=T.wd,T.$=T.xd,0<T.s.ua&&ie(T.s.vb,T.s.Wa);else{if(be.h)break e;he?.(T,me>de?de:me),T.a=0,T.$=qe-J}return 1}return T.a=3,0}function Dn(T){e(T!=null),T.vc=null,T.yc=null,T.Ya=null;var z=T.Wa;z!=null&&(z.X=null),T.vb=null,e(T!=null)}function kn(){var T=new Td;return T==null?null:(T.a=0,T.xb=yM,jr("Predictor","VP8LPredictors"),jr("Predictor","VP8LPredictors_C"),jr("PredictorAdd","VP8LPredictorsAdd"),jr("PredictorAdd","VP8LPredictorsAdd_C"),Gm=pt,Ac=bt,Ho=st,cs=vt,Tc=at,Hl=mn,Ic=Dt,V.VP8LMapColor32b=wu,V.VP8LMapColor8b=Zm,T)}function Xn(T,z,J,ne,le){var de=1,he=[T],me=[z],pe=ne.m,be=ne.s,Ne=null,qe=0;e:for(;;){if(J)for(;de&&R(pe,1);){var Ge=he,je=me,gt=ne,ot=1,Le=gt.m,Ve=gt.gc[gt.ab],ft=R(Le,2);if(gt.Oc&1<<ft)de=0;else{switch(gt.Oc|=1<<ft,Ve.hc=ft,Ve.Ea=Ge[0],Ve.nc=je[0],Ve.K=[null],++gt.ab,e(4>=gt.ab),ft){case 0:case 1:Ve.b=R(Le,3)+2,ot=Xn(Ae(Ve.Ea,Ve.b),Ae(Ve.nc,Ve.b),0,gt,Ve.K),Ve.K=Ve.K[0];break;case 3:var wt,mt=R(Le,8)+1,en=16<mt?0:4<mt?1:2<mt?2:3;if(Ge[0]=Ae(Ve.Ea,en),Ve.b=en,wt=ot=Xn(mt,1,0,gt,Ve.K)){var zt,Tn=mt,$t=Ve,Vi=1<<(8>>$t.b),Ji=o(Vi);if(Ji==null)wt=0;else{var Li=$t.K[0],Si=$t.w;for(Ji[0]=$t.K[0][0],zt=1;zt<1*Tn;++zt)Ji[zt]=Ee(Li[Si+zt],Ji[zt-1]);for(;zt<4*Vi;++zt)Ji[zt]=0;$t.K[0]=null,$t.K[0]=Ji,wt=1}}ot=wt;break;case 2:break;default:e(0)}de=ot}}if(he=he[0],me=me[0],de&&R(pe,1)&&!(de=1<=(qe=R(pe,4))&&11>=qe)){ne.a=3;break e}var dr;if(dr=de)t:{var rr,ii,_o,aa=ne,xo=he,la=me,Qi=qe,Da=J,Oa=aa.m,$o=aa.s,hs=[null],js=1,ol=0,Dc=e$[Qi];n:for(;;){if(Da&&R(Oa,1)){var qo=R(Oa,3)+2,Eu=Ae(xo,qo),xf=Ae(la,qo),np=Eu*xf;if(!Xn(Eu,xf,0,aa,hs))break n;for(hs=hs[0],$o.xc=qo,rr=0;rr<np;++rr){var Hd=hs[rr]>>8&65535;hs[rr]=Hd,Hd>=js&&(js=Hd+1)}}if(Oa.h)break n;for(ii=0;5>ii;++ii){var oo=Ni[ii];!ii&&0<Qi&&(oo+=1<<Qi),ol<oo&&(ol=oo)}var h5=s(js*Dc,E),IM=js,MM=s(IM,b);if(MM==null)var mw=null;else e(65536>=IM),mw=MM;var ub=o(ol);if(mw==null||ub==null||h5==null){aa.a=1;break n}var pw=h5;for(rr=_o=0;rr<js;++rr){var Gl=mw[rr],ip=Gl.G,rp=Gl.H,PM=0,gw=1,DM=0;for(ii=0;5>ii;++ii){oo=Ni[ii],ip[ii]=pw,rp[ii]=_o,!ii&&0<Qi&&(oo+=1<<Qi);r:{var bw,f5=oo,vw=aa,db=ub,_$=pw,x$=_o,m5=0,Wd=vw.m,C$=R(Wd,1);if(r(db,0,0,f5),C$){var k$=R(Wd,1)+1,E$=R(Wd,1),OM=R(Wd,E$==0?1:8);db[OM]=1,k$==2&&(db[OM=R(Wd,8)]=1);var ww=1}else{var RM=o(19),NM=R(Wd,4)+4;if(19<NM){vw.a=3;var yw=0;break r}for(bw=0;bw<NM;++bw)RM[jd[bw]]=R(Wd,3);var p5=void 0,hb=void 0,LM=vw,S$=RM,_w=f5,FM=db,g5=0,$d=LM.m,BM=8,VM=s(128,E);i:for(;k(VM,0,7,S$,19);){if(R($d,1)){var A$=2+2*R($d,3);if((p5=2+R($d,A$))>_w)break i}else p5=_w;for(hb=0;hb<_w&&p5--;){P($d);var jM=VM[0+(127&X($d))];Y($d,$d.u+jM.g);var op=jM.value;if(16>op)FM[hb++]=op,op!=0&&(BM=op);else{var T$=op==16,zM=op-16,I$=ni[zM],UM=R($d,Gt[zM])+I$;if(hb+UM>_w)break i;for(var M$=T$?BM:0;0<UM--;)FM[hb++]=M$}}g5=1;break i}g5||(LM.a=3),ww=g5}(ww=ww&&!Wd.h)&&(m5=k(_$,x$,8,db,f5)),ww&&m5!=0?yw=m5:(vw.a=3,yw=0)}if(yw==0)break n;if(gw&&Or[ii]==1&&(gw=pw[_o].g==0),PM+=pw[_o].g,_o+=yw,3>=ii){var fb,b5=ub[0];for(fb=1;fb<oo;++fb)ub[fb]>b5&&(b5=ub[fb]);DM+=b5}}if(Gl.nd=gw,Gl.Qb=0,gw&&(Gl.qb=(ip[3][rp[3]+0].value<<24|ip[1][rp[1]+0].value<<16|ip[2][rp[2]+0].value)>>>0,PM==0&&256>ip[0][rp[0]+0].value&&(Gl.Qb=1,Gl.qb+=ip[0][rp[0]+0].value<<8)),Gl.jc=!Gl.Qb&&6>DM,Gl.jc){var xw,Su=Gl;for(xw=0;xw<Io;++xw){var qd=xw,Gd=Su.pd[qd],Cw=Su.G[0][Su.H[0]+qd];256<=Cw.value?(Gd.g=Cw.g+256,Gd.value=Cw.value):(Gd.g=0,Gd.value=0,qd>>=ct(Cw,8,Gd),qd>>=ct(Su.G[1][Su.H[1]+qd],16,Gd),qd>>=ct(Su.G[2][Su.H[2]+qd],0,Gd),ct(Su.G[3][Su.H[3]+qd],24,Gd))}}}$o.vc=hs,$o.Wb=js,$o.Ya=mw,$o.yc=h5,dr=1;break t}dr=0}if(!(de=dr)){ne.a=3;break e}if(0<qe){if(be.ua=1<<qe,!xe(be.Wa,qe)){ne.a=1,de=0;break e}}else be.ua=0;var v5=ne,HM=he,P$=me,w5=v5.s,y5=w5.xc;if(v5.c=HM,v5.i=P$,w5.md=Ae(HM,y5),w5.wc=y5==0?-1:(1<<y5)-1,J){ne.xb=l$;break e}if((Ne=o(he*me))==null){ne.a=1,de=0;break e}de=(de=Kn(ne,Ne,0,he,me,me,null))&&!pe.h;break e}return de?(le!=null?le[0]=Ne:(e(Ne==null),e(J)),ne.$=0,J||Dn(be)):Dn(be),de}function Ei(T,z){var J=T.c*T.i,ne=J+z+16*z;return e(T.c<=z),T.V=o(ne),T.V==null?(T.Ta=null,T.Ua=0,T.a=1,0):(T.Ta=T.V,T.Ua=T.Ba+J+z,1)}function er(T,z){var J=T.C,ne=z-J,le=T.V,de=T.Ba+T.c*J;for(e(z<=T.l.o);0<ne;){var he=16<ne?16:ne,me=T.l.ma,pe=T.l.width,be=pe*he,Ne=me.ca,qe=me.tb+pe*J,Ge=T.Ta,je=T.Ua;Mt(T,he,le,de),Wr(Ge,je,Ne,qe,be),Jt(me,J,J+he,Ne,qe,pe),ne-=he,le+=he*T.c,J+=he}e(J==z),T.C=T.Ma=z}function yr(){this.ub=this.yd=this.td=this.Rb=0}function Ln(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ur(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function ye(){this.Yb=function(){var T=[];return function z(J,ne,le){for(var de=le[ne],he=0;he<de&&(J.push(le.length>ne+1?[]:0),!(le.length<ne+1));he++)z(J[he],ne+1,le)}(T,0,[3,11]),T}()}function We(){this.jb=o(3),this.Wc=a([4,8],ye),this.Xc=a([4,17],ye)}function dt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function it(){this.ld=this.La=this.dd=this.tc=0}function Pt(){this.Na=this.la=0}function Qt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Yt(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Jn(){this.uc=this.M=this.Nb=0,this.wa=Array(new it),this.Y=0,this.ya=Array(new Yt),this.aa=0,this.l=new Cn}function xn(){this.y=o(16),this.f=o(8),this.ea=o(8)}function yn(){this.cb=this.a=0,this.sc="",this.m=new Z,this.Od=new yr,this.Kc=new Ln,this.ed=new dt,this.Qa=new Ur,this.Ic=this.$c=this.Aa=0,this.D=new Jn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,Z),this.ia=0,this.pb=s(4,Qt),this.Pa=new We,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new xn),this.Hd=0,this.rb=Array(new Pt),this.sb=0,this.wa=Array(new it),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Yt),this.L=this.aa=0,this.gd=a([4,2],it),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Cn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function tr(){var T=new yn;return T!=null&&(T.a=0,T.sc="OK",T.cb=0,T.Xb=0,lb||(lb=Yr)),T}function $n(T,z,J){return T.a==0&&(T.a=z,T.sc=J,T.cb=0),0}function yi(T,z,J){return 3<=J&&T[z+0]==157&&T[z+1]==1&&T[z+2]==42}function Ii(T,z){if(T==null)return 0;if(T.a=0,T.sc="OK",z==null)return $n(T,2,"null VP8Io passed to VP8GetHeaders()");var J=z.data,ne=z.w,le=z.ha;if(4>le)return $n(T,7,"Truncated header.");var de=J[ne+0]|J[ne+1]<<8|J[ne+2]<<16,he=T.Od;if(he.Rb=!(1&de),he.td=de>>1&7,he.yd=de>>4&1,he.ub=de>>5,3<he.td)return $n(T,3,"Incorrect keyframe parameters.");if(!he.yd)return $n(T,4,"Frame not displayable.");ne+=3,le-=3;var me=T.Kc;if(he.Rb){if(7>le)return $n(T,7,"cannot parse picture header");if(!yi(J,ne,le))return $n(T,3,"Bad code word");me.c=16383&(J[ne+4]<<8|J[ne+3]),me.Td=J[ne+4]>>6,me.i=16383&(J[ne+6]<<8|J[ne+5]),me.Ud=J[ne+6]>>6,ne+=7,le-=7,T.za=me.c+15>>4,T.Ub=me.i+15>>4,z.width=me.c,z.height=me.i,z.Da=0,z.j=0,z.v=0,z.va=z.width,z.o=z.height,z.da=0,z.ib=z.width,z.hb=z.height,z.U=z.width,z.T=z.height,r((de=T.Pa).jb,0,255,de.jb.length),e((de=T.Qa)!=null),de.Cb=0,de.Bb=0,de.Fb=1,r(de.Zb,0,0,de.Zb.length),r(de.Lb,0,0,de.Lb)}if(he.ub>le)return $n(T,7,"bad partition length");w(de=T.m,J,ne,he.ub),ne+=he.ub,le-=he.ub,he.Rb&&(me.Ld=$(de),me.Kd=$(de)),me=T.Qa;var pe,be=T.Pa;if(e(de!=null),e(me!=null),me.Cb=$(de),me.Cb){if(me.Bb=$(de),$(de)){for(me.Fb=$(de),pe=0;4>pe;++pe)me.Zb[pe]=$(de)?y(de,7):0;for(pe=0;4>pe;++pe)me.Lb[pe]=$(de)?y(de,6):0}if(me.Bb)for(pe=0;3>pe;++pe)be.jb[pe]=$(de)?_(de,8):255}else me.Bb=0;if(de.Ka)return $n(T,3,"cannot parse segment header");if((me=T.ed).zd=$(de),me.Tb=_(de,6),me.wb=_(de,3),me.Pc=$(de),me.Pc&&$(de)){for(be=0;4>be;++be)$(de)&&(me.vd[be]=y(de,6));for(be=0;4>be;++be)$(de)&&(me.od[be]=y(de,6))}if(T.L=me.Tb==0?0:me.zd?1:2,de.Ka)return $n(T,3,"cannot parse filter header");var Ne=le;if(le=pe=ne,ne=pe+Ne,me=Ne,T.Xb=(1<<_(T.m,2))-1,Ne<3*(be=T.Xb))J=7;else{for(pe+=3*be,me-=3*be,Ne=0;Ne<be;++Ne){var qe=J[le+0]|J[le+1]<<8|J[le+2]<<16;qe>me&&(qe=me),w(T.Jc[+Ne],J,pe,qe),pe+=qe,me-=qe,le+=3}w(T.Jc[+be],J,pe,me),J=pe<ne?0:5}if(J!=0)return $n(T,J,"cannot parse partitions");for(J=_(pe=T.m,7),le=$(pe)?y(pe,4):0,ne=$(pe)?y(pe,4):0,me=$(pe)?y(pe,4):0,be=$(pe)?y(pe,4):0,pe=$(pe)?y(pe,4):0,Ne=T.Qa,qe=0;4>qe;++qe){if(Ne.Cb){var Ge=Ne.Zb[qe];Ne.Fb||(Ge+=J)}else{if(0<qe){T.pb[qe]=T.pb[0];continue}Ge=J}var je=T.pb[qe];je.Sc[0]=c5[xs(Ge+le,127)],je.Sc[1]=u5[xs(Ge+0,127)],je.Eb[0]=2*c5[xs(Ge+ne,127)],je.Eb[1]=101581*u5[xs(Ge+me,127)]>>16,8>je.Eb[1]&&(je.Eb[1]=8),je.Qc[0]=c5[xs(Ge+be,117)],je.Qc[1]=u5[xs(Ge+pe,127)],je.lc=Ge+pe}if(!he.Rb)return $n(T,4,"Not a key frame.");for($(de),he=T.Pa,J=0;4>J;++J){for(le=0;8>le;++le)for(ne=0;3>ne;++ne)for(me=0;11>me;++me)be=te(de,s$[J][le][ne][me])?_(de,8):r$[J][le][ne][me],he.Wc[J][le].Yb[ne][me]=be;for(le=0;17>le;++le)he.Xc[J][le]=he.Wc[J][a$[le]]}return T.kc=$(de),T.kc&&(T.Bd=_(de,8)),T.cb=1}function Yr(T,z,J,ne,le,de,he){var me=z[le].Yb[J];for(J=0;16>le;++le){if(!te(T,me[J+0]))return le;for(;!te(T,me[J+1]);)if(me=z[++le].Yb[0],J=0,le==16)return 16;var pe=z[le+1].Yb;if(te(T,me[J+2])){var be=T,Ne=0;if(te(be,(Ge=me)[(qe=J)+3]))if(te(be,Ge[qe+6])){for(me=0,qe=2*(Ne=te(be,Ge[qe+8]))+(Ge=te(be,Ge[qe+9+Ne])),Ne=0,Ge=n$[qe];Ge[me];++me)Ne+=Ne+te(be,Ge[me]);Ne+=3+(8<<qe)}else te(be,Ge[qe+7])?(Ne=7+2*te(be,165),Ne+=te(be,145)):Ne=5+te(be,159);else Ne=te(be,Ge[qe+4])?3+te(be,Ge[qe+5]):2;me=pe[2]}else Ne=1,me=pe[1];pe=he+i$[le],0>(be=T).b&&M(be);var qe,Ge=be.b,je=(qe=be.Ca>>1)-(be.I>>Ge)>>31;--be.b,be.Ca+=je,be.Ca|=1,be.I-=(qe+1&je)<<Ge,de[pe]=((Ne^je)-je)*ne[(0<le)+0]}return 16}function ho(T){var z=T.rb[T.sb-1];z.la=0,z.Na=0,r(T.zc,0,0,T.zc.length),T.ja=0}function zo(T,z){if(T==null)return 0;if(z==null)return $n(T,2,"NULL VP8Io parameter in VP8Decode().");if(!T.cb&&!Ii(T,z))return 0;if(e(T.cb),z.ac==null||z.ac(z)){z.ob&&(T.L=0);var J=fw[T.L];if(T.L==2?(T.yb=0,T.zb=0):(T.yb=z.v-J>>4,T.zb=z.j-J>>4,0>T.yb&&(T.yb=0),0>T.zb&&(T.zb=0)),T.Va=z.o+15+J>>4,T.Hb=z.va+15+J>>4,T.Hb>T.za&&(T.Hb=T.za),T.Va>T.Ub&&(T.Va=T.Ub),0<T.L){var ne=T.ed;for(J=0;4>J;++J){var le;if(T.Qa.Cb){var de=T.Qa.Lb[J];T.Qa.Fb||(de+=ne.Tb)}else de=ne.Tb;for(le=0;1>=le;++le){var he=T.gd[J][le],me=de;if(ne.Pc&&(me+=ne.vd[0],le&&(me+=ne.od[0])),0<(me=0>me?0:63<me?63:me)){var pe=me;0<ne.wb&&(pe=4<ne.wb?pe>>2:pe>>1)>9-ne.wb&&(pe=9-ne.wb),1>pe&&(pe=1),he.dd=pe,he.tc=2*me+pe,he.ld=40<=me?2:15<=me?1:0}else he.tc=0;he.La=le}}}J=0}else $n(T,6,"Frame setup failed"),J=T.a;if(J=J==0){if(J){T.$c=0,0<T.Aa||(T.Ic=y$);e:{J=T.Ic,ne=4*(pe=T.za);var be=32*pe,Ne=pe+1,qe=0<T.L?pe*(0<T.Aa?2:1):0,Ge=(T.Aa==2?2:1)*pe;if((he=ne+832+(le=3*(16*J+fw[T.L])/2*be)+(de=T.Fa!=null&&0<T.Fa.length?T.Kc.c*T.Kc.i:0))!=he)J=0;else{if(he>T.Vb){if(T.Vb=0,T.Ec=o(he),T.Fc=0,T.Ec==null){J=$n(T,1,"no memory during frame initialization.");break e}T.Vb=he}he=T.Ec,me=T.Fc,T.Ac=he,T.Bc=me,me+=ne,T.Gd=s(be,xn),T.Hd=0,T.rb=s(Ne+1,Pt),T.sb=1,T.wa=qe?s(qe,it):null,T.Y=0,T.D.Nb=0,T.D.wa=T.wa,T.D.Y=T.Y,0<T.Aa&&(T.D.Y+=pe),e(!0),T.oc=he,T.pc=me,me+=832,T.ya=s(Ge,Yt),T.aa=0,T.D.ya=T.ya,T.D.aa=T.aa,T.Aa==2&&(T.D.aa+=pe),T.R=16*pe,T.B=8*pe,pe=(be=fw[T.L])*T.R,be=be/2*T.B,T.sa=he,T.ta=me+pe,T.qa=T.sa,T.ra=T.ta+16*J*T.R+be,T.Ha=T.qa,T.Ia=T.ra+8*J*T.B+be,T.$c=0,me+=le,T.mb=de?he:null,T.nb=de?me:null,e(me+de<=T.Fc+T.Vb),ho(T),r(T.Ac,T.Bc,0,ne),J=1}}if(J){if(z.ka=0,z.y=T.sa,z.O=T.ta,z.f=T.qa,z.N=T.ra,z.ea=T.Ha,z.Vd=T.Ia,z.fa=T.R,z.Rc=T.B,z.F=null,z.J=0,!Cu){for(J=-255;255>=J;++J)po[255+J]=0>J?-J:J;for(J=-1020;1020>=J;++J)$l[1020+J]=-128>J?-128:127<J?127:J;for(J=-112;112>=J;++J)_f[112+J]=-16>J?-16:15<J?15:J;for(J=-255;510>=J;++J)ds[255+J]=0>J?0:255<J?255:J;Cu=1}bf=To,Mc=Mi,vf=Ya,Wo=na,ra=Ll,Jr=di,Fd=uf,Ym=nl,wf=ob,yu=df,_u=$m,Pc=Cd,xu=kd,Bd=qm,Bs=Wm,Wl=tl,yf=jl,us=rb,ql[0]=Qa,ql[1]=ia,ql[2]=yc,ql[3]=_c,ql[4]=Vl,ql[5]=wd,ql[6]=jm,ql[7]=yd,ql[8]=el,ql[9]=tb,zd[0]=Ja,zd[1]=vc,zd[2]=Xr,zd[3]=ls,zd[4]=io,zd[5]=wc,zd[6]=Bl,ku[0]=xc,ku[1]=Fl,ku[2]=nb,ku[3]=_d,ku[4]=bu,ku[5]=ib,ku[6]=xd,J=1}else J=0}J&&(J=function(je,gt){for(je.M=0;je.M<je.Va;++je.M){var ot,Le=je.Jc[je.M&je.Xb],Ve=je.m,ft=je;for(ot=0;ot<ft.za;++ot){var wt=Ve,mt=ft,en=mt.Ac,zt=mt.Bc+4*ot,Tn=mt.zc,$t=mt.ya[mt.aa+ot];if(mt.Qa.Bb?$t.$b=te(wt,mt.Pa.jb[0])?2+te(wt,mt.Pa.jb[2]):te(wt,mt.Pa.jb[1]):$t.$b=0,mt.kc&&($t.Ad=te(wt,mt.Bd)),$t.Za=!te(wt,145)+0,$t.Za){var Vi=$t.Ob,Ji=0;for(mt=0;4>mt;++mt){var Li,Si=Tn[0+mt];for(Li=0;4>Li;++Li){Si=o$[en[zt+Li]][Si];for(var dr=wM[te(wt,Si[0])];0<dr;)dr=wM[2*dr+te(wt,Si[dr])];Si=-dr,en[zt+Li]=Si}i(Vi,Ji,en,zt,4),Ji+=4,Tn[0+mt]=Si}}else Si=te(wt,156)?te(wt,128)?1:3:te(wt,163)?2:0,$t.Ob[0]=Si,r(en,zt,Si,4),r(Tn,0,Si,4);$t.Dd=te(wt,142)?te(wt,114)?te(wt,183)?1:3:2:0}if(ft.m.Ka)return $n(je,7,"Premature end-of-partition0 encountered.");for(;je.ja<je.za;++je.ja){if(ft=Le,wt=(Ve=je).rb[Ve.sb-1],en=Ve.rb[Ve.sb+Ve.ja],ot=Ve.ya[Ve.aa+Ve.ja],zt=Ve.kc?ot.Ad:0)wt.la=en.la=0,ot.Za||(wt.Na=en.Na=0),ot.Hc=0,ot.Gc=0,ot.ia=0;else{var rr,ii;if(wt=en,en=ft,zt=Ve.Pa.Xc,Tn=Ve.ya[Ve.aa+Ve.ja],$t=Ve.pb[Tn.$b],mt=Tn.ad,Vi=0,Ji=Ve.rb[Ve.sb-1],Si=Li=0,r(mt,Vi,0,384),Tn.Za)var _o=0,aa=zt[3];else{dr=o(16);var xo=wt.Na+Ji.Na;if(xo=lb(en,zt[1],xo,$t.Eb,0,dr,0),wt.Na=Ji.Na=(0<xo)+0,1<xo)bf(dr,0,mt,Vi);else{var la=dr[0]+3>>3;for(dr=0;256>dr;dr+=16)mt[Vi+dr]=la}_o=1,aa=zt[0]}var Qi=15&wt.la,Da=15&Ji.la;for(dr=0;4>dr;++dr){var Oa=1&Da;for(la=ii=0;4>la;++la)Qi=Qi>>1|(Oa=(xo=lb(en,aa,xo=Oa+(1&Qi),$t.Sc,_o,mt,Vi))>_o)<<7,ii=ii<<2|(3<xo?3:1<xo?2:mt[Vi+0]!=0),Vi+=16;Qi>>=4,Da=Da>>1|Oa<<7,Li=(Li<<8|ii)>>>0}for(aa=Qi,_o=Da>>4,rr=0;4>rr;rr+=2){for(ii=0,Qi=wt.la>>4+rr,Da=Ji.la>>4+rr,dr=0;2>dr;++dr){for(Oa=1&Da,la=0;2>la;++la)xo=Oa+(1&Qi),Qi=Qi>>1|(Oa=0<(xo=lb(en,zt[2],xo,$t.Qc,0,mt,Vi)))<<3,ii=ii<<2|(3<xo?3:1<xo?2:mt[Vi+0]!=0),Vi+=16;Qi>>=2,Da=Da>>1|Oa<<5}Si|=ii<<4*rr,aa|=Qi<<4<<rr,_o|=(240&Da)<<rr}wt.la=aa,Ji.la=_o,Tn.Hc=Li,Tn.Gc=Si,Tn.ia=43690&Si?0:$t.ia,zt=!(Li|Si)}if(0<Ve.L&&(Ve.wa[Ve.Y+Ve.ja]=Ve.gd[ot.$b][ot.Za],Ve.wa[Ve.Y+Ve.ja].La|=!zt),ft.Ka)return $n(je,7,"Premature end-of-file encountered.")}if(ho(je),Ve=gt,ft=1,ot=(Le=je).D,wt=0<Le.L&&Le.M>=Le.zb&&Le.M<=Le.Va,Le.Aa==0)e:{if(ot.M=Le.M,ot.uc=wt,ff(Le,ot),ft=1,ot=(ii=Le.D).Nb,wt=(Si=fw[Le.L])*Le.R,en=Si/2*Le.B,dr=16*ot*Le.R,la=8*ot*Le.B,zt=Le.sa,Tn=Le.ta-wt+dr,$t=Le.qa,mt=Le.ra-en+la,Vi=Le.Ha,Ji=Le.Ia-en+la,Da=(Qi=ii.M)==0,Li=Qi>=Le.Va-1,Le.Aa==2&&ff(Le,ii),ii.uc)for(Oa=(xo=Le).D.M,e(xo.D.uc),ii=xo.yb;ii<xo.Hb;++ii){_o=ii,aa=Oa;var $o=(hs=(oo=xo).D).Nb;rr=oo.R;var hs=hs.wa[hs.Y+_o],js=oo.sa,ol=oo.ta+16*$o*rr+16*_o,Dc=hs.dd,qo=hs.tc;if(qo!=0)if(e(3<=qo),oo.L==1)0<_o&&Wl(js,ol,rr,qo+4),hs.La&&us(js,ol,rr,qo),0<aa&&Bs(js,ol,rr,qo+4),hs.La&&yf(js,ol,rr,qo);else{var Eu=oo.B,xf=oo.qa,np=oo.ra+8*$o*Eu+8*_o,Hd=oo.Ha,oo=oo.Ia+8*$o*Eu+8*_o;$o=hs.ld,0<_o&&(Ym(js,ol,rr,qo+4,Dc,$o),yu(xf,np,Hd,oo,Eu,qo+4,Dc,$o)),hs.La&&(Pc(js,ol,rr,qo,Dc,$o),Bd(xf,np,Hd,oo,Eu,qo,Dc,$o)),0<aa&&(Fd(js,ol,rr,qo+4,Dc,$o),wf(xf,np,Hd,oo,Eu,qo+4,Dc,$o)),hs.La&&(_u(js,ol,rr,qo,Dc,$o),xu(xf,np,Hd,oo,Eu,qo,Dc,$o))}}if(Le.ia&&alert("todo:DitherRow"),Ve.put!=null){if(ii=16*Qi,Qi=16*(Qi+1),Da?(Ve.y=Le.sa,Ve.O=Le.ta+dr,Ve.f=Le.qa,Ve.N=Le.ra+la,Ve.ea=Le.Ha,Ve.W=Le.Ia+la):(ii-=Si,Ve.y=zt,Ve.O=Tn,Ve.f=$t,Ve.N=mt,Ve.ea=Vi,Ve.W=Ji),Li||(Qi-=Si),Qi>Ve.o&&(Qi=Ve.o),Ve.F=null,Ve.J=null,Le.Fa!=null&&0<Le.Fa.length&&ii<Qi&&(Ve.J=Pd(Le,Ve,ii,Qi-ii),Ve.F=Le.mb,Ve.F==null&&Ve.F.length==0)){ft=$n(Le,3,"Could not decode alpha data.");break e}ii<Ve.j&&(Si=Ve.j-ii,ii=Ve.j,e(!(1&Si)),Ve.O+=Le.R*Si,Ve.N+=Le.B*(Si>>1),Ve.W+=Le.B*(Si>>1),Ve.F!=null&&(Ve.J+=Ve.width*Si)),ii<Qi&&(Ve.O+=Ve.v,Ve.N+=Ve.v>>1,Ve.W+=Ve.v>>1,Ve.F!=null&&(Ve.J+=Ve.v),Ve.ka=ii-Ve.j,Ve.U=Ve.va-Ve.v,Ve.T=Qi-ii,ft=Ve.put(Ve))}ot+1!=Le.Ic||Li||(i(Le.sa,Le.ta-wt,zt,Tn+16*Le.R,wt),i(Le.qa,Le.ra-en,$t,mt+8*Le.B,en),i(Le.Ha,Le.Ia-en,Vi,Ji+8*Le.B,en))}if(!ft)return $n(je,6,"Output aborted.")}return 1}(T,z)),z.bc!=null&&z.bc(z),J&=1}return J?(T.cb=0,J):0}function Mr(T,z,J,ne,le){le=T[z+J+32*ne]+(le>>3),T[z+J+32*ne]=-256&le?0>le?0:255:le}function _s(T,z,J,ne,le,de){Mr(T,z,0,J,ne+le),Mr(T,z,1,J,ne+de),Mr(T,z,2,J,ne-de),Mr(T,z,3,J,ne-le)}function fo(T){return(20091*T>>16)+T}function Ao(T,z,J,ne){var le,de=0,he=o(16);for(le=0;4>le;++le){var me=T[z+0]+T[z+8],pe=T[z+0]-T[z+8],be=(35468*T[z+4]>>16)-fo(T[z+12]),Ne=fo(T[z+4])+(35468*T[z+12]>>16);he[de+0]=me+Ne,he[de+1]=pe+be,he[de+2]=pe-be,he[de+3]=me-Ne,de+=4,z++}for(le=de=0;4>le;++le)me=(T=he[de+0]+4)+he[de+8],pe=T-he[de+8],be=(35468*he[de+4]>>16)-fo(he[de+12]),Mr(J,ne,0,0,me+(Ne=fo(he[de+4])+(35468*he[de+12]>>16))),Mr(J,ne,1,0,pe+be),Mr(J,ne,2,0,pe-be),Mr(J,ne,3,0,me-Ne),de++,ne+=32}function di(T,z,J,ne){var le=T[z+0]+4,de=35468*T[z+4]>>16,he=fo(T[z+4]),me=35468*T[z+1]>>16;_s(J,ne,0,le+he,T=fo(T[z+1]),me),_s(J,ne,1,le+de,T,me),_s(J,ne,2,le-de,T,me),_s(J,ne,3,le-he,T,me)}function Mi(T,z,J,ne,le){Ao(T,z,J,ne),le&&Ao(T,z+16,J,ne+4)}function Ya(T,z,J,ne){Mc(T,z+0,J,ne,1),Mc(T,z+32,J,ne+128,1)}function na(T,z,J,ne){var le;for(T=T[z+0]+4,le=0;4>le;++le)for(z=0;4>z;++z)Mr(J,ne,z,le,T)}function Ll(T,z,J,ne){T[z+0]&&Wo(T,z+0,J,ne),T[z+16]&&Wo(T,z+16,J,ne+4),T[z+32]&&Wo(T,z+32,J,ne+128),T[z+48]&&Wo(T,z+48,J,ne+128+4)}function To(T,z,J,ne){var le,de=o(16);for(le=0;4>le;++le){var he=T[z+0+le]+T[z+12+le],me=T[z+4+le]+T[z+8+le],pe=T[z+4+le]-T[z+8+le],be=T[z+0+le]-T[z+12+le];de[0+le]=he+me,de[8+le]=he-me,de[4+le]=be+pe,de[12+le]=be-pe}for(le=0;4>le;++le)he=(T=de[0+4*le]+3)+de[3+4*le],me=de[1+4*le]+de[2+4*le],pe=de[1+4*le]-de[2+4*le],be=T-de[3+4*le],J[ne+0]=he+me>>3,J[ne+16]=be+pe>>3,J[ne+32]=he-me>>3,J[ne+48]=be-pe>>3,ne+=64}function as(T,z,J){var ne,le=z-32,de=Vs,he=255-T[le-1];for(ne=0;ne<J;++ne){var me,pe=de,be=he+T[z-1];for(me=0;me<J;++me)T[z+me]=pe[be+T[le+me]];z+=32}}function ia(T,z){as(T,z,4)}function Fl(T,z){as(T,z,8)}function vc(T,z){as(T,z,16)}function Xr(T,z){var J;for(J=0;16>J;++J)i(T,z+32*J,T,z-32,16)}function ls(T,z){var J;for(J=16;0<J;--J)r(T,z,T[z-1],16),z+=32}function Xa(T,z,J){var ne;for(ne=0;16>ne;++ne)r(z,J+32*ne,T,16)}function Ja(T,z){var J,ne=16;for(J=0;16>J;++J)ne+=T[z-1+32*J]+T[z+J-32];Xa(ne>>5,T,z)}function io(T,z){var J,ne=8;for(J=0;16>J;++J)ne+=T[z-1+32*J];Xa(ne>>4,T,z)}function wc(T,z){var J,ne=8;for(J=0;16>J;++J)ne+=T[z+J-32];Xa(ne>>4,T,z)}function Bl(T,z){Xa(128,T,z)}function On(T,z,J){return T+2*z+J+2>>2}function yc(T,z){var J,ne=z-32;for(ne=new Uint8Array([On(T[ne-1],T[ne+0],T[ne+1]),On(T[ne+0],T[ne+1],T[ne+2]),On(T[ne+1],T[ne+2],T[ne+3]),On(T[ne+2],T[ne+3],T[ne+4])]),J=0;4>J;++J)i(T,z+32*J,ne,0,ne.length)}function _c(T,z){var J=T[z-1],ne=T[z-1+32],le=T[z-1+64],de=T[z-1+96];ue(T,z+0,16843009*On(T[z-1-32],J,ne)),ue(T,z+32,16843009*On(J,ne,le)),ue(T,z+64,16843009*On(ne,le,de)),ue(T,z+96,16843009*On(le,de,de))}function Qa(T,z){var J,ne=4;for(J=0;4>J;++J)ne+=T[z+J-32]+T[z-1+32*J];for(ne>>=3,J=0;4>J;++J)r(T,z+32*J,ne,4)}function Vl(T,z){var J=T[z-1+0],ne=T[z-1+32],le=T[z-1+64],de=T[z-1-32],he=T[z+0-32],me=T[z+1-32],pe=T[z+2-32],be=T[z+3-32];T[z+0+96]=On(ne,le,T[z-1+96]),T[z+1+96]=T[z+0+64]=On(J,ne,le),T[z+2+96]=T[z+1+64]=T[z+0+32]=On(de,J,ne),T[z+3+96]=T[z+2+64]=T[z+1+32]=T[z+0+0]=On(he,de,J),T[z+3+64]=T[z+2+32]=T[z+1+0]=On(me,he,de),T[z+3+32]=T[z+2+0]=On(pe,me,he),T[z+3+0]=On(be,pe,me)}function jm(T,z){var J=T[z+1-32],ne=T[z+2-32],le=T[z+3-32],de=T[z+4-32],he=T[z+5-32],me=T[z+6-32],pe=T[z+7-32];T[z+0+0]=On(T[z+0-32],J,ne),T[z+1+0]=T[z+0+32]=On(J,ne,le),T[z+2+0]=T[z+1+32]=T[z+0+64]=On(ne,le,de),T[z+3+0]=T[z+2+32]=T[z+1+64]=T[z+0+96]=On(le,de,he),T[z+3+32]=T[z+2+64]=T[z+1+96]=On(de,he,me),T[z+3+64]=T[z+2+96]=On(he,me,pe),T[z+3+96]=On(me,pe,pe)}function wd(T,z){var J=T[z-1+0],ne=T[z-1+32],le=T[z-1+64],de=T[z-1-32],he=T[z+0-32],me=T[z+1-32],pe=T[z+2-32],be=T[z+3-32];T[z+0+0]=T[z+1+64]=de+he+1>>1,T[z+1+0]=T[z+2+64]=he+me+1>>1,T[z+2+0]=T[z+3+64]=me+pe+1>>1,T[z+3+0]=pe+be+1>>1,T[z+0+96]=On(le,ne,J),T[z+0+64]=On(ne,J,de),T[z+0+32]=T[z+1+96]=On(J,de,he),T[z+1+32]=T[z+2+96]=On(de,he,me),T[z+2+32]=T[z+3+96]=On(he,me,pe),T[z+3+32]=On(me,pe,be)}function yd(T,z){var J=T[z+0-32],ne=T[z+1-32],le=T[z+2-32],de=T[z+3-32],he=T[z+4-32],me=T[z+5-32],pe=T[z+6-32],be=T[z+7-32];T[z+0+0]=J+ne+1>>1,T[z+1+0]=T[z+0+64]=ne+le+1>>1,T[z+2+0]=T[z+1+64]=le+de+1>>1,T[z+3+0]=T[z+2+64]=de+he+1>>1,T[z+0+32]=On(J,ne,le),T[z+1+32]=T[z+0+96]=On(ne,le,de),T[z+2+32]=T[z+1+96]=On(le,de,he),T[z+3+32]=T[z+2+96]=On(de,he,me),T[z+3+64]=On(he,me,pe),T[z+3+96]=On(me,pe,be)}function tb(T,z){var J=T[z-1+0],ne=T[z-1+32],le=T[z-1+64],de=T[z-1+96];T[z+0+0]=J+ne+1>>1,T[z+2+0]=T[z+0+32]=ne+le+1>>1,T[z+2+32]=T[z+0+64]=le+de+1>>1,T[z+1+0]=On(J,ne,le),T[z+3+0]=T[z+1+32]=On(ne,le,de),T[z+3+32]=T[z+1+64]=On(le,de,de),T[z+3+64]=T[z+2+64]=T[z+0+96]=T[z+1+96]=T[z+2+96]=T[z+3+96]=de}function el(T,z){var J=T[z-1+0],ne=T[z-1+32],le=T[z-1+64],de=T[z-1+96],he=T[z-1-32],me=T[z+0-32],pe=T[z+1-32],be=T[z+2-32];T[z+0+0]=T[z+2+32]=J+he+1>>1,T[z+0+32]=T[z+2+64]=ne+J+1>>1,T[z+0+64]=T[z+2+96]=le+ne+1>>1,T[z+0+96]=de+le+1>>1,T[z+3+0]=On(me,pe,be),T[z+2+0]=On(he,me,pe),T[z+1+0]=T[z+3+32]=On(J,he,me),T[z+1+32]=T[z+3+64]=On(ne,J,he),T[z+1+64]=T[z+3+96]=On(le,ne,J),T[z+1+96]=On(de,le,ne)}function nb(T,z){var J;for(J=0;8>J;++J)i(T,z+32*J,T,z-32,8)}function _d(T,z){var J;for(J=0;8>J;++J)r(T,z,T[z-1],8),z+=32}function Ta(T,z,J){var ne;for(ne=0;8>ne;++ne)r(z,J+32*ne,T,8)}function xc(T,z){var J,ne=8;for(J=0;8>J;++J)ne+=T[z+J-32]+T[z-1+32*J];Ta(ne>>4,T,z)}function ib(T,z){var J,ne=4;for(J=0;8>J;++J)ne+=T[z+J-32];Ta(ne>>3,T,z)}function bu(T,z){var J,ne=4;for(J=0;8>J;++J)ne+=T[z-1+32*J];Ta(ne>>3,T,z)}function xd(T,z){Ta(128,T,z)}function Ia(T,z,J){var ne=T[z-J],le=T[z+0],de=3*(le-ne)+Dr[1020+T[z-2*J]-T[z+J]],he=Xm[112+(de+4>>3)];T[z-J]=Vs[255+ne+Xm[112+(de+3>>3)]],T[z+0]=Vs[255+le-he]}function zm(T,z,J,ne){var le=T[z+0],de=T[z+J];return sa[255+T[z-2*J]-T[z-J]]>ne||sa[255+de-le]>ne}function Um(T,z,J,ne){return 4*sa[255+T[z-J]-T[z+0]]+sa[255+T[z-2*J]-T[z+J]]<=ne}function Hm(T,z,J,ne,le){var de=T[z-3*J],he=T[z-2*J],me=T[z-J],pe=T[z+0],be=T[z+J],Ne=T[z+2*J],qe=T[z+3*J];return 4*sa[255+me-pe]+sa[255+he-be]>ne?0:sa[255+T[z-4*J]-de]<=le&&sa[255+de-he]<=le&&sa[255+he-me]<=le&&sa[255+qe-Ne]<=le&&sa[255+Ne-be]<=le&&sa[255+be-pe]<=le}function Wm(T,z,J,ne){var le=2*ne+1;for(ne=0;16>ne;++ne)Um(T,z+ne,J,le)&&Ia(T,z+ne,J)}function tl(T,z,J,ne){var le=2*ne+1;for(ne=0;16>ne;++ne)Um(T,z+ne*J,1,le)&&Ia(T,z+ne*J,1)}function jl(T,z,J,ne){var le;for(le=3;0<le;--le)Wm(T,z+=4*J,J,ne)}function rb(T,z,J,ne){var le;for(le=3;0<le;--le)tl(T,z+=4,J,ne)}function Cc(T,z,J,ne,le,de,he,me){for(de=2*de+1;0<le--;){if(Hm(T,z,J,de,he))if(zm(T,z,J,me))Ia(T,z,J);else{var pe=T,be=z,Ne=J,qe=pe[be-2*Ne],Ge=pe[be-Ne],je=pe[be+0],gt=pe[be+Ne],ot=pe[be+2*Ne],Le=27*(ft=Dr[1020+3*(je-Ge)+Dr[1020+qe-gt]])+63>>7,Ve=18*ft+63>>7,ft=9*ft+63>>7;pe[be-3*Ne]=Vs[255+pe[be-3*Ne]+ft],pe[be-2*Ne]=Vs[255+qe+Ve],pe[be-Ne]=Vs[255+Ge+Le],pe[be+0]=Vs[255+je-Le],pe[be+Ne]=Vs[255+gt-Ve],pe[be+2*Ne]=Vs[255+ot-ft]}z+=ne}}function Ma(T,z,J,ne,le,de,he,me){for(de=2*de+1;0<le--;){if(Hm(T,z,J,de,he))if(zm(T,z,J,me))Ia(T,z,J);else{var pe=T,be=z,Ne=J,qe=pe[be-Ne],Ge=pe[be+0],je=pe[be+Ne],gt=Xm[112+((ot=3*(Ge-qe))+4>>3)],ot=Xm[112+(ot+3>>3)],Le=gt+1>>1;pe[be-2*Ne]=Vs[255+pe[be-2*Ne]+Le],pe[be-Ne]=Vs[255+qe+ot],pe[be+0]=Vs[255+Ge-gt],pe[be+Ne]=Vs[255+je-Le]}z+=ne}}function uf(T,z,J,ne,le,de){Cc(T,z,J,1,16,ne,le,de)}function nl(T,z,J,ne,le,de){Cc(T,z,1,J,16,ne,le,de)}function $m(T,z,J,ne,le,de){var he;for(he=3;0<he;--he)Ma(T,z+=4*J,J,1,16,ne,le,de)}function Cd(T,z,J,ne,le,de){var he;for(he=3;0<he;--he)Ma(T,z+=4,1,J,16,ne,le,de)}function ob(T,z,J,ne,le,de,he,me){Cc(T,z,le,1,8,de,he,me),Cc(J,ne,le,1,8,de,he,me)}function df(T,z,J,ne,le,de,he,me){Cc(T,z,1,le,8,de,he,me),Cc(J,ne,1,le,8,de,he,me)}function kd(T,z,J,ne,le,de,he,me){Ma(T,z+4*le,le,1,8,de,he,me),Ma(J,ne+4*le,le,1,8,de,he,me)}function qm(T,z,J,ne,le,de,he,me){Ma(T,z+4,1,le,8,de,he,me),Ma(J,ne+4,1,le,8,de,he,me)}function kc(){this.ba=new fn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new wi,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ed(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Sd(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ad(){this.ua=0,this.Wa=new se,this.vb=new se,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new b,this.yc=new E}function Td(){this.xb=this.a=0,this.l=new Cn,this.ca=new fn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ad,this.ab=0,this.gc=s(4,Sd),this.Oc=0}function Id(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Cn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ec(T,z,J,ne,le,de,he){for(T=T==null?0:T[z+0],z=0;z<he;++z)le[de+z]=T+J[ne+z]&255,T=le[de+z]}function Md(T,z,J,ne,le,de,he){var me;if(T==null)Ec(null,null,J,ne,le,de,he);else for(me=0;me<he;++me)le[de+me]=T[z+me]+J[ne+me]&255}function zl(T,z,J,ne,le,de,he){if(T==null)Ec(null,null,J,ne,le,de,he);else{var me,pe=T[z+0],be=pe,Ne=pe;for(me=0;me<he;++me)be=Ne+(pe=T[z+me])-be,Ne=J[ne+me]+(-256&be?0>be?0:255:be)&255,be=pe,le[de+me]=Ne}}function Pd(T,z,J,ne){var le=z.width,de=z.o;if(e(T!=null&&z!=null),0>J||0>=ne||J+ne>de)return null;if(!T.Cc){if(T.ga==null){var he;if(T.ga=new Id,(he=T.ga==null)||(he=z.width*z.o,e(T.Gb.length==0),T.Gb=o(he),T.Uc=0,T.Gb==null?he=0:(T.mb=T.Gb,T.nb=T.Uc,T.rc=null,he=1),he=!he),!he){he=T.ga;var me=T.Fa,pe=T.P,be=T.qc,Ne=T.mb,qe=T.nb,Ge=pe+1,je=be-1,gt=he.l;if(e(me!=null&&Ne!=null&&z!=null),Ud[0]=null,Ud[1]=Ec,Ud[2]=Md,Ud[3]=zl,he.ca=Ne,he.tb=qe,he.c=z.width,he.i=z.height,e(0<he.c&&0<he.i),1>=be)z=0;else if(he.$a=me[pe+0]>>0&3,he.Z=me[pe+0]>>2&3,he.Lc=me[pe+0]>>4&3,pe=me[pe+0]>>6&3,0>he.$a||1<he.$a||4<=he.Z||1<he.Lc||pe)z=0;else if(gt.put=ln,gt.ac=on,gt.bc=zr,gt.ma=he,gt.width=z.width,gt.height=z.height,gt.Da=z.Da,gt.v=z.v,gt.va=z.va,gt.j=z.j,gt.o=z.o,he.$a)e:{e(he.$a==1),z=kn();t:for(;;){if(z==null){z=0;break e}if(e(he!=null),he.mc=z,z.c=he.c,z.i=he.i,z.l=he.l,z.l.ma=he,z.l.width=he.c,z.l.height=he.i,z.a=0,C(z.m,me,Ge,je),!Xn(he.c,he.i,1,z,null)||(z.ab==1&&z.gc[0].hc==3&&li(z.s)?(he.ic=1,me=z.c*z.i,z.Ta=null,z.Ua=0,z.V=o(me),z.Ba=0,z.V==null?(z.a=1,z=0):z=1):(he.ic=0,z=Ei(z,he.c)),!z))break t;z=1;break e}he.mc=null,z=0}else z=je>=he.c*he.i;he=!z}if(he)return null;T.ga.Lc!=1?T.Ga=0:ne=de-J}e(T.ga!=null),e(J+ne<=de);e:{if(z=(me=T.ga).c,de=me.l.o,me.$a==0){if(Ge=T.rc,je=T.Vc,gt=T.Fa,pe=T.P+1+J*z,be=T.mb,Ne=T.nb+J*z,e(pe<=T.P+T.qc),me.Z!=0)for(e(Ud[me.Z]!=null),he=0;he<ne;++he)Ud[me.Z](Ge,je,gt,pe,be,Ne,z),Ge=be,je=Ne,Ne+=z,pe+=z;else for(he=0;he<ne;++he)i(be,Ne,gt,pe,z),Ge=be,je=Ne,Ne+=z,pe+=z;T.rc=Ge,T.Vc=je}else{if(e(me.mc!=null),z=J+ne,e((he=me.mc)!=null),e(z<=he.i),he.C>=z)z=1;else if(me.ic||Ue(),me.ic){me=he.V,Ge=he.Ba,je=he.c;var ot=he.i,Le=(gt=1,pe=he.$/je,be=he.$%je,Ne=he.m,qe=he.s,he.$),Ve=je*ot,ft=je*z,wt=qe.wc,mt=Le<ft?vn(qe,be,pe):null;e(Le<=Ve),e(z<=ot),e(li(qe));t:for(;;){for(;!Ne.h&&Le<ft;){if(be&wt||(mt=vn(qe,be,pe)),e(mt!=null),P(Ne),256>(ot=Ye(mt.G[0],mt.H[0],Ne)))me[Ge+Le]=ot,++Le,++be>=je&&(be=0,++pe<=z&&!(pe%16)&&Bt(he,pe));else{if(!(280>ot)){gt=0;break t}ot=Ie(ot-256,Ne);var en,zt=Ye(mt.G[4],mt.H[4],Ne);if(P(Ne),!(Le>=(zt=$e(je,zt=Ie(zt,Ne)))&&Ve-Le>=ot)){gt=0;break t}for(en=0;en<ot;++en)me[Ge+Le+en]=me[Ge+Le+en-zt];for(Le+=ot,be+=ot;be>=je;)be-=je,++pe<=z&&!(pe%16)&&Bt(he,pe);Le<ft&&be&wt&&(mt=vn(qe,be,pe))}e(Ne.h==D(Ne))}Bt(he,pe>z?z:pe);break t}!gt||Ne.h&&Le<Ve?(gt=0,he.a=Ne.h?5:3):he.$=Le,z=gt}else z=Kn(he,he.V,he.Ba,he.c,he.i,z,er);if(!z){ne=0;break e}}J+ne>=de&&(T.Cc=1),ne=1}if(!ne)return null;if(T.Cc&&((ne=T.ga)!=null&&(ne.mc=null),T.ga=null,0<T.Ga))return alert("todo:WebPDequantizeLevels"),null}return T.nb+J*le}function q(T,z,J,ne,le,de){for(;0<le--;){var he,me=T,pe=z+(J?1:0),be=T,Ne=z+(J?0:3);for(he=0;he<ne;++he){var qe=be[Ne+4*he];qe!=255&&(qe*=32897,me[pe+4*he+0]=me[pe+4*he+0]*qe>>23,me[pe+4*he+1]=me[pe+4*he+1]*qe>>23,me[pe+4*he+2]=me[pe+4*he+2]*qe>>23)}z+=de}}function ae(T,z,J,ne,le){for(;0<ne--;){var de;for(de=0;de<J;++de){var he=T[z+2*de+0],me=15&(be=T[z+2*de+1]),pe=4369*me,be=(240&be|be>>4)*pe>>16;T[z+2*de+0]=(240&he|he>>4)*pe>>16&240|(15&he|he<<4)*pe>>16>>4&15,T[z+2*de+1]=240&be|me}z+=le}}function ke(T,z,J,ne,le,de,he,me){var pe,be,Ne=255;for(be=0;be<le;++be){for(pe=0;pe<ne;++pe){var qe=T[z+pe];de[he+4*pe]=qe,Ne&=qe}z+=J,he+=me}return Ne!=255}function Oe(T,z,J,ne,le){var de;for(de=0;de<le;++de)J[ne+de]=T[z+de]>>8}function Ue(){oa=q,nr=ae,ir=ke,Wr=Oe}function rt(T,z,J){V[T]=function(ne,le,de,he,me,pe,be,Ne,qe,Ge,je,gt,ot,Le,Ve,ft,wt){var mt,en=wt-1>>1,zt=me[pe+0]|be[Ne+0]<<16,Tn=qe[Ge+0]|je[gt+0]<<16;e(ne!=null);var $t=3*zt+Tn+131074>>2;for(z(ne[le+0],255&$t,$t>>16,ot,Le),de!=null&&($t=3*Tn+zt+131074>>2,z(de[he+0],255&$t,$t>>16,Ve,ft)),mt=1;mt<=en;++mt){var Vi=me[pe+mt]|be[Ne+mt]<<16,Ji=qe[Ge+mt]|je[gt+mt]<<16,Li=zt+Vi+Tn+Ji+524296,Si=Li+2*(Vi+Tn)>>3;$t=Si+zt>>1,zt=(Li=Li+2*(zt+Ji)>>3)+Vi>>1,z(ne[le+2*mt-1],255&$t,$t>>16,ot,Le+(2*mt-1)*J),z(ne[le+2*mt-0],255&zt,zt>>16,ot,Le+(2*mt-0)*J),de!=null&&($t=Li+Tn>>1,zt=Si+Ji>>1,z(de[he+2*mt-1],255&$t,$t>>16,Ve,ft+(2*mt-1)*J),z(de[he+2*mt+0],255&zt,zt>>16,Ve,ft+(2*mt+0)*J)),zt=Vi,Tn=Ji}1&wt||($t=3*zt+Tn+131074>>2,z(ne[le+wt-1],255&$t,$t>>16,ot,Le+(wt-1)*J),de!=null&&($t=3*Tn+zt+131074>>2,z(de[he+wt-1],255&$t,$t>>16,Ve,ft+(wt-1)*J)))}}function xt(){rl[Jm]=c$,rl[Qm]=_M,rl[uw]=u$,rl[ep]=xM,rl[tp]=CM,rl[Vd]=kM,rl[K]=d$,rl[Q]=_M,rl[oe]=xM,rl[we]=CM,rl[Ke]=kM}function qt(T){return T&~h$?0>T?0:255:T>>EM}function wn(T,z){return qt((19077*T>>8)+(26149*z>>8)-14234)}function Vn(T,z,J){return qt((19077*T>>8)-(6419*z>>8)-(13320*J>>8)+8708)}function Fn(T,z){return qt((19077*T>>8)+(33050*z>>8)-17685)}function Ci(T,z,J,ne,le){ne[le+0]=wn(T,J),ne[le+1]=Vn(T,z,J),ne[le+2]=Fn(T,z)}function Pr(T,z,J,ne,le){ne[le+0]=Fn(T,z),ne[le+1]=Vn(T,z,J),ne[le+2]=wn(T,J)}function Hr(T,z,J,ne,le){var de=Vn(T,z,J);z=de<<3&224|Fn(T,z)>>3,ne[le+0]=248&wn(T,J)|de>>5,ne[le+1]=z}function ro(T,z,J,ne,le){var de=240&Fn(T,z)|15;ne[le+0]=240&wn(T,J)|Vn(T,z,J)>>4,ne[le+1]=de}function Uo(T,z,J,ne,le){ne[le+0]=255,Ci(T,z,J,ne,le+1)}function mo(T,z,J,ne,le){Pr(T,z,J,ne,le),ne[le+3]=255}function Pa(T,z,J,ne,le){Ci(T,z,J,ne,le),ne[le+3]=255}function xs(T,z){return 0>T?0:T>z?z:T}function il(T,z,J){V[T]=function(ne,le,de,he,me,pe,be,Ne,qe){for(var Ge=Ne+(-2&qe)*J;Ne!=Ge;)z(ne[le+0],de[he+0],me[pe+0],be,Ne),z(ne[le+1],de[he+0],me[pe+0],be,Ne+J),le+=2,++he,++pe,Ne+=2*J;1&qe&&z(ne[le+0],de[he+0],me[pe+0],be,Ne)}}function hf(T,z,J){return J==0?T==0?z==0?6:5:z==0?4:0:J}function vu(T,z,J,ne,le){switch(T>>>30){case 3:Mc(z,J,ne,le,0);break;case 2:Jr(z,J,ne,le);break;case 1:Wo(z,J,ne,le)}}function ff(T,z){var J,ne,le=z.M,de=z.Nb,he=T.oc,me=T.pc+40,pe=T.oc,be=T.pc+584,Ne=T.oc,qe=T.pc+600;for(J=0;16>J;++J)he[me+32*J-1]=129;for(J=0;8>J;++J)pe[be+32*J-1]=129,Ne[qe+32*J-1]=129;for(0<le?he[me-1-32]=pe[be-1-32]=Ne[qe-1-32]=129:(r(he,me-32-1,127,21),r(pe,be-32-1,127,9),r(Ne,qe-32-1,127,9)),ne=0;ne<T.za;++ne){var Ge=z.ya[z.aa+ne];if(0<ne){for(J=-1;16>J;++J)i(he,me+32*J-4,he,me+32*J+12,4);for(J=-1;8>J;++J)i(pe,be+32*J-4,pe,be+32*J+4,4),i(Ne,qe+32*J-4,Ne,qe+32*J+4,4)}var je=T.Gd,gt=T.Hd+ne,ot=Ge.ad,Le=Ge.Hc;if(0<le&&(i(he,me-32,je[gt].y,0,16),i(pe,be-32,je[gt].f,0,8),i(Ne,qe-32,je[gt].ea,0,8)),Ge.Za){var Ve=he,ft=me-32+16;for(0<le&&(ne>=T.za-1?r(Ve,ft,je[gt].y[15],4):i(Ve,ft,je[gt+1].y,0,4)),J=0;4>J;J++)Ve[ft+128+J]=Ve[ft+256+J]=Ve[ft+384+J]=Ve[ft+0+J];for(J=0;16>J;++J,Le<<=2)Ve=he,ft=me+AM[J],ql[Ge.Ob[J]](Ve,ft),vu(Le,ot,16*+J,Ve,ft)}else if(Ve=hf(ne,le,Ge.Ob[0]),zd[Ve](he,me),Le!=0)for(J=0;16>J;++J,Le<<=2)vu(Le,ot,16*+J,he,me+AM[J]);for(J=Ge.Gc,Ve=hf(ne,le,Ge.Dd),ku[Ve](pe,be),ku[Ve](Ne,qe),Le=ot,Ve=pe,ft=be,255&(Ge=J>>0)&&(170&Ge?vf(Le,256,Ve,ft):ra(Le,256,Ve,ft)),Ge=Ne,Le=qe,255&(J>>=8)&&(170&J?vf(ot,320,Ge,Le):ra(ot,320,Ge,Le)),le<T.Ub-1&&(i(je[gt].y,0,he,me+480,16),i(je[gt].f,0,pe,be+224,8),i(je[gt].ea,0,Ne,qe+224,8)),J=8*de*T.B,je=T.sa,gt=T.ta+16*ne+16*de*T.R,ot=T.qa,Ge=T.ra+8*ne+J,Le=T.Ha,Ve=T.Ia+8*ne+J,J=0;16>J;++J)i(je,gt+J*T.R,he,me+32*J,16);for(J=0;8>J;++J)i(ot,Ge+J*T.B,pe,be+32*J,8),i(Le,Ve+J*T.B,Ne,qe+32*J,8)}}function Dd(T,z,J,ne,le,de,he,me,pe){var be=[0],Ne=[0],qe=0,Ge=pe!=null?pe.kd:0,je=pe??new Ed;if(T==null||12>J)return 7;je.data=T,je.w=z,je.ha=J,z=[z],J=[J],je.gb=[je.gb];e:{var gt=z,ot=J,Le=je.gb;if(e(T!=null),e(ot!=null),e(Le!=null),Le[0]=0,12<=ot[0]&&!t(T,gt[0],"RIFF")){if(t(T,gt[0]+8,"WEBP")){Le=3;break e}var Ve=_e(T,gt[0]+4);if(12>Ve||4294967286<Ve){Le=3;break e}if(Ge&&Ve>ot[0]-8){Le=7;break e}Le[0]=Ve,gt[0]+=12,ot[0]-=12}Le=0}if(Le!=0)return Le;for(Ve=0<je.gb[0],J=J[0];;){e:{var ft=T;ot=z,Le=J;var wt=be,mt=Ne,en=gt=[0];if(($t=qe=[qe])[0]=0,8>Le[0])Le=7;else{if(!t(ft,ot[0],"VP8X")){if(_e(ft,ot[0]+4)!=10){Le=3;break e}if(18>Le[0]){Le=7;break e}var zt=_e(ft,ot[0]+8),Tn=1+ce(ft,ot[0]+12);if(2147483648<=Tn*(ft=1+ce(ft,ot[0]+15))){Le=3;break e}en!=null&&(en[0]=zt),wt!=null&&(wt[0]=Tn),mt!=null&&(mt[0]=ft),ot[0]+=18,Le[0]-=18,$t[0]=1}Le=0}}if(qe=qe[0],gt=gt[0],Le!=0)return Le;if(ot=!!(2&gt),!Ve&&qe)return 3;if(de!=null&&(de[0]=!!(16&gt)),he!=null&&(he[0]=ot),me!=null&&(me[0]=0),he=be[0],gt=Ne[0],qe&&ot&&pe==null){Le=0;break}if(4>J){Le=7;break}if(Ve&&qe||!Ve&&!qe&&!t(T,z[0],"ALPH")){J=[J],je.na=[je.na],je.P=[je.P],je.Sa=[je.Sa];e:{zt=T,Le=z,Ve=J;var $t=je.gb;wt=je.na,mt=je.P,en=je.Sa,Tn=22,e(zt!=null),e(Ve!=null),ft=Le[0];var Vi=Ve[0];for(e(wt!=null),e(en!=null),wt[0]=null,mt[0]=null,en[0]=0;;){if(Le[0]=ft,Ve[0]=Vi,8>Vi){Le=7;break e}var Ji=_e(zt,ft+4);if(4294967286<Ji){Le=3;break e}var Li=8+Ji+1&-2;if(Tn+=Li,0<$t&&Tn>$t){Le=3;break e}if(!t(zt,ft,"VP8 ")||!t(zt,ft,"VP8L")){Le=0;break e}if(Vi[0]<Li){Le=7;break e}t(zt,ft,"ALPH")||(wt[0]=zt,mt[0]=ft+8,en[0]=Ji),ft+=Li,Vi-=Li}}if(J=J[0],je.na=je.na[0],je.P=je.P[0],je.Sa=je.Sa[0],Le!=0)break}J=[J],je.Ja=[je.Ja],je.xa=[je.xa];e:if($t=T,Le=z,Ve=J,wt=je.gb[0],mt=je.Ja,en=je.xa,zt=Le[0],ft=!t($t,zt,"VP8 "),Tn=!t($t,zt,"VP8L"),e($t!=null),e(Ve!=null),e(mt!=null),e(en!=null),8>Ve[0])Le=7;else{if(ft||Tn){if($t=_e($t,zt+4),12<=wt&&$t>wt-12){Le=3;break e}if(Ge&&$t>Ve[0]-8){Le=7;break e}mt[0]=$t,Le[0]+=8,Ve[0]-=8,en[0]=Tn}else en[0]=5<=Ve[0]&&$t[zt+0]==47&&!($t[zt+4]>>5),mt[0]=Ve[0];Le=0}if(J=J[0],je.Ja=je.Ja[0],je.xa=je.xa[0],z=z[0],Le!=0)break;if(4294967286<je.Ja)return 3;if(me==null||ot||(me[0]=je.xa?2:1),he=[he],gt=[gt],je.xa){if(5>J){Le=7;break}me=he,Ge=gt,ot=de,T==null||5>J?T=0:5<=J&&T[z+0]==47&&!(T[z+4]>>5)?(Ve=[0],$t=[0],wt=[0],C(mt=new j,T,z,J),St(mt,Ve,$t,wt)?(me!=null&&(me[0]=Ve[0]),Ge!=null&&(Ge[0]=$t[0]),ot!=null&&(ot[0]=wt[0]),T=1):T=0):T=0}else{if(10>J){Le=7;break}me=gt,T==null||10>J||!yi(T,z+3,J-3)?T=0:(Ge=T[z+0]|T[z+1]<<8|T[z+2]<<16,ot=16383&(T[z+7]<<8|T[z+6]),T=16383&(T[z+9]<<8|T[z+8]),1&Ge||3<(Ge>>1&7)||!(Ge>>4&1)||Ge>>5>=je.Ja||!ot||!T?T=0:(he&&(he[0]=ot),me&&(me[0]=T),T=1))}if(!T||(he=he[0],gt=gt[0],qe&&(be[0]!=he||Ne[0]!=gt)))return 3;pe!=null&&(pe[0]=je,pe.offset=z-pe.w,e(4294967286>z-pe.w),e(pe.offset==pe.ha-J));break}return Le==0||Le==7&&qe&&pe==null?(de!=null&&(de[0]|=je.na!=null&&0<je.na.length),ne!=null&&(ne[0]=he),le!=null&&(le[0]=gt),0):Le}function mf(T,z,J){var ne=z.width,le=z.height,de=0,he=0,me=ne,pe=le;if(z.Da=T!=null&&0<T.Da,z.Da&&(me=T.cd,pe=T.bd,de=T.v,he=T.j,11>J||(de&=-2,he&=-2),0>de||0>he||0>=me||0>=pe||de+me>ne||he+pe>le))return 0;if(z.v=de,z.j=he,z.va=de+me,z.o=he+pe,z.U=me,z.T=pe,z.da=T!=null&&0<T.da,z.da){if(!ge(me,pe,J=[T.ib],de=[T.hb]))return 0;z.ib=J[0],z.hb=de[0]}return z.ob=T!=null&&T.ob,z.Kb=T==null||!T.Sd,z.da&&(z.ob=z.ib<3*ne/4&&z.hb<3*le/4,z.Kb=0),1}function pf(T){if(T==null)return 2;if(11>T.S){var z=T.f.RGBA;z.fb+=(T.height-1)*z.A,z.A=-z.A}else z=T.f.kb,T=T.height,z.O+=(T-1)*z.fa,z.fa=-z.fa,z.N+=(T-1>>1)*z.Ab,z.Ab=-z.Ab,z.W+=(T-1>>1)*z.Db,z.Db=-z.Db,z.F!=null&&(z.J+=(T-1)*z.lb,z.lb=-z.lb);return 0}function Ul(T,z,J,ne){if(ne==null||0>=T||0>=z)return 2;if(J!=null){if(J.Da){var le=J.cd,de=J.bd,he=-2&J.v,me=-2&J.j;if(0>he||0>me||0>=le||0>=de||he+le>T||me+de>z)return 2;T=le,z=de}if(J.da){if(!ge(T,z,le=[J.ib],de=[J.hb]))return 2;T=le[0],z=de[0]}}ne.width=T,ne.height=z;e:{var pe=ne.width,be=ne.height;if(T=ne.S,0>=pe||0>=be||!(T>=Jm&&13>T))T=2;else{if(0>=ne.Rd&&ne.sd==null){he=de=le=z=0;var Ne=(me=pe*TM[T])*be;if(11>T||(de=(be+1)/2*(z=(pe+1)/2),T==12&&(he=(le=pe)*be)),(be=o(Ne+2*de+he))==null){T=1;break e}ne.sd=be,11>T?((pe=ne.f.RGBA).eb=be,pe.fb=0,pe.A=me,pe.size=Ne):((pe=ne.f.kb).y=be,pe.O=0,pe.fa=me,pe.Fd=Ne,pe.f=be,pe.N=0+Ne,pe.Ab=z,pe.Cd=de,pe.ea=be,pe.W=0+Ne+de,pe.Db=z,pe.Ed=de,T==12&&(pe.F=be,pe.J=0+Ne+2*de),pe.Tc=he,pe.lb=le)}if(z=1,le=ne.S,de=ne.width,he=ne.height,le>=Jm&&13>le)if(11>le)T=ne.f.RGBA,z&=(me=Math.abs(T.A))*(he-1)+de<=T.size,z&=me>=de*TM[le],z&=T.eb!=null;else{T=ne.f.kb,me=(de+1)/2,Ne=(he+1)/2,pe=Math.abs(T.fa),be=Math.abs(T.Ab);var qe=Math.abs(T.Db),Ge=Math.abs(T.lb),je=Ge*(he-1)+de;z&=pe*(he-1)+de<=T.Fd,z&=be*(Ne-1)+me<=T.Cd,z=(z&=qe*(Ne-1)+me<=T.Ed)&pe>=de&be>=me&qe>=me,z&=T.y!=null,z&=T.f!=null,z&=T.ea!=null,le==12&&(z&=Ge>=de,z&=je<=T.Tc,z&=T.F!=null)}else z=0;T=z?0:2}}return T!=0||J!=null&&J.fd&&(T=pf(ne)),T}var Io=64,Od=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Rd=24,Nd=32,Ld=8,Cs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Te("Predictor0","PredictorAdd0"),V.Predictor0=function(){return 4278190080},V.Predictor1=function(T){return T},V.Predictor2=function(T,z,J){return z[J+0]},V.Predictor3=function(T,z,J){return z[J+1]},V.Predictor4=function(T,z,J){return z[J-1]},V.Predictor5=function(T,z,J){return Fe(Fe(T,z[J+1]),z[J+0])},V.Predictor6=function(T,z,J){return Fe(T,z[J-1])},V.Predictor7=function(T,z,J){return Fe(T,z[J+0])},V.Predictor8=function(T,z,J){return Fe(z[J-1],z[J+0])},V.Predictor9=function(T,z,J){return Fe(z[J+0],z[J+1])},V.Predictor10=function(T,z,J){return Fe(Fe(T,z[J-1]),Fe(z[J+0],z[J+1]))},V.Predictor11=function(T,z,J){var ne=z[J+0];return 0>=ut(ne>>24&255,T>>24&255,(z=z[J-1])>>24&255)+ut(ne>>16&255,T>>16&255,z>>16&255)+ut(ne>>8&255,T>>8&255,z>>8&255)+ut(255&ne,255&T,255&z)?ne:T},V.Predictor12=function(T,z,J){var ne=z[J+0];return(He((T>>24&255)+(ne>>24&255)-((z=z[J-1])>>24&255))<<24|He((T>>16&255)+(ne>>16&255)-(z>>16&255))<<16|He((T>>8&255)+(ne>>8&255)-(z>>8&255))<<8|He((255&T)+(255&ne)-(255&z)))>>>0},V.Predictor13=function(T,z,J){var ne=z[J-1];return(Ze((T=Fe(T,z[J+0]))>>24&255,ne>>24&255)<<24|Ze(T>>16&255,ne>>16&255)<<16|Ze(T>>8&255,ne>>8&255)<<8|Ze(T>>0&255,ne>>0&255))>>>0};var sb=V.PredictorAdd0;V.PredictorAdd1=tt,Te("Predictor2","PredictorAdd2"),Te("Predictor3","PredictorAdd3"),Te("Predictor4","PredictorAdd4"),Te("Predictor5","PredictorAdd5"),Te("Predictor6","PredictorAdd6"),Te("Predictor7","PredictorAdd7"),Te("Predictor8","PredictorAdd8"),Te("Predictor9","PredictorAdd9"),Te("Predictor10","PredictorAdd10"),Te("Predictor11","PredictorAdd11"),Te("Predictor12","PredictorAdd12"),Te("Predictor13","PredictorAdd13");var gf=V.PredictorAdd2;lt("ColorIndexInverseTransform","MapARGB","32b",function(T){return T>>8&255},function(T){return T}),lt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(T){return T},function(T){return T>>8&255});var Gm,Fs=V.ColorIndexInverseTransform,wu=V.MapARGB,Km=V.VP8LColorIndexInverseTransformAlpha,Zm=V.MapAlpha,Sc=V.VP8LPredictorsAdd=[];Sc.length=16,(V.VP8LPredictors=[]).length=16,(V.VP8LPredictorsAdd_C=[]).length=16,(V.VP8LPredictors_C=[]).length=16;var Ac,Ho,cs,Tc,Hl,Ic,bf,Mc,Jr,vf,Wo,ra,Fd,Ym,wf,yu,_u,Pc,xu,Bd,Bs,Wl,yf,us,oa,nr,ir,Wr,po=o(511),$l=o(2041),_f=o(225),ds=o(767),Cu=0,Dr=$l,Xm=_f,Vs=ds,sa=po,Jm=0,Qm=1,uw=2,ep=3,tp=4,Vd=5,K=6,Q=7,oe=8,we=9,Ke=10,Gt=[2,3,7],ni=[3,3,11],Ni=[280,256,256,256,40],Or=[0,1,1,1,0],jd=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ab=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],e$=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],t$=8,c5=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],u5=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],lb=null,n$=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],i$=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],wM=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],r$=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],o$=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],s$=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],a$=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],zd=[],ql=[],ku=[],l$=1,yM=2,Ud=[],rl=[];rt("UpsampleRgbLinePair",Ci,3),rt("UpsampleBgrLinePair",Pr,3),rt("UpsampleRgbaLinePair",Pa,4),rt("UpsampleBgraLinePair",mo,4),rt("UpsampleArgbLinePair",Uo,4),rt("UpsampleRgba4444LinePair",ro,2),rt("UpsampleRgb565LinePair",Hr,2);var c$=V.UpsampleRgbLinePair,u$=V.UpsampleBgrLinePair,_M=V.UpsampleRgbaLinePair,xM=V.UpsampleBgraLinePair,CM=V.UpsampleArgbLinePair,kM=V.UpsampleRgba4444LinePair,d$=V.UpsampleRgb565LinePair,dw=16,hw=1<<dw-1,cb=-227,d5=482,EM=6,h$=(256<<EM)-1,SM=0,f$=o(256),m$=o(256),p$=o(256),g$=o(256),b$=o(d5-cb),v$=o(d5-cb);il("YuvToRgbRow",Ci,3),il("YuvToBgrRow",Pr,3),il("YuvToRgbaRow",Pa,4),il("YuvToBgraRow",mo,4),il("YuvToArgbRow",Uo,4),il("YuvToRgba4444Row",ro,2),il("YuvToRgb565Row",Hr,2);var AM=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],fw=[0,2,8],w$=[8,7,6,4,4,2,2,2,1,1,1,1],y$=1;this.WebPDecodeRGBA=function(T,z,J,ne,le){var de=Qm,he=new kc,me=new fn;he.ba=me,me.S=de,me.width=[me.width],me.height=[me.height];var pe=me.width,be=me.height,Ne=new pn;if(Ne==null||T==null)var qe=2;else e(Ne!=null),qe=Dd(T,z,J,Ne.width,Ne.height,Ne.Pd,Ne.Qd,Ne.format,null);if(qe!=0?pe=0:(pe!=null&&(pe[0]=Ne.width[0]),be!=null&&(be[0]=Ne.height[0]),pe=1),pe){me.width=me.width[0],me.height=me.height[0],ne!=null&&(ne[0]=me.width),le!=null&&(le[0]=me.height);e:{if(ne=new Cn,(le=new Ed).data=T,le.w=z,le.ha=J,le.kd=1,z=[0],e(le!=null),((T=Dd(le.data,le.w,le.ha,null,null,null,z,null,le))==0||T==7)&&z[0]&&(T=4),(z=T)==0){if(e(he!=null),ne.data=le.data,ne.w=le.w+le.offset,ne.ha=le.ha-le.offset,ne.put=ln,ne.ac=on,ne.bc=zr,ne.ma=he,le.xa){if((T=kn())==null){he=1;break e}if(function(Ge,je){var gt=[0],ot=[0],Le=[0];t:for(;;){if(Ge==null)return 0;if(je==null)return Ge.a=2,0;if(Ge.l=je,Ge.a=0,C(Ge.m,je.data,je.w,je.ha),!St(Ge.m,gt,ot,Le)){Ge.a=3;break t}if(Ge.xb=yM,je.width=gt[0],je.height=ot[0],!Xn(gt[0],ot[0],1,Ge,null))break t;return 1}return e(Ge.a!=0),0}(T,ne)){if(ne=(z=Ul(ne.width,ne.height,he.Oa,he.ba))==0){t:{ne=T;n:for(;;){if(ne==null){ne=0;break t}if(e(ne.s.yc!=null),e(ne.s.Ya!=null),e(0<ne.s.Wb),e((J=ne.l)!=null),e((le=J.ma)!=null),ne.xb!=0){if(ne.ca=le.ba,ne.tb=le.tb,e(ne.ca!=null),!mf(le.Oa,J,ep)){ne.a=2;break n}if(!Ei(ne,J.width)||J.da)break n;if((J.da||Rt(ne.ca.S))&&Ue(),11>ne.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ne.ca.f.kb.F!=null&&Ue()),ne.Pb&&0<ne.s.ua&&ne.s.vb.X==null&&!xe(ne.s.vb,ne.s.Wa.Xa)){ne.a=1;break n}ne.xb=0}if(!Kn(ne,ne.V,ne.Ba,ne.c,ne.i,J.o,Et))break n;le.Dc=ne.Ma,ne=1;break t}e(ne.a!=0),ne=0}ne=!ne}ne&&(z=T.a)}else z=T.a}else{if((T=new tr)==null){he=1;break e}if(T.Fa=le.na,T.P=le.P,T.qc=le.Sa,Ii(T,ne)){if((z=Ul(ne.width,ne.height,he.Oa,he.ba))==0){if(T.Aa=0,J=he.Oa,e((le=T)!=null),J!=null){if(0<(pe=0>(pe=J.Md)?0:100<pe?255:255*pe/100)){for(be=Ne=0;4>be;++be)12>(qe=le.pb[be]).lc&&(qe.ia=pe*w$[0>qe.lc?0:qe.lc]>>3),Ne|=qe.ia;Ne&&(alert("todo:VP8InitRandom"),le.ia=1)}le.Ga=J.Id,100<le.Ga?le.Ga=100:0>le.Ga&&(le.Ga=0)}zo(T,ne)||(z=T.a)}}else z=T.a}z==0&&he.Oa!=null&&he.Oa.fd&&(z=pf(he.ba))}he=z}de=he!=0?null:11>de?me.f.RGBA.eb:me.f.kb.y}else de=null;return de};var TM=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(V,G){for(var W="",k=0;k<4;k++)W+=String.fromCharCode(V[G++]);return W}function u(V,G){return(V[G+0]<<0|V[G+1]<<8|V[G+2]<<16)>>>0}function d(V,G){return(V[G+0]<<0|V[G+1]<<8|V[G+2]<<16|V[G+3]<<24)>>>0}new l;var f=[0],h=[0],m=[],p=new l,g=n,v=function(V,G){var W={},k=0,E=!1,L=0,b=0;if(W.frames=[],!function(X,D,Y,P){for(var M=0;M<P;M++)if(X[D+M]!=Y.charCodeAt(M))return!0;return!1}(V,G,"RIFF",4)){var w,_;for(d(V,G+=4),G+=8;G<V.length;){var y=c(V,G),C=d(V,G+=4);G+=4;var S=C+(1&C);switch(y){case"VP8 ":case"VP8L":W.frames[k]===void 0&&(W.frames[k]={}),(j=W.frames[k]).src_off=E?b:G-8,j.src_size=L+C+8,k++,E&&(E=!1,L=0,b=0);break;case"VP8X":(j=W.header={}).feature_flags=V[G];var R=G+4;j.canvas_width=1+u(V,R),R+=3,j.canvas_height=1+u(V,R),R+=3;break;case"ALPH":E=!0,L=S+8,b=G-8;break;case"ANIM":(j=W.header).bgcolor=d(V,G),R=G+4,j.loop_count=(w=V)[(_=R)+0]<<0|w[_+1]<<8,R+=2;break;case"ANMF":var Z,j;(j=W.frames[k]={}).offset_x=2*u(V,G),G+=3,j.offset_y=2*u(V,G),G+=3,j.width=1+u(V,G),G+=3,j.height=1+u(V,G),G+=3,j.duration=u(V,G),G+=3,Z=V[G++],j.dispose=1&Z,j.blend=Z>>1&1}y!="ANMF"&&(G+=S)}return W}}(g,0);v.response=g,v.rgbaoutput=!0,v.dataurl=!1;var x=v.header?v.header:null,I=v.frames?v.frames:null;if(x){x.loop_counter=x.loop_count,f=[x.canvas_height],h=[x.canvas_width];for(var N=0;N<I.length&&I[N].blend!=0;N++);}var H=I[0],F=p.WebPDecodeRGBA(g,H.src_off,H.src_size,h,f);H.rgba=F,H.imgwidth=h[0],H.imgheight=f[0];for(var B=0;B<h[0]*f[0]*4;B++)m[B]=F[B];return this.width=h,this.height=f,this.data=m,this}(function(n){var e=function(){return typeof mC=="function"},t=function(f,h,m,p){var g=4,v=s;switch(p){case n.image_compression.FAST:g=1,v=o;break;case n.image_compression.MEDIUM:g=6,v=a;break;case n.image_compression.SLOW:g=9,v=l}f=i(f,h,m,v);var x=mC(f,{level:g});return n.__addimage__.arrayBufferToBinaryString(x)},i=function(f,h,m,p){for(var g,v,x,I=f.length/h,N=new Uint8Array(f.length+I),H=u(),F=0;F<I;F+=1){if(x=F*h,g=f.subarray(x,x+h),p)N.set(p(g,m,v),x+F);else{for(var B,V=H.length,G=[];B<V;B+=1)G[B]=H[B](g,m,v);var W=d(G.concat());N.set(G[W],x+F)}v=g}return N},r=function(f){var h=Array.apply([],f);return h.unshift(0),h},o=function(f,h){var m,p=[],g=f.length;p[0]=1;for(var v=0;v<g;v+=1)m=f[v-h]||0,p[v+1]=f[v]-m+256&255;return p},s=function(f,h,m){var p,g=[],v=f.length;g[0]=2;for(var x=0;x<v;x+=1)p=m&&m[x]||0,g[x+1]=f[x]-p+256&255;return g},a=function(f,h,m){var p,g,v=[],x=f.length;v[0]=3;for(var I=0;I<x;I+=1)p=f[I-h]||0,g=m&&m[I]||0,v[I+1]=f[I]+256-(p+g>>>1)&255;return v},l=function(f,h,m){var p,g,v,x,I=[],N=f.length;I[0]=4;for(var H=0;H<N;H+=1)p=f[H-h]||0,g=m&&m[H]||0,v=m&&m[H-h]||0,x=c(p,g,v),I[H+1]=f[H]-x+256&255;return I},c=function(f,h,m){if(f===h&&h===m)return f;var p=Math.abs(h-m),g=Math.abs(f-m),v=Math.abs(f+h-m-m);return p<=g&&p<=v?f:g<=v?h:m},u=function(){return[r,o,s,a,l]},d=function(f){var h=f.map(function(m){return m.reduce(function(p,g){return p+Math.abs(g)},0)});return h.indexOf(Math.min.apply(null,h))};n.processPNG=function(f,h,m,p){var g,v,x,I,N,H,F,B,V,G,W,k,E,L,b,w=this.decode.FLATE_DECODE,_="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(x=new Pve(f)).imgData,v=x.bits,g=x.colorSpace,N=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){V=(B=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,W=new Uint8Array(V*x.colors),G=new Uint8Array(V);var y,C=x.pixelBitlength-x.bits;for(L=0,b=0;L<V;L++){for(E=B[L],y=0;y<C;)W[b++]=E>>>y&255,y+=x.bits;G[L]=E>>>y&255}}if(x.bits===16){V=(B=new Uint32Array(x.decodePixels().buffer)).length,W=new Uint8Array(V*(32/x.pixelBitlength)*x.colors),G=new Uint8Array(V*(32/x.pixelBitlength)),k=x.colors>1,L=0,b=0;for(var S=0;L<V;)E=B[L++],W[b++]=E>>>0&255,k&&(W[b++]=E>>>16&255,E=B[L++],W[b++]=E>>>0&255),G[S++]=E>>>16&255;v=8}p!==n.image_compression.NONE&&e()?(f=t(W,x.width*x.colors,x.colors,p),F=t(G,x.width,1,p)):(f=W,F=G,w=void 0)}if(x.colorType===3&&(g=this.color_spaces.INDEXED,H=x.palette,x.transparency.indexed)){var R=x.transparency.indexed,Z=0;for(L=0,V=R.length;L<V;++L)Z+=R[L];if((Z/=255)===V-1&&R.indexOf(0)!==-1)I=[R.indexOf(0)];else if(Z!==V){for(B=x.decodePixels(),G=new Uint8Array(B.length),L=0,V=B.length;L<V;L++)G[L]=R[B[L]];F=t(G,x.width,1)}}var j=function(X){var D;switch(X){case n.image_compression.FAST:D=11;break;case n.image_compression.MEDIUM:D=13;break;case n.image_compression.SLOW:D=14;break;default:D=12}return D}(p);return w===this.decode.FLATE_DECODE&&(_="/Predictor "+j+" "),_+="/Colors "+N+" /BitsPerComponent "+v+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(F&&this.__addimage__.isArrayBuffer(F)||this.__addimage__.isArrayBufferView(F))&&(F=this.__addimage__.arrayBufferToBinaryString(F)),{alias:m,data:f,index:h,filter:w,decodeParameters:_,transparency:I,palette:H,sMask:F,predictor:j,width:x.width,height:x.height,bitsPerComponent:v,colorSpace:g}}}})(An.API),function(n){n.processGIF89A=function(e,t,i,r){var o=new Dve(e),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:a},u=new qI(100).encode(c,100);return n.processJPEG.call(this,u,t,i,r)},n.processGIF87A=n.processGIF89A}(An.API),fc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:i,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},fc.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){wr.log("bit decode error:"+t)}},fc.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<e;r++)for(var o=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+8*r*4,a=0;a<8&&8*r+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}t!==0&&(this.pos+=4-t)}},fc.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<n;r++){var o=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+2*r*4,a=o>>4,l=15&o,c=this.palette[a];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*r+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},fc.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*i;if(r<this.palette.length){var s=this.palette[r];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},fc.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,l=(o>>10&e)/e*255|0,c=o>>15?255:0,u=i*this.width*4+4*r;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=s,this.data[u+3]=c}this.pos+=n}},fc.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&t)/t*255|0,c=(s>>11)/e*255|0,u=r*this.width*4+4*o;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=n}},fc.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*t;this.data[s]=o,this.data[s+1]=r,this.data[s+2]=i,this.data[s+3]=255}this.pos+=this.width%4}},fc.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=o,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=s}},fc.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,i,r){var o=new fc(e,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new qI(100).encode(l,100);return n.processJPEG.call(this,c,t,i,r)}}(An.API),NU.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,i,r){var o=new NU(e,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new qI(100).encode(l,100);return n.processJPEG.call(this,c,t,i,r)}}(An.API),An.API.processRGBA=function(n,e,t){for(var i=n.data,r=i.length,o=new Uint8Array(r/4*3),s=new Uint8Array(r/4),a=0,l=0,c=0;c<r;c+=4){var u=i[c],d=i[c+1],f=i[c+2],h=i[c+3];o[a++]=u,o[a++]=d,o[a++]=f,s[l++]=h}var m=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:m,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},An.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},I0=An.API,vC=I0.getCharWidthsArray=function(n,e){var t,i,r=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:r.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:r.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=e.doKerning!==!1,f=0,h=n.length,m=0,p=a[0]||l,g=[];for(t=0;t<h;t++)i=n.charCodeAt(t),typeof r.metadata.widthOfString=="function"?g.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+s*(1e3/o)||0)/1e3):(f=d&&or(c[i])==="object"&&!isNaN(parseInt(c[i][m],10))?c[i][m]/u:0,g.push((a[i]||p)/l+f)),m=i;return g},PU=I0.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return I0.processArabic&&(n=I0.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,t,r)/t:vC.apply(this,arguments).reduce(function(o,s){return o+s},0)},DU=function(n,e,t,i){for(var r=[],o=0,s=n.length,a=0;o!==s&&a+e[o]<t;)a+=e[o],o++;r.push(n.slice(0,o));var l=o;for(a=0;o!==s;)a+e[o]>i&&(r.push(n.slice(l,o)),a=0,l=o),a+=e[o],o++;return l!==o&&r.push(n.slice(l,o)),r},OU=function(n,e,t){t||(t={});var i,r,o,s,a,l,c,u=[],d=[u],f=t.textIndent||0,h=0,m=0,p=n.split(" "),g=vC.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?p[0].length+2:t.lineIndent||0){var v=Array(l).join(" "),x=[];p.map(function(N){(N=N.split(/\s*\n/)).length>1?x=x.concat(N.map(function(H,F){return(F&&H.length?`
`:"")+H})):x.push(N[0])}),p=x,l=PU.apply(this,[v,t])}for(o=0,s=p.length;o<s;o++){var I=0;if(i=p[o],l&&i[0]==`
`&&(i=i.substr(1),I=1),f+h+(m=(r=vC.apply(this,[i,t])).reduce(function(N,H){return N+H},0))>e||I){if(m>e){for(a=DU.apply(this,[i,r,e-(f+h),e]),u.push(a.shift()),u=[a.pop()];a.length;)d.push([a.shift()]);m=r.slice(i.length-(u[0]?u[0].length:0)).reduce(function(N,H){return N+H},0)}else u=[i];d.push(u),f=m+l,h=g}else u.push(i),f+=h+m,h=g}return c=l?function(N,H){return(H?v:"")+N.join(" ")}:function(N){return N.join(" ")},d.map(c)},I0.splitTextToSize=function(n,e,t){var i,r=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/r;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/r:0,o.lineIndent=t.lineIndent;var a,l,c=[];for(a=0,l=i.length;a<l;a++)c=c.concat(OU.apply(this,[i[a],s,o]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},i={},r=0;r<e.length;r++)t[e[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=e[r];var o=function(d){return"0x"+parseInt(d,10).toString(16)},s=n.__fontmetrics__.compress=function(d){var f,h,m,p,g=["{"];for(var v in d){if(f=d[v],isNaN(parseInt(v,10))?h="'"+v+"'":(v=parseInt(v,10),h=(h=o(v).slice(2)).slice(0,-1)+i[h.slice(-1)]),typeof f=="number")f<0?(m=o(f).slice(3),p="-"):(m=o(f).slice(2),p=""),m=p+m.slice(0,-1)+i[m.slice(-1)];else{if(or(f)!=="object")throw new Error("Don't know what to do with value type "+or(f)+".");m=s(f)}g.push(h+m)}return g.push("}"),g.join("")},a=n.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,h,m,p,g={},v=1,x=g,I=[],N="",H="",F=d.length-1,B=1;B<F;B+=1)(p=d[B])=="'"?f?(m=f.join(""),f=void 0):f=[]:f?f.push(p):p=="{"?(I.push([x,m]),x={},m=void 0):p=="}"?((h=I.pop())[0][h[1]]=x,m=void 0,x=h[0]):p=="-"?v=-1:m===void 0?t.hasOwnProperty(p)?(N+=t[p],m=parseInt(N,16)*v,v=1,N=""):N+=p:t.hasOwnProperty(p)?(H+=t[p],x[m]=parseInt(H,16)*v,v=1,m=void 0,H=""):H+=p;return g},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(d){var f=d.font,h=u.Unicode[f.postScriptName];h&&(f.metadata.Unicode={},f.metadata.Unicode.widths=h.widths,f.metadata.Unicode.kerning=h.kerning);var m=c.Unicode[f.postScriptName];m&&(f.metadata.Unicode.encoding=m,f.encoding=m.codePages[0])}])}(An.API),function(n){var e=function(t){for(var i=t.length,r=new Uint8Array(i),o=0;o<i;o++)r[o]=t.charCodeAt(o);return r};n.API.events.push(["addFont",function(t){var i=void 0,r=t.font,o=t.instance;if(!r.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=o.existsFileInVFS(r.postScriptName)===!1?o.loadFile(r.postScriptName):o.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Bv(a)),s.metadata=n.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(r,i)}}])}(An),function(n){function e(){return(Nn.canvg?Promise.resolve(Nn.canvg):import("./chunk-XUNNV6FZ.js")).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}An.API.addSvgAsImage=function(t,i,r,o,s,a,l,c){if(isNaN(i)||isNaN(r))throw wr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(s))throw wr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=o,u.height=s;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return e().then(function(m){return m.fromString(d,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(f)}).then(function(){h.addImage(u.toDataURL("image/jpeg",1),i,r,o,s,l,c)})}}(),An.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(e,t);return this},An.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var i,r,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],c=0,u=0,d=0;function f(m,p){var g,v=!1;for(g=0;g<m.length;g+=1)m[g]===p&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var h=a.length;for(d=0;d<h;d+=1)t[a[d]].value=t[a[d]].defaultValue,t[a[d]].explicitSet=!1}if(or(n)==="object"){for(r in n)if(o=n[r],f(a,r)&&o!==void 0){if(t[r].type==="boolean"&&typeof o=="boolean")t[r].value=o;else if(t[r].type==="name"&&f(t[r].valueSet,o))t[r].value=o;else if(t[r].type==="integer"&&Number.isInteger(o))t[r].value=o;else if(t[r].type==="array"){for(c=0;c<o.length;c+=1)if(i=!0,o[c].length===1&&typeof o[c][0]=="number")l.push(String(o[c]-1));else if(o[c].length>1){for(u=0;u<o[c].length;u+=1)typeof o[c][u]!="number"&&(i=!1);i===!0&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}t[r].value="["+l.join(" ")+"]"}else t[r].value=t[r].defaultValue;t[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,p=[];for(m in t)t[m].explicitSet===!0&&(t[m].type==="name"?p.push("/"+m+" /"+t[m].value):p.push("/"+m+" "+t[m].value));p.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+p.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(i)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+s.length+a.length+r.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(r+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(An.API),function(n){var e=n.API,t=e.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,f=o.length;d<f;++d){if(a=s.metadata.characterToGlyph(o.charCodeAt(d)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(d),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},i=function(o){var s,a,l,c,u,d,f;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,f=(a=Object.keys(o).sort(function(h,m){return h-m})).length;d<f;d++)s=a[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(c=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,u=s.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,f=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),h="",m=0;m<f.length;m++)h+=String.fromCharCode(f[m]);var p=c();u({data:h,addLength1:!0,objectId:p}),l("endobj");var g=c();u({data:i(a.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var v=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+P0(a.fontName)),l("/FontFile2 "+p+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var x=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+P0(a.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+n.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+g+" 0 R"),l("/BaseFont /"+P0(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,u=s.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,f="",h=0;h<d.length;h++)f+=String.fromCharCode(d[h]);var m=c();u({data:f,addLength1:!0,objectId:m}),l("endobj");var p=c();u({data:i(a.metadata.toUnicode),addLength1:!0,objectId:p}),l("endobj");var g=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+P0(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var v=0;v<a.metadata.hmtx.widths.length;v++)a.metadata.hmtx.widths[v]=parseInt(a.metadata.hmtx.widths[v]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+P0(a.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]);var r=function(o){var s,a=o.text||"",l=o.x,c=o.y,u=o.options||{},d=o.mutex||{},f=d.pdfEscape,h=d.activeFontKey,m=d.fonts,p=h,g="",v=0,x="",I=m[p].encoding;if(m[p].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:d};for(x=a,p=h,Array.isArray(a)&&(x=a[0]),v=0;v<x.length;v+=1)m[p].metadata.hasOwnProperty("cmap")&&(s=m[p].metadata.cmap.unicode.codeMap[x[v].charCodeAt(0)]),s||x[v].charCodeAt(0)<256&&m[p].metadata.hasOwnProperty("Unicode")?g+=x[v]:g+="";var N="";return parseInt(p.slice(1))<14||I==="WinAnsiEncoding"?N=f(g,p).split("").map(function(H){return H.charCodeAt(0).toString(16)}).join(""):I==="Identity-H"&&(N=t(g,m[p])),d.isHex=!0,{text:N,x:l,y:c,options:u,mutex:d}};e.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?a.push([r(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):a.push(r(Object.assign({},l,{text:s[c]})).text);o.text=a}else o.text=r(Object.assign({},l,{text:s})).text}])}(An),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(An.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var r,o,s,a,l,c,u,d=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,I=0;this.__bidiEngine__={};var N=function(k){var E=k.charCodeAt(),L=E>>8,b=p[L];return b!==void 0?d[256*b+(255&E)]:L===252||L===253?"AL":v.test(L)?"L":L===8?"R":"N"},H=function(k){for(var E,L=0;L<k.length;L++){if((E=N(k.charAt(L)))==="L")return!1;if(E==="R")return!0}return!1},F=function(k,E,L,b){var w,_,y,C,S=E[b];switch(S){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(S="AN");break;case"AL":x=!0,S="R";break;case"WS":S="N";break;case"CS":b<1||b+1>=E.length||(w=L[b-1])!=="EN"&&w!=="AN"||(_=E[b+1])!=="EN"&&_!=="AN"?S="N":x&&(_="AN"),S=_===w?_:"N";break;case"ES":S=(w=b>0?L[b-1]:"B")==="EN"&&b+1<E.length&&E[b+1]==="EN"?"EN":"N";break;case"ET":if(b>0&&L[b-1]==="EN"){S="EN";break}if(x){S="N";break}for(y=b+1,C=E.length;y<C&&E[y]==="ET";)y++;S=y<C&&E[y]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(C=E.length,y=b+1;y<C&&E[y]==="NSM";)y++;if(y<C){var R=k[b],Z=R>=1425&&R<=2303||R===64286;if(w=E[y],Z&&(w==="R"||w==="AL")){S="R";break}}}S=b<1||(w=E[b-1])==="B"?"N":L[b-1];break;case"B":x=!1,r=!0,S=I;break;case"S":o=!0,S="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":S="N"}return S},B=function(k,E,L){var b=k.split("");return L&&V(b,L,{hiLevel:I}),b.reverse(),E&&E.reverse(),b.join("")},V=function(k,E,L){var b,w,_,y,C,S=-1,R=k.length,Z=0,j=[],X=I?h:f,D=[];for(x=!1,r=!1,o=!1,w=0;w<R;w++)D[w]=N(k[w]);for(_=0;_<R;_++){if(C=Z,j[_]=F(k,D,j,_),b=240&(Z=X[C][m[j[_]]]),Z&=15,E[_]=y=X[Z][5],b>0)if(b===16){for(w=S;w<_;w++)E[w]=1;S=-1}else S=-1;if(X[Z][6])S===-1&&(S=_);else if(S>-1){for(w=S;w<_;w++)E[w]=y;S=-1}D[_]==="B"&&(E[_]=0),L.hiLevel|=y}o&&function(Y,P,M){for(var $=0;$<M;$++)if(Y[$]==="S"){P[$]=I;for(var te=$-1;te>=0&&Y[te]==="WS";te--)P[te]=I}}(D,E,R)},G=function(k,E,L,b,w){if(!(w.hiLevel<k)){if(k===1&&I===1&&!r)return E.reverse(),void(L&&L.reverse());for(var _,y,C,S,R=E.length,Z=0;Z<R;){if(b[Z]>=k){for(C=Z+1;C<R&&b[C]>=k;)C++;for(S=Z,y=C-1;S<y;S++,y--)_=E[S],E[S]=E[y],E[y]=_,L&&(_=L[S],L[S]=L[y],L[y]=_);Z=C}Z++}}},W=function(k,E,L){var b=k.split(""),w={hiLevel:I};return L||(L=[]),V(b,L,w),function(_,y,C){if(C.hiLevel!==0&&u)for(var S,R=0;R<_.length;R++)y[R]===1&&(S=g.indexOf(_[R]))>=0&&(_[R]=g[S+1])}(b,L,w),G(2,b,E,L,w),G(1,b,E,L,w),b.join("")};return this.__bidiEngine__.doBidiReorder=function(k,E,L){if(function(w,_){if(_)for(var y=0;y<w.length;y++)_[y]=y;a===void 0&&(a=H(w)),c===void 0&&(c=H(w))}(k,E),s||!l||c)if(s&&l&&a^c)I=a?1:0,k=B(k,E,L);else if(!s&&l&&c)I=a?1:0,k=W(k,E,L),k=B(k,E);else if(!s||a||l||c){if(s&&!l&&a^c)k=B(k,E),a?(I=0,k=W(k,E,L)):(I=1,k=W(k,E,L),k=B(k,E));else if(s&&a&&!l&&c)I=1,k=W(k,E,L),k=B(k,E);else if(!s&&!l&&a^c){var b=u;a?(I=1,k=W(k,E,L),I=0,u=!1,k=W(k,E,L),u=b):(I=0,k=W(k,E,L),k=B(k,E),I=1,u=!1,k=W(k,E,L),u=b,k=B(k,E))}}else I=0,k=W(k,E,L);else I=a?1:0,k=W(k,E,L);return k},this.__bidiEngine__.setOptions=function(k){k&&(s=k.isInputVisual,l=k.isOutputVisual,a=k.isInputRtl,c=k.isOutputRtl,u=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var r=i.text,o=(i.x,i.y,i.options||{}),s=(i.mutex,o.lang,[]);if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(r)==="[object Array]"){var a=0;for(s=[],a=0;a<r.length;a+=1)Object.prototype.toString.call(r[a])==="[object Array]"?s.push([t.doBidiReorder(r[a][0]),r[a][1],r[a][2]]):s.push([t.doBidiReorder(r[a])]);i.text=s}else i.text=t.doBidiReorder(r);t.setOptions({isInputVisual:!0})}])}(An),An.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new nf(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Gve(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new Ove(this.contents),this.head=new Nve(this),this.name=new jve(this),this.cmap=new GU(this),this.toUnicode={},this.hhea=new Lve(this),this.maxp=new zve(this),this.hmtx=new Uve(this),this.post=new Bve(this),this.os2=new Fve(this),this.loca=new qve(this),this.glyf=new Hve(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,i,r,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,a,l,c;for(c=[],s=0,a=(l=this.bbox).length;s<a;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,i){var r,o,s,a;for(s=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)r=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/t)||0;return s*(t/1e3)},n.prototype.lineHeight=function(e,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},n}();var pc,nf=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(e){var t,i,r;for(r=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,i,r,o,s,a,l;return e=this.readByte(),t=this.readByte(),i=this.readByte(),r=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*r+16777216*o+65536*s+256*a+l},n.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},n.prototype.write=function(e){var t,i,r,o;for(o=[],i=0,r=e.length;i<r;i++)t=e[i],o.push(this.writeByte(t));return o},n}(),Ove=function(){var n;function e(t){var i,r,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},r=0,o=this.tableCount;0<=o?r<o:r>o;r=0<=o?++r:--r)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,r,o,s,a,l,c,u,d,f,h,m,p;for(p in h=Object.keys(t).length,l=Math.log(2),d=16*Math.floor(Math.log(h)/l),s=Math.floor(d/l),u=16*h-d,(r=new nf).writeInt(this.scalarType),r.writeShort(h),r.writeShort(d),r.writeShort(s),r.writeShort(u),o=16*h,c=r.pos+o,a=null,m=[],t)for(f=t[p],r.writeString(p),r.writeInt(n(f)),r.writeInt(c),r.writeInt(f.length),m=m.concat(f),p==="head"&&(a=c),c+=f.length;c%4;)m.push(0),c++;return r.write(m),i=2981146554-n(r.data),r.pos=a+8,r.writeUInt32(i),r.data},n=function(t){var i,r,o,s;for(t=KU.call(t);t.length%4;)t.push(0);for(o=new nf(t),r=0,i=0,s=t.length;i<s;i=i+=4)r+=o.readUInt32();return 4294967295&r},e}(),Rve={}.hasOwnProperty,mu=function(n,e){for(var t in e)Rve.call(e,t)&&(n[t]=e[t]);function i(){this.constructor=n}return i.prototype=e.prototype,n.prototype=new i,n.__super__=e.prototype,n};pc=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var Nve=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,pc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var i;return(i=new nf).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(t),i.writeShort(this.glyphDataFormat),i.data},e}(),LU=function(){function n(e,t){var i,r,o,s,a,l,c,u,d,f,h,m,p,g,v,x,I;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),f=h/2,e.pos+=6,o=function(){var N,H;for(H=[],l=N=0;0<=f?N<f:N>f;l=0<=f?++N:--N)H.push(e.readUInt16());return H}(),e.pos+=2,p=function(){var N,H;for(H=[],l=N=0;0<=f?N<f:N>f;l=0<=f?++N:--N)H.push(e.readUInt16());return H}(),c=function(){var N,H;for(H=[],l=N=0;0<=f?N<f:N>f;l=0<=f?++N:--N)H.push(e.readUInt16());return H}(),u=function(){var N,H;for(H=[],l=N=0;0<=f?N<f:N>f;l=0<=f?++N:--N)H.push(e.readUInt16());return H}(),r=(this.length-e.pos+this.offset)/2,a=function(){var N,H;for(H=[],l=N=0;0<=r?N<r:N>r;l=0<=r?++N:--N)H.push(e.readUInt16());return H}(),l=v=0,I=o.length;v<I;l=++v)for(g=o[l],i=x=m=p[l];m<=g?x<=g:x>=g;i=m<=g?++x:--x)u[l]===0?s=i+c[l]:(s=a[u[l]/2+(i-m)-(f-l)]||0)!==0&&(s+=c[l]),this.codeMap[i]=65535&s}e.pos=d}return n.encode=function(e,t){var i,r,o,s,a,l,c,u,d,f,h,m,p,g,v,x,I,N,H,F,B,V,G,W,k,E,L,b,w,_,y,C,S,R,Z,j,X,D,Y,P,M,$,te,ue,re,ce;switch(b=new nf,s=Object.keys(e).sort(function(_e,xe){return _e-xe}),t){case"macroman":for(p=0,g=function(){var _e=[];for(m=0;m<256;++m)_e.push(0);return _e}(),x={0:0},o={},w=0,S=s.length;w<S;w++)x[te=e[r=s[w]]]==null&&(x[te]=++p),o[r]={old:e[r],new:x[e[r]]},g[r]=x[e[r]];return b.writeUInt16(1),b.writeUInt16(0),b.writeUInt32(12),b.writeUInt16(0),b.writeUInt16(262),b.writeUInt16(0),b.write(g),{charMap:o,subtable:b.data,maxGlyphID:p+1};case"unicode":for(E=[],d=[],I=0,x={},i={},v=c=null,_=0,R=s.length;_<R;_++)x[H=e[r=s[_]]]==null&&(x[H]=++I),i[r]={old:H,new:x[H]},a=x[H]-r,v!=null&&a===c||(v&&d.push(v),E.push(r),c=a),v=r;for(v&&d.push(v),d.push(65535),E.push(65535),W=2*(G=E.length),V=2*Math.pow(Math.log(G)/Math.LN2,2),f=Math.log(V/2)/Math.LN2,B=2*G-V,l=[],F=[],h=[],m=y=0,Z=E.length;y<Z;m=++y){if(k=E[m],u=d[m],k===65535){l.push(0),F.push(0);break}if(k-(L=i[k].new)>=32768)for(l.push(0),F.push(2*(h.length+G-m)),r=C=k;k<=u?C<=u:C>=u;r=k<=u?++C:--C)h.push(i[r].new);else l.push(L-k),F.push(0)}for(b.writeUInt16(3),b.writeUInt16(1),b.writeUInt32(12),b.writeUInt16(4),b.writeUInt16(16+8*G+2*h.length),b.writeUInt16(0),b.writeUInt16(W),b.writeUInt16(V),b.writeUInt16(f),b.writeUInt16(B),M=0,j=d.length;M<j;M++)r=d[M],b.writeUInt16(r);for(b.writeUInt16(0),$=0,X=E.length;$<X;$++)r=E[$],b.writeUInt16(r);for(ue=0,D=l.length;ue<D;ue++)a=l[ue],b.writeUInt16(a);for(re=0,Y=F.length;re<Y;re++)N=F[re],b.writeUInt16(N);for(ce=0,P=h.length;ce<P;ce++)p=h[ce],b.writeUInt16(p);return{charMap:i,subtable:b.data,maxGlyphID:I+1}}},n}(),GU=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,pc),e.prototype.tag="cmap",e.prototype.parse=function(t){var i,r,o;for(t.pos=this.offset,this.version=t.readUInt16(),o=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=o?r<o:r>o;r=0<=o?++r:--r)i=new LU(t,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},e.encode=function(t,i){var r,o;return i==null&&(i="macroman"),r=LU.encode(t,i),(o=new nf).writeUInt16(0),o.writeUInt16(1),r.table=o.data.concat(r.subtable),r},e}(),Lve=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,pc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Fve=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,pc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(t.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(t.readInt());return r}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(t.readInt());return r}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),Bve=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,pc),e.prototype.tag="post",e.prototype.parse=function(t){var i,r,o;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var s;for(r=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],o=[];t.pos<this.offset+this.length;)i=t.readByte(),o.push(this.names.push(t.readString(i)));return o;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],s=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;s=0<=l?++a:--a)c.push(t.readUInt32());return c}).call(this)}},e}(),Vve=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},jve=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,pc),e.prototype.tag="name",e.prototype.parse=function(t){var i,r,o,s,a,l,c,u,d,f,h;for(t.pos=this.offset,t.readShort(),i=t.readShort(),l=t.readShort(),r=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},s=d=0,f=r.length;d<f;s=++d)o=r[s],t.pos=o.offset,u=t.readString(o.length),a=new Vve(u,o),c[h=o.nameID]==null&&(c[h]=[]),c[o.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),zve=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,pc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Uve=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,pc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var i,r,o,s,a,l,c;for(t.pos=this.offset,this.metrics=[],i=0,l=this.file.hhea.numberOfMetrics;0<=l?i<l:i>l;i=0<=l?++i:--i)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],i=u=0;0<=o?u<o:u>o;i=0<=o?++u:--u)d.push(t.readInt16());return d}(),this.widths=(function(){var u,d,f,h;for(h=[],u=0,d=(f=this.metrics).length;u<d;u++)s=f[u],h.push(s.advance);return h}).call(this),r=this.widths[this.widths.length-1],c=[],i=a=0;0<=o?a<o:a>o;i=0<=o?++a:--a)c.push(this.widths.push(r));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),KU=[].slice,Hve=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,pc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var i,r,o,s,a,l,c,u,d,f;return t in this.cache?this.cache[t]:(s=this.file.loca,i=this.file.contents,r=s.indexOf(t),(o=s.lengthOf(t))===0?this.cache[t]=null:(i.pos=this.offset+r,a=(l=new nf(i.read(o))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[t]=a===-1?new $ve(l,u,f,c,d):new Wve(l,a,u,f,c,d),this.cache[t]))},e.prototype.encode=function(t,i,r){var o,s,a,l,c;for(a=[],s=[],l=0,c=i.length;l<c;l++)o=t[i[l]],s.push(a.length),o&&(a=a.concat(o.encode(r)));return s.push(a.length),{table:a,offsets:s}},e}(),Wve=function(){function n(e,t,i,r,o,s){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=r,this.xMax=o,this.yMax=s,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),$ve=function(){function n(e,t,i,r,o){var s,a;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=r,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return n.prototype.encode=function(){var e,t,i;for(t=new nf(KU.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),qve=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return mu(e,pc),e.prototype.tag="loca",e.prototype.parse=function(t){var i,r;return t.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var o,s;for(s=[],r=0,o=this.length;r<o;r+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var o,s;for(s=[],r=0,o=this.length;r<o;r+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,i){for(var r=new Uint32Array(this.offsets.length),o=0,s=0,a=0;a<r.length;++a)if(r[a]=o,s<i.length&&i[s]==a){++s,r[a]=o;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(o+=c)}for(var u=new Array(4*r.length),d=0;d<r.length;++d)u[4*d+3]=255&r[d],u[4*d+2]=(65280&r[d])>>8,u[4*d+1]=(16711680&r[d])>>16,u[4*d]=(4278190080&r[d])>>24;return u},e}(),Gve=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,i,r,o;for(t in r=this.font.cmap.tables[0].codeMap,e={},o=this.subset)i=o[t],e[t]=r[i];return e},n.prototype.glyphsFor=function(e){var t,i,r,o,s,a,l;for(r={},s=0,a=e.length;s<a;s++)r[o=e[s]]=this.font.glyf.glyphFor(o);for(o in t=[],r)(i=r[o])!=null&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(o in l=this.glyphsFor(t))i=l[o],r[o]=i;return r},n.prototype.encode=function(e,t){var i,r,o,s,a,l,c,u,d,f,h,m,p,g,v;for(r in i=GU.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},v=i.charMap)h[(l=v[r]).old]=l.new;for(m in f=i.maxGlyphID,s)m in h||(h[m]=f++);return u=function(x){var I,N;for(I in N={},x)N[x[I]]=I;return N}(h),d=Object.keys(u).sort(function(x,I){return x-I}),p=function(){var x,I,N;for(N=[],x=0,I=d.length;x<I;x++)a=d[x],N.push(u[a]);return N}(),o=this.font.glyf.encode(s,p,h),c=this.font.loca.encode(o.offsets,p),g={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},n}();An.API.PDFObject=function(){var n;function e(){}return n=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var i,r,o,s;if(Array.isArray(t))return"["+function(){var a,l,c;for(c=[],a=0,l=t.length;a<l;a++)i=t[a],c.push(e.convert(i));return c}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(r in o=["<<"],t)s=t[r],o.push("/"+r+" "+e.convert(s));return o.push(">>"),o.join(`
`)}return""+t},e}();var Kve=n=>({oculto:n});function Zve(n,e){if(n&1){let t=Ut();O(0,"span")(1,"img",19),ve("click",function(){let r=Pe(t).$implicit,o=Re();return De(o.verImagen(r.id))}),A()()}if(n&2){let t=e.$implicit;ee(),Ra("id","foto",t.id,""),In("src",t.link,Rr)}}function Yve(n,e){if(n&1&&(O(0,"div",20)(1,"div",13),U(2),A(),O(3,"div",13),U(4),A(),O(5,"div",14),U(6),A(),O(7,"div",13),U(8),A(),O(9,"div",15),U(10),A()()),n&2){let t=e.$implicit;ee(2),et(t.fecha),ee(2),et(t.evento.nombre),ee(2),et(t.mail),ee(2),et(t.tipo),ee(2),et(t.cantidad)}}function Xve(n,e){n&1&&(O(0,"div",21)(1,"div",22),U(2,"No hay ofertas"),A()())}var F0=(()=>{class n{api;sanitizer;messageEvent=new tn;lote=[];imagenes=[];verImg=!1;imgID=-1;Ofertas=[];flagReporte=!0;textReporte="Cargando";constructor(t,i){this.api=t,this.sanitizer=i}transform(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)}handleMessage(t,i){this.verImg=t}cerrarModal(){this.imagenes=[],this.Ofertas=[],this.flagReporte=!0,this.messageEvent.emit(!1)}cargarImagenes(t){this.imagenes=[];for(let r=1;r<t.length+1;r++)this.imagenes.push({link:"",id:r});let i=0;for(let r=0;r<t.length;r++)this.api.cargarArchivo(t[r].img,"lotes").then(o=>{if(i++,o!=!1&&(this.imagenes[t[r].orden-1]={link:o.url,id:t[r].orden}),i==t.length){let s={token:localStorage.getItem("token"),lote:this.lote.uuid,evento:"null",tipo:1};this.api.ofertaDatos(s).subscribe({next:a=>{this.flagReporte=!1,this.textReporte="Generar PDF",this.Ofertas=a.ofertaDB},error(a){}})}})}verImagen(t){this.verImg=!0,this.imgID=t-1}generarExcel(){return gn(this,null,function*(){let t=new An("p","pt","a4"),i="<div style='width:33rem; font-family:Arial'><div style='display:flex'; text-align:right;><div style='width:50%; text-align:left; font-size:small;'> Admin: "+this.api.getUserAdmin()+"</div><div style='width:50%; text-align:right; font-size:small;'>"+new Date().toLocaleString()+"</div></div><div style='background-color:#3083dc; color:#F9F9F9; text-align:center;'>Titulo</div><div style='border: 1px solid rgb(48, 131, 220, 0.2); text-align:center;'>"+this.lote.titulo+"</div><div style='display:flex; background-color:#3083dc; color:#F9F9F9; text-align:center;'><div style='width:50%'>"+(this.lote.base_salida?"Precio base":"Monto de arranque")+"</div><div style='width:34%'>Incremento</div><div style='width:50%'>"+(this.lote.base_salida?"Precio salida":"Monto esperado")+"</div></div><div style='display:flex'; text-align:center;><div style='border: 1px solid rgb(48, 131, 220, 0.2); width:50%; text-align:center;'>"+this.lote.moneda+" "+this.lote.precio_base+"</div><div style='border: 1px solid rgb(48, 131, 220, 0.2); width:34%; text-align:center;'>"+this.lote.moneda+" "+this.lote.incremento+"</div><div style='border: 1px solid rgb(48, 131, 220, 0.2); width:50%; text-align:center;'>"+(this.lote.precio_salida!="null"&&this.lote.precio_salida!=""?this.lote.moneda+" "+this.lote.precio_salida:"-")+"</div></div><div style='display:flex; background-color:#3083dc; color:#F9F9F9; text-align:center;'><div style='width:33%'>Visitas</div><div style='width:33%'>Ganador</div><div style='width:33%'>Mayor oferta</div></div><div style='display:flex'; text-align:center;><div style='border: 1px solid rgb(48, 131, 220, 0.2); width:33%; text-align:center;'>"+this.lote.visitas+"</div><div style='border: 1px solid rgb(48, 131, 220, 0.2); width:33%; text-align:center;'>"+(this.lote.ganador==""?"-":this.lote.ganador)+"</div><div style='border: 1px solid rgb(48, 131, 220, 0.2); width:33%; text-align:center;'>"+(this.lote.precio_ganador==""?"-":this.lote.precio_ganador)+"</div></div><div style='background-color:#3083dc; color:#F9F9F9; text-align:center;'>Imagenes</div><div style='border: 1px solid rgb(48, 131, 220, 0.2); text-align:center'>";if(i+="<img src='"+this.imagenes[0].link+"' style='width: 150px;'>",i+="<br><span>Se muestra 1 imagen de "+this.imagenes.length+" totales</span>",i+="</div><div style='background-color:#3083dc; color:#F9F9F9; text-align:center;'>Ofertas</div><div style='display: flex; background-color:#3083dc; color:#F9F9F9; text-align:center;'><div style='width:20%'>Fecha</div><div style='width:45%'>Usuario</div><div style='width:15%'>Metodo</div><div style='width:20%'>CUIL/CUIT</div><div style='width:20%'>Monto</div></div>",this.Ofertas.length==0)i+="<div style='border: 1px solid rgb(48, 131, 220, 0.2); text-align:center;'>No hay ofertas</div>";else{let r=this.Ofertas.length>5?5:this.Ofertas.length;for(let o=0;o<r;o++)i+="<div style='display: flex; text-align:center;'><div style='border: 1px solid rgb(48, 131, 220, 0.2); width:20%; font-size:smaller;'>"+this.Ofertas[o].fecha+"</div><div style='border: 1px solid rgb(48, 131, 220, 0.2); width:45%; font-size:smaller;'>"+this.Ofertas[o].mail+"</div><div style='border: 1px solid rgb(48, 131, 220, 0.2); width:15%; font-size:smaller;'>"+this.Ofertas[o].tipo+"</div><div style='border: 1px solid rgb(48, 131, 220, 0.2); width:20%; font-size:smaller;'>"+this.Ofertas[o].user.cuil_cuit+"</div><div style='border: 1px solid rgb(48, 131, 220, 0.2); width:20%; font-size:smaller;'>"+this.Ofertas[o].cantidad+"</div></div>";i+=this.Ofertas.length<=5?"<br><span>Ofertas: "+this.Ofertas.length+"</span>":"<br><span>Se muestra 5 ofertas de "+this.Ofertas.length+" totales</span>"}i+="</div>",t.html(i,{callback:r=>{r.save(this.lote.titulo.includes(".")?this.lote.titulo+".pdf":this.lote.titulo)},margin:[35,0,0,35],autoPaging:"text"})})}static \u0275fac=function(i){return new(i||n)(ze(Un),ze(Oo))};static \u0275cmp=Lt({type:n,selectors:[["app-ver-lote"]],inputs:{lote:"lote"},outputs:{messageEvent:"messageEvent"},standalone:!0,features:[Ht],decls:71,vars:26,consts:[["id","myModal",1,"modal",2,"overflow","auto"],[1,"modal-content",2,"width","70%"],[2,"display","flex","justify-content","space-between","font-size","x-large","margin-bottom","2%"],[1,"boton","boton2","border","rounded",3,"click","disabled"],[1,"fa-solid","fa-xmark","icerrar",3,"click"],[1,"border","rounded",2,"width","100%","margin-bottom","2%","margin-top","2%"],[2,"margin","1.5%","display","block","font-family","Avenir"],[2,"margin","1.5%","display","block","font-family","Avenir",3,"innerHTML"],[2,"width","100%","margin-bottom","2%","margin-top","2%"],[2,"font-family","Avenir"],[2,"margin-top","2%","text-align","center"],[4,"ngFor","ngForOf"],[2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%","align-items","center"],[1,"celda"],[1,"celda",2,"width","15rem"],[1,"celda",2,"border-right","none","width","8rem"],["class","linea","style","display: flex; border-bottom: 1px solid rgb(48, 131, 220, 0.2); width: 100%;",4,"ngFor","ngForOf"],["class","linea","style","display: flex; border-bottom: 1px solid rgb(48, 131, 220, 0.2); width: 100%; text-align: center;",4,"ngIf"],[3,"messageEvent","ngClass","imagenes","imagen","verImg"],["alt","",2,"width","200px","cursor","pointer",3,"click","id","src"],[1,"linea",2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%"],[1,"linea",2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%","text-align","center"],[1,"celda","username",2,"width","100%","border-right","none"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),ve("click",function(){return r.generarExcel()}),U(4),A(),O(5,"i",4),ve("click",function(){return r.cerrarModal()}),A()(),O(6,"label"),U(7,"Titulo: "),A(),O(8,"div",5)(9,"span",6),U(10),A()(),O(11,"label"),U(12,"Descripcion: "),A(),O(13,"div",5),Ce(14,"span",7),v2(15,"sanitizeHtml"),A(),O(16,"label"),U(17,"Informacion: "),A(),O(18,"div",5)(19,"span",6),U(20),A()(),O(21,"label"),U(22,"Aclaracion: "),A(),O(23,"div",5)(24,"span",6),U(25),A()(),O(26,"div",8)(27,"label"),U(28,"Moneda: "),A(),O(29,"span",9),U(30),A()(),O(31,"div",8)(32,"label"),U(33),A(),O(34,"span",9),U(35),A()(),O(36,"div",8)(37,"label"),U(38,"Incremento: "),A(),O(39,"span",9),U(40),A()(),O(41,"div",8)(42,"label"),U(43),A(),O(44,"span",9),U(45),A()(),O(46,"div",8)(47,"label"),U(48,"Estado: "),A(),O(49,"span",9),U(50),A()(),O(51,"label"),U(52,"Imagenes del lote: "),A(),O(53,"div",10),_t(54,Zve,2,3,"span",11),A(),O(55,"label"),U(56,"Ofertas: "),A(),O(57,"div",12)(58,"div",13),U(59,"Fecha"),A(),O(60,"div",13),U(61,"Publicacion"),A(),O(62,"div",14),U(63,"Usuario"),A(),O(64,"div",13),U(65,"Metodo"),A(),O(66,"div",15),U(67,"Monto"),A()(),_t(68,Yve,11,5,"div",16)(69,Xve,3,0,"div",17),A()(),O(70,"app-ver-imagen",18),ve("messageEvent",function(s){return r.handleMessage(s,"crear")}),A()),i&2&&(ee(3),fe("disabled",r.flagReporte),ee(),et(r.textReporte),ee(6),Ct(" ",r.lote.titulo," "),ee(4),fe("innerHTML",w2(15,22,r.lote.descripcion),o2),ee(6),Ct(" ",r.lote.informacion==""?"-":r.lote.informacion," "),ee(5),Ct(" ",r.lote.aclaracion==""?"-":r.lote.aclaracion," "),ee(5),et(r.lote.moneda),ee(3),Ct("",r.lote.base_salida?"Precio base":"Monto arranque",": "),ee(2),Ai("",r.lote.moneda," ",r.lote.precio_base,""),ee(5),Ai("",r.lote.moneda," ",r.lote.incremento,""),ee(3),Ct("",r.lote.base_salida?"Precio salida":"Monto esperado",": "),ee(2),et(r.lote.precio_salida!="null"&&r.lote.precio_salida!=""?r.lote.moneda+" "+r.lote.precio_salida:"-"),ee(5),et(r.lote.disponible?"Disponible":"No disponible"),ee(4),fe("ngForOf",r.imagenes),ee(14),fe("ngForOf",r.Ofertas),ee(),fe("ngIf",r.Ofertas.length==0),ee(),fe("ngClass",ht(24,Kve,!r.verImg))("imagenes",r.imagenes)("imagen",r.imgID)("verImg",r.verImg))},dependencies:[dC,sn,Zn,Ti,Rn,qc],styles:[".celda[_ngcontent-%COMP%]{border-right:1px solid rgb(48,131,220,.2);border-color:#3083dc33!important;width:16%;padding:1%;font-family:Avenir}.celda[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:2%}.linea[_ngcontent-%COMP%]{transition:all .5s linear}.linea[_ngcontent-%COMP%]:hover{background-color:#ff900033}.load[_ngcontent-%COMP%]{display:flex;align-items:center;width:20%;justify-content:space-around}.paginacion[_ngcontent-%COMP%]{height:2rem;width:6rem;font-size:medium}@media (max-width: 650px){.paginacion[_ngcontent-%COMP%]{width:3.5rem}}.paginacionof[_ngcontent-%COMP%]{height:2rem;width:8rem;font-size:medium}@media (max-width: 650px){.paginacionof[_ngcontent-%COMP%]{width:3.5rem}}.ibtn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:2rem}.ibtn[_ngcontent-%COMP%]:hover{cursor:pointer}.tooltip[_ngcontent-%COMP%]{position:relative}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;padding:.25em .5em;color:#fff;text-align:center;white-space:nowrap;position:absolute;z-index:1;top:-60%;left:-30%;transition-property:visibility;transition-delay:0s;font-family:avenir}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;transition-delay:.3s}.modal[_ngcontent-%COMP%]{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:7% auto;margin-top:7rem;padding:1%;border:1px solid var(--amarello);width:80%}@media (max-width: 1000px){.modal-content[_ngcontent-%COMP%]{width:97.5%!important}}.campoOferta[_ngcontent-%COMP%]{width:30rem}@media (max-width: 530px){.campoOferta[_ngcontent-%COMP%]{width:100%}}@media (max-width: 600px){.datoLote[_ngcontent-%COMP%]{font-size:smaller}}.icerrar[_ngcontent-%COMP%]{color:var(--amarello)}.icerrar[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--blue)}.borderAbajo[_ngcontent-%COMP%]{border-bottom:1px solid rgb(48,131,220,.2)}.marginCerrar[_ngcontent-%COMP%]{margin-right:5rem}@media (max-width: 1000px){.marginCerrar[_ngcontent-%COMP%]{margin-right:2rem}}.h1btn[_ngcontent-%COMP%]:hover{color:var(--amarello);cursor:pointer}.h1btn2[_ngcontent-%COMP%]{color:var(--amarello);text-decoration:underline}.none2[_ngcontent-%COMP%]{transform:scale3d(1,0,1);visibility:hidden;opacity:0}.campoUser[_ngcontent-%COMP%]{display:flex}@media (max-width: 650px){.campoUser[_ngcontent-%COMP%]{flex-wrap:wrap}.campoUser[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important}}"]})}return n})();var Vv=Qr(Eo());var Jve=["imagen"],Mm=n=>({changed:n}),Qve=n=>({oculto:n});function ewe(n,e){if(n&1){let t=Ut();O(0,"ckeditor",38),Je("ngModelChange",function(r){Pe(t);let o=Re();return Qe(o.loteNuevo.descripcion,r)||(o.loteNuevo.descripcion=r),De(r)}),A()}if(n&2){let t=Re();fe("editor",t.Editor)("config",t.config),Xe("ngModel",t.loteNuevo.descripcion)}}function twe(n,e){if(n&1){let t=Ut();O(0,"span",41)(1,"i",42),ve("click",function(){Pe(t);let r=Re().$implicit,o=Re();return De(o.eliminarImg(r))}),A()()}}function nwe(n,e){if(n&1){let t=Ut();O(0,"span")(1,"img",39),ve("click",function(){let r=Pe(t).$implicit,o=Re();return De(o.verImagen(r.id))}),A(),_t(2,twe,2,0,"span",40),A()}if(n&2){let t=e.$implicit;ee(),Ra("id","foto",t.id,""),In("src",t.link,Rr),ee(),fe("ngIf",t.link!="")}}function iwe(n,e){if(n&1){let t=Ut();O(0,"span"),Ce(1,"img",43),O(2,"span",44),ve("click",function(){let r=Pe(t).$implicit,o=Re();return De(o.cambiarOrden(r.id))}),U(3),A()()}if(n&2){let t=e.$implicit;ee(),Ra("id","foto",t.id,""),In("src",t.link,Rr),ee(2),et(t.id)}}var e6=(()=>{class n{changeDetector;sanitizer;api;apiAdmin;messageEvent=new tn;lote={descripcion:""};imagenes=[];verImg=!1;imgID=-1;loteNuevo={descripcion:""};alertas=["","","",""];sources=[];imgs=[];inputImagen;flagElim=!1;imgElim=[];imgElimCount=1;constructor(t,i,r,o){this.changeDetector=t,this.sanitizer=i,this.api=r,this.apiAdmin=o}isLayoutReady=!1;Editor=g0;config={};ngAfterViewInit(){this.config={toolbar:{items:["undo","redo","|","bold","italic","underline","|","specialCharacters","link","insertTable","|","alignment","|","outdent","indent"],shouldNotGroupWhenFull:!1},plugins:[Hh,n0,l0,d0,b0,w0,y0,h0,_0,km,Yh,C0,S0,A0,f0,cu],initialData:"",language:"es",link:{addTargetToExternalLinks:!0,defaultProtocol:"https://",decorators:{toggleDownloadable:{mode:"manual",label:"Downloadable",attributes:{download:"file"}}}},placeholder:"Descripcion",table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},translations:[cC]},this.isLayoutReady=!0,this.changeDetector.detectChanges()}transform(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)}handleMessage(t,i){this.verImg=t}cerrarModal(){this.flagElim=!1,this.imgElim=[],this.imgElimCount=1,this.imagenes=[],this.loteNuevo={descripcion:""},this.imgs=[],this.sources=[],this.alertas=["","","","","","","","",""],this.inputImagen.nativeElement.value="",this.messageEvent.emit(!1)}cargarImagenes(t){this.imagenes=[];for(let r=1;r<t.length+1;r++)this.imagenes.push({link:"",id:r,name:""});let i=0;for(let r=0;r<t.length;r++)this.api.cargarArchivo(t[r].img,"lotes").then(o=>{i++,o!=!1&&(this.imagenes[t[r].orden-1]={link:o.url,id:t[r].orden,name:t[r].img}),i==t.length&&(this.loteNuevo=Object.assign({},this.lote))})}verImagen(t){this.verImg=!0,this.imgID=t-1}showImg(t){this.sources=[],this.imgs=[];let i=t.currentTarget,r=i.files?.length||0;if(this.imgs=i.files,r==0)this.sources=[];else{for(let a=0;a<r;a++){var o=i.files[a].name.split("."),s=o[o.length-1];if(s!="pdf"){let l=new FileReader;l.readAsDataURL(i.files[a]),l.onloadend=()=>{this.sources.push({id:a+1,link:l.result,name:i.files[a].name})}}}this.imgs=i.files}}actualizar(){if(this.loteNuevo.titulo==""||this.loteNuevo.precio_base=="null")this.alertas[0]=this.loteNuevo.titulo==""?"El campo es obligatorio":"",this.alertas[2]=this.loteNuevo.precio_base=="null"?"El campo es obligatorio":"",Vv.default.fire({title:"Hay campos que no pueden estar vacios",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"});else{let t=new FormData;if(t.append("aclaracion",this.loteNuevo.aclaracion),t.append("descripcion",this.loteNuevo.descripcion),t.append("incremento",this.loteNuevo.incremento),t.append("moneda",this.loteNuevo.moneda),t.append("precio_base",this.loteNuevo.precio_base),t.append("precio_salida",this.loteNuevo.precio_salida),t.append("titulo",this.loteNuevo.titulo),t.append("base_salida",this.loteNuevo.base_salida),t.append("informacion",this.loteNuevo.informacion),t.append("lote",this.loteNuevo.uuid),t.append("token",localStorage.getItem("token")),t.append("tipo","1"),this.imgs.length!=0&&this.imgs.length!=null&&!this.flagElim)for(let i=0;i<this.imgs.length;i++)t.append("img",this.imgs[i]),t.append("imgOrden",this.sources[i].name);if(this.flagElim)for(let i=0;i<this.imgElim.length;i++)t.append("imgElim",this.imgElim[i]);this.apiAdmin.actualizarLote(t).then(i=>{i.ok?Vv.default.fire({title:"Lote actualizado con exito",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}):Vv.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),this.cerrarModal()},i=>{Vv.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),this.cerrarModal()})}}cambiarOrden(t){let i=t-1,r=this.sources[i].link,o=this.sources[i].name;t==this.sources.length?(this.sources[i].link=this.sources[0].link,this.sources[0].link=r,this.sources[i].name=this.sources[0].name,this.sources[0].name=o):(this.sources[i].link=this.sources[t].link,this.sources[t].link=r,this.sources[i].name=this.sources[t].name,this.sources[t].name=o)}eliminarImg(t){this.imagenes.length>this.imgElimCount&&(this.imgElimCount++,this.flagElim=!0,this.imgElim.push(this.imagenes[t.id-1].name),this.imagenes[t.id-1]={link:"",id:0,name:""})}static \u0275fac=function(i){return new(i||n)(ze(Do),ze(Oo),ze(Un),ze(Xi))};static \u0275cmp=Lt({type:n,selectors:[["app-editar-lote"]],viewQuery:function(i,r){if(i&1&&sr(Jve,5),i&2){let o;Gi(o=Ki())&&(r.inputImagen=o.first)}},inputs:{lote:"lote"},outputs:{messageEvent:"messageEvent"},standalone:!0,features:[Ht],decls:90,vars:47,consts:[["editorContainerElement",""],["editorElement",""],["imagen",""],["id","myModal",1,"modal",2,"overflow","auto"],[1,"modal-content",2,"width","50%"],[2,"display","flex","justify-content","flex-end","font-size","x-large"],[1,"fa-solid","fa-xmark","icerrar",3,"click"],[1,"msg"],[1,"col-3",2,"display","flex","flex-direction","column","margin-bottom","2%"],["type","text","placeholder","Titulo",1,"effect-1",2,"height","2.5rem",3,"ngModelChange","ngClass","ngModel"],[1,"focus-border2"],[1,"main-container"],[1,"editor-container","editor-container_classic-editor"],[1,"editor-container__editor"],[3,"editor","config","ngModel","ngModelChange",4,"ngIf"],["type","text","placeholder","Informacion",1,"effect-1",2,"height","2.5rem",3,"ngModelChange","ngClass","ngModel"],[1,"effect-1",2,"width","100%","height","2.5rem",3,"ngModelChange","ngModel","ngClass"],["value","ARS","selected",""],["value","USD"],[1,"border","rounded","glass","colorWhite",2,"width","100%","margin-bottom","2%"],[2,"margin","1.5%","display","block","font-family","Avenir"],[1,"effect-1",2,"width","100%","height","2.5rem",3,"ngModelChange","ngModel"],[3,"ngValue"],[1,"col-3",2,"display","flex","flex-direction","row","margin-bottom","2%"],[2,"display","flex","flex-direction","column","width","32%","margin-right","2%"],[2,"display","flex","flex-direction","row"],["type","number",1,"effect-1",2,"height","2.5rem",3,"ngModelChange","placeholder","ngClass","ngModel"],[1,"focus-border2",2,"position","relative !important"],["type","number","placeholder","Incremento minimo",1,"effect-1",2,"height","2.5rem",3,"ngModelChange","ngClass","ngModel"],[2,"display","flex","flex-direction","column","width","32%"],["type","text","placeholder","Aclaracion",1,"effect-1",2,"height","2.5rem",3,"ngModelChange","ngClass","ngModel"],[2,"margin-top","2%","text-align","center"],[4,"ngFor","ngForOf"],[2,"margin-top","2%","text-align","center","margin-bottom","4%"],["type","file","name","imagen","id","imagen","accept","image/*,","multiple","",2,"margin-bottom","2%",3,"change"],[2,"display","flex","justify-content","flex-end"],[1,"border","rounded","boton","boton2","botones",3,"click"],[3,"messageEvent","ngClass","imagenes","imagen","verImg"],[3,"ngModelChange","editor","config","ngModel"],["alt","",2,"width","200px","cursor","pointer",3,"click","id","src"],["style","position: relative; left: -10px; bottom: -5px; display: inline-block; width: 2rem; height: 2rem; cursor: pointer;",4,"ngIf"],[2,"position","relative","left","-10px","bottom","-5px","display","inline-block","width","2rem","height","2rem","cursor","pointer"],[1,"fa-solid","fa-trash-can","boton2","border","glassAzul","colorWhite","rounded","ibtn",2,"width","2rem","height","2rem",3,"click"],["alt","",2,"width","100px",3,"id","src"],[1,"boton","boton2","glassAzul","border","rounded","colorWhite",2,"position","relative","left","-10px","bottom","-5px","display","inline-block","width","1rem","cursor","pointer",3,"click"]],template:function(i,r){if(i&1){let o=Ut();O(0,"div",3)(1,"div",4)(2,"div",5)(3,"i",6),ve("click",function(){return Pe(o),De(r.cerrarModal())}),A()(),O(4,"label"),U(5,"Titulo: "),A(),O(6,"span",7),U(7),A(),O(8,"div",8)(9,"input",9),Je("ngModelChange",function(a){return Pe(o),Qe(r.loteNuevo.titulo,a)||(r.loteNuevo.titulo=a),De(a)}),A(),Ce(10,"span",10),A(),O(11,"label"),U(12,"Descripcion: "),A(),O(13,"span",7),U(14),A(),O(15,"div",8)(16,"div")(17,"div",11)(18,"div",12,0)(20,"div",13)(21,"div",null,1),_t(23,ewe,1,3,"ckeditor",14),A()()()()()(),O(24,"label"),U(25,"Informacion: "),A(),O(26,"div",8)(27,"input",15),Je("ngModelChange",function(a){return Pe(o),Qe(r.loteNuevo.informacion,a)||(r.loteNuevo.informacion=a),De(a)}),A(),Ce(28,"span",10),A(),O(29,"label"),U(30,"Moneda: "),A(),O(31,"div",8)(32,"select",16),Je("ngModelChange",function(a){return Pe(o),Qe(r.loteNuevo.moneda,a)||(r.loteNuevo.moneda=a),De(a)}),O(33,"option",17),U(34,"Peso Argentino (ARS)"),A(),O(35,"option",18),U(36,"Dolar Americano (USD)"),A()(),Ce(37,"span",10),A(),O(38,"div",19)(39,"span",20),U(40," No utilice separadores de miles."),Ce(41,"br"),U(42," Utilice el PUNTO (.) como separador de decimales. "),A()(),O(43,"div",8)(44,"select",21),Je("ngModelChange",function(a){return Pe(o),Qe(r.loteNuevo.base_salida,a)||(r.loteNuevo.base_salida=a),De(a)}),O(45,"option",22),U(46,"Precio base / Precio salida"),A(),O(47,"option",22),U(48,"Monto arranque / Monto esperado"),A()(),Ce(49,"span",10),A(),O(50,"div",23)(51,"div",24)(52,"div",25)(53,"label"),U(54),A(),O(55,"span",7),U(56),A()(),O(57,"input",26),Je("ngModelChange",function(a){return Pe(o),Qe(r.loteNuevo.precio_base,a)||(r.loteNuevo.precio_base=a),De(a)}),A(),Ce(58,"span",27),A(),O(59,"div",24)(60,"div",25)(61,"label"),U(62,"Incremento minimo: "),A()(),O(63,"input",28),Je("ngModelChange",function(a){return Pe(o),Qe(r.loteNuevo.incremento,a)||(r.loteNuevo.incremento=a),De(a)}),A(),Ce(64,"span",27),A(),O(65,"div",29)(66,"div",25)(67,"label"),U(68),A()(),O(69,"input",26),Je("ngModelChange",function(a){return Pe(o),Qe(r.loteNuevo.precio_salida,a)||(r.loteNuevo.precio_salida=a),De(a)}),A(),Ce(70,"span",27),A()(),O(71,"label"),U(72,"Aclaracion: "),A(),O(73,"div",8)(74,"input",30),Je("ngModelChange",function(a){return Pe(o),Qe(r.loteNuevo.aclaracion,a)||(r.loteNuevo.aclaracion=a),De(a)}),A(),Ce(75,"span",10),A(),O(76,"label"),U(77,"Imagenes del lote: "),A(),O(78,"div",31),_t(79,nwe,3,4,"span",32),A(),O(80,"label"),U(81,"Nuevas imagenes del lote: "),A(),O(82,"div",33),_t(83,iwe,4,4,"span",32),A(),O(84,"input",34,2),ve("change",function(a){return Pe(o),De(r.showImg(a))}),A(),O(86,"div",35)(87,"button",36),ve("click",function(){return Pe(o),De(r.actualizar())}),U(88,"Actualizar"),A()()()(),O(89,"app-ver-imagen",37),ve("messageEvent",function(a){return Pe(o),De(r.handleMessage(a,"crear"))}),A()}i&2&&(ee(7),Ct("*",r.alertas[0],""),ee(2),fe("ngClass",ht(31,Mm,r.loteNuevo.titulo!=r.lote.titulo)),Xe("ngModel",r.loteNuevo.titulo),ee(5),Ct("*",r.alertas[1],""),ee(9),fe("ngIf",r.isLayoutReady),ee(4),fe("ngClass",ht(33,Mm,r.loteNuevo.informacion!=r.lote.informacion)),Xe("ngModel",r.loteNuevo.informacion),ee(5),Xe("ngModel",r.loteNuevo.moneda),fe("ngClass",ht(35,Mm,r.loteNuevo.moneda!=r.lote.moneda)),ee(12),Xe("ngModel",r.loteNuevo.base_salida),ee(),fe("ngValue",!0),ee(2),fe("ngValue",!1),ee(7),Ct("",r.loteNuevo.base_salida?"Precio base":"Monto arranque",": "),ee(2),Ct("*",r.alertas[2],""),ee(),In("placeholder",r.loteNuevo.base_salida?"Precio base":"Monto arranque"),fe("ngClass",ht(37,Mm,r.loteNuevo.precio_base!=r.lote.precio_base)),Xe("ngModel",r.loteNuevo.precio_base),ee(6),fe("ngClass",ht(39,Mm,r.loteNuevo.incremento!=r.lote.incremento)),Xe("ngModel",r.loteNuevo.incremento),ee(5),Ct("",r.loteNuevo.base_salida?"Precio salida":"Monto esperado",": "),ee(),In("placeholder",r.loteNuevo.base_salida?"Precio salida":"Monto esperado"),fe("ngClass",ht(41,Mm,r.loteNuevo.precio_salida!=r.lote.precio_salida)),Xe("ngModel",r.loteNuevo.precio_salida),ee(5),fe("ngClass",ht(43,Mm,r.loteNuevo.aclaracion!=r.lote.aclaracion)),Xe("ngModel",r.loteNuevo.aclaracion),ee(5),fe("ngForOf",r.imagenes),ee(4),fe("ngForOf",r.sources),ee(6),fe("ngClass",ht(45,Qve,!r.verImg))("imagenes",r.imagenes)("imagen",r.imgID)("verImg",r.verImg))},dependencies:[sn,Zn,Ti,Rn,qc,Hn,Cr,kr,mi,tc,ar,oi,ti,v_,b_],styles:[".celda[_ngcontent-%COMP%]{border-right:1px solid rgb(48,131,220,.2);border-color:#3083dc33!important;width:16%;padding:1%;font-family:Avenir}.celda[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:2%}.linea[_ngcontent-%COMP%]{transition:all .5s linear}.linea[_ngcontent-%COMP%]:hover{background-color:#ff900033}.load[_ngcontent-%COMP%]{display:flex;align-items:center;width:20%;justify-content:space-around}.paginacion[_ngcontent-%COMP%]{height:2rem;width:6rem;font-size:medium}@media (max-width: 650px){.paginacion[_ngcontent-%COMP%]{width:3.5rem}}.paginacionof[_ngcontent-%COMP%]{height:2rem;width:8rem;font-size:medium}@media (max-width: 650px){.paginacionof[_ngcontent-%COMP%]{width:3.5rem}}.ibtn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:2rem}.ibtn[_ngcontent-%COMP%]:hover{cursor:pointer}.tooltip[_ngcontent-%COMP%]{position:relative}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;padding:.25em .5em;color:#fff;text-align:center;white-space:nowrap;position:absolute;z-index:1;top:-60%;left:-30%;transition-property:visibility;transition-delay:0s;font-family:avenir}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;transition-delay:.3s}.modal[_ngcontent-%COMP%]{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:7% auto;margin-top:7rem;padding:1%;border:1px solid var(--amarello);width:80%}@media (max-width: 1000px){.modal-content[_ngcontent-%COMP%]{width:97.5%!important}}.campoOferta[_ngcontent-%COMP%]{width:30rem}@media (max-width: 530px){.campoOferta[_ngcontent-%COMP%]{width:100%}}@media (max-width: 600px){.datoLote[_ngcontent-%COMP%]{font-size:smaller}}.icerrar[_ngcontent-%COMP%]{color:var(--amarello)}.icerrar[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--blue)}.borderAbajo[_ngcontent-%COMP%]{border-bottom:1px solid rgb(48,131,220,.2)}.marginCerrar[_ngcontent-%COMP%]{margin-right:5rem}@media (max-width: 1000px){.marginCerrar[_ngcontent-%COMP%]{margin-right:2rem}}.h1btn[_ngcontent-%COMP%]:hover{color:var(--amarello);cursor:pointer}.h1btn2[_ngcontent-%COMP%]{color:var(--amarello);text-decoration:underline}.none2[_ngcontent-%COMP%]{transform:scale3d(1,0,1);visibility:hidden;opacity:0}.campoUser[_ngcontent-%COMP%]{display:flex}@media (max-width: 650px){.campoUser[_ngcontent-%COMP%]{flex-wrap:wrap}.campoUser[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important}}"]})}return n})();var rwe=(n,e)=>({h1btn2:n,h1btn:e}),owe=(n,e)=>({h1btn:n,h1btn2:e}),t6=n=>({oculto:n}),ZU=(n,e)=>({rojo:n,verde:e}),n6=n=>({"background-color":n});function swe(n,e){n&1&&(O(0,"h2",49),Ce(1,"i",50),U(2," Cargando"),A())}function awe(n,e){n&1&&(O(0,"h2"),U(1,"Error al cargar lotes"),A())}function lwe(n,e){n&1&&(O(0,"h2"),U(1,"No hay lotes para mostrar"),A())}function cwe(n,e){if(n&1){let t=Ut();O(0,"div",51)(1,"div",30),U(2),A(),O(3,"div",31),Ce(4,"i",52),U(5),A(),O(6,"div",30),U(7),A(),O(8,"div",32),U(9),A(),O(10,"div",32),U(11),A(),O(12,"div",33),U(13),A(),O(14,"div",33),U(15),A(),O(16,"div",32),U(17),A(),O(18,"div",32),U(19),A(),O(20,"div",33),U(21),A(),O(22,"div",53)(23,"i",54),ve("click",function(){let r=Pe(t).$implicit,o=Re(2);return De(o.verLote(r.uuid,1))}),A(),O(24,"i",55),ve("click",function(){let r=Pe(t).$implicit,o=Re(2);return De(o.verLote(r.uuid,2))}),A(),O(25,"i",56),ve("click",function(){let r=Pe(t).$implicit,o=Re(2);return De(o.duplicar(r._id,r.titulo))}),A(),O(26,"i",57),ve("click",function(){let r=Pe(t).$implicit,o=Re(2);return De(o.eliminar(r.uuid,r.titulo,r.disponible))}),A()()()}if(n&2){let t=e.$implicit;ee(2),et(t.uuid),ee(2),fe("ngClass",dn(12,ZU,!t.disponible,t.disponible)),ee(),et(t.titulo),ee(2),et(t.evento?t.evento.uuid_evento:"-"),ee(2),Ai("",t.moneda," ",t.precio_base,""),ee(2),et(t.precio_salida!="null"&&t.precio_salida!=""?t.moneda+" "+t.precio_salida:"-"),ee(2),et(t.visitas),ee(2),et(t.ofertas.total[0]?t.ofertas.total[0].count:"-"),ee(2),et(t.precio_ganador?t.moneda+" "+t.precio_ganador:"-"),ee(2),et(t.oferta?t.moneda+" "+t.oferta.cantidad:"-"),ee(2),et(t.estado==1?"Abierto":t.estado==2?"Finalizado":"-")}}function uwe(n,e){if(n&1){let t=Ut();O(0,"div",28)(1,"div",29)(2,"div",30),U(3,"ID"),A(),O(4,"div",31),U(5,"Titulo"),A(),O(6,"div",30),U(7,"ID Evento"),A(),O(8,"div",32),U(9,"Monto arranque"),A(),O(10,"div",32),U(11,"Precio salida"),A(),O(12,"div",33),U(13,"Visitas"),A(),O(14,"div",33),U(15,"Ofertas"),A(),O(16,"div",32),U(17,"Oferta ganadora"),A(),O(18,"div",32),U(19,"Oferta actual"),A(),O(20,"div",33),U(21,"Estado"),A(),O(22,"div",34)(23,"div",35)(24,"select",36),Je("ngModelChange",function(r){Pe(t);let o=Re();return Qe(o.ordenar,r)||(o.ordenar=r),De(r)}),ve("change",function(){Pe(t);let r=Re();return De(r.cargarLotes())}),O(25,"option",37),U(26,"Ordenar"),A(),O(27,"option",38),U(28,"Titulo"),A(),O(29,"option",17),U(30,"Monto arranque"),A(),O(31,"option",18),U(32,"Precio salida"),A(),O(33,"option",39),U(34,"Disponibilidad"),A(),O(35,"option",40),U(36,"Visitas"),A(),O(37,"option",41),U(38,"Ofertas"),A(),O(39,"option",42),U(40,"Default"),A()(),Ce(41,"span",11),A(),O(42,"div",43)(43,"select",36),Je("ngModelChange",function(r){Pe(t);let o=Re();return Qe(o.orden,r)||(o.orden=r),De(r)}),ve("change",function(){Pe(t);let r=Re();return De(r.cargarLotes())}),O(44,"option",44),U(45,"Asc."),A(),O(46,"option",45),U(47,"Desc."),A()(),Ce(48,"span",11),A()()(),_t(49,swe,3,0,"h2",46)(50,awe,2,0,"h2",47)(51,lwe,2,0,"h2",47)(52,cwe,27,15,"div",48),A()}if(n&2){let t=Re();ee(24),Xe("ngModel",t.ordenar),ee(19),Xe("ngModel",t.orden),ee(6),fe("ngIf",!t.error&&t.total==-1),ee(),fe("ngIf",t.error),ee(),fe("ngIf",t.total==0),ee(),fe("ngForOf",t.Lotes)}}function dwe(n,e){n&1&&(O(0,"h2",49),Ce(1,"i",50),U(2," Cargando"),A())}function hwe(n,e){n&1&&(O(0,"h2"),U(1,"Error al cargar lotes"),A())}function fwe(n,e){n&1&&(O(0,"h2"),U(1,"No hay lotes para mostrar"),A())}function mwe(n,e){if(n&1){let t=Ut();O(0,"div",51)(1,"div",30),U(2),A(),O(3,"div",31),Ce(4,"i",52),U(5),A(),O(6,"div",30),U(7),A(),O(8,"div",58),U(9),A(),O(10,"div",32),U(11),A(),O(12,"div",33),U(13),A(),O(14,"div",53)(15,"i",59),ve("click",function(){let r=Pe(t).$implicit,o=Re(2);return De(o.setStatus(r.uuid,"Adjudicado"))}),O(16,"span",60),U(17,"Adjudicar"),A()(),O(18,"i",61),ve("click",function(){let r=Pe(t).$implicit,o=Re(2);return De(o.setStatus(r.uuid,"No adjudicado"))}),O(19,"span",60),U(20,"No adjudicar"),A()(),O(21,"i",62),ve("click",function(){let r=Pe(t).$implicit,o=Re(2);return De(o.setStatus(r.uuid,"En analisis"))}),O(22,"span",60),U(23,"En analisis"),A()()()()}if(n&2){let t=e.$implicit;ee(2),et(t.uuid),ee(2),fe("ngClass",dn(10,ZU,!t.disponible,t.disponible)),ee(),et(t.titulo),ee(2),et(t.evento?t.evento.uuid_evento:"-"),ee(2),et(t.ganador),ee(2),et(t.precio_ganador?t.moneda+" "+t.precio_ganador:"-"),ee(2),et(t.estado==1?"Abierto":t.estado==2?"Finalizado":"-"),ee(2),fe("ngStyle",ht(13,n6,t.adjudicacion=="Adjudicado"?"greenyellow":"none")),ee(3),fe("ngStyle",ht(15,n6,t.adjudicacion=="No adjudicado"?"greenyellow":"none")),ee(3),fe("ngStyle",ht(17,n6,t.adjudicacion=="En analisis"?"greenyellow":"none"))}}function pwe(n,e){if(n&1){let t=Ut();O(0,"div",28)(1,"div",29)(2,"div",30),U(3,"ID"),A(),O(4,"div",31),U(5,"Titulo"),A(),O(6,"div",30),U(7,"ID Evento"),A(),O(8,"div",58),U(9,"Ganador"),A(),O(10,"div",32),U(11,"Oferta ganadora"),A(),O(12,"div",33),U(13,"Estado"),A(),O(14,"div",34)(15,"div",35)(16,"select",36),Je("ngModelChange",function(r){Pe(t);let o=Re();return Qe(o.ordenar,r)||(o.ordenar=r),De(r)}),ve("change",function(){Pe(t);let r=Re();return De(r.cargarLotes())}),O(17,"option",37),U(18,"Ordenar"),A(),O(19,"option",38),U(20,"Titulo"),A(),O(21,"option",40),U(22,"Visitas"),A(),O(23,"option",41),U(24,"Ofertas"),A(),O(25,"option",42),U(26,"Default"),A()(),Ce(27,"span",11),A(),O(28,"div",43)(29,"select",36),Je("ngModelChange",function(r){Pe(t);let o=Re();return Qe(o.orden,r)||(o.orden=r),De(r)}),ve("change",function(){Pe(t);let r=Re();return De(r.cargarLotes())}),O(30,"option",44),U(31,"Asc."),A(),O(32,"option",45),U(33,"Desc."),A()(),Ce(34,"span",11),A()()(),_t(35,dwe,3,0,"h2",46)(36,hwe,2,0,"h2",47)(37,fwe,2,0,"h2",47)(38,mwe,24,19,"div",48),A()}if(n&2){let t=Re();ee(16),Xe("ngModel",t.ordenar),ee(13),Xe("ngModel",t.orden),ee(6),fe("ngIf",!t.error&&t.total==-1),ee(),fe("ngIf",t.error),ee(),fe("ngIf",t.total==0),ee(),fe("ngForOf",t.Lotes)}}var YU=(()=>{class n{api;crear=!1;ver=!1;editar=!1;error=!1;Lotes=[];total=-1;pagina=0;ordenar="_id";orden="1";loteModal=[];verComp;editComp;datoBuscar="";tipoBuscar="titulo";pagU=0;tabla=!1;constructor(t){this.api=t}ngOnInit(){this.cargarLotes()}handleMessage(t,i){switch(i){case"crear":this.crear=t,this.error=!1,this.cargarLotes();break;case"ver":this.ver=t,this.loteModal=[];break;case"editar":this.editar=t,this.loteModal=[],this.cargarLotes();break}}cargarLotes(){let t={token:localStorage.getItem("token"),tipo:1};this.api.cargarLotes(t,this.pagina*20,this.ordenar,this.orden,!1,this.tabla).subscribe({next:i=>{i.ok?(this.Lotes=i.lotes,this.total=i.lotes.length,this.pagU=Math.ceil(this.total/20)):this.error=!0},error:i=>{this.error=!0,ss.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}verLote(t,i){i==1&&(this.ver=!this.ver),i==2&&(this.editar=!this.editar),this.loteModal=[];let r={uuid:t,token:localStorage.getItem("token"),tipo:1};this.api.cargarLote(r).subscribe({next:o=>{this.loteModal=o.lote[0],i==1&&this.verComp.cargarImagenes(o.lote[0].img),i==2&&this.editComp.cargarImagenes(o.lote[0].img)},error:o=>{ss.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}eliminar(t,i,r){r?ss.default.fire({title:"Esta por borrar un lote",text:'\xBFDesea borrar el lote: "'+i+'"?',showCancelButton:!0,confirmButtonText:"Borrar",confirmButtonColor:"red",cancelButtonText:"Atras"}).then(o=>{if(o.isConfirmed){let s={uuid:t,token:localStorage.getItem("token"),tipo:1};this.api.borrarLote(s).subscribe({next:a=>{a.ok&&ss.default.fire({title:"Lote eliminado con exito",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),a.ok||ss.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),this.cargarLotes()},error:a=>{ss.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}}):ss.default.fire({title:"Para eliminar el lote debe desvincularlo de su evento",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}buscarDato(){let t={token:localStorage.getItem("token"),tipo:1,dato:this.datoBuscar,datoTipo:this.tipoBuscar,datoTipoUser:"lote"};this.api.buscarDato(t).subscribe({next:i=>{if(i.ok)if(i.busqueda.length>0)if(this.tipoBuscar=="uuid_evento"){let r=[];for(let o=0;o<i.busqueda.length;o++)r[o]=i.busqueda[o].lote,r[o].evento={uuid_evento:i.busqueda[o].uuid_evento};this.Lotes=r}else this.Lotes=i.busqueda;else ss.default.fire({title:"No se encontro ningun resultado",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"});else ss.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})},error:i=>{ss.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}principio(){this.pagina=0,this.cargarLotes()}atras(){this.pagina>0&&(this.pagina--,this.cargarLotes())}siguiente(){this.pagina<this.pagU-1&&(this.pagina++,this.cargarLotes())}final(){this.pagina=this.pagU-1,this.cargarLotes()}duplicar(t,i){ss.default.fire({title:"Esta por duplicar un lote",text:'\xBFDesea duplicar el lote: "'+i+'"?',showCancelButton:!0,confirmButtonText:"Duplicar",confirmButtonColor:"#ff9000",cancelButtonText:"Atras"}).then(r=>{if(r.isConfirmed){let o={id:t,token:localStorage.getItem("token"),tipo:1};this.api.duplicarLote(o).subscribe({next:s=>{s.ok&&ss.default.fire({title:"Lote duplicado con exito",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),s.ok||ss.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),this.cargarLotes()},error:s=>{ss.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}})}cambiarTabla(t){console.log(this.tabla),this.tabla=t,this.total=-1,this.error=!1,this.Lotes=[],this.cargarLotes()}setStatus(t,i){let r={lote:t,token:localStorage.getItem("token"),tipo:1,status:i};this.api.setStatus(r).subscribe({next:o=>{o.ok&&ss.default.fire({title:"Estatus cambiado con exito",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),o.ok||ss.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),this.cargarLotes()},error:o=>{ss.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}static \u0275fac=function(i){return new(i||n)(ze(Xi))};static \u0275cmp=Lt({type:n,selectors:[["app-lotes"]],viewQuery:function(i,r){if(i&1&&(sr(F0,5),sr(e6,5)),i&2){let o;Gi(o=Ki())&&(r.verComp=o.first),Gi(o=Ki())&&(r.editComp=o.first)}},standalone:!0,features:[Ht],decls:52,vars:26,consts:[[1,"borderAzul","margin5","rounded","datoLote",2,"display","flex","flex-direction","column","align-items","center"],[2,"display","flex","width","100%","justify-content","space-between","align-items","center"],[2,"display","flex"],[3,"click","ngClass"],[2,"margin-left","3%","margin-right","3%"],[1,"boton","boton2","border","rounded","botones",3,"click"],[2,"border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%"],[2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%","align-items","center","border-right","none"],[1,"celda",2,"border-right","none","display","flex","width","100%"],[1,"col-3",2,"width","27.2%","border-right","1px solid rgb(48, 131, 220, 0.2)"],["type","text","placeholder","Ingrese un dato para buscar",1,"effect-1",2,"height","2rem","width","100%",3,"ngModelChange","ngModel"],[1,"focus-border2"],[1,"col-3",2,"width","7rem"],[1,"effect-1",2,"width","100%","height","2rem",3,"ngModelChange","ngModel"],["value","titulo","selected",""],["value","uuid"],["value","uuid_evento"],["value","precio_base"],["value","precio_salida"],["value","ganador"],[1,"border","rounded","boton","boton2","paginacion",2,"border-top-left-radius","0","border-bottom-left-radius","0",3,"click"],["style","width: 100%;",4,"ngIf"],[2,"font-family","Avenir","margin-top","2%","display","flex","justify-content","flex-end","width","100%","align-items","center"],[2,"margin-right","2%","margin-left","2%"],[1,"border","rounded","boton","boton2","paginacion",2,"border-top-right-radius","0","border-bottom-right-radius","0",3,"click"],[1,"border","rounded","boton","boton2","paginacion",2,"border-top-right-radius","0","border-bottom-right-radius","0","border-top-left-radius","0","border-bottom-left-radius","0",3,"click"],[3,"messageEvent","ngClass"],[3,"messageEvent","ngClass","lote"],[2,"width","100%"],[2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%","align-items","center"],[1,"celda",2,"width","17rem"],[1,"celda",2,"width","20%"],[1,"celda","username",2,"width","10%"],[1,"celda","username",2,"width","5%"],[1,"celda",2,"border-right","none","display","flex","width","20%","justify-content","flex-end"],[1,"col-3",2,"width","60%"],[1,"effect-1",2,"width","100%","height","2rem",3,"ngModelChange","change","ngModel"],["value","_id","selected","","hidden",""],["value","titulo"],["value","disponible"],["value","visitas"],["value","ofertas"],["value","_id"],[1,"col-3",2,"width","40%"],["value","1","selected",""],["value","-1"],["class","load",4,"ngIf"],[4,"ngIf"],["class","linea","style","display: flex; border-bottom: 1px solid rgb(48, 131, 220, 0.2); width: 100%;",4,"ngFor","ngForOf"],[1,"load"],[1,"fa-solid","fa-spinner","ispinner",2,"font-size","3rem"],[1,"linea",2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%"],[1,"fa-solid","fa-circle",3,"ngClass"],[1,"celda",2,"border-right","none","display","flex","justify-content","flex-end","font-size","medium","padding-top","0.5%","padding-bottom","0.5%","width","20%"],[1,"fa-regular","fa-eye","boton2","border","rounded","ibtn",3,"click"],[1,"fa-solid","fa-pen-to-square","boton2","border","rounded","ibtn",3,"click"],[1,"fa-solid","fa-copy","boton2","border","rounded","ibtn",3,"click"],[1,"fa-solid","fa-trash-can","boton2","border","rounded","ibtn",3,"click"],[1,"celda","username",2,"width","25%"],[1,"fa-solid","fa-gavel","boton2","border","rounded","ibtn","tooltip",3,"click","ngStyle"],[1,"tooltiptext","glassTrue","rounded","border"],[1,"fa-solid","fa-ban","boton2","border","rounded","ibtn","tooltip",3,"click","ngStyle"],[1,"fa-solid","fa-pause","boton2","border","rounded","ibtn","tooltip",3,"click","ngStyle"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),ve("click",function(){return r.cambiarTabla(!1)}),U(4,"Lotes"),A(),O(5,"h1",4),U(6,"/"),A(),O(7,"h1",3),ve("click",function(){return r.cambiarTabla(!0)}),U(8,"Adjudicados"),A()(),O(9,"div")(10,"button",5),ve("click",function(){return r.crear=!r.crear}),U(11,"Crear lote"),A()()(),Ce(12,"div",6),O(13,"div",7)(14,"div",8)(15,"div",9)(16,"input",10),Je("ngModelChange",function(s){return Qe(r.datoBuscar,s)||(r.datoBuscar=s),s}),A(),Ce(17,"span",11),A(),O(18,"div",12)(19,"select",13),Je("ngModelChange",function(s){return Qe(r.tipoBuscar,s)||(r.tipoBuscar=s),s}),O(20,"option",14),U(21,"Titulo"),A(),O(22,"option",15),U(23,"ID"),A(),O(24,"option",16),U(25,"ID Evento"),A(),O(26,"option",17),U(27,"Monto arranque"),A(),O(28,"option",18),U(29,"Precio salida"),A(),O(30,"option",19),U(31,"Ganador"),A()(),Ce(32,"span",11),A(),O(33,"button",20),ve("click",function(){return r.buscarDato()}),U(34,"Buscar"),A()()(),_t(35,uwe,53,6,"div",21)(36,pwe,39,6,"div",21),O(37,"div",22),U(38),O(39,"div",23)(40,"button",24),ve("click",function(){return r.principio()}),U(41,"Principio"),A(),O(42,"button",25),ve("click",function(){return r.atras()}),U(43,"Atras"),A(),O(44,"button",25),ve("click",function(){return r.siguiente()}),U(45,"Siguiente"),A(),O(46,"button",20),ve("click",function(){return r.final()}),U(47,"Final"),A()(),U(48),A()(),O(49,"app-crear-lote",26),ve("messageEvent",function(s){return r.handleMessage(s,"crear")}),A(),O(50,"app-ver-lote",27),ve("messageEvent",function(s){return r.handleMessage(s,"ver")}),A(),O(51,"app-editar-lote",27),ve("messageEvent",function(s){return r.handleMessage(s,"editar")}),A()),i&2&&(ee(3),fe("ngClass",dn(14,rwe,!r.tabla,r.tabla)),ee(4),fe("ngClass",dn(17,owe,!r.tabla,r.tabla)),ee(9),Xe("ngModel",r.datoBuscar),ee(3),Xe("ngModel",r.tipoBuscar),ee(16),fe("ngIf",!r.tabla),ee(),fe("ngIf",r.tabla),ee(2),Ai(" Pagina ",r.pagina+1," de ",r.pagU," "),ee(10),Ct(" Lotes totales: ",r.total," "),ee(),fe("ngClass",ht(20,t6,!r.crear)),ee(),fe("ngClass",ht(22,t6,!r.ver))("lote",r.loteModal),ee(),fe("ngClass",ht(24,t6,!r.editar))("lote",r.loteModal))},dependencies:[sn,Zn,Ti,Rn,Bp,sU,F0,Hn,Cr,kr,mi,ar,oi,ti,e6],styles:[".celda[_ngcontent-%COMP%]{border-right:1px solid rgb(48,131,220,.2);border-color:#3083dc33!important;width:16%;padding:1%;font-family:Avenir}.celda[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:2%}.linea[_ngcontent-%COMP%]{transition:all .5s linear}.linea[_ngcontent-%COMP%]:hover{background-color:#ff900033}.load[_ngcontent-%COMP%]{display:flex;align-items:center;width:20%;justify-content:space-around}.paginacion[_ngcontent-%COMP%]{height:2rem;width:6rem;font-size:medium}@media (max-width: 650px){.paginacion[_ngcontent-%COMP%]{width:3.5rem}}.paginacionof[_ngcontent-%COMP%]{height:2rem;width:8rem;font-size:medium}@media (max-width: 650px){.paginacionof[_ngcontent-%COMP%]{width:3.5rem}}.ibtn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:2rem}.ibtn[_ngcontent-%COMP%]:hover{cursor:pointer}.tooltip[_ngcontent-%COMP%]{position:relative}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;padding:.25em .5em;color:#fff;text-align:center;white-space:nowrap;position:absolute;z-index:1;top:-60%;left:-30%;transition-property:visibility;transition-delay:0s;font-family:avenir}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;transition-delay:.3s}.modal[_ngcontent-%COMP%]{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:7% auto;margin-top:7rem;padding:1%;border:1px solid var(--amarello);width:80%}@media (max-width: 1000px){.modal-content[_ngcontent-%COMP%]{width:97.5%!important}}.campoOferta[_ngcontent-%COMP%]{width:30rem}@media (max-width: 530px){.campoOferta[_ngcontent-%COMP%]{width:100%}}@media (max-width: 600px){.datoLote[_ngcontent-%COMP%]{font-size:smaller}}.icerrar[_ngcontent-%COMP%]{color:var(--amarello)}.icerrar[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--blue)}.borderAbajo[_ngcontent-%COMP%]{border-bottom:1px solid rgb(48,131,220,.2)}.marginCerrar[_ngcontent-%COMP%]{margin-right:5rem}@media (max-width: 1000px){.marginCerrar[_ngcontent-%COMP%]{margin-right:2rem}}.h1btn[_ngcontent-%COMP%]:hover{color:var(--amarello);cursor:pointer}.h1btn2[_ngcontent-%COMP%]{color:var(--amarello);text-decoration:underline}.none2[_ngcontent-%COMP%]{transform:scale3d(1,0,1);visibility:hidden;opacity:0}.campoUser[_ngcontent-%COMP%]{display:flex}@media (max-width: 650px){.campoUser[_ngcontent-%COMP%]{flex-wrap:wrap}.campoUser[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important}}"]})}return n})();var fd=Qr(Eo());var B0=Qr(Eo());var gwe=["imagen"],bwe=["pdfTC"],SC=(n,e)=>({"fa-circle-check verde":n,"fa-circle-xmark rojo":e});function vwe(n,e){if(n&1&&Ce(0,"embed",41),n&2){let t=Re();fe("src",t.pdf,gl)}}var XU=(()=>{class n{api;sanitizer;messageEvent=new tn;datos=["","Autos y motos","","","Subasta",!0,!0,"00:00","00:00",120,!1,!1,!1,"general",[]];alertas=["","","","","","","",""];img=[];sources="";inputImagen;pdf=null;inputPDF;constructor(t,i){this.api=t,this.sanitizer=i}cerrarModal(){this.datos=["","Autos y motos","","","Subasta",!0,!0,"00:00","00:00",120,!1,!1,!1,"general",[]],this.alertas=["","","","","","",""],this.inputImagen.nativeElement.value="",this.img=[],this.sources="",this.pdf=null,this.inputPDF.nativeElement.value="",this.messageEvent.emit(!1)}crearEvento(){let t=!0;for(let i=0;i<this.datos.length;i++)i!=14&&this.datos[i]===""&&(t=!1),this.alertas[i]=this.datos[i]===""?"Campo obligatorio":"";if((this.img==null||this.img.length==0||this.datos[14].length==0)&&(t=!1),this.alertas[7]=this.img==null||this.img.length==0?"Campo obligatorio":"",this.alertas[8]=this.datos[14].length==0?"Campo obligatorio":"",t){let i={nombre:this.datos[0],categoria:this.datos[1],fecha_inicio:this.datos[2],fecha_cierre:this.datos[3],hora_inicio:this.datos[7],hora_cierre:this.datos[8],segundos_cierre:this.datos[9],modalidad:this.datos[4],publicar_cierre:this.datos[5],inicio_automatico:this.datos[6],mostrar_precio:this.datos[10],mostrar_ganadores:this.datos[11],mostrar_ofertas:this.datos[12],grupo:this.datos[13],token:localStorage.getItem("token"),tipo:"1"};this.api.crearEvento(i).subscribe({next:r=>{if(r.ok){let o=new FormData;o.append("uuid",r.uuid),o.append("img",this.img[0]),o.append("pdf",this.datos[14][0]),o.append("caso","nuevo"),o.append("token",localStorage.getItem("token")),o.append("tipo","1"),this.api.imagenEvento(o).then(s=>{s.ok?B0.default.fire({title:"Evento creado con exito",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}):B0.default.fire({title:"Error en la carga de imagen",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),this.cerrarModal()},s=>{B0.default.fire({title:"Error en la carga de imagen",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),this.cerrarModal()})}else B0.default.fire({title:r.msg,confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})},error:r=>{B0.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),this.cerrarModal()}})}}showImg(t){this.sources="",this.img=null;let i=t.currentTarget;this.img=i.files;let r=new FileReader;r.readAsDataURL(i.files[0]),r.onloadend=()=>{this.sources=r.result}}transform(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)}showPDF(t){this.pdf=null,this.datos[14]=[];let i=t.currentTarget;i.files?.length!=null&&i.files?.length>0&&(this.pdf=this.transform(URL.createObjectURL(i.files[0])),this.datos[14]=i.files)}static \u0275fac=function(i){return new(i||n)(ze(Xi),ze(Oo))};static \u0275cmp=Lt({type:n,selectors:[["app-crear-evento"]],viewQuery:function(i,r){if(i&1&&(sr(gwe,5),sr(bwe,5)),i&2){let o;Gi(o=Ki())&&(r.inputImagen=o.first),Gi(o=Ki())&&(r.inputPDF=o.first)}},outputs:{messageEvent:"messageEvent"},standalone:!0,features:[Ht],decls:128,vars:36,consts:[["pdfTC",""],["imagen",""],["id","myModal",1,"modal",2,"overflow","auto"],[1,"modal-content",2,"width","50%"],[2,"display","flex","justify-content","flex-end","font-size","x-large"],[1,"fa-solid","fa-xmark","icerrar",3,"click"],[1,"msg"],[1,"col-3",2,"display","flex","flex-direction","column","margin-bottom","2%"],["type","text","placeholder","Nombre de la publicacion",1,"effect-1",2,"height","2.5rem",3,"ngModelChange","ngModel"],[1,"focus-border2"],[1,"effect-1",2,"width","100%","height","2.5rem",3,"ngModelChange","ngModel"],["value","Autos y motos","selected",""],["value","Movimiento y transporte"],["value","Maquinas y equipos"],["value","Rezagos"],["value","Inmuebles"],["value","Varios"],["type","date","placeholder","Fecha de inicio",1,"effect-1",2,"height","2.5rem",3,"ngModelChange","ngModel"],["type","time","placeholder","Hora de inicio",1,"effect-1",2,"height","2.5rem",3,"ngModelChange","ngModel"],["type","date","placeholder","Fecha de cierre",1,"effect-1",2,"height","2.5rem",3,"ngModelChange","ngModel"],["type","time","placeholder","Hora de cierre",1,"effect-1",2,"height","2.5rem",3,"ngModelChange","ngModel"],["type","number","min","30","placeholder","Segundos entre cierras",1,"effect-1",2,"height","2.5rem",3,"ngModelChange","ngModel"],["value","Subasta","selected",""],["value","Remate"],["value","general","selected",""],["value","chocado"],["value","desarmadero"],["value","otro"],["value","true","selected",""],["value","false"],[1,"col-3",2,"display","flex","flex-direction","row","margin-bottom","2%","text-align","center"],[1,"fa-solid",2,"font-size","larger","margin-right","1%","cursor","pointer",3,"click","ngClass"],[1,"border","rounded","glass","colorWhite",2,"width","100%","margin-bottom","2%"],[2,"margin","1.5%","display","block","font-family","Avenir"],["width","100%","height","450px","type","application/pdf",3,"src",4,"ngIf"],["type","file","name","pdfTC","id","pdfTC","accept",".pdf,",3,"change"],[2,"margin-top","2%","text-align","center"],["alt","",2,"width","100px",3,"src"],["type","file","name","imagen","id","imagen","accept","image/*,",2,"margin-bottom","2%",3,"change"],[2,"display","flex","justify-content","flex-end"],[1,"border","rounded","boton","boton2","botones",3,"click"],["width","100%","height","450px","type","application/pdf",3,"src"]],template:function(i,r){if(i&1){let o=Ut();O(0,"div",2)(1,"div",3)(2,"div",4)(3,"i",5),ve("click",function(){return Pe(o),De(r.cerrarModal())}),A()(),O(4,"label"),U(5,"Nombre de la publicacion: "),A(),O(6,"span",6),U(7),A(),O(8,"div",7)(9,"input",8),Je("ngModelChange",function(a){return Pe(o),Qe(r.datos[0],a)||(r.datos[0]=a),De(a)}),A(),Ce(10,"span",9),A(),O(11,"label"),U(12,"Categoria: "),A(),O(13,"span",6),U(14),A(),O(15,"div",7)(16,"select",10),Je("ngModelChange",function(a){return Pe(o),Qe(r.datos[1],a)||(r.datos[1]=a),De(a)}),O(17,"option",11),U(18,"Autos y motos"),A(),O(19,"option",12),U(20,"Movimiento y transporte"),A(),O(21,"option",13),U(22,"Maquinas y equipos"),A(),O(23,"option",14),U(24,"Rezagos"),A(),O(25,"option",15),U(26,"Inmuebles"),A(),O(27,"option",16),U(28,"Varios"),A()(),Ce(29,"span",9),A(),O(30,"label"),U(31,"Fecha de inicio: "),A(),O(32,"span",6),U(33),A(),O(34,"div",7)(35,"input",17),Je("ngModelChange",function(a){return Pe(o),Qe(r.datos[2],a)||(r.datos[2]=a),De(a)}),A(),Ce(36,"span",9),A(),O(37,"label"),U(38,"Hora de inicio: "),A(),O(39,"div",7)(40,"input",18),Je("ngModelChange",function(a){return Pe(o),Qe(r.datos[7],a)||(r.datos[7]=a),De(a)}),A(),Ce(41,"span",9),A(),O(42,"label"),U(43,"Fecha de cierre: "),A(),O(44,"span",6),U(45),A(),O(46,"div",7)(47,"input",19),Je("ngModelChange",function(a){return Pe(o),Qe(r.datos[3],a)||(r.datos[3]=a),De(a)}),A(),Ce(48,"span",9),A(),O(49,"label"),U(50,"Hora de cierre: "),A(),O(51,"div",7)(52,"input",20),Je("ngModelChange",function(a){return Pe(o),Qe(r.datos[8],a)||(r.datos[8]=a),De(a)}),A(),Ce(53,"span",9),A(),O(54,"label"),U(55,"Segundos entre cierres: "),A(),O(56,"div",7)(57,"input",21),Je("ngModelChange",function(a){return Pe(o),Qe(r.datos[9],a)||(r.datos[9]=a),De(a)}),A(),Ce(58,"span",9),A(),O(59,"label"),U(60,"Modalidad: "),A(),O(61,"span",6),U(62),A(),O(63,"div",7)(64,"select",10),Je("ngModelChange",function(a){return Pe(o),Qe(r.datos[4],a)||(r.datos[4]=a),De(a)}),O(65,"option",22),U(66,"Subasta"),A(),O(67,"option",23),U(68,"Licitacion"),A()(),Ce(69,"span",9),A(),O(70,"label"),U(71,"Grupo: "),A(),O(72,"div",7)(73,"select",10),Je("ngModelChange",function(a){return Pe(o),Qe(r.datos[13],a)||(r.datos[13]=a),De(a)}),O(74,"option",24),U(75,"General"),A(),O(76,"option",25),U(77,"Chocado"),A(),O(78,"option",26),U(79,"Desarmadero"),A(),O(80,"option",27),U(81,"Otro"),A()(),Ce(82,"span",9),A(),O(83,"label"),U(84,"Publicar fecha de cierre: "),A(),O(85,"span",6),U(86),A(),O(87,"div",7)(88,"select",10),Je("ngModelChange",function(a){return Pe(o),Qe(r.datos[5],a)||(r.datos[5]=a),De(a)}),O(89,"option",28),U(90,"Si"),A(),O(91,"option",29),U(92,"No"),A()(),Ce(93,"span",9),A(),O(94,"div",30)(95,"i",31),ve("click",function(){return Pe(o),De(r.datos[6]=!r.datos[6])}),A(),U(96," Inicio automatico "),A(),O(97,"div",30)(98,"i",31),ve("click",function(){return Pe(o),De(r.datos[10]=!r.datos[10])}),A(),U(99," Mostrar precio "),A(),O(100,"div",30)(101,"i",31),ve("click",function(){return Pe(o),De(r.datos[11]=!r.datos[11])}),A(),U(102," Mostrar ganadores "),A(),O(103,"div",30)(104,"i",31),ve("click",function(){return Pe(o),De(r.datos[12]=!r.datos[12])}),A(),U(105," Mostrar ofertas "),A(),O(106,"label"),U(107,"Terminos y condiciones de la publicacion: "),A(),O(108,"span",6),U(109),A(),O(110,"div",32)(111,"span",33),U(112,"El archivo debe ser en formato PDF"),A()(),O(113,"div",7),_t(114,vwe,1,1,"embed",34),O(115,"input",35,0),ve("change",function(a){return Pe(o),De(r.showPDF(a))}),A()(),O(117,"label"),U(118,"Imagen de portada: "),A(),O(119,"span",6),U(120),A(),O(121,"div",36),Ce(122,"img",37),A(),O(123,"input",38,1),ve("change",function(a){return Pe(o),De(r.showImg(a))}),A(),O(125,"div",39)(126,"button",40),ve("click",function(){return Pe(o),De(r.crearEvento())}),U(127,"Crear Publicacion"),A()()()()}i&2&&(ee(7),Ct("*",r.alertas[0],""),ee(2),Xe("ngModel",r.datos[0]),ee(5),et(r.alertas[1]),ee(2),Xe("ngModel",r.datos[1]),ee(17),Ct("*",r.alertas[2],""),ee(2),Xe("ngModel",r.datos[2]),ee(5),Xe("ngModel",r.datos[7]),ee(5),Ct("*",r.alertas[3],""),ee(2),Xe("ngModel",r.datos[3]),ee(5),Xe("ngModel",r.datos[8]),ee(5),Xe("ngModel",r.datos[9]),ee(5),et(r.alertas[4]),ee(2),Xe("ngModel",r.datos[4]),ee(9),Xe("ngModel",r.datos[13]),ee(13),et(r.alertas[5]),ee(2),Xe("ngModel",r.datos[5]),ee(7),fe("ngClass",dn(24,SC,r.datos[6],!r.datos[6])),ee(3),fe("ngClass",dn(27,SC,r.datos[10],!r.datos[10])),ee(3),fe("ngClass",dn(30,SC,r.datos[11],!r.datos[11])),ee(3),fe("ngClass",dn(33,SC,r.datos[12],!r.datos[12])),ee(5),Ct("*",r.alertas[8],""),ee(5),fe("ngIf",r.pdf!=null),ee(6),Ct("*",r.alertas[7],""),ee(2),In("src",r.sources,Rr))},dependencies:[Hn,Cr,kr,mi,tc,ar,oi,I1,ti,sn,Zn,Rn],styles:[".celda[_ngcontent-%COMP%]{border-right:1px solid rgb(48,131,220,.2);border-color:#3083dc33!important;width:16%;padding:1%;font-family:Avenir}.celda[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:2%}.linea[_ngcontent-%COMP%]{transition:all .5s linear}.linea[_ngcontent-%COMP%]:hover{background-color:#ff900033}.load[_ngcontent-%COMP%]{display:flex;align-items:center;width:20%;justify-content:space-around}.paginacion[_ngcontent-%COMP%]{height:2rem;width:6rem;font-size:medium}@media (max-width: 650px){.paginacion[_ngcontent-%COMP%]{width:3.5rem}}.paginacionof[_ngcontent-%COMP%]{height:2rem;width:8rem;font-size:medium}@media (max-width: 650px){.paginacionof[_ngcontent-%COMP%]{width:3.5rem}}.ibtn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:2rem}.ibtn[_ngcontent-%COMP%]:hover{cursor:pointer}.tooltip[_ngcontent-%COMP%]{position:relative}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;padding:.25em .5em;color:#fff;text-align:center;white-space:nowrap;position:absolute;z-index:1;top:-60%;left:-30%;transition-property:visibility;transition-delay:0s;font-family:avenir}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;transition-delay:.3s}.modal[_ngcontent-%COMP%]{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:7% auto;margin-top:7rem;padding:1%;border:1px solid var(--amarello);width:80%}@media (max-width: 1000px){.modal-content[_ngcontent-%COMP%]{width:97.5%!important}}.campoOferta[_ngcontent-%COMP%]{width:30rem}@media (max-width: 530px){.campoOferta[_ngcontent-%COMP%]{width:100%}}@media (max-width: 600px){.datoLote[_ngcontent-%COMP%]{font-size:smaller}}.icerrar[_ngcontent-%COMP%]{color:var(--amarello)}.icerrar[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--blue)}.borderAbajo[_ngcontent-%COMP%]{border-bottom:1px solid rgb(48,131,220,.2)}.marginCerrar[_ngcontent-%COMP%]{margin-right:5rem}@media (max-width: 1000px){.marginCerrar[_ngcontent-%COMP%]{margin-right:2rem}}.h1btn[_ngcontent-%COMP%]:hover{color:var(--amarello);cursor:pointer}.h1btn2[_ngcontent-%COMP%]{color:var(--amarello);text-decoration:underline}.none2[_ngcontent-%COMP%]{transform:scale3d(1,0,1);visibility:hidden;opacity:0}.campoUser[_ngcontent-%COMP%]{display:flex}@media (max-width: 650px){.campoUser[_ngcontent-%COMP%]{flex-wrap:wrap}.campoUser[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important}}"]})}return n})();var JU=Qr(Eo());var wwe=n=>({oculto:n}),ywe=(n,e)=>({"fa-plus":n,"fa-check":e});function _we(n,e){if(n&1){let t=Ut();O(0,"div",13)(1,"div",14),U(2),A(),O(3,"div",15),U(4),A(),O(5,"div",15),U(6),A(),O(7,"div",15),U(8),A(),O(9,"div",16)(10,"i",17),ve("click",function(){let r=Pe(t).$implicit,o=Re();return De(o.verLote(r.uuid))}),A(),O(11,"i",18),ve("click",function(){let r=Pe(t).index,o=Re();return De(o.Lotes[r].agregar=o.Lotes[r].agregar?!o.Lotes[r].agregar:!0)}),A()()()}if(n&2){let t=e.$implicit;ee(2),et(t.titulo),ee(2),Ai("",t.moneda," ",t.precio_base,""),ee(2),Ai("",t.moneda," ",t.incremento,""),ee(2),Ai("",t.moneda," ",t.precio_salida,""),ee(3),fe("ngClass",dn(8,ywe,!t.agregar,t.agregar))}}function xwe(n,e){n&1&&(O(0,"div",19)(1,"div",20),U(2,"No hay lotes para mostrar"),A()())}var i6=(()=>{class n{api;messageEvent=new tn;Lotes=[];ver=!1;loteModal=[];verComp;constructor(t){this.api=t}init(){this.cargarLotes()}handleMessage(t){this.ver=t,this.loteModal=[]}cerrarModal(t){let i=[];if(t)for(let r=0;r<this.Lotes.length;r++)this.Lotes[r].agregar&&i.push(this.Lotes[r].uuid);this.Lotes=[],this.messageEvent.emit({message:!1,lotes:i})}cargarLotes(){let t={token:localStorage.getItem("token"),tipo:1};this.api.cargarLotes(t,0,"_id","1",!0,!1).subscribe({next:i=>{i.ok&&(this.Lotes=i.lotes)},error:i=>{}})}verLote(t){this.ver=!this.ver,this.loteModal=[];let i={uuid:t,token:localStorage.getItem("token"),tipo:1};this.api.cargarLote(i).subscribe({next:r=>{this.loteModal=r.lote[0],this.verComp.cargarImagenes(r.lote[0].img)},error:r=>{JU.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}static \u0275fac=function(i){return new(i||n)(ze(Xi))};static \u0275cmp=Lt({type:n,selectors:[["app-lista-lotes"]],viewQuery:function(i,r){if(i&1&&sr(F0,5),i&2){let o;Gi(o=Ki())&&(r.verComp=o.first)}},outputs:{messageEvent:"messageEvent"},standalone:!0,features:[Ht],decls:22,vars:6,consts:[["id","myModal",1,"modal",2,"overflow","auto"],[1,"modal-content",2,"width","80%"],[2,"display","flex","justify-content","flex-end","font-size","x-large"],[1,"fa-solid","fa-xmark","icerrar",3,"click"],[2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%","align-items","center"],[1,"celda",2,"width","25%"],[1,"celda",2,"width","24%"],[1,"celda",2,"border-right","none","width","5rem"],["class","linea","style","display: flex; border-bottom: 1px solid rgb(48, 131, 220, 0.2); width: 100%;",4,"ngFor","ngForOf"],["class","linea","style","display: flex; border-bottom: 1px solid rgb(48, 131, 220, 0.2); width: 100%; text-align: center;",4,"ngIf"],[2,"display","flex","justify-content","flex-end","margin-top","2%"],[1,"border","rounded","boton","boton2","botones",3,"click"],[3,"messageEvent","ngClass","lote"],[1,"linea",2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%"],[1,"celda","username",2,"width","25%"],[1,"celda","username",2,"width","24%"],[1,"celda","username",2,"border-right","none","width","5rem","display","flex"],[1,"fa-solid","fa-eye","border","rounded","boton2","ibtn",2,"height","2rem","width","2rem",3,"click"],[1,"fa-solid","border","rounded","boton2","ibtn",2,"height","2rem","width","2rem",3,"click","ngClass"],[1,"linea",2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%","text-align","center"],[1,"celda","username",2,"width","100%","border-right","none"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"div",1)(2,"div",2)(3,"i",3),ve("click",function(){return r.cerrarModal(!1)}),A()(),O(4,"label"),U(5,"Lotes: "),A(),O(6,"div",4)(7,"div",5),U(8,"Titulo"),A(),O(9,"div",6),U(10,"Precio Base"),A(),O(11,"div",6),U(12,"Incremento"),A(),O(13,"div",6),U(14,"Precio salida"),A(),Ce(15,"div",7),A(),_t(16,_we,12,11,"div",8)(17,xwe,3,0,"div",9),O(18,"div",10)(19,"button",11),ve("click",function(){return r.cerrarModal(!0)}),U(20,"Actualizar"),A()()()(),O(21,"app-ver-lote",12),ve("messageEvent",function(s){return r.handleMessage(s)}),A()),i&2&&(ee(16),fe("ngForOf",r.Lotes),ee(),fe("ngIf",r.Lotes.length==0),ee(4),fe("ngClass",ht(4,wwe,!r.ver))("lote",r.loteModal))},dependencies:[sn,Zn,Ti,Rn,F0],styles:[".celda[_ngcontent-%COMP%]{border-right:1px solid rgb(48,131,220,.2);border-color:#3083dc33!important;width:16%;padding:1%;font-family:Avenir}.celda[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:2%}.linea[_ngcontent-%COMP%]{transition:all .5s linear}.linea[_ngcontent-%COMP%]:hover{background-color:#ff900033}.load[_ngcontent-%COMP%]{display:flex;align-items:center;width:20%;justify-content:space-around}.paginacion[_ngcontent-%COMP%]{height:2rem;width:6rem;font-size:medium}@media (max-width: 650px){.paginacion[_ngcontent-%COMP%]{width:3.5rem}}.paginacionof[_ngcontent-%COMP%]{height:2rem;width:8rem;font-size:medium}@media (max-width: 650px){.paginacionof[_ngcontent-%COMP%]{width:3.5rem}}.ibtn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:2rem}.ibtn[_ngcontent-%COMP%]:hover{cursor:pointer}.tooltip[_ngcontent-%COMP%]{position:relative}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;padding:.25em .5em;color:#fff;text-align:center;white-space:nowrap;position:absolute;z-index:1;top:-60%;left:-30%;transition-property:visibility;transition-delay:0s;font-family:avenir}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;transition-delay:.3s}.modal[_ngcontent-%COMP%]{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:7% auto;margin-top:7rem;padding:1%;border:1px solid var(--amarello);width:80%}@media (max-width: 1000px){.modal-content[_ngcontent-%COMP%]{width:97.5%!important}}.campoOferta[_ngcontent-%COMP%]{width:30rem}@media (max-width: 530px){.campoOferta[_ngcontent-%COMP%]{width:100%}}@media (max-width: 600px){.datoLote[_ngcontent-%COMP%]{font-size:smaller}}.icerrar[_ngcontent-%COMP%]{color:var(--amarello)}.icerrar[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--blue)}.borderAbajo[_ngcontent-%COMP%]{border-bottom:1px solid rgb(48,131,220,.2)}.marginCerrar[_ngcontent-%COMP%]{margin-right:5rem}@media (max-width: 1000px){.marginCerrar[_ngcontent-%COMP%]{margin-right:2rem}}.h1btn[_ngcontent-%COMP%]:hover{color:var(--amarello);cursor:pointer}.h1btn2[_ngcontent-%COMP%]{color:var(--amarello);text-decoration:underline}.none2[_ngcontent-%COMP%]{transform:scale3d(1,0,1);visibility:hidden;opacity:0}.campoUser[_ngcontent-%COMP%]{display:flex}@media (max-width: 650px){.campoUser[_ngcontent-%COMP%]{flex-wrap:wrap}.campoUser[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important}}"]})}return n})();var Vo=Qr(Eo());var Cwe=["imagen"],kwe=["pdfTC"],V0=n=>({changed:n}),j0=(n,e)=>({"fa-circle-check verde":n,"fa-circle-xmark rojo":e}),Ewe=n=>({oculto:n});function Swe(n,e){if(n&1&&Ce(0,"embed",46),n&2){let t=Re();fe("src",t.pdf,gl)}}function Awe(n,e){if(n&1&&Ce(0,"embed",47),n&2){let t=Re();fe("src",t.pdfNuevo,gl)}}function Twe(n,e){if(n&1){let t=Ut();O(0,"div",48)(1,"div",49),U(2),A(),O(3,"div",49),U(4),A(),O(5,"div",49),U(6),A(),O(7,"div",49),U(8),A(),O(9,"div",39)(10,"i",50),ve("click",function(){let r=Pe(t).$implicit,o=Re();return De(o.eliminar(r.uuid,r.titulo))}),A()()()}if(n&2){let t=e.$implicit;ee(2),et(t.titulo),ee(2),Ai("",t.moneda," ",t.precio_base,""),ee(2),Ai("",t.moneda," ",t.incremento,""),ee(2),et(t.precio_salida!="null"&&t.precio_salida!=""?t.moneda+" "+t.precio_salida:"-")}}function Iwe(n,e){n&1&&(O(0,"div",51)(1,"div",52),U(2,"No hay lotes asignados"),A()())}var r6=(()=>{class n{api;api2;sanitizer;messageEvent=new tn;evento={lotes:[]};eventoNuevo={lotes:[]};lotes=[];alertas=["","","","",""];lotesLista=!1;listaComp;img=[];sources="";sources2="";inputImagen;pdf=null;pdfFile=[];pdfNuevo=null;inputPDF;constructor(t,i,r){this.api=t,this.api2=i,this.sanitizer=r}handleMessage(t){if(this.lotesLista=t.message,t.lotes.length>0){let i={evento:this.evento.uuid,lotes:t.lotes,token:localStorage.getItem("token"),tipo:1};this.api.agregarLotes(i).subscribe({next:r=>{r.ok&&(Vo.default.fire({title:"Lotes agregados con exito",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),this.cargarEvento(this.evento.uuid)),r.ok||Vo.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})},error(r){Vo.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}}cerrarModal(){this.eventoNuevo={},this.evento={},this.alertas=["","","","",""],this.lotes=[],this.img=[],this.sources="",this.sources2="",this.inputImagen.nativeElement.value="",this.pdf=null,this.pdfFile=[],this.pdfNuevo=null,this.inputPDF.nativeElement.value="",this.messageEvent.emit(!1)}actualizarEvento(){let t=!0;if(this.alertas[0]=this.eventoNuevo.nombre==""?"El campo es obligatorio":"",this.alertas[1]=this.eventoNuevo.fecha_inicio==""?"El campo es obligatorio":"",this.alertas[2]=this.eventoNuevo.fecha_cierre==""?"El campo es obligatorio":"",(this.eventoNuevo.nombre==""||this.eventoNuevo.fecha_inicio==""||this.eventoNuevo.fecha_cierre=="")&&(t=!1),t){let i={uuid:this.eventoNuevo.uuid,campos:{categoria:this.eventoNuevo.categoria,eventos:this.eventoNuevo.eventos,segundos_cierre:this.eventoNuevo.segundos_cierre,home:this.eventoNuevo.home,inicio_automatico:this.eventoNuevo.inicio_automatico,mostrar_precio:this.eventoNuevo.mostrar_precio,mostrar_ganadores:this.eventoNuevo.mostrar_ganadores,mostrar_ofertas:this.eventoNuevo.mostrar_ofertas,grupo:this.eventoNuevo.grupo,modalidad:this.eventoNuevo.modalidad,nombre:this.eventoNuevo.nombre,publicar_cierre:this.eventoNuevo.publicar_cierre},token:localStorage.getItem("token"),tipo:1};if(this.api.actualizarEvento(i).subscribe({next:r=>{r.ok&&Vo.default.fire({title:"Evento actualizado con exito",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),r.ok||Vo.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),this.img.length==0&&this.img.length==0&&this.cerrarModal()},error(r){Vo.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}}),this.img!=null&&this.img.length!=0){let r=new FormData;r.append("uuid",this.evento.uuid),r.append("img",this.img[0]),r.append("caso","edit"),r.append("token",localStorage.getItem("token")),r.append("tipo","1"),this.api.imagenEvento(r).then(o=>{o.ok?Vo.default.fire({title:"Evento actualizado con exito",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}):Vo.default.fire({title:"Error en la carga de imagen",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),this.cerrarModal()},o=>{Vo.default.fire({title:"Error en la carga de imagen",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),this.cerrarModal()})}if(this.pdfFile.length!=0&&this.pdfFile.length!=null){let r=new FormData;r.append("uuid",this.evento.uuid),r.append("pdf",this.pdfFile[0]),r.append("caso","pdf"),r.append("token",localStorage.getItem("token")),r.append("tipo","1"),this.api.imagenEvento(r).then(o=>{o.ok?Vo.default.fire({title:"Evento actualizado con exito",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}):Vo.default.fire({title:"Error en la carga de pdf",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),this.cerrarModal()},o=>{Vo.default.fire({title:"Error en la carga de pdf",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),this.cerrarModal()})}}}init(t,i){this.lotes=[],this.evento=t;for(let r=0;r<t.lotes.length;r++){let o={uuid:t.lotes[r].uuid_lote,token:localStorage.getItem("token"),tipo:1};this.api.cargarLote(o).subscribe({next:s=>{this.lotes.push(s.lote[0])},error:s=>{Vo.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}this.api2.cargarArchivo(t.img.img,"evento").then(r=>{r!=!1&&(this.sources=r.url)}),this.api2.cargarArchivo(t.terminos_condiciones,"pdfs").then(r=>{r!=!1&&(this.pdf=this.transform(r.url))}),i&&(this.eventoNuevo=Object.assign({},this.evento))}lotesListaModal(){this.lotesLista=!0,this.listaComp.init()}eliminar(t,i){Vo.default.fire({title:"Esta por desvincular un lote",text:'\xBFDesea desvincular el lote: "'+i+'"?',showCancelButton:!0,confirmButtonText:"Desvincular",confirmButtonColor:"red",cancelButtonText:"Atras"}).then(r=>{if(r.isConfirmed){let o={lote:t,token:localStorage.getItem("token"),tipo:1};this.api.quitarLote(o).subscribe({next:s=>{s.ok&&(Vo.default.fire({title:"Lotes quitado con exito",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),this.cargarEvento(this.evento.uuid)),s.ok||Vo.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})},error(s){Vo.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}})}cargarEvento(t){let i={dato:t,token:localStorage.getItem("token"),tipo:1};this.api.cargarEvento(i).subscribe({next:r=>{this.evento=r.evento[0],this.init(this.evento,!1)},error:r=>{Vo.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}showImg(t){this.sources2="",this.img=null;let i=t.currentTarget;this.img=i.files;let r=new FileReader;r.readAsDataURL(i.files[0]),r.onloadend=()=>{this.sources2=r.result}}transform(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)}showPDF(t){this.pdfNuevo=null,this.pdfFile=[];let i=t.currentTarget;i.files?.length!=null&&i.files?.length>0&&(this.pdfNuevo=this.transform(URL.createObjectURL(i.files[0])),this.pdfFile=i.files)}static \u0275fac=function(i){return new(i||n)(ze(Xi),ze(Un),ze(Oo))};static \u0275cmp=Lt({type:n,selectors:[["app-editar-evento"]],viewQuery:function(i,r){if(i&1&&(sr(i6,5),sr(Cwe,5),sr(kwe,5)),i&2){let o;Gi(o=Ki())&&(r.listaComp=o.first),Gi(o=Ki())&&(r.inputImagen=o.first),Gi(o=Ki())&&(r.inputPDF=o.first)}},outputs:{messageEvent:"messageEvent"},standalone:!0,features:[Ht],decls:146,vars:64,consts:[["pdfTC",""],["imagen",""],["id","myModal",1,"modal",2,"overflow","auto"],[1,"modal-content",2,"width","50%"],[2,"display","flex","justify-content","flex-end","font-size","x-large"],[1,"fa-solid","fa-xmark","icerrar",3,"click"],[1,"msg"],[1,"col-3",2,"display","flex","flex-direction","column","margin-bottom","2%"],["type","text","placeholder","Nombre de la publicacion",1,"effect-1",2,"height","2.5rem",3,"ngModelChange","ngClass","ngModel"],[1,"focus-border2"],[1,"effect-1",2,"width","100%","height","2.5rem",3,"ngModelChange","ngModel","ngClass"],["value","Autos y motos"],["value","Movimiento y transporte"],["value","Maquinas y equipos"],["value","Rezagos"],["value","Inmuebles"],["value","Varios"],[1,"border","rounded",2,"width","100%","margin-bottom","2%","margin-top","2%"],[2,"margin","1.5%","display","block","font-family","Avenir"],["type","number","placeholder","Segundos entre cierres",1,"effect-1",2,"height","2.5rem",3,"ngModelChange","ngClass","ngModel"],["value","Subasta"],["value","Remate"],["value","general","selected",""],["value","chocado"],["value","desarmadero"],["value","otro"],[3,"ngValue"],[1,"col-3",2,"display","flex","flex-direction","row","margin-bottom","2%","text-align","center"],[1,"fa-solid",2,"font-size","larger","margin-right","1%","cursor","pointer",3,"click","ngClass"],["width","100%","height","600px","type","application/pdf",3,"src",4,"ngIf"],[1,"border","rounded","glass","colorWhite",2,"width","100%","margin-bottom","2%"],["width","100%","height","450px","type","application/pdf",3,"src",4,"ngIf"],["type","file","name","pdfTC","id","pdfTC","accept",".pdf,",3,"change"],[2,"margin-top","2%","text-align","center"],["alt","",2,"width","100px",3,"src"],[2,"margin-top","2%"],["type","file","name","imagen","id","imagen","accept","image/*,",2,"margin-bottom","2%",3,"change"],[2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%","align-items","center"],[1,"celda",2,"width","25%"],[1,"celda",2,"border-right","none","width","3rem"],["class","linea","style","display: flex; border-bottom: 1px solid rgb(48, 131, 220, 0.2); width: 100%; align-items: center;",4,"ngFor","ngForOf"],["class","linea","style","display: flex; border-bottom: 1px solid rgb(48, 131, 220, 0.2); width: 100%; text-align: center;",4,"ngIf"],[1,"boton","boton2","border",2,"width","100%","margin-bottom","2%","height","2rem",3,"click"],[2,"display","flex","justify-content","flex-end"],[1,"border","rounded","boton","boton2","botones",3,"click"],[3,"messageEvent","ngClass"],["width","100%","height","600px","type","application/pdf",3,"src"],["width","100%","height","450px","type","application/pdf",3,"src"],[1,"linea",2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%","align-items","center"],[1,"celda","username",2,"width","25%"],[1,"fa-solid","fa-trash-can","boton2","border","rounded","ibtn",2,"height","2rem",3,"click"],[1,"linea",2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%","text-align","center"],[1,"celda","username",2,"width","100%","border-right","none"]],template:function(i,r){if(i&1){let o=Ut();O(0,"div",2)(1,"div",3)(2,"div",4)(3,"i",5),ve("click",function(){return Pe(o),De(r.cerrarModal())}),A()(),O(4,"label"),U(5,"Nombre de la publicacion: "),A(),O(6,"span",6),U(7),A(),O(8,"div",7)(9,"input",8),Je("ngModelChange",function(a){return Pe(o),Qe(r.eventoNuevo.nombre,a)||(r.eventoNuevo.nombre=a),De(a)}),A(),Ce(10,"span",9),A(),O(11,"label"),U(12,"Categoria: "),A(),O(13,"div",7)(14,"select",10),Je("ngModelChange",function(a){return Pe(o),Qe(r.eventoNuevo.categoria,a)||(r.eventoNuevo.categoria=a),De(a)}),O(15,"option",11),U(16,"Autos y motos"),A(),O(17,"option",12),U(18,"Movimiento y transporte"),A(),O(19,"option",13),U(20,"Maquinas y equipos"),A(),O(21,"option",14),U(22,"Rezagos"),A(),O(23,"option",15),U(24,"Inmuebles"),A(),O(25,"option",16),U(26,"Varios"),A()(),Ce(27,"span",9),A(),O(28,"label"),U(29,"Fecha de inicio: "),A(),O(30,"div",17)(31,"span",18),U(32),A()(),O(33,"label"),U(34,"Hora de inicio: "),A(),O(35,"div",17)(36,"span",18),U(37),A()(),O(38,"label"),U(39,"Fecha de cierre: "),A(),O(40,"div",17)(41,"span",18),U(42),A()(),O(43,"label"),U(44,"Hora de cierre: "),A(),O(45,"div",17)(46,"span",18),U(47),A()(),O(48,"label"),U(49,"Segundos entre cierres: "),A(),O(50,"div",7)(51,"input",19),Je("ngModelChange",function(a){return Pe(o),Qe(r.eventoNuevo.segundos_cierre,a)||(r.eventoNuevo.segundos_cierre=a),De(a)}),A(),Ce(52,"span",9),A(),O(53,"label"),U(54,"Modalidad: "),A(),O(55,"div",7)(56,"select",10),Je("ngModelChange",function(a){return Pe(o),Qe(r.eventoNuevo.modalidad,a)||(r.eventoNuevo.modalidad=a),De(a)}),O(57,"option",20),U(58,"Subasta"),A(),O(59,"option",21),U(60,"Licitacion"),A()(),Ce(61,"span",9),A(),O(62,"label"),U(63,"Grupo: "),A(),O(64,"div",7)(65,"select",10),Je("ngModelChange",function(a){return Pe(o),Qe(r.eventoNuevo.grupo,a)||(r.eventoNuevo.grupo=a),De(a)}),O(66,"option",22),U(67,"General"),A(),O(68,"option",23),U(69,"Chocado"),A(),O(70,"option",24),U(71,"Desarmadero"),A(),O(72,"option",25),U(73,"Otro"),A()(),Ce(74,"span",9),A(),O(75,"label"),U(76,"Publicar fecha de cierre: "),A(),O(77,"div",7)(78,"select",10),Je("ngModelChange",function(a){return Pe(o),Qe(r.eventoNuevo.publicar_cierre,a)||(r.eventoNuevo.publicar_cierre=a),De(a)}),O(79,"option",26),U(80,"Si"),A(),O(81,"option",26),U(82,"No"),A()(),Ce(83,"span",9),A(),O(84,"div",27)(85,"i",28),ve("click",function(){return Pe(o),De(r.eventoNuevo.inicio_automatico=!r.eventoNuevo.inicio_automatico)}),A(),U(86," Inicio automatico "),A(),O(87,"div",27)(88,"i",28),ve("click",function(){return Pe(o),De(r.eventoNuevo.home=!r.eventoNuevo.home)}),A(),U(89," Mostrar en Home "),A(),O(90,"div",27)(91,"i",28),ve("click",function(){return Pe(o),De(r.eventoNuevo.eventos=!r.eventoNuevo.eventos)}),A(),U(92," Mostrar en Eventos "),A(),O(93,"div",27)(94,"i",28),ve("click",function(){return Pe(o),De(r.eventoNuevo.mostrar_precio=!r.eventoNuevo.mostrar_precio)}),A(),U(95," Mostrar precio "),A(),O(96,"div",27)(97,"i",28),ve("click",function(){return Pe(o),De(r.eventoNuevo.mostrar_ganadores=!r.eventoNuevo.mostrar_ganadores)}),A(),U(98," Mostrar ganadores "),A(),O(99,"div",27)(100,"i",28),ve("click",function(){return Pe(o),De(r.eventoNuevo.mostrar_ofertas=!r.eventoNuevo.mostrar_ofertas)}),A(),U(101," Mostrar ofertas "),A(),O(102,"label"),U(103,"Terminos y condiciones de la publicacion: "),A(),O(104,"div",7),_t(105,Swe,1,1,"embed",29),A(),O(106,"label"),U(107,"Nuevos terminos y condiciones de la publicacion: "),A(),O(108,"div",30)(109,"span",18),U(110,"El archivo debe ser en formato PDF"),A()(),O(111,"div",7),_t(112,Awe,1,1,"embed",31),O(113,"input",32,0),ve("change",function(a){return Pe(o),De(r.showPDF(a))}),A()(),O(115,"label"),U(116,"Imagen de portada: "),A(),O(117,"div",33),Ce(118,"img",34),A(),O(119,"label"),U(120,"Nueva imagen de portada: "),A(),O(121,"div",33),Ce(122,"img",34),A(),O(123,"div",35)(124,"input",36,1),ve("change",function(a){return Pe(o),De(r.showImg(a))}),A()(),O(126,"label"),U(127,"Lotes de la publicacion: "),A(),O(128,"div",37)(129,"div",38),U(130,"Titulo"),A(),O(131,"div",38),U(132,"Precio Base"),A(),O(133,"div",38),U(134,"Incremento"),A(),O(135,"div",38),U(136,"Precio salida"),A(),Ce(137,"div",39),A(),_t(138,Twe,11,6,"div",40)(139,Iwe,3,0,"div",41),O(140,"button",42),ve("click",function(){return Pe(o),De(r.lotesListaModal())}),U(141,"Agregar lote"),A(),O(142,"div",43)(143,"button",44),ve("click",function(){return Pe(o),De(r.actualizarEvento())}),U(144,"Actualizar"),A()()()(),O(145,"app-lista-lotes",45),ve("messageEvent",function(a){return Pe(o),De(r.handleMessage(a))}),A()}i&2&&(ee(7),Ct("*",r.alertas[0],""),ee(2),fe("ngClass",ht(32,V0,r.eventoNuevo.nombre!=r.evento.nombre)),Xe("ngModel",r.eventoNuevo.nombre),ee(5),Xe("ngModel",r.eventoNuevo.categoria),fe("ngClass",ht(34,V0,r.eventoNuevo.categoria!=r.evento.categoria)),ee(18),Ct(" ",r.evento.fecha_inicio," "),ee(5),Ct(" ",r.evento.hora_inicio," "),ee(5),Ct(" ",r.evento.fecha_cierre," "),ee(5),Ct(" ",r.evento.hora_cierre," "),ee(4),fe("ngClass",ht(36,V0,r.eventoNuevo.segundos_cierre!=r.evento.segundos_cierre)),Xe("ngModel",r.eventoNuevo.segundos_cierre),ee(5),Xe("ngModel",r.eventoNuevo.modalidad),fe("ngClass",ht(38,V0,r.eventoNuevo.modalidad!=r.evento.modalidad)),ee(9),Xe("ngModel",r.eventoNuevo.grupo),fe("ngClass",ht(40,V0,r.eventoNuevo.grupo!=r.evento.grupo)),ee(13),Xe("ngModel",r.eventoNuevo.publicar_cierre),fe("ngClass",ht(42,V0,r.eventoNuevo.publicar_cierre!=r.evento.publicar_cierre)),ee(),fe("ngValue",!0),ee(2),fe("ngValue",!1),ee(4),fe("ngClass",dn(44,j0,r.eventoNuevo.inicio_automatico,!r.eventoNuevo.inicio_automatico)),ee(3),fe("ngClass",dn(47,j0,r.eventoNuevo.home,!r.eventoNuevo.home)),ee(3),fe("ngClass",dn(50,j0,r.eventoNuevo.eventos,!r.eventoNuevo.eventos)),ee(3),fe("ngClass",dn(53,j0,r.eventoNuevo.mostrar_precio,!r.eventoNuevo.mostrar_precio)),ee(3),fe("ngClass",dn(56,j0,r.eventoNuevo.mostrar_ganadores,!r.eventoNuevo.mostrar_ganadores)),ee(3),fe("ngClass",dn(59,j0,r.eventoNuevo.mostrar_ofertas,!r.eventoNuevo.mostrar_ofertas)),ee(5),fe("ngIf",r.pdf!=null),ee(7),fe("ngIf",r.pdfNuevo!=null),ee(6),In("src",r.sources,Rr),ee(4),In("src",r.sources2,Rr),ee(16),fe("ngForOf",r.lotes),ee(),fe("ngIf",r.lotes.length==0),ee(6),fe("ngClass",ht(62,Ewe,!r.lotesLista)))},dependencies:[Hn,Cr,kr,mi,tc,ar,oi,ti,sn,Zn,Ti,Rn,i6],styles:[".celda[_ngcontent-%COMP%]{border-right:1px solid rgb(48,131,220,.2);border-color:#3083dc33!important;width:16%;padding:1%;font-family:Avenir}.celda[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:2%}.linea[_ngcontent-%COMP%]{transition:all .5s linear}.linea[_ngcontent-%COMP%]:hover{background-color:#ff900033}.load[_ngcontent-%COMP%]{display:flex;align-items:center;width:20%;justify-content:space-around}.paginacion[_ngcontent-%COMP%]{height:2rem;width:6rem;font-size:medium}@media (max-width: 650px){.paginacion[_ngcontent-%COMP%]{width:3.5rem}}.paginacionof[_ngcontent-%COMP%]{height:2rem;width:8rem;font-size:medium}@media (max-width: 650px){.paginacionof[_ngcontent-%COMP%]{width:3.5rem}}.ibtn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:2rem}.ibtn[_ngcontent-%COMP%]:hover{cursor:pointer}.tooltip[_ngcontent-%COMP%]{position:relative}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;padding:.25em .5em;color:#fff;text-align:center;white-space:nowrap;position:absolute;z-index:1;top:-60%;left:-30%;transition-property:visibility;transition-delay:0s;font-family:avenir}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;transition-delay:.3s}.modal[_ngcontent-%COMP%]{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:7% auto;margin-top:7rem;padding:1%;border:1px solid var(--amarello);width:80%}@media (max-width: 1000px){.modal-content[_ngcontent-%COMP%]{width:97.5%!important}}.campoOferta[_ngcontent-%COMP%]{width:30rem}@media (max-width: 530px){.campoOferta[_ngcontent-%COMP%]{width:100%}}@media (max-width: 600px){.datoLote[_ngcontent-%COMP%]{font-size:smaller}}.icerrar[_ngcontent-%COMP%]{color:var(--amarello)}.icerrar[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--blue)}.borderAbajo[_ngcontent-%COMP%]{border-bottom:1px solid rgb(48,131,220,.2)}.marginCerrar[_ngcontent-%COMP%]{margin-right:5rem}@media (max-width: 1000px){.marginCerrar[_ngcontent-%COMP%]{margin-right:2rem}}.h1btn[_ngcontent-%COMP%]:hover{color:var(--amarello);cursor:pointer}.h1btn2[_ngcontent-%COMP%]{color:var(--amarello);text-decoration:underline}.none2[_ngcontent-%COMP%]{transform:scale3d(1,0,1);visibility:hidden;opacity:0}.campoUser[_ngcontent-%COMP%]{display:flex}@media (max-width: 650px){.campoUser[_ngcontent-%COMP%]{flex-wrap:wrap}.campoUser[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important}}"]})}return n})();var U0=Qr(Eo());var z0=(n,e)=>({"fa-circle-check verde":n,"fa-circle-xmark rojo":e});function Mwe(n,e){if(n&1&&Ce(0,"embed",20),n&2){let t=Re();fe("src",t.pdf,gl)}}function Pwe(n,e){if(n&1&&(O(0,"div",21)(1,"div",22),U(2),A(),O(3,"div",22),U(4),A(),O(5,"div",22),U(6),A(),O(7,"div",23),U(8),A()()),n&2){let t=e.$implicit;ee(2),et(t.titulo),ee(2),Ai("",t.moneda," ",t.precio_base,""),ee(2),Ai("",t.moneda," ",t.incremento,""),ee(2),et(t.precio_salida!="null"&&t.precio_salida!=""?t.moneda+" "+t.precio_salida:"-")}}function Dwe(n,e){n&1&&(O(0,"div",24)(1,"div",25),U(2,"No hay lotes asignados"),A()())}var o6=(()=>{class n{api;api2;sanitizer;excel;messageEvent=new tn;evento={lotes:[]};lotes=[];sources="";pdf=null;flagReporte=!0;flagReporte2=!0;constructor(t,i,r,o){this.api=t,this.api2=i,this.sanitizer=r,this.excel=o}transform(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)}cerrarModal(){this.evento={},this.lotes=[],this.pdf=null,this.flagReporte=!0,this.flagReporte2=!0,this.messageEvent.emit(!1)}init(t){this.lotes=[],this.evento=t,this.pdf=null;let i=0;for(let r=0;r<t.lotes.length;r++){let o={uuid:t.lotes[r].uuid_lote,token:localStorage.getItem("token"),tipo:1};this.api.cargarLote(o).subscribe({next:s=>{i++,this.lotes.push(s.lote[0]),i==t.lotes.length&&(this.flagReporte=!1)},error:s=>{U0.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}this.api2.cargarArchivo(t.img.img,"evento").then(r=>{r!=!1&&(this.sources=r.url,this.flagReporte2=!1)}),this.api2.cargarArchivo(t.terminos_condiciones,"pdfs").then(r=>{r!=!1&&(this.pdf=this.transform(r.url))})}generarPDF(){return gn(this,null,function*(){let t=new An("p","pt","a4"),i={token:localStorage.getItem("token"),tipo:1};this.api2.checkTokenA(i).subscribe({next:r=>{if(r.ok){let s="<div style='width:33rem; font-family:Arial'><div style='display:flex'; text-align:right;><div style='width:50%; text-align:left; font-size:small;'> Admin: "+r.user+"</div><div style='width:50%; text-align:right; font-size:small;'>"+new Date().toLocaleString()+"</div></div><div style='display:flex; background-color:#3083dc; color:#F9F9F9; text-align:center;'><div style='width:33%'>Nombre</div><div style='width:34%'>Fecha de cierre</div><div style='width:33%'>Visibilidad</div></div><div style='display:flex'; text-align:center;><div style='border: 1px solid rgb(48, 131, 220, 0.2); width:33%; text-align:center;'>"+this.evento.nombre+"</div><div style='border: 1px solid rgb(48, 131, 220, 0.2); width:34%; text-align:center;'>"+this.evento.fecha_cierre+" "+this.evento.hora_cierre+"</div><div style='border: 1px solid rgb(48, 131, 220, 0.2); width:33%; text-align:center;'>"+this.evento.grupo+"</div></div><div style='display:flex; background-color:#3083dc; color:#F9F9F9; text-align:center;'><div style='width:33%'>Modalidad</div><div style='width:34%'>Estado</div><div style='width:33%'>Visitas</div></div><div style='display:flex'; text-align:center;><div style='border: 1px solid rgb(48, 131, 220, 0.2); width:33%; text-align:center;'>"+(this.evento.modalidad=="Subasta"?this.evento.modalidad:"Licitacion")+"</div><div style='border: 1px solid rgb(48, 131, 220, 0.2); width:34%; text-align:center;'>"+(this.evento.estado==2?"Finalizado":"En proceso")+"</div><div style='border: 1px solid rgb(48, 131, 220, 0.2); width:33%; text-align:center;'>"+this.evento.visitas+"</div></div><div style='display:flex; background-color:#3083dc; color:#F9F9F9; text-align:center;'><div style='width:100%'>Imagen de portada</div></div><div style='display:flex'; text-align:center;><div style='border: 1px solid rgb(48, 131, 220, 0.2); width:100%; text-align:center;'><img src='"+this.sources+"' style='width: 90%;'></div></div><div style='background-color:#3083dc; color:#F9F9F9; text-align:center;'>Lotes</div><div style='display:flex; background-color:#3083dc; color:#F9F9F9; text-align:center; font-size:x-small;'><div style='width:20%'; font-size:x-small;>Titulo</div><div style='width:15%'; font-size:x-small;>Precio base</div><div style='width:15%'; font-size:x-small;>Oferta ganadora</div><div style='width:5%'; font-size:x-small;>Ofertas</div><div style='width:30%'; font-size:x-small;>Ganador</div><div style='width:15%'; font-size:x-small;>CUIL/CUIT</div></div>",a=0;for(let l=0;l<this.lotes.length;l++){let c={token:localStorage.getItem("token"),lote:this.lotes[l].uuid,evento:"null",tipo:1},u;this.api2.ofertaDatos(c).subscribe({next:d=>{u=d.ofertaDB,s+="<div style='display:flex'; text-align:center;><div style='border: 1px solid rgb(48, 131, 220, 0.2); width:20%; font-size:x-small; text-align:center;'>"+this.lotes[l].titulo+"</div><div style='border: 1px solid rgb(48, 131, 220, 0.2); width:15%; font-size:x-small; text-align:center;'>"+this.lotes[l].precio_base+"</div><div style='border: 1px solid rgb(48, 131, 220, 0.2); width:15%; font-size:x-small; text-align:center;'>"+(u[0]?u[0].cantidad:"-")+"</div><div style='border: 1px solid rgb(48, 131, 220, 0.2); width:5%; font-size:x-small; text-align:center;'>"+u.length+"</div><div style='border: 1px solid rgb(48, 131, 220, 0.2); width:30%; font-size:x-small; text-align:center;'>"+this.lotes[l].ganador+"</div><div style='border: 1px solid rgb(48, 131, 220, 0.2); width:15%; font-size:x-small; text-align:center;'>"+(this.lotes[l].ganador!=""?u[0].user.cuil_cuit:"-")+"</div></div>",a++,a==this.lotes.length&&(s+="</div>",t.html(s,{callback:f=>{f.save(this.evento.nombre.includes(".")?this.evento.nombre+".pdf":this.evento.nombre)},margin:[35,0,0,35],autoPaging:"text"}))},error(d){}})}}else localStorage.removeItem("token")},error(r){localStorage.removeItem("token")}})})}comunicar(){U0.default.fire({title:"Comunicado",text:"\xBFDesea comunicar la publicacion a todos los usuarios?",showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Atras"}).then(t=>{if(t.isConfirmed){let i={token:localStorage.getItem("token"),tipo:1,grupo:this.evento.grupo,nombre:this.evento.nombre,fecha_cierre:this.evento.fecha_cierre,hora_cierre:this.evento.hora_cierre,uuid:this.evento.uuid};this.api.reComunicar(i).subscribe({next:r=>{r.ok&&U0.default.fire({title:"Publicacion comunicada con exito",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),r.ok||U0.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})},error:r=>{U0.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}})}generarExcel(){let t=this.lotes,i=new Date,r=i.getMonth()>8?i.getMonth()+1:"0"+(i.getMonth()+1),s=(i.getDate()>9?i.getDate():"0"+i.getDate())+"-"+r+"-"+i.getFullYear(),a=0;for(let l=0;l<this.lotes.length;l++){let c={token:localStorage.getItem("token"),lote:this.lotes[l].uuid,evento:"null",tipo:1};this.api2.ofertaDatos(c).subscribe({next:u=>{t[l].cuit=u.ofertaDB[0].user.cuil_cuit,t[l].ofertas=u.ofertaDB.length,a++,a==this.lotes.length&&this.excel.generateExcelPublicacion(this.evento,t,this.evento.nombre+" "+s)},error(u){}})}}static \u0275fac=function(i){return new(i||n)(ze(Xi),ze(Un),ze(Oo),ze(h_))};static \u0275cmp=Lt({type:n,selectors:[["app-ver-evento"]],outputs:{messageEvent:"messageEvent"},standalone:!0,features:[Ht],decls:100,vars:40,consts:[["id","myModal",1,"modal",2,"overflow","auto"],[1,"modal-content",2,"width","50%"],[2,"display","flex","justify-content","space-between","font-size","x-large","margin-bottom","2%"],[1,"boton","boton2","border","rounded",2,"border-top-right-radius","0px","border-bottom-right-radius","0px",3,"click","disabled"],[1,"boton","boton2","border","rounded",2,"border-top-right-radius","0px","border-bottom-right-radius","0px","border-top-left-radius","0px","border-bottom-left-radius","0px",3,"click","disabled"],[1,"boton","boton2","border","rounded",2,"border-top-left-radius","0px","border-bottom-left-radius","0px",3,"click"],[1,"fa-solid","fa-xmark","icerrar",3,"click"],[1,"border","rounded",2,"width","100%","margin-bottom","2%","margin-top","2%"],[2,"margin","1.5%","display","block","font-family","Avenir"],[1,"col-3",2,"display","flex","flex-direction","row","margin-bottom","2%","text-align","center"],[1,"fa-solid",2,"font-size","larger","margin-right","1%",3,"ngClass"],[1,"col-3",2,"display","flex","flex-direction","column","margin-bottom","2%"],["width","100%","height","600px","type","application/pdf",3,"src",4,"ngIf"],[2,"margin-top","2%","text-align","center"],["alt","",2,"width","100px",3,"src"],[2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%","align-items","center"],[1,"celda",2,"width","25%"],[1,"celda",2,"border-right","none","width","25%"],["class","linea","style","display: flex; border-bottom: 1px solid rgb(48, 131, 220, 0.2); width: 100%; align-items: center;",4,"ngFor","ngForOf"],["class","linea","style","display: flex; border-bottom: 1px solid rgb(48, 131, 220, 0.2); width: 100%; text-align: center;",4,"ngIf"],["width","100%","height","600px","type","application/pdf",3,"src"],[1,"linea",2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%","align-items","center"],[1,"celda","username",2,"width","25%"],[1,"celda","username",2,"border-right","none","width","25%"],[1,"linea",2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%","text-align","center"],[1,"celda","username",2,"width","100%","border-right","none"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"button",3),ve("click",function(){return r.generarPDF()}),U(5,"Generar PDF"),A(),O(6,"button",4),ve("click",function(){return r.generarExcel()}),U(7,"Generar Excel"),A(),O(8,"button",5),ve("click",function(){return r.comunicar()}),U(9,"Comunicar"),A()(),O(10,"i",6),ve("click",function(){return r.cerrarModal()}),A()(),O(11,"label"),U(12,"Nombre de la publicacion: "),A(),O(13,"div",7)(14,"span",8),U(15),A()(),O(16,"label"),U(17,"Categoria: "),A(),O(18,"div",7)(19,"span",8),U(20),A()(),O(21,"label"),U(22,"Fecha de inicio: "),A(),O(23,"div",7)(24,"span",8),U(25),A()(),O(26,"label"),U(27,"Hora de inicio: "),A(),O(28,"div",7)(29,"span",8),U(30),A()(),O(31,"label"),U(32,"Fecha de cierre: "),A(),O(33,"div",7)(34,"span",8),U(35),A()(),O(36,"label"),U(37,"Hora de cierre: "),A(),O(38,"div",7)(39,"span",8),U(40),A()(),O(41,"label"),U(42,"Segundos entre cierres: "),A(),O(43,"div",7)(44,"span",8),U(45),A()(),O(46,"label"),U(47,"Modalidad: "),A(),O(48,"div",7)(49,"span",8),U(50),A()(),O(51,"label"),U(52,"Grupo: "),A(),O(53,"div",7)(54,"span",8),U(55),A()(),O(56,"label"),U(57,"Publicar fecha de cierre: "),A(),O(58,"div",7)(59,"span",8),U(60),A()(),O(61,"div",9),Ce(62,"i",10),U(63," Inicio automatico "),A(),O(64,"div",9),Ce(65,"i",10),U(66," Mostrar en Home "),A(),O(67,"div",9),Ce(68,"i",10),U(69," Mostrar en Eventos "),A(),O(70,"div",9),Ce(71,"i",10),U(72," Mostrar precio "),A(),O(73,"div",9),Ce(74,"i",10),U(75," Mostrar ganadores "),A(),O(76,"div",9),Ce(77,"i",10),U(78," Mostrar ofertas "),A(),O(79,"label"),U(80,"Terminos y condiciones de la publicacion: "),A(),O(81,"div",11),_t(82,Mwe,1,1,"embed",12),A(),O(83,"label"),U(84,"Imagen de portada: "),A(),O(85,"div",13),Ce(86,"img",14),A(),O(87,"label"),U(88,"Lotes de la publicacion: "),A(),O(89,"div",15)(90,"div",16),U(91,"Titulo"),A(),O(92,"div",16),U(93,"Precio Base"),A(),O(94,"div",16),U(95,"Incremento"),A(),O(96,"div",17),U(97,"Precio salida"),A()(),_t(98,Pwe,9,6,"div",18)(99,Dwe,3,0,"div",19),A()()),i&2&&(ee(4),fe("disabled",r.flagReporte&&r.flagReporte2),ee(2),fe("disabled",r.flagReporte&&r.flagReporte2),ee(9),Ct(" ",r.evento.nombre," "),ee(5),Ct(" ",r.evento.categoria," "),ee(5),Ct(" ",r.evento.fecha_inicio," "),ee(5),Ct(" ",r.evento.hora_inicio," "),ee(5),Ct(" ",r.evento.fecha_cierre," "),ee(5),Ct(" ",r.evento.hora_cierre," "),ee(5),Ct(" ",r.evento.segundos_cierre," "),ee(5),Ct(" ",r.evento.modalidad=="Remate"?"Licitacion":r.evento.modalidad," "),ee(5),Ct(" ",r.evento.grupo," "),ee(5),Ct(" ",r.evento.publicar_cierre?"Si":"No"," "),ee(2),fe("ngClass",dn(22,z0,r.evento.inicio_automatico,!r.evento.inicio_automatico)),ee(3),fe("ngClass",dn(25,z0,r.evento.home,!r.evento.home)),ee(3),fe("ngClass",dn(28,z0,r.evento.eventos,!r.evento.eventos)),ee(3),fe("ngClass",dn(31,z0,r.evento.mostrar_precio,!r.evento.mostrar_precio)),ee(3),fe("ngClass",dn(34,z0,r.evento.mostrar_ganadores,!r.evento.mostrar_ganadores)),ee(3),fe("ngClass",dn(37,z0,r.evento.mostrar_ofertas,!r.evento.mostrar_ofertas)),ee(5),fe("ngIf",r.pdf!=null),ee(4),In("src",r.sources,Rr),ee(12),fe("ngForOf",r.lotes),ee(),fe("ngIf",r.lotes.length==0))},dependencies:[sn,Zn,Ti,Rn],styles:[".celda[_ngcontent-%COMP%]{border-right:1px solid rgb(48,131,220,.2);border-color:#3083dc33!important;width:16%;padding:1%;font-family:Avenir}.celda[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:2%}.linea[_ngcontent-%COMP%]{transition:all .5s linear}.linea[_ngcontent-%COMP%]:hover{background-color:#ff900033}.load[_ngcontent-%COMP%]{display:flex;align-items:center;width:20%;justify-content:space-around}.paginacion[_ngcontent-%COMP%]{height:2rem;width:6rem;font-size:medium}@media (max-width: 650px){.paginacion[_ngcontent-%COMP%]{width:3.5rem}}.paginacionof[_ngcontent-%COMP%]{height:2rem;width:8rem;font-size:medium}@media (max-width: 650px){.paginacionof[_ngcontent-%COMP%]{width:3.5rem}}.ibtn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:2rem}.ibtn[_ngcontent-%COMP%]:hover{cursor:pointer}.tooltip[_ngcontent-%COMP%]{position:relative}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;padding:.25em .5em;color:#fff;text-align:center;white-space:nowrap;position:absolute;z-index:1;top:-60%;left:-30%;transition-property:visibility;transition-delay:0s;font-family:avenir}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;transition-delay:.3s}.modal[_ngcontent-%COMP%]{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:7% auto;margin-top:7rem;padding:1%;border:1px solid var(--amarello);width:80%}@media (max-width: 1000px){.modal-content[_ngcontent-%COMP%]{width:97.5%!important}}.campoOferta[_ngcontent-%COMP%]{width:30rem}@media (max-width: 530px){.campoOferta[_ngcontent-%COMP%]{width:100%}}@media (max-width: 600px){.datoLote[_ngcontent-%COMP%]{font-size:smaller}}.icerrar[_ngcontent-%COMP%]{color:var(--amarello)}.icerrar[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--blue)}.borderAbajo[_ngcontent-%COMP%]{border-bottom:1px solid rgb(48,131,220,.2)}.marginCerrar[_ngcontent-%COMP%]{margin-right:5rem}@media (max-width: 1000px){.marginCerrar[_ngcontent-%COMP%]{margin-right:2rem}}.h1btn[_ngcontent-%COMP%]:hover{color:var(--amarello);cursor:pointer}.h1btn2[_ngcontent-%COMP%]{color:var(--amarello);text-decoration:underline}.none2[_ngcontent-%COMP%]{transform:scale3d(1,0,1);visibility:hidden;opacity:0}.campoUser[_ngcontent-%COMP%]{display:flex}@media (max-width: 650px){.campoUser[_ngcontent-%COMP%]{flex-wrap:wrap}.campoUser[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important}}"]})}return n})();var AC=Qr(Eo());var QU=(()=>{class n{api;messageEvent=new tn;grupo="general";texto="";asunto="";constructor(t){this.api=t}cerrarModal(){this.texto="",this.asunto="",this.messageEvent.emit(!1)}comunicar(){let t={token:localStorage.getItem("token"),tipo:1,texto:this.texto,texto2:this.texto.replace(/\n/g,"<br>"),asunto:this.asunto};this.api.comunicar(t).subscribe({next:i=>{i.ok?(AC.default.fire({title:"Comunicado enviado con exito",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),this.cerrarModal()):AC.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})},error:i=>{AC.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}static \u0275fac=function(i){return new(i||n)(ze(Xi))};static \u0275cmp=Lt({type:n,selectors:[["app-comunicados"]],outputs:{messageEvent:"messageEvent"},standalone:!0,features:[Ht],decls:18,vars:2,consts:[["id","myModal",1,"modal",2,"overflow","auto"],[1,"modal-content",2,"width","50%"],[2,"display","flex","justify-content","space-between","font-size","x-large","margin-bottom","2%"],[1,"fa-solid","fa-xmark","icerrar",3,"click"],[1,"col-3",2,"margin-bottom","2%"],["type","text","placeholder","Asunto",1,"effect-1",2,"height","2.5rem","width","100%",3,"ngModelChange","ngModel"],[1,"focus-border2"],[2,"display","flex"],["placeholder","Mensaje",1,"effect-1",2,"width","100%","height","300px",3,"ngModelChange","ngModel"],[2,"display","flex","justify-content","flex-end"],[1,"border","rounded","boton","boton2","botones",3,"click"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"div",1)(2,"div",2)(3,"i",3),ve("click",function(){return r.cerrarModal()}),A()(),O(4,"div",4)(5,"label"),U(6,"Asunto "),A(),O(7,"input",5),Je("ngModelChange",function(s){return Qe(r.asunto,s)||(r.asunto=s),s}),A(),Ce(8,"span",6),A(),O(9,"div",4)(10,"label"),U(11,"Texto "),A(),O(12,"div",7)(13,"textarea",8),Je("ngModelChange",function(s){return Qe(r.texto,s)||(r.texto=s),s}),A(),Ce(14,"span",6),A()(),O(15,"div",9)(16,"button",10),ve("click",function(){return r.comunicar()}),U(17,"Comunicar"),A()()()()),i&2&&(ee(7),Xe("ngModel",r.asunto),ee(6),Xe("ngModel",r.texto))},dependencies:[sn,Hn,mi,oi,ti],styles:[".celda[_ngcontent-%COMP%]{border-right:1px solid rgb(48,131,220,.2);border-color:#3083dc33!important;width:16%;padding:1%;font-family:Avenir}.celda[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:2%}.linea[_ngcontent-%COMP%]{transition:all .5s linear}.linea[_ngcontent-%COMP%]:hover{background-color:#ff900033}.load[_ngcontent-%COMP%]{display:flex;align-items:center;width:20%;justify-content:space-around}.paginacion[_ngcontent-%COMP%]{height:2rem;width:6rem;font-size:medium}@media (max-width: 650px){.paginacion[_ngcontent-%COMP%]{width:3.5rem}}.paginacionof[_ngcontent-%COMP%]{height:2rem;width:8rem;font-size:medium}@media (max-width: 650px){.paginacionof[_ngcontent-%COMP%]{width:3.5rem}}.ibtn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:2rem}.ibtn[_ngcontent-%COMP%]:hover{cursor:pointer}.tooltip[_ngcontent-%COMP%]{position:relative}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;padding:.25em .5em;color:#fff;text-align:center;white-space:nowrap;position:absolute;z-index:1;top:-60%;left:-30%;transition-property:visibility;transition-delay:0s;font-family:avenir}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;transition-delay:.3s}.modal[_ngcontent-%COMP%]{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:7% auto;margin-top:7rem;padding:1%;border:1px solid var(--amarello);width:80%}@media (max-width: 1000px){.modal-content[_ngcontent-%COMP%]{width:97.5%!important}}.campoOferta[_ngcontent-%COMP%]{width:30rem}@media (max-width: 530px){.campoOferta[_ngcontent-%COMP%]{width:100%}}@media (max-width: 600px){.datoLote[_ngcontent-%COMP%]{font-size:smaller}}.icerrar[_ngcontent-%COMP%]{color:var(--amarello)}.icerrar[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--blue)}.borderAbajo[_ngcontent-%COMP%]{border-bottom:1px solid rgb(48,131,220,.2)}.marginCerrar[_ngcontent-%COMP%]{margin-right:5rem}@media (max-width: 1000px){.marginCerrar[_ngcontent-%COMP%]{margin-right:2rem}}.h1btn[_ngcontent-%COMP%]:hover{color:var(--amarello);cursor:pointer}.h1btn2[_ngcontent-%COMP%]{color:var(--amarello);text-decoration:underline}.none2[_ngcontent-%COMP%]{transform:scale3d(1,0,1);visibility:hidden;opacity:0}.campoUser[_ngcontent-%COMP%]{display:flex}@media (max-width: 650px){.campoUser[_ngcontent-%COMP%]{flex-wrap:wrap}.campoUser[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important}}"]})}return n})();var TC=n=>({oculto:n}),eH=(n,e)=>({"fa-circle-check verde":n,"fa-circle-xmark rojo":e});function Owe(n,e){n&1&&(O(0,"h2",45),Ce(1,"i",46),U(2," Cargando"),A())}function Rwe(n,e){n&1&&(O(0,"h2"),U(1,"Error al cargar publicaciones"),A())}function Nwe(n,e){n&1&&(O(0,"h2"),U(1,"No hay publicaciones para mostrar"),A())}function Lwe(n,e){if(n&1){let t=Ut();O(0,"div",47)(1,"div",21),U(2),A(),O(3,"div",22),U(4),A(),O(5,"div",23),U(6),A(),O(7,"div",24),Ce(8,"i",48),A(),O(9,"div",24),Ce(10,"i",48),A(),O(11,"div",25),U(12),A(),O(13,"div",26),U(14),A(),O(15,"div",26),U(16),A(),O(17,"div",49)(18,"i",50),ve("click",function(){let r=Pe(t).$implicit,o=Re();return De(o.modal(r,"ver"))}),A(),O(19,"i",51),ve("click",function(){let r=Pe(t).$implicit,o=Re();return De(o.modal(r,"editar"))}),A(),O(20,"i",52),ve("click",function(){let r=Pe(t).$implicit,o=Re();return De(o.eliminar(r.nombre,r.uuid))}),A()()()}if(n&2){let t=e.$implicit;ee(2),et(t.uuid),ee(2),et(t.nombre),ee(2),et(t.fecha_cierre),ee(2),fe("ngClass",dn(8,eH,t.home,!t.home)),ee(2),fe("ngClass",dn(11,eH,t.eventos,!t.eventos)),ee(2),et(t.lotes.length),ee(2),et(t.visitas),ee(2),et(t.estado==1?"Abierto":t.estado==0?"Cerrado":"Finalizado")}}var tH=(()=>{class n{api;crear=!1;editar=!1;ver=!1;comunicados=!1;datoBuscar="";tipoBuscar="nombre";error=!1;total=-1;pagina=0;Eventos=[];pagU=0;ordenar="_id";orden="1";editComp;verComp;constructor(t){this.api=t}ngOnInit(){this.cargarEventos()}handleMessage(t,i){switch(i){case"crear":this.crear=t,this.error=!1,this.cargarEventos();break;case"editar":this.editar=t,this.cargarEventos();break;case"ver":this.ver=t;break;case"comunicados":this.comunicados=t;break}}buscarDato(){let t={token:localStorage.getItem("token"),tipo:1,dato:this.datoBuscar,datoTipo:this.tipoBuscar,datoTipoUser:"evento"};this.api.buscarDato(t).subscribe({next:i=>{i.ok?i.busqueda.length>0?this.Eventos=i.busqueda:fd.default.fire({title:"No se encontro ningun resultado",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}):fd.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})},error:i=>{fd.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}principio(){this.pagina=0,this.cargarEventos()}atras(){this.pagina>0&&(this.pagina--,this.cargarEventos())}siguiente(){this.pagina<this.pagU-1&&(this.pagina++,this.cargarEventos())}final(){this.pagina=this.pagU-1,this.cargarEventos()}cargarEventos(){let t={token:localStorage.getItem("token"),tipo:1};this.api.cargarEventos(t,this.pagina*20,this.ordenar,this.orden).subscribe({next:i=>{i.ok?(this.Eventos=i.eventos,this.total=i.total,this.pagU=Math.ceil(this.total/20)):this.error=!0},error:i=>{this.error=!0,fd.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}modal(t,i){switch(i){case"editar":this.editar=!0,this.editComp.init(t,!0);break;case"ver":this.ver=!0,this.verComp.init(t);break}}eliminar(t,i){fd.default.fire({title:"Esta por borrar una publicacion",text:'\xBFDesea borrar la publicacion: "'+t+'"?',showCancelButton:!0,confirmButtonText:"Borrar",confirmButtonColor:"red",cancelButtonText:"Atras"}).then(r=>{if(r.isConfirmed){let o={uuid:i,token:localStorage.getItem("token"),tipo:1};this.api.borrarEvento(o).subscribe({next:s=>{s.ok&&fd.default.fire({title:"Publicacion eliminada con exito",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),s.ok||fd.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),this.cargarEventos()},error:s=>{fd.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}})}static \u0275fac=function(i){return new(i||n)(ze(Xi))};static \u0275cmp=Lt({type:n,selectors:[["app-eventos"]],viewQuery:function(i,r){if(i&1&&(sr(r6,5),sr(o6,5)),i&2){let o;Gi(o=Ki())&&(r.editComp=o.first),Gi(o=Ki())&&(r.verComp=o.first)}},standalone:!0,features:[Ht],decls:95,vars:23,consts:[[1,"borderAzul","margin5","rounded","datoLote",2,"display","flex","flex-direction","column","align-items","center"],[2,"display","flex","width","100%","justify-content","space-between","align-items","center"],[2,"display","flex"],[1,"h1btn2"],[1,"boton","boton2","border","rounded","botones",2,"border-top-right-radius","0px","border-bottom-right-radius","0px",3,"click"],[1,"boton","boton2","border","rounded","botones",2,"border-bottom-left-radius","0px","border-top-left-radius","0px",3,"click"],[2,"border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%"],[2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%","align-items","center","border-right","none"],[1,"celda",2,"border-right","none","display","flex","width","100%"],[1,"col-3",2,"width","27.2%","border-right","1px solid rgb(48, 131, 220, 0.2)"],["type","text","placeholder","Ingrese un dato para buscar",1,"effect-1",2,"height","2rem","width","100%",3,"ngModelChange","ngModel"],[1,"focus-border2"],[1,"col-3",2,"width","10rem"],[1,"effect-1",2,"width","100%","height","2rem",3,"ngModelChange","ngModel"],["value","nombre","selected",""],["value","fecha_cierre"],["value","lotes"],["value","visitas"],["value","uuid"],[1,"border","rounded","boton","boton2","paginacion",2,"border-top-left-radius","0","border-bottom-left-radius","0",3,"click"],[2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%","align-items","center"],[1,"celda",2,"width","14rem"],[1,"celda",2,"width","20%"],[1,"celda","username",2,"width","10%"],[1,"celda","username",2,"width","12%"],[1,"celda","username",2,"width","8%"],[1,"celda","username",2,"width","5%"],[1,"celda",2,"border-right","none","display","flex","width","20%","justify-content","flex-end"],[1,"col-3",2,"width","60%"],[1,"effect-1",2,"width","100%","height","2rem",3,"ngModelChange","change","ngModel"],["value","_id","selected","","hidden",""],["value","home"],["value","eventos"],["value","_id"],[1,"col-3",2,"width","40%"],["value","1","selected",""],["value","-1"],["class","load",4,"ngIf"],[4,"ngIf"],["class","linea","style","display: flex; border-bottom: 1px solid rgb(48, 131, 220, 0.2); width: 100%;",4,"ngFor","ngForOf"],[2,"font-family","Avenir","margin-top","2%","display","flex","justify-content","flex-end","width","100%","align-items","center"],[2,"margin-right","2%","margin-left","2%"],[1,"border","rounded","boton","boton2","paginacion",2,"border-top-right-radius","0","border-bottom-right-radius","0",3,"click"],[1,"border","rounded","boton","boton2","paginacion",2,"border-top-right-radius","0","border-bottom-right-radius","0","border-top-left-radius","0","border-bottom-left-radius","0",3,"click"],[3,"messageEvent","ngClass"],[1,"load"],[1,"fa-solid","fa-spinner","ispinner",2,"font-size","3rem"],[1,"linea",2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%"],[1,"fa-solid",2,"font-size","larger","margin-right","1%",3,"ngClass"],[1,"celda",2,"border-right","none","display","flex","justify-content","flex-end","font-size","medium","padding-top","0.5%","padding-bottom","0.5%","width","20%"],[1,"fa-regular","fa-eye","boton2","border","rounded","ibtn",3,"click"],[1,"fa-solid","fa-pen-to-square","boton2","border","rounded","ibtn",3,"click"],[1,"fa-solid","fa-trash-can","boton2","border","rounded","ibtn",3,"click"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),U(4,"Publicaciones"),A()(),O(5,"div",2)(6,"button",4),ve("click",function(){return r.comunicados=!r.comunicados}),U(7,"Comunicados"),A(),O(8,"button",5),ve("click",function(){return r.crear=!r.crear}),U(9,"Crear publicacion"),A()()(),Ce(10,"div",6),O(11,"div",7)(12,"div",8)(13,"div",9)(14,"input",10),Je("ngModelChange",function(s){return Qe(r.datoBuscar,s)||(r.datoBuscar=s),s}),A(),Ce(15,"span",11),A(),O(16,"div",12)(17,"select",13),Je("ngModelChange",function(s){return Qe(r.tipoBuscar,s)||(r.tipoBuscar=s),s}),O(18,"option",14),U(19,"Nombre de la publicacion"),A(),O(20,"option",15),U(21,"Fecha de cierre"),A(),O(22,"option",16),U(23,"Nro. de lotes"),A(),O(24,"option",17),U(25,"Visitas"),A(),O(26,"option",18),U(27,"ID"),A()(),Ce(28,"span",11),A(),O(29,"button",19),ve("click",function(){return r.buscarDato()}),U(30,"Buscar"),A()()(),O(31,"div",20)(32,"div",21),U(33,"ID"),A(),O(34,"div",22),U(35,"Nombre de la publicaciones"),A(),O(36,"div",23),U(37,"Fecha de cierre"),A(),O(38,"div",24),U(39,"Mostrar en Home"),A(),O(40,"div",24),U(41,"Mostrar en Publicaciones"),A(),O(42,"div",25),U(43,"Nro. de lotes"),A(),O(44,"div",26),U(45,"Visitas"),A(),O(46,"div",26),U(47,"Estado"),A(),O(48,"div",27)(49,"div",28)(50,"select",29),Je("ngModelChange",function(s){return Qe(r.ordenar,s)||(r.ordenar=s),s}),ve("change",function(){return r.cargarEventos()}),O(51,"option",30),U(52,"Ordenar"),A(),O(53,"option",14),U(54,"Nombre de la publicacion"),A(),O(55,"option",15),U(56,"Fecha de cierre"),A(),O(57,"option",31),U(58,"Mostrar en home"),A(),O(59,"option",32),U(60,"Mostrar en Publicaciones"),A(),O(61,"option",16),U(62,"Nro. de lotes"),A(),O(63,"option",17),U(64,"Visitas"),A(),O(65,"option",33),U(66,"Default"),A()(),Ce(67,"span",11),A(),O(68,"div",34)(69,"select",29),Je("ngModelChange",function(s){return Qe(r.orden,s)||(r.orden=s),s}),ve("change",function(){return r.cargarEventos()}),O(70,"option",35),U(71,"Asc."),A(),O(72,"option",36),U(73,"Desc."),A()(),Ce(74,"span",11),A()()(),_t(75,Owe,3,0,"h2",37)(76,Rwe,2,0,"h2",38)(77,Nwe,2,0,"h2",38)(78,Lwe,21,14,"div",39),O(79,"div",40),U(80),O(81,"div",41)(82,"button",42),ve("click",function(){return r.principio()}),U(83,"Principio"),A(),O(84,"button",43),ve("click",function(){return r.atras()}),U(85,"Atras"),A(),O(86,"button",43),ve("click",function(){return r.siguiente()}),U(87,"Siguiente"),A(),O(88,"button",19),ve("click",function(){return r.final()}),U(89,"Final"),A()(),U(90),A()(),O(91,"app-crear-evento",44),ve("messageEvent",function(s){return r.handleMessage(s,"crear")}),A(),O(92,"app-editar-evento",44),ve("messageEvent",function(s){return r.handleMessage(s,"editar")}),A(),O(93,"app-ver-evento",44),ve("messageEvent",function(s){return r.handleMessage(s,"ver")}),A(),O(94,"app-comunicados",44),ve("messageEvent",function(s){return r.handleMessage(s,"comunicados")}),A()),i&2&&(ee(14),Xe("ngModel",r.datoBuscar),ee(3),Xe("ngModel",r.tipoBuscar),ee(33),Xe("ngModel",r.ordenar),ee(19),Xe("ngModel",r.orden),ee(6),fe("ngIf",!r.error&&r.total==-1),ee(),fe("ngIf",r.error),ee(),fe("ngIf",r.total==0),ee(),fe("ngForOf",r.Eventos),ee(2),Ai(" Pagina ",r.pagina+1," de ",r.pagU," "),ee(10),Ct(" Publicaciones totales: ",r.total," "),ee(),fe("ngClass",ht(15,TC,!r.crear)),ee(),fe("ngClass",ht(17,TC,!r.editar)),ee(),fe("ngClass",ht(19,TC,!r.ver)),ee(),fe("ngClass",ht(21,TC,!r.comunicados)))},dependencies:[sn,Zn,Ti,Rn,Hn,Cr,kr,mi,ar,oi,ti,XU,r6,o6,QU],styles:[".celda[_ngcontent-%COMP%]{border-right:1px solid rgb(48,131,220,.2);border-color:#3083dc33!important;width:16%;padding:1%;font-family:Avenir}.celda[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:2%}.linea[_ngcontent-%COMP%]{transition:all .5s linear}.linea[_ngcontent-%COMP%]:hover{background-color:#ff900033}.load[_ngcontent-%COMP%]{display:flex;align-items:center;width:20%;justify-content:space-around}.paginacion[_ngcontent-%COMP%]{height:2rem;width:6rem;font-size:medium}@media (max-width: 650px){.paginacion[_ngcontent-%COMP%]{width:3.5rem}}.paginacionof[_ngcontent-%COMP%]{height:2rem;width:8rem;font-size:medium}@media (max-width: 650px){.paginacionof[_ngcontent-%COMP%]{width:3.5rem}}.ibtn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:2rem}.ibtn[_ngcontent-%COMP%]:hover{cursor:pointer}.tooltip[_ngcontent-%COMP%]{position:relative}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;padding:.25em .5em;color:#fff;text-align:center;white-space:nowrap;position:absolute;z-index:1;top:-60%;left:-30%;transition-property:visibility;transition-delay:0s;font-family:avenir}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;transition-delay:.3s}.modal[_ngcontent-%COMP%]{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:7% auto;margin-top:7rem;padding:1%;border:1px solid var(--amarello);width:80%}@media (max-width: 1000px){.modal-content[_ngcontent-%COMP%]{width:97.5%!important}}.campoOferta[_ngcontent-%COMP%]{width:30rem}@media (max-width: 530px){.campoOferta[_ngcontent-%COMP%]{width:100%}}@media (max-width: 600px){.datoLote[_ngcontent-%COMP%]{font-size:smaller}}.icerrar[_ngcontent-%COMP%]{color:var(--amarello)}.icerrar[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--blue)}.borderAbajo[_ngcontent-%COMP%]{border-bottom:1px solid rgb(48,131,220,.2)}.marginCerrar[_ngcontent-%COMP%]{margin-right:5rem}@media (max-width: 1000px){.marginCerrar[_ngcontent-%COMP%]{margin-right:2rem}}.h1btn[_ngcontent-%COMP%]:hover{color:var(--amarello);cursor:pointer}.h1btn2[_ngcontent-%COMP%]{color:var(--amarello);text-decoration:underline}.none2[_ngcontent-%COMP%]{transform:scale3d(1,0,1);visibility:hidden;opacity:0}.campoUser[_ngcontent-%COMP%]{display:flex}@media (max-width: 650px){.campoUser[_ngcontent-%COMP%]{flex-wrap:wrap}.campoUser[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important}}"]})}return n})();var Fwe=n=>({oculto:n}),nH=n=>["/evento",n];function Bwe(n,e){n&1&&(O(0,"span"),U(1,"Inicie sesion para ver las publicaciones"),A())}function Vwe(n,e){n&1&&(O(0,"span"),U(1,"No hay publicaciones para mostrar"),A())}function jwe(n,e){n&1&&(O(0,"span"),U(1,"Su cuenta debe ser habilitada para ver las publicaciones"),A())}function zwe(n,e){n&1&&(O(0,"span"),U(1,"No hay publicaciones para mostrar"),A())}function Uwe(n,e){if(n&1&&(O(0,"div",15)(1,"button",16),U(2,"Ver publicacion"),A()()),n&2){let t=Re().$implicit;ee(),fe("routerLink",ht(1,nH,t.uuid))}}function Hwe(n,e){n&1&&(O(0,"div",15)(1,"span",17),U(2,"Proximamente"),A()())}function Wwe(n,e){if(n&1&&(O(0,"div",15)(1,"button",18),U(2,"Finalizado"),A()()),n&2){let t=Re().$implicit;ee(),fe("routerLink",ht(1,nH,t.uuid))}}function $we(n,e){if(n&1){let t=Ut();O(0,"div",5)(1,"div",6)(2,"span",7),ve("click",function(){let r=Pe(t).index,o=Re();return De(o.verImagen(r))}),Ce(3,"i",8),A(),Ce(4,"img",9),A(),O(5,"div",10),U(6),A(),O(7,"div",10),U(8),A(),O(9,"div",10),U(10),A(),O(11,"div",11)(12,"span",12),U(13),A(),O(14,"span",13),U(15),A()(),O(16,"div",10),U(17),A(),_t(18,Uwe,3,3,"div",14)(19,Hwe,3,0,"div",14)(20,Wwe,3,3,"div",14),A()}if(n&2){let t=e.$implicit;ee(4),In("src",t.img.img,Rr),ee(2),et(t.nombre),ee(2),Ct("Inicio: ",t.fecha_inicio,""),ee(2),Ct("Numero de lotes: ",t.lotes.length,""),ee(3),Ai("Vistos ",t.vistas.length,"/",t.lotes.length,""),ee(2),Ai("Ofertados ",t.ofertas.length,"/",t.lotes.length,""),ee(2),Ct("Modalidad: ",t.modalidad=="Remate"?"Licitacion":t.modalidad,""),ee(),fe("ngIf",t.estado==1),ee(),fe("ngIf",t.estado==0),ee(),fe("ngIf",t.estado==2)}}var iH=(()=>{class n{api;api2;Eventos=[];error=0;verImg=!1;imagenes=[];constructor(t,i){this.api=t,this.api2=i}handleMessage(t,i){this.verImg=t}verImagen(t){this.verImg=!0,this.imagenes=[],this.imagenes.push({link:this.Eventos[t].img.img,id:0})}ngOnInit(){if(localStorage.getItem("token")!=null){let t={flag:!0,dato:"eventos",token:localStorage.getItem("token"),modalidad:"",estado:2,tipo:1};this.api.cargarEvento(t).subscribe({next:i=>{i.ok&&(this.Eventos=i.evento),i.ok||(this.error=1),i.t&&i.t==3&&(this.error=3);for(let r=0;r<this.Eventos.length;r++)this.api2.cargarArchivo(this.Eventos[r].img.img,"evento").then(o=>{o!=!1&&(this.Eventos[r].img.img=o.url)})},error:i=>{this.error=i.error.ok?2:1}})}else this.error=1}static \u0275fac=function(i){return new(i||n)(ze(Xi),ze(Un))};static \u0275cmp=Lt({type:n,selectors:[["app-eventos"]],standalone:!0,features:[Ht],decls:8,vars:12,consts:[[1,"svh"],[1,"margin5",2,"width","100%","text-align","center","display","flex","flex-wrap","wrap","justify-content","center"],[4,"ngIf"],["class","borderAzul rounded","style","width: 25rem; margin: 1%; height: 25.85rem;",4,"ngFor","ngForOf"],[3,"messageEvent","ngClass","imagenes","imagen","verImg","botones"],[1,"borderAzul","rounded",2,"width","25rem","margin","1%","height","25.85rem"],[2,"width","100%","border-bottom","1px solid rgb(48, 131, 220, 0.2)","display","flex","flex-direction","column"],[1,"boton","boton2","glassAzul","border","rounded","colorWhite",2,"height","2.5rem","position","absolute","width","2.5rem","cursor","pointer","display","flex","align-items","center","justify-content","center","margin-left","0.4rem","margin-top","0.3rem",3,"click"],[1,"fa-solid","fa-maximize",2,"font-size","x-large"],["alt","",2,"height","200px","border-top-left-radius","12px","border-top-right-radius","12px",3,"src"],[2,"border-bottom","1px solid rgb(48, 131, 220, 0.2)","display","flex","align-items","center","justify-content","center","padding","0.5rem"],[2,"border-bottom","1px solid rgb(48, 131, 220, 0.2)","display","flex","align-items","center","justify-content","center"],[1,"glassAzul",2,"width","50%","border-right","1px solid rgb(48, 131, 220, 0.2)","padding","0.5rem"],[2,"background-color","greenyellow","width","50%","padding","0.5rem"],["style","width: 100%;",4,"ngIf"],[2,"width","100%"],[1,"rounded","boton",2,"width","100%","border","none","border-top-left-radius","0%","border-top-right-radius","0%","height","2rem",3,"routerLink"],[1,"rounded","glassAzul","colorWhite",2,"display","flex","width","100%","border","none","border-top-left-radius","0%","border-top-right-radius","0%","height","2rem","justify-content","center","align-items","center","font-family","Avenir"],[1,"rounded","boton","boton2",2,"width","100%","border","none","border-top-left-radius","0%","border-top-right-radius","0%","height","2rem",3,"routerLink"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"div",1),_t(2,Bwe,2,0,"span",2)(3,Vwe,2,0,"span",2)(4,jwe,2,0,"span",2)(5,zwe,2,0,"span",2)(6,$we,21,12,"div",3),A()(),O(7,"app-ver-imagen",4),ve("messageEvent",function(s){return r.handleMessage(s,"crear")}),A()),i&2&&(ee(2),fe("ngIf",r.error==1),ee(),fe("ngIf",r.error==2),ee(),fe("ngIf",r.error==3),ee(),fe("ngIf",r.Eventos.length==0&&r.error==0),ee(),fe("ngForOf",r.Eventos),ee(),fe("ngClass",ht(10,Fwe,!r.verImg))("imagenes",r.imagenes)("imagen",0)("verImg",r.verImg)("botones",!1))},dependencies:[sn,Zn,Ti,Rn,ya,_l,qc],styles:[".cuadro[_ngcontent-%COMP%]{font-size:large;text-align:center;width:15rem;align-content:center;height:2rem;background-color:var(--white)}@media (max-width: 560px){.cuadro[_ngcontent-%COMP%]{font-size:small}}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;height:3rem}i[_ngcontent-%COMP%]{height:3rem;text-align:center;display:flex;align-items:center;justify-content:center;width:10%;cursor:pointer}i[_ngcontent-%COMP%]:hover{background-color:#4e4e4e;transition:all .2s linear}.bgblack[_ngcontent-%COMP%]{background-color:var(--black);color:var(--white)}.bgwhite[_ngcontent-%COMP%]{background-color:var(--white);color:var(--black)}.col-3[_ngcontent-%COMP%]{width:50%}@media (max-width: 1000px){.col-3[_ngcontent-%COMP%]{width:100%}}h1[_ngcontent-%COMP%]{text-decoration:underline;color:var(--blue)}@media (max-width: 500px){h1[_ngcontent-%COMP%]{font-size:x-large}}.mitad[_ngcontent-%COMP%]{width:50%}.mitad[_ngcontent-%COMP%]   .col-3[_ngcontent-%COMP%]{width:100%}@media (max-width: 1000px){.mitad[_ngcontent-%COMP%]{width:100%}}.boton2[_ngcontent-%COMP%]:hover{background-color:var(--blue)}.linea[_ngcontent-%COMP%]{display:flex;margin-bottom:2%}@media (max-width: 1000px){.linea[_ngcontent-%COMP%]{flex-direction:column}}.acceso[_ngcontent-%COMP%]{display:flex}@media (max-width: 1000px){.acceso[_ngcontent-%COMP%]{flex-direction:column}}"]})}return n})();var Q0=Qr(Eo());var jo=Qr(Eo());var IC=(()=>{let e=class e{constructor(){this._listeners=[]}notify(i,r){for(let o of this._listeners)o(i,r)}listen(i){return this._listeners.push(i),()=>{this._listeners=this._listeners.filter(r=>i!==r)}}ngOnDestroy(){this._listeners=[]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var oH=new jt("CdkAccordion");var qwe=0,sH=(()=>{let e=class e{get expanded(){return this._expanded}set expanded(i){if(this._expanded!==i){if(this._expanded=i,this.expandedChange.emit(i),i){this.opened.emit();let r=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,r)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}constructor(i,r,o){this.accordion=i,this._changeDetectorRef=r,this._expansionDispatcher=o,this._openCloseAllSubscription=hr.EMPTY,this.closed=new tn,this.opened=new tn,this.destroyed=new tn,this.expandedChange=new tn,this.id=`cdk-accordion-child-${qwe++}`,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=o.listen((s,a)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===a&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(i=>{this.disabled||(this.expanded=i)})}};e.\u0275fac=function(r){return new(r||e)(ze(oH,12),ze(Do),ze(IC))},e.\u0275dir=ki({type:e,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",Yo],disabled:[2,"disabled","disabled",Yo]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[ko([{provide:oH,useValue:void 0}]),Vu]});let n=e;return n})(),aH=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ui({type:e}),e.\u0275inj=zi({});let n=e;return n})();var jv=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},s6=class extends jv{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}},zv=class extends jv{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},a6=class extends jv{constructor(e){super(),this.element=e instanceof qi?e.nativeElement:e}},l6=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof s6)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof zv)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof a6)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var lH=(()=>{let e=class e extends l6{constructor(i,r,o){super(),this._componentFactoryResolver=i,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new tn,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(l,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(i){i.setAttachedHost(this);let r=i.viewContainerRef!=null?i.viewContainerRef:this._viewContainerRef,s=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),a=r.createComponent(s,r.length,i.injector||r.injector,i.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=i,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(i){i.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}};e.\u0275fac=function(r){return new(r||e)(ze(sh),ze(bl),ze(Zi))},e.\u0275dir=ki({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ko]});let n=e;return n})();var cH=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ui({type:e}),e.\u0275inj=zi({});let n=e;return n})();var u6;try{u6=typeof Intl<"u"&&Intl.v8BreakIterator}catch{u6=!1}var md=(()=>{let e=class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?$b(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||u6)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(Tt(va))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Uv;function Kwe(){if(Uv==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Uv=!0}))}finally{Uv=Uv||!1}return Uv}function H0(n){return Kwe()?n:!!n.capture}var c6;function Zwe(){if(c6==null){let n=typeof document<"u"?document.head:null;c6=!!(n&&(n.createShadowRoot||n.attachShadow))}return c6}function uH(n){if(Zwe()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function rf(n){return n.composedPath?n.composedPath()[0]:n.target}function dH(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function hH(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function h6(n){return n!=null&&`${n}`!="false"}function fH(n,e=0){return Ywe(n)?Number(n):e}function Ywe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function f6(n){return Array.isArray(n)?n:[n]}function Pm(n){return n instanceof qi?n.nativeElement:n}var mH=new Set,Dm,Xwe=(()=>{let e=class e{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Qwe}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&Jwe(i,this._nonce),this._matchMedia(i)}};e.\u0275fac=function(r){return new(r||e)(Tt(md),Tt(Vb,8))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Jwe(n,e){if(!mH.has(n))try{Dm||(Dm=document.createElement("style"),e&&(Dm.nonce=e),Dm.setAttribute("type","text/css"),document.head.appendChild(Dm)),Dm.sheet&&(Dm.sheet.insertRule(`@media ${n} {body{ }}`,0),mH.add(n))}catch(t){console.error(t)}}function Qwe(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var gH=(()=>{let e=class e{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new ji}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return pH(f6(i)).some(o=>this._registerQuery(o).mql.matches)}observe(i){let o=pH(f6(i)).map(a=>this._registerQuery(a).observable),s=Af(o);return s=Yd(s.pipe(ua(1)),s.pipe(yb(1),ny(0))),s.pipe(jn(a=>{let l={matches:!1,breakpoints:{}};return a.forEach(({matches:c,query:u})=>{l.matches=l.matches||c,l.breakpoints[u]=c}),l}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let r=this._mediaMatcher.matchMedia(i),s={observable:new _i(a=>{let l=c=>this._zone.run(()=>a.next(c));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(Pu(r),jn(({matches:a})=>({query:i,matches:a})),If(this._destroySubject)),mql:r};return this._queries.set(i,s),s}};e.\u0275fac=function(r){return new(r||e)(Tt(Xwe),Tt(fi))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function pH(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function p6(n){return n.buttons===0||n.detail===0}function g6(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var eye=new jt("cdk-input-modality-detector-options"),tye={ignoreKeys:[18,17,224,91,16]},wH=650,W0=H0({passive:!0,capture:!0}),nye=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(i,r,o,s){this._platform=i,this._mostRecentTarget=null,this._modality=new go(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(l=>l===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=rf(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<wH||(this._modality.next(p6(a)?"keyboard":"mouse"),this._mostRecentTarget=rf(a))},this._onTouchstart=a=>{if(g6(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=rf(a)},this._options=Be(Be({},tye),s),this.modalityDetected=this._modality.pipe(yb(1)),this.modalityChanged=this.modalityDetected.pipe(wb()),i.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,W0),o.addEventListener("mousedown",this._onMousedown,W0),o.addEventListener("touchstart",this._onTouchstart,W0)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,W0),document.removeEventListener("mousedown",this._onMousedown,W0),document.removeEventListener("touchstart",this._onTouchstart,W0))}};e.\u0275fac=function(r){return new(r||e)(Tt(md),Tt(fi),Tt(Zi),Tt(eye,8))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var iye=new jt("cdk-focus-monitor-default-options"),MC=H0({passive:!0,capture:!0}),yH=(()=>{let e=class e{constructor(i,r,o,s,a){this._ngZone=i,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ji,this._rootNodeFocusAndBlurListener=l=>{let c=rf(l);for(let u=c;u;u=u.parentElement)l.type==="focus"?this._onFocus(l,u):this._onBlur(l,u)},this._document=s,this._detectionMode=a?.detectionMode||0}monitor(i,r=!1){let o=Pm(i);if(!this._platform.isBrowser||o.nodeType!==1)return En();let s=uH(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return r&&(a.checkChildren=!0),a.subject;let l={checkChildren:r,subject:new ji,rootNode:s};return this._elementInfo.set(o,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(i){let r=Pm(i),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(i,r,o){let s=Pm(i),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([l,c])=>this._originChanged(l,r,c)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((i,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===1||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,r){i.classList.toggle("cdk-focused",!!r),i.classList.toggle("cdk-touch-focused",r==="touch"),i.classList.toggle("cdk-keyboard-focused",r==="keyboard"),i.classList.toggle("cdk-mouse-focused",r==="mouse"),i.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(i,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=i,this._originFromTouchInteraction=i==="touch"&&r,this._detectionMode===0){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?wH:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(i,r){let o=this._elementInfo.get(r),s=rf(i);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(i,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&i.relatedTarget instanceof Node&&r.contains(i.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(i,r){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(r))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;let r=i.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,MC),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,MC)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(If(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(i){let r=i.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,MC),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,MC),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,r,o){this._setClasses(i,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(i){let r=[];return this._elementInfo.forEach((o,s)=>{(s===i||o.checkChildren&&s.contains(i))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(i){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===i||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA"||i.disabled)return!1;let s=i.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(r))return!0}return!1}};e.\u0275fac=function(r){return new(r||e)(Tt(fi),Tt(md),Tt(nye),Tt(Zi,8),Tt(iye,8))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var bH="cdk-high-contrast-black-on-white",vH="cdk-high-contrast-white-on-black",m6="cdk-high-contrast-active",_H=(()=>{let e=class e{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=At(gH).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(i):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(i.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(m6,bH,vH),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===1?i.add(m6,bH):r===2&&i.add(m6,vH)}}};e.\u0275fac=function(r){return new(r||e)(Tt(md),Tt(Zi))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var b6=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ui({type:e}),e.\u0275inj=zi({});let n=e;return n})();var ai=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(ai||{}),pu="*";function v6(n,e){return{type:ai.Trigger,name:n,definitions:e,options:{}}}function w6(n,e=null){return{type:ai.Animate,styles:e,timings:n}}function CH(n,e=null){return{type:ai.Sequence,steps:n,options:e}}function sf(n){return{type:ai.Style,styles:n,offset:null}}function Wv(n,e,t){return{type:ai.State,name:n,styles:e,options:t}}function y6(n,e,t=null){return{type:ai.Transition,expr:n,animation:e,options:t}}var of=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Hv=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((t,i)=>t===null||i.totalTime>t.totalTime?i:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},PC="!";function kH(n){return new Ot(3e3,!1)}function rye(){return new Ot(3100,!1)}function oye(){return new Ot(3101,!1)}function sye(n){return new Ot(3001,!1)}function aye(n){return new Ot(3003,!1)}function lye(n){return new Ot(3004,!1)}function cye(n,e){return new Ot(3005,!1)}function uye(){return new Ot(3006,!1)}function dye(){return new Ot(3007,!1)}function hye(n,e){return new Ot(3008,!1)}function fye(n){return new Ot(3002,!1)}function mye(n,e,t,i,r){return new Ot(3010,!1)}function pye(){return new Ot(3011,!1)}function gye(){return new Ot(3012,!1)}function bye(){return new Ot(3200,!1)}function vye(){return new Ot(3202,!1)}function wye(){return new Ot(3013,!1)}function yye(n){return new Ot(3014,!1)}function _ye(n){return new Ot(3015,!1)}function xye(n){return new Ot(3016,!1)}function Cye(n,e){return new Ot(3404,!1)}function kye(n){return new Ot(3502,!1)}function Eye(n){return new Ot(3503,!1)}function Sye(){return new Ot(3300,!1)}function Aye(n){return new Ot(3504,!1)}function Tye(n){return new Ot(3301,!1)}function Iye(n,e){return new Ot(3302,!1)}function Mye(n){return new Ot(3303,!1)}function Pye(n,e){return new Ot(3400,!1)}function Dye(n){return new Ot(3401,!1)}function Oye(n){return new Ot(3402,!1)}function Rye(n,e){return new Ot(3505,!1)}function af(n){switch(n.length){case 0:return new of;case 1:return n[0];default:return new Hv(n)}}function BH(n,e,t=new Map,i=new Map){let r=[],o=[],s=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),u=c==s,d=u&&a||new Map;l.forEach((f,h)=>{let m=h,p=f;if(h!=="offset")switch(m=n.normalizePropertyName(m,r),p){case PC:p=t.get(h);break;case pu:p=i.get(h);break;default:p=n.normalizeStyleValue(h,m,p,r);break}d.set(m,p)}),u||o.push(d),a=d,s=c}),r.length)throw kye(r);return o}function H6(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&_6(t,"start",n)));break;case"done":n.onDone(()=>i(t&&_6(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&_6(t,"destroy",n)));break}}function _6(n,e,t){let i=t.totalTime,r=!!t.disabled,o=W6(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i??n.totalTime,r),s=n._data;return s!=null&&(o._data=s),o}function W6(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Ka(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function EH(n){let e=n.indexOf(":"),t=n.substring(1,e),i=n.slice(e+1);return[t,i]}var Nye=typeof document>"u"?null:document.documentElement;function $6(n){let e=n.parentNode||n.host||null;return e===Nye?null:e}function Lye(n){return n.substring(1,6)=="ebkit"}var Om=null,SH=!1;function Fye(n){Om||(Om=Bye()||{},SH=Om.style?"WebkitAppearance"in Om.style:!1);let e=!0;return Om.style&&!Lye(n)&&(e=n in Om.style,!e&&SH&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Om.style)),e}function Bye(){return typeof document<"u"?document.body:null}function VH(n,e){for(;e;){if(e===n)return!0;e=$6(e)}return!1}function jH(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let i=n.querySelector(e);return i?[i]:[]}var q6=(()=>{let e=class e{validateStyleProperty(i){return Fye(i)}containsElement(i,r){return VH(i,r)}getParentElement(i){return $6(i)}query(i,r,o){return jH(i,r,o)}computeStyle(i,r,o){return o||""}animate(i,r,o,s,a,l=[],c){return new of(o,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Nt({token:e,factory:e.\u0275fac});let n=e;return n})(),Y6=class Y6{};Y6.NOOP=new q6;var Lm=Y6,Fm=class{};var Vye=1e3,zH="{{",jye="}}",UH="ng-enter",A6="ng-leave",DC="ng-trigger",FC=".ng-trigger",AH="ng-animating",T6=".ng-animating";function pd(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:I6(parseFloat(e[1]),e[2])}function I6(n,e){switch(e){case"s":return n*Vye;default:return n}}function BC(n,e,t){return n.hasOwnProperty("duration")?n:zye(n,e,t)}function zye(n,e,t){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof n=="string"){let a=n.match(i);if(a===null)return e.push(kH(n)),{duration:0,delay:0,easing:""};r=I6(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=I6(parseFloat(l),a[4]));let c=a[5];c&&(s=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(rye()),a=!0),o<0&&(e.push(oye()),a=!0),a&&e.splice(l,0,kH(n))}return{duration:r,delay:o,easing:s}}function Uye(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function gu(n,e,t){e.forEach((i,r)=>{let o=G6(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function Nm(n,e){e.forEach((t,i)=>{let r=G6(i);n.style[r]=""})}function $v(n){return Array.isArray(n)?n.length==1?n[0]:CH(n):n}function Hye(n,e,t){let i=e.params||{},r=HH(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(sye(o))})}var M6=new RegExp(`${zH}\\s*(.+?)\\s*${jye}`,"g");function HH(n){let e=[];if(typeof n=="string"){let t;for(;t=M6.exec(n);)e.push(t[1]);M6.lastIndex=0}return e}function Gv(n,e,t){let i=`${n}`,r=i.replace(M6,(o,s)=>{let a=e[s];return a==null&&(t.push(aye(s)),a=""),a.toString()});return r==i?n:r}var Wye=/-+([a-z0-9])/g;function G6(n){return n.replace(Wye,(...e)=>e[1].toUpperCase())}function $ye(n,e){return n===0||e===0}function qye(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,K6(n,a)))}}return e}function Ga(n,e,t){switch(e.type){case ai.Trigger:return n.visitTrigger(e,t);case ai.State:return n.visitState(e,t);case ai.Transition:return n.visitTransition(e,t);case ai.Sequence:return n.visitSequence(e,t);case ai.Group:return n.visitGroup(e,t);case ai.Animate:return n.visitAnimate(e,t);case ai.Keyframes:return n.visitKeyframes(e,t);case ai.Style:return n.visitStyle(e,t);case ai.Reference:return n.visitReference(e,t);case ai.AnimateChild:return n.visitAnimateChild(e,t);case ai.AnimateRef:return n.visitAnimateRef(e,t);case ai.Query:return n.visitQuery(e,t);case ai.Stagger:return n.visitStagger(e,t);default:throw lye(e.type)}}function K6(n,e){return window.getComputedStyle(n)[e]}var Gye=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),VC=class extends Fm{normalizePropertyName(e,t){return G6(e)}normalizeStyleValue(e,t,i,r){let o="",s=i.toString().trim();if(Gye.has(t)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(cye(e,i))}return s+o}};var jC="*";function Kye(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>Zye(i,t,e)):t.push(n),t}function Zye(n,e,t){if(n[0]==":"){let l=Yye(n,t);if(typeof l=="function"){e.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(_ye(n)),e;let r=i[1],o=i[2],s=i[3];e.push(TH(r,s));let a=r==jC&&s==jC;o[0]=="<"&&!a&&e.push(TH(s,r))}function Yye(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(xye(n)),"* => *"}}var OC=new Set(["true","1"]),RC=new Set(["false","0"]);function TH(n,e){let t=OC.has(n)||RC.has(n),i=OC.has(e)||RC.has(e);return(r,o)=>{let s=n==jC||n==r,a=e==jC||e==o;return!s&&t&&typeof r=="boolean"&&(s=r?OC.has(n):RC.has(n)),!a&&i&&typeof o=="boolean"&&(a=o?OC.has(e):RC.has(e)),s&&a}}var WH=":self",Xye=new RegExp(`s*${WH}s*,?`,"g");function $H(n,e,t,i){return new P6(n).build(e,t,i)}var IH="",P6=class{constructor(e){this._driver=e}build(e,t,i){let r=new D6(t);return this._resetContextStyleTimingState(r),Ga(this,$v(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=IH,e.collectedStyles=new Map,e.collectedStyles.set(IH,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(uye()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==ai.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,t))}),l.name=c}else if(a.type==ai.Transition){let l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,s.push(l)}else t.errors.push(dye())}),{type:ai.Trigger,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{HH(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&t.errors.push(hye(e.name,[...o.values()]))}return{type:ai.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=Ga(this,$v(e.animation),t),r=Kye(e.expr,t.errors);return{type:ai.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Rm(e.options)}}visitSequence(e,t){return{type:ai.Sequence,steps:e.steps.map(i=>Ga(this,i,t)),options:Rm(e.options)}}visitGroup(e,t){let i=t.currentTime,r=0,o=e.steps.map(s=>{t.currentTime=i;let a=Ga(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:ai.Group,steps:o,options:Rm(e.options)}}visitAnimate(e,t){let i=t2e(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:sf({});if(o.type==ai.Keyframes)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let c={};i.easing&&(c.easing=i.easing),s=sf(c)}t.currentTime+=i.duration+i.delay;let l=this.visitStyle(s,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:ai.Animate,timings:i,style:r,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===pu?i.push(a):t.errors.push(fye(a)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(zH)>=0){o=!0;break}}}),{type:ai.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l),d=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(t.errors.push(mye(l,u.startTime,u.endTime,o,r)),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:r}),t.options&&Hye(a,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:ai.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(pye()),i;let r=1,o=0,s=[],a=!1,l=!1,c=0,u=e.steps.map(v=>{let x=this._makeStyleAst(v,t),I=x.offset!=null?x.offset:e2e(x.styles),N=0;return I!=null&&(o++,N=x.offset=I),l=l||N<0||N>1,a=a||N<c,c=N,s.push(N),x});l&&t.errors.push(gye()),a&&t.errors.push(bye());let d=e.steps.length,f=0;o>0&&o<d?t.errors.push(vye()):o==0&&(f=r/(d-1));let h=d-1,m=t.currentTime,p=t.currentAnimateTimings,g=p.duration;return u.forEach((v,x)=>{let I=f>0?x==h?1:f*x:s[x],N=I*g;t.currentTime=m+p.delay+N,p.duration=N,this._validateStyleAst(v,t),v.offset=I,i.styles.push(v)}),i}visitReference(e,t){return{type:ai.Reference,animation:Ga(this,$v(e.animation),t),options:Rm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:ai.AnimateChild,options:Rm(e.options)}}visitAnimateRef(e,t){return{type:ai.AnimateRef,animation:this.visitReference(e.animation,t),options:Rm(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=Jye(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,Ka(t.collectedStyles,t.currentQuerySelector,new Map);let a=Ga(this,$v(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:ai.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Rm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(wye());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:BC(e.timings,t.errors,!0);return{type:ai.Stagger,animation:Ga(this,$v(e.animation),t),timings:i,options:null}}};function Jye(n){let e=!!n.split(/\s*,\s*/).find(t=>t==WH);return e&&(n=n.replace(Xye,"")),n=n.replace(/@\*/g,FC).replace(/@\w+/g,t=>FC+"-"+t.slice(1)).replace(/:animating/g,T6),[n,e]}function Qye(n){return n?Be({},n):null}var D6=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function e2e(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function t2e(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=BC(n,e).duration;return x6(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=x6(0,0,"");return o.dynamic=!0,o.strValue=t,o}let r=BC(t,e);return x6(r.duration,r.delay,r.easing)}function Rm(n){return n?(n=Be({},n),n.params&&(n.params=Qye(n.params))):n={},n}function x6(n,e,t){return{duration:n,delay:e,easing:t}}function Z6(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var Kv=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},n2e=1,i2e=":enter",r2e=new RegExp(i2e,"g"),o2e=":leave",s2e=new RegExp(o2e,"g");function qH(n,e,t,i,r,o=new Map,s=new Map,a,l,c=[]){return new O6().buildKeyframes(n,e,t,i,r,o,s,a,l,c)}var O6=class{buildKeyframes(e,t,i,r,o,s,a,l,c,u=[]){c=c||new Kv;let d=new R6(e,t,c,r,o,u,[]);d.options=l;let f=l.delay?pd(l.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([s],null,d.errors,l),Ga(this,i,d);let h=d.timelines.filter(m=>m.containsAnimation());if(h.length&&a.size){let m;for(let p=h.length-1;p>=0;p--){let g=h[p];if(g.element===t){m=g;break}}m&&!m.allowOnlyTimelineStyles()&&m.setStyles([a],null,d.errors,l)}return h.length?h.map(m=>m.buildKeyframes()):[Z6(t,[],[],[],0,f,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let r of e){let o=r?.delay;if(o){let s=typeof o=="number"?o:pd(Gv(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime,s=i.duration!=null?pd(i.duration):null,a=i.delay!=null?pd(i.delay):null;return s!==0&&e.forEach(l=>{let c=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Ga(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,r=t,o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==ai.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=zC);let s=pd(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Ga(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],r=t.currentTimeline.currentTime,o=e.options&&e.options.delay?pd(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),Ga(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,r=t.params?Gv(i,t.params,t.errors):i;return BC(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());let o=e.style;o.type==ai.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?pd(r.delay):0;o&&(t.previousNode.type===ai.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=zC);let s=i,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;let d=t.createSubContext(e.options,c);o&&d.delayNextStep(o),c===t.element&&(l=d.currentTimeline),Ga(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let f=d.currentTimeline.currentTime;s=Math.max(s,f)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let u=t.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;Ga(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}},zC={},R6=class n{constructor(e,t,i,r,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new UC(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=pd(i.duration)),i.delay!=null&&(r.delay=pd(i.delay));let o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Gv(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){let r=t||this.element,o=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=zC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new N6(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(r2e,"."+this._enterClassName),e=e.replace(s2e,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,e,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&a.length==0&&s.push(yye(t)),a}},UC=class n{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=n2e,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||pu),this._currentKeyframe.set(t,pu);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);let o=r&&r.params||{},s=a2e(e,this._globalTimelineStyles);for(let[a,l]of s){let c=Gv(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??pu),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{u===PC?e.add(d):u===pu&&t.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});let o=[...e.values()],s=[...t.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return Z6(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},N6=class extends UC{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=i+t,a=t/s,l=new Map(e[0]);l.set("offset",0),o.push(l);let c=new Map(e[0]);c.set("offset",MH(a)),o.push(c);let u=e.length-1;for(let d=1;d<=u;d++){let f=new Map(e[d]),h=f.get("offset"),m=t+h*i;f.set("offset",MH(m/s)),o.push(f)}i=s,t=0,r="",e=o}return Z6(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}};function MH(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function a2e(n,e){let t=new Map,i;return n.forEach(r=>{if(r==="*"){i??=e.keys();for(let o of i)t.set(o,pu)}else for(let[o,s]of r)t.set(o,s)}),t}function PH(n,e,t,i,r,o,s,a,l,c,u,d,f){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:f}}var C6={},HC=class{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return l2e(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,l,c,u){let d=[],f=this.ast.options&&this.ast.options.params||C6,h=a&&a.params||C6,m=this.buildStyles(i,h,d),p=l&&l.params||C6,g=this.buildStyles(r,p,d),v=new Set,x=new Map,I=new Map,N=r==="void",H={params:GH(p,f),delay:this.ast.options?.delay},F=u?[]:qH(e,t,this.ast.animation,o,s,m,g,H,c,d),B=0;return F.forEach(V=>{B=Math.max(V.duration+V.delay,B)}),d.length?PH(t,this._triggerName,i,r,N,m,g,[],[],x,I,B,d):(F.forEach(V=>{let G=V.element,W=Ka(x,G,new Set);V.preStyleProps.forEach(E=>W.add(E));let k=Ka(I,G,new Set);V.postStyleProps.forEach(E=>k.add(E)),G!==t&&v.add(G)}),PH(t,this._triggerName,i,r,N,m,g,F,[...v.values()],x,I,B))}};function l2e(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}function GH(n,e){let t=Be({},e);return Object.entries(n).forEach(([i,r])=>{r!=null&&(t[i]=r)}),t}var L6=class{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,r=GH(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Gv(s,r,t));let l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),i.set(a,s)})}),i}};function c2e(n,e,t){return new F6(n,e,t)}var F6=class{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new L6(r.style,o,i))}),DH(this.states,"true","1"),DH(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new HC(e,r,this.states))}),this.fallbackTransition=u2e(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function u2e(n,e,t){let i=[(s,a)=>!0],r={type:ai.Sequence,steps:[],options:null},o={type:ai.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new HC(n,o,e)}function DH(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var d2e=new Kv,B6=class{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let i=[],r=[],o=$H(this._driver,t,i,r);if(i.length)throw Eye(i);r.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,t,i){let r=e.element,o=BH(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let r=[],o=this._animations.get(e),s,a=new Map;if(o?(s=qH(this._driver,t,o,UH,A6,new Map,new Map,i,d2e,r),s.forEach(u=>{let d=Ka(a,u.element,new Map);u.postStyleProps.forEach(f=>d.set(f,null))})):(r.push(Sye()),s=[]),r.length)throw Aye(r);a.forEach((u,d)=>{u.forEach((f,h)=>{u.set(h,this._driver.computeStyle(d,h,pu))})});let l=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=af(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw Tye(e);return t}listen(e,t,i,r){let o=W6(t,"","","");return H6(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let s=r[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},OH="ng-animate-queued",h2e=".ng-animate-queued",k6="ng-animate-disabled",f2e=".ng-animate-disabled",m2e="ng-star-inserted",p2e=".ng-star-inserted",g2e=[],KH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},b2e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},gc="__ng_removed",Zv=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=w2e(r),i){let o=e,{value:s}=o,a=Au(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(r=>{i[r]==null&&(i[r]=t[r])})}}},qv="void",E6=new Zv(qv),V6=class{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Rl(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw Iye(i,t);if(i==null||i.length==0)throw Mye(t);if(!y2e(i))throw Pye(i,t);let o=Ka(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);let a=Ka(this._engine.statesByElement,e,new Map);return a.has(t)||(Rl(e,DC),Rl(e,DC+"-"+t),a.set(t,E6)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw Dye(e);return t}trigger(e,t,i,r=!0){let o=this._getTrigger(t),s=new Yv(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Rl(e,DC),Rl(e,DC+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),c=new Zv(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=E6),!(c.value===qv)&&l.value===c.value){if(!C2e(l.params,c.params)){let p=[],g=o.matchStyles(l.value,l.params,p),v=o.matchStyles(c.value,c.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush(()=>{Nm(e,g),gu(e,v)})}return}let f=Ka(this._engine.playersByElement,e,[]);f.forEach(p=>{p.namespaceId==this.id&&p.triggerName==t&&p.queued&&p.destroy()});let h=o.matchTransition(l.value,c.value,e,c.params),m=!1;if(!h){if(!r)return;h=o.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:l,toState:c,player:s,isFallbackTransition:m}),m||(Rl(e,OH),s.onStart(()=>{$0(e,OH)})),s.onDone(()=>{let p=this.players.indexOf(s);p>=0&&this.players.splice(p,1);let g=this._engine.playersByElement.get(e);if(g){let v=g.indexOf(s);v>=0&&g.splice(v,1)}}),this.players.push(s),f.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,FC,!0);i.forEach(r=>{if(r[gc])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let u=this.trigger(e,c,qv,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&af(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let r=new Set;t.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let l=this._triggers.get(s).fallbackTransition,c=i.get(s)||E6,u=new Zv(qv),d=new Yv(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{let o=e[gc];(!o||o===KH)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Rl(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){let l=W6(o,i.triggerName,i.fromState.value,i.toState.value);l._data=e,H6(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{let o=i.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},j6=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new V6(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let l=r.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}}return t}trigger(e,t,i,r){if(NC(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!NC(t))return;let o=t[gc];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Rl(e,k6)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),$0(e,k6))}removeNode(e,t,i){if(NC(t)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[gc]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return NC(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,FC,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,T6,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return af(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[gc];if(t&&t.setForRemoval){if(e[gc]=KH,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(k6)&&this.markElementAsDisabled(e,!1),this.driver.query(e,f2e,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Rl(r,m2e)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?af(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw Oye(e)}_flushAnimations(e,t){let i=new Kv,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(_=>{u.add(_);let y=this.driver.query(_,h2e,!0);for(let C=0;C<y.length;C++)u.add(y[C])});let d=this.bodyNode,f=Array.from(this.statesByElement.keys()),h=LH(f,this.collectedEnterElements),m=new Map,p=0;h.forEach((_,y)=>{let C=UH+p++;m.set(y,C),_.forEach(S=>Rl(S,C))});let g=[],v=new Set,x=new Set;for(let _=0;_<this.collectedLeaveElements.length;_++){let y=this.collectedLeaveElements[_],C=y[gc];C&&C.setForRemoval&&(g.push(y),v.add(y),C.hasAnimation?this.driver.query(y,p2e,!0).forEach(S=>v.add(S)):x.add(y))}let I=new Map,N=LH(f,Array.from(v));N.forEach((_,y)=>{let C=A6+p++;I.set(y,C),_.forEach(S=>Rl(S,C))}),e.push(()=>{h.forEach((_,y)=>{let C=m.get(y);_.forEach(S=>$0(S,C))}),N.forEach((_,y)=>{let C=I.get(y);_.forEach(S=>$0(S,C))}),g.forEach(_=>{this.processLeaveNode(_)})});let H=[],F=[];for(let _=this._namespaceList.length-1;_>=0;_--)this._namespaceList[_].drainQueuedTransitions(t).forEach(C=>{let S=C.player,R=C.element;if(H.push(S),this.collectedEnterElements.length){let M=R[gc];if(M&&M.setForMove){if(M.previousTriggersValues&&M.previousTriggersValues.has(C.triggerName)){let $=M.previousTriggersValues.get(C.triggerName),te=this.statesByElement.get(C.element);if(te&&te.has(C.triggerName)){let ue=te.get(C.triggerName);ue.value=$,te.set(C.triggerName,ue)}}S.destroy();return}}let Z=!d||!this.driver.containsElement(d,R),j=I.get(R),X=m.get(R),D=this._buildInstruction(C,i,X,j,Z);if(D.errors&&D.errors.length){F.push(D);return}if(Z){S.onStart(()=>Nm(R,D.fromStyles)),S.onDestroy(()=>gu(R,D.toStyles)),r.push(S);return}if(C.isFallbackTransition){S.onStart(()=>Nm(R,D.fromStyles)),S.onDestroy(()=>gu(R,D.toStyles)),r.push(S);return}let Y=[];D.timelines.forEach(M=>{M.stretchStartingKeyframe=!0,this.disabledNodes.has(M.element)||Y.push(M)}),D.timelines=Y,i.append(R,D.timelines);let P={instruction:D,player:S,element:R};s.push(P),D.queriedElements.forEach(M=>Ka(a,M,[]).push(S)),D.preStyleProps.forEach((M,$)=>{if(M.size){let te=l.get($);te||l.set($,te=new Set),M.forEach((ue,re)=>te.add(re))}}),D.postStyleProps.forEach((M,$)=>{let te=c.get($);te||c.set($,te=new Set),M.forEach((ue,re)=>te.add(re))})});if(F.length){let _=[];F.forEach(y=>{_.push(Rye(y.triggerName,y.errors))}),H.forEach(y=>y.destroy()),this.reportError(_)}let B=new Map,V=new Map;s.forEach(_=>{let y=_.element;i.has(y)&&(V.set(y,y),this._beforeAnimationBuild(_.player.namespaceId,_.instruction,B))}),r.forEach(_=>{let y=_.element;this._getPreviousPlayers(y,!1,_.namespaceId,_.triggerName,null).forEach(S=>{Ka(B,y,[]).push(S),S.destroy()})});let G=g.filter(_=>FH(_,l,c)),W=new Map;NH(W,this.driver,x,c,pu).forEach(_=>{FH(_,l,c)&&G.push(_)});let E=new Map;h.forEach((_,y)=>{NH(E,this.driver,new Set(_),l,PC)}),G.forEach(_=>{let y=W.get(_),C=E.get(_);W.set(_,new Map([...y?.entries()??[],...C?.entries()??[]]))});let L=[],b=[],w={};s.forEach(_=>{let{element:y,player:C,instruction:S}=_;if(i.has(y)){if(u.has(y)){C.onDestroy(()=>gu(y,S.toStyles)),C.disabled=!0,C.overrideTotalTime(S.totalTime),r.push(C);return}let R=w;if(V.size>1){let j=y,X=[];for(;j=j.parentNode;){let D=V.get(j);if(D){R=D;break}X.push(j)}X.forEach(D=>V.set(D,R))}let Z=this._buildAnimation(C.namespaceId,S,B,o,E,W);if(C.setRealPlayer(Z),R===w)L.push(C);else{let j=this.playersByElement.get(R);j&&j.length&&(C.parentPlayer=af(j)),r.push(C)}}else Nm(y,S.fromStyles),C.onDestroy(()=>gu(y,S.toStyles)),b.push(C),u.has(y)&&r.push(C)}),b.forEach(_=>{let y=o.get(_.element);if(y&&y.length){let C=af(y);_.setRealPlayer(C)}}),r.forEach(_=>{_.parentPlayer?_.syncPlayerEvents(_.parentPlayer):_.destroy()});for(let _=0;_<g.length;_++){let y=g[_],C=y[gc];if($0(y,A6),C&&C.hasAnimation)continue;let S=[];if(a.size){let Z=a.get(y);Z&&Z.length&&S.push(...Z);let j=this.driver.query(y,T6,!0);for(let X=0;X<j.length;X++){let D=a.get(j[X]);D&&D.length&&S.push(...D)}}let R=S.filter(Z=>!Z.destroyed);R.length?_2e(this,y,R):this.processLeaveNode(y)}return g.length=0,L.forEach(_=>{this.players.push(_),_.onDone(()=>{_.destroy();let y=this.players.indexOf(_);this.players.splice(y,1)}),_.play()}),L}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let l=!o||o==qv;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){let r=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:r;for(let l of t.timelines){let c=l.element,u=c!==o,d=Ka(i,c,[]);this._getPreviousPlayers(c,u,s,a,t.toState).forEach(h=>{let m=h.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),h.destroy(),d.push(h)})}Nm(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){let a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,f=t.timelines.map(m=>{let p=m.element;u.add(p);let g=p[gc];if(g&&g.removedBeforeQueried)return new of(m.duration,m.delay);let v=p!==l,x=x2e((i.get(p)||g2e).map(B=>B.getRealPlayer())).filter(B=>{let V=B;return V.element?V.element===p:!1}),I=o.get(p),N=s.get(p),H=BH(this._normalizer,m.keyframes,I,N),F=this._buildPlayer(m,H,x);if(m.subTimeline&&r&&d.add(p),v){let B=new Yv(e,a,p);B.setRealPlayer(F),c.push(B)}return F});c.forEach(m=>{Ka(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>v2e(this.playersByQueriedElement,m.element,m))}),u.forEach(m=>Rl(m,AH));let h=af(f);return h.onDestroy(()=>{u.forEach(m=>$0(m,AH)),gu(l,t.toStyles)}),d.forEach(m=>{Ka(r,m,[]).push(h)}),h}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new of(e.duration,e.delay)}},Yv=class{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new of,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>H6(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ka(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function v2e(n,e,t){let i=n.get(e);if(i){if(i.length){let r=i.indexOf(t);i.splice(r,1)}i.length==0&&n.delete(e)}return i}function w2e(n){return n??null}function NC(n){return n&&n.nodeType===1}function y2e(n){return n=="start"||n=="done"}function RH(n,e){let t=n.style.display;return n.style.display=e??"none",t}function NH(n,e,t,i,r){let o=[];t.forEach(l=>o.push(RH(l)));let s=[];i.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let f=e.computeStyle(c,d,r);u.set(d,f),(!f||f.length==0)&&(c[gc]=b2e,s.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>RH(l,o[a++])),s}function LH(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let i=1,r=new Set(e),o=new Map;function s(a){if(!a)return i;let l=o.get(a);if(l)return l;let c=a.parentNode;return t.has(c)?l=c:r.has(c)?l=i:l=s(c),o.set(a,l),l}return e.forEach(a=>{let l=s(a);l!==i&&t.get(l).push(a)}),t}function Rl(n,e){n.classList?.add(e)}function $0(n,e){n.classList?.remove(e)}function _2e(n,e,t){af(t).onDone(()=>n.processLeaveNode(e))}function x2e(n){let e=[];return ZH(n,e),e}function ZH(n,e){for(let t=0;t<n.length;t++){let i=n[t];i instanceof Hv?ZH(i.players,e):e.push(i)}}function C2e(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){let o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function FH(n,e,t){let i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}var G0=class{constructor(e,t,i){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new j6(e.body,t,i),this._timelineEngine=new B6(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){let s=e+"-"+r,a=this._triggerCache[s];if(!a){let l=[],c=[],u=$H(this._driver,o,l,c);if(l.length)throw Cye(r,l);c.length&&void 0,a=c2e(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if(i.charAt(0)=="@"){let[o,s]=EH(i),a=r;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if(i.charAt(0)=="@"){let[s,a]=EH(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function k2e(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=S6(e[0]),e.length>1&&(i=S6(e[e.length-1]))):e instanceof Map&&(t=S6(e)),t||i?new z6(n,t,i):null}var q0=class q0{constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=q0.initialStylesByElement.get(e);r||q0.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&gu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(gu(this._element,this._initialStyles),this._endStyles&&(gu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(q0.initialStylesByElement.delete(this._element),this._startStyles&&(Nm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Nm(this._element,this._endStyles),this._endStyles=null),gu(this._element,this._initialStyles),this._state=3)}};q0.initialStylesByElement=new WeakMap;var z6=q0;function S6(n){let e=null;return n.forEach((t,i)=>{E2e(i)&&(e=e||new Map,e.set(i,t))}),e}function E2e(n){return n==="display"||n==="position"}var WC=class{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:K6(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},$C=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return VH(e,t)}getParentElement(e){return $6(e)}query(e,t,i){return jH(e,t,i)}computeStyle(e,t,i){return K6(e,t)}animate(e,t,i,r,o,s=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};o&&(l.easing=o);let c=new Map,u=s.filter(h=>h instanceof WC);$ye(i,r)&&u.forEach(h=>{h.currentSnapshot.forEach((m,p)=>c.set(p,m))});let d=Uye(t).map(h=>new Map(h));d=qye(e,d,c);let f=k2e(e,d);return new WC(e,d,l,f)}};var LC="@",YH="@.disabled",qC=class{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==LC&&t==YH?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},U6=class extends qC{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==LC?t.charAt(1)=="."&&t==YH?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if(t.charAt(0)==LC){let r=S2e(e),o=t.slice(1),s="";return o.charAt(0)!=LC&&([o,s]=A2e(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(e,t,i)}};function S2e(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function A2e(n){let e=n.indexOf("."),t=n.substring(0,e),i=n.slice(e+1);return[t,i]}var GC=class{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(e,t){let i="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let c=this._rendererCache,u=c.get(r);if(!u){let d=()=>c.delete(r);u=new qC(i,r,this.engine,d),c.set(r,u)}return u}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,e,c.name,c)};return t.data.animation.forEach(a),new U6(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var I2e=(()=>{let e=class e extends G0{constructor(i,r,o){super(i,r,o)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(Tt(Zi),Tt(Lm),Tt(Fm))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac});let n=e;return n})();function M2e(){return new VC}function P2e(n,e,t){return new GC(n,e,t)}var XH=[{provide:Fm,useFactory:M2e},{provide:G0,useClass:I2e},{provide:ah,useFactory:P2e,deps:[D2,G0,fi]}],D2e=[{provide:Lm,useFactory:()=>new $C},{provide:ml,useValue:"BrowserAnimations"},...XH],gZe=[{provide:Lm,useClass:q6},{provide:ml,useValue:"NoopAnimations"},...XH];function JH(){return Uc("NgEagerAnimations"),[...D2e]}function O2e(){return!0}var R2e=new jt("mat-sanity-checks",{providedIn:"root",factory:O2e}),Bm=(()=>{let e=class e{constructor(i,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return dH()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};e.\u0275fac=function(r){return new(r||e)(Tt(_H),Tt(R2e,8),Tt(Zi))},e.\u0275mod=Ui({type:e}),e.\u0275inj=zi({imports:[b6,b6]});let n=e;return n})();function rW(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=t!=null?fH(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}var X6=class{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}},QH=H0({passive:!0,capture:!0}),J6=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let t=rf(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){let o=this._events.get(t);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,QH)})}removeHandler(e,t,i){let r=this._events.get(e);if(!r)return;let o=r.get(t);o&&(o.delete(i),o.size===0&&r.delete(t),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,QH)))}},eW={enterDuration:225,exitDuration:150},N2e=800,tW=H0({passive:!0,capture:!0}),nW=["mousedown","touchstart"],iW=["mouseup","mouseleave","touchend","touchcancel"],Xv=class Xv{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Pm(i))}fadeInRipple(e,t,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Be(Be({},eW),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);let s=i.radius||L2e(e,t,r),a=e-r.left,l=t-r.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${a-s}px`,u.style.top=`${l-s}px`,u.style.height=`${s*2}px`,u.style.width=`${s*2}px`,i.color!=null&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);let d=window.getComputedStyle(u),f=d.transitionProperty,h=d.transitionDuration,m=f==="none"||h==="0s"||h==="0s, 0s"||r.width===0&&r.height===0,p=new X6(this,u,i,m);u.style.transform="scale3d(1, 1, 1)",p.state=0,i.persistent||(this._mostRecentTransientRipple=p);let g=null;return!m&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let v=()=>this._finishRippleTransition(p),x=()=>this._destroyRipple(p);u.addEventListener("transitionend",v),u.addEventListener("transitioncancel",x),g={onTransitionEnd:v,onTransitionCancel:x}}),this._activeRipples.set(p,g),(m||!c)&&this._finishRippleTransition(p),p}fadeOutRipple(e){if(e.state===2||e.state===3)return;let t=e.element,i=Be(Be({},eW),e.config.animation);t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=Pm(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,nW.forEach(i=>{Xv._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{iW.forEach(t=>{this._triggerElement.addEventListener(t,this,tW)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===0?this._startFadeOutTransition(e):e.state===2&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){let t=p6(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+N2e;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!g6(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===1||e.config.terminateOnPointerUp&&e.state===0;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(nW.forEach(t=>Xv._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&iW.forEach(t=>e.removeEventListener(t,this,tW)))}};Xv._eventManager=new J6;var Q6=Xv;function L2e(n,e,t){let i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}var F2e=new jt("mat-ripple-global-options"),KC=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,r,o,s,a){this._elementRef=i,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Q6(this,r,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Be(Be(Be({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,r=0,o){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,r,Be(Be({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,Be(Be({},this.rippleConfig),i))}};e.\u0275fac=function(r){return new(r||e)(ze(qi),ze(fi),ze(md),ze(F2e,8),ze(ml,8))},e.\u0275dir=ki({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){r&2&&Zo("mat-ripple-unbounded",o.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]});let n=e;return n})(),oW=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ui({type:e}),e.\u0275inj=zi({imports:[Bm,Bm]});let n=e;return n})();var z2e=["body"],U2e=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],H2e=["mat-expansion-panel-header","*","mat-action-row"];function W2e(n,e){}var $2e=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],q2e=["mat-panel-title","mat-panel-description","*"];function G2e(n,e){if(n&1&&Ce(0,"span",1),n&2){let t=Re();fe("@indicatorRotate",t._getExpandedState())}}var sW=new jt("MAT_ACCORDION"),aW="225ms cubic-bezier(0.4,0.0,0.2,1)",lW={indicatorRotate:v6("indicatorRotate",[Wv("collapsed, void",sf({transform:"rotate(0deg)"})),Wv("expanded",sf({transform:"rotate(180deg)"})),y6("expanded <=> collapsed, void => collapsed",w6(aW))]),bodyExpansion:v6("bodyExpansion",[Wv("collapsed, void",sf({height:"0px",visibility:"hidden"})),Wv("expanded",sf({height:"*",visibility:""})),y6("expanded <=> collapsed, void => collapsed",w6(aW))])},cW=new jt("MAT_EXPANSION_PANEL"),K2e=(()=>{let e=class e{constructor(i,r){this._template=i,this._expansionPanel=r}};e.\u0275fac=function(r){return new(r||e)(ze(jc),ze(cW,8))},e.\u0275dir=ki({type:e,selectors:[["ng-template","matExpansionPanelContent",""]]});let n=e;return n})(),Z2e=0,uW=new jt("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),Jv=(()=>{let e=class e extends sH{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(i){this._hideToggle=h6(i)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(i){this._togglePosition=i}constructor(i,r,o,s,a,l,c){super(i,r,o),this._viewContainerRef=s,this._animationMode=l,this._hideToggle=!1,this.afterExpand=new tn,this.afterCollapse=new tn,this._inputChanges=new ji,this._headerId=`mat-expansion-panel-header-${Z2e++}`,this._bodyAnimationDone=new ji,this.accordion=i,this._document=a,this._bodyAnimationDone.pipe(wb((u,d)=>u.fromState===d.fromState&&u.toState===d.toState)).subscribe(u=>{u.fromState!=="void"&&(u.toState==="expanded"?this.afterExpand.emit():u.toState==="collapsed"&&this.afterCollapse.emit())}),c&&(this.hideToggle=c.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Pu(null),xr(()=>this.expanded&&!this._portal),ua(1)).subscribe(()=>{this._portal=new zv(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(i){this._inputChanges.next(i)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){let i=this._document.activeElement,r=this._body.nativeElement;return i===r||r.contains(i)}return!1}};e.\u0275fac=function(r){return new(r||e)(ze(sW,12),ze(Do),ze(IC),ze(bl),ze(Zi),ze(ml,8),ze(uW,8))},e.\u0275cmp=Lt({type:e,selectors:[["mat-expansion-panel"]],contentQueries:function(r,o,s){if(r&1&&JE(s,K2e,5),r&2){let a;Gi(a=Ki())&&(o._lazyContent=a.first)}},viewQuery:function(r,o){if(r&1&&sr(z2e,5),r&2){let s;Gi(s=Ki())&&(o._body=s.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(r,o){r&2&&Zo("mat-expanded",o.expanded)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-expansion-panel-spacing",o._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[ko([{provide:sW,useValue:void 0},{provide:cW,useExisting:e}]),Ko,ba],ngContentSelectors:H2e,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(r,o){if(r&1){let s=Ut();Lp(U2e),Hc(0),O(1,"div",1,0),ve("@bodyExpansion.done",function(l){return Pe(s),De(o._bodyAnimationDone.next(l))}),O(3,"div",2),Hc(4,1),_t(5,W2e,0,0,"ng-template",3),A(),Hc(6,2),A()}r&2&&(ee(),fe("@bodyExpansion",o._getExpandedState())("id",o.id),wa("aria-labelledby",o._headerId),ee(4),fe("cdkPortalOutlet",o._portal))},dependencies:[lH],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[lW.bodyExpansion]},changeDetection:0});let n=e;return n})();var eM=class{},Y2e=rW(eM),ZC=(()=>{let e=class e extends Y2e{constructor(i,r,o,s,a,l,c){super(),this.panel=i,this._element=r,this._focusMonitor=o,this._changeDetectorRef=s,this._animationMode=l,this._parentChangeSubscription=hr.EMPTY;let u=i.accordion?i.accordion._stateChanges.pipe(xr(d=>!!(d.hideToggle||d.togglePosition))):fs;this.tabIndex=parseInt(c||"")||0,this._parentChangeSubscription=U5(i.opened,i.closed,u,i._inputChanges.pipe(xr(d=>!!(d.hideToggle||d.disabled||d.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),i.closed.pipe(xr(()=>i._containsFocus())).subscribe(()=>o.focusVia(r,"program")),a&&(this.expandedHeight=a.expandedHeight,this.collapsedHeight=a.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let i=this._isExpanded();return i&&this.expandedHeight?this.expandedHeight:!i&&this.collapsedHeight?this.collapsedHeight:null}_keydown(i){switch(i.keyCode){case 32:case 13:hH(i)||(i.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(i);return}}focus(i,r){i?this._focusMonitor.focusVia(this._element,i,r):this._element.nativeElement.focus(r)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(i=>{i&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}};e.\u0275fac=function(r){return new(r||e)(ze(Jv,1),ze(qi),ze(yH),ze(Do),ze(uW,8),ze(ml,8),Hf("tabindex"))},e.\u0275cmp=Lt({type:e,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(r,o){r&1&&ve("click",function(){return o._toggle()})("keydown",function(a){return o._keydown(a)}),r&2&&(wa("id",o.panel._headerId)("tabindex",o.tabIndex)("aria-controls",o._getPanelId())("aria-expanded",o._isExpanded())("aria-disabled",o.panel.disabled),g2("height",o._getHeaderHeight()),Zo("mat-expanded",o._isExpanded())("mat-expansion-toggle-indicator-after",o._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",o._getTogglePosition()==="before")("_mat-animation-noopable",o._animationMode==="NoopAnimations"))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[Ko],ngContentSelectors:q2e,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"]],template:function(r,o){r&1&&(Lp($2e),O(0,"span",0),Hc(1),Hc(2,1),Hc(3,2),A(),_t(4,G2e,1,1,"span",1)),r&2&&(Zo("mat-content-hide-toggle",!o._showToggle()),ee(4),XE(o._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[lW.indicatorRotate]},changeDetection:0});let n=e;return n})();var YC=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ki({type:e,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]});let n=e;return n})();var XC=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ui({type:e}),e.\u0275inj=zi({imports:[Bm,aH,cH]});let n=e;return n})();var X2e=["input"],J2e=["label"],Q2e=["*"],e_e=new jt("mat-checkbox-default-options",{providedIn:"root",factory:mW});function mW(){return{color:"accent",clickAction:"check-indeterminate"}}var t_e={provide:qu,useExisting:$s(()=>Qv),multi:!0},tM=class{},n_e=0,hW=mW(),Qv=(()=>{let e=class e{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(i){let r=new tM;return r.source=this,r.checked=i,r}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(i,r,o,s,a,l){this._elementRef=i,this._changeDetectorRef=r,this._ngZone=o,this._animationMode=a,this._options=l,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new tn,this.indeterminateChange=new tn,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||hW,this.color=this._options.color||hW.color,this.tabIndex=parseInt(s)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++n_e}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(i){i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(i){i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(i){let r=i!=this._indeterminate;this._indeterminate=i,r&&(this._indeterminate?this._transitionCheckState(3):this._transitionCheckState(this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(i){this.checked=!!i}registerOnChange(i){this._controlValueAccessorChangeFn=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i}_transitionCheckState(i){let r=this._currentCheckState,o=this._getAnimationTargetElement();if(!(r===i||!o)&&(this._currentAnimationClass&&o.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(r,i),this._currentCheckState=i,this._currentAnimationClass.length>0)){o.classList.add(this._currentAnimationClass);let s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{o.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let i=this._options?.clickAction;!this.disabled&&i!=="noop"?(this.indeterminate&&i!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent()):!this.disabled&&i==="noop"&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(i){i.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(i,r){if(this._animationMode==="NoopAnimations")return"";switch(i){case 0:if(r===1)return this._animationClasses.uncheckedToChecked;if(r==3)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return r===1?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return r===2?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return r===1?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(i){let r=this._inputElement;r&&(r.nativeElement.indeterminate=i)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(i){i.target&&this._labelElement.nativeElement.contains(i.target)&&i.stopPropagation()}};e.\u0275fac=function(r){return new(r||e)(ze(qi),ze(Do),ze(fi),Hf("tabindex"),ze(ml,8),ze(e_e,8))},e.\u0275cmp=Lt({type:e,selectors:[["mat-checkbox"]],viewQuery:function(r,o){if(r&1&&(sr(X2e,5),sr(J2e,5),sr(KC,5)),r&2){let s;Gi(s=Ki())&&(o._inputElement=s.first),Gi(s=Ki())&&(o._labelElement=s.first),Gi(s=Ki())&&(o.ripple=s.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(r,o){r&2&&(b2("id",o.id),wa("tabindex",null)("aria-label",null)("aria-labelledby",null),W7(o.color?"mat-"+o.color:"mat-accent"),Zo("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mdc-checkbox--disabled",o.disabled)("mat-mdc-checkbox-disabled",o.disabled)("mat-mdc-checkbox-checked",o.checked))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",Yo],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",Yo],tabIndex:[2,"tabIndex","tabIndex",i=>i==null?void 0:i3(i)],color:"color",checked:[2,"checked","checked",Yo],disabled:[2,"disabled","disabled",Yo],indeterminate:[2,"indeterminate","indeterminate",Yo]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[ko([t_e]),Vu],ngContentSelectors:Q2e,decls:15,vars:20,consts:[["checkbox",""],["input",""],["label",""],[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(r,o){if(r&1){let s=Ut();Lp(),O(0,"div",3),ve("click",function(l){return Pe(s),De(o._preventBubblingFromLabel(l))}),O(1,"div",4,0)(3,"div",5),ve("click",function(){return Pe(s),De(o._onTouchTargetClick())}),A(),O(4,"input",6,1),ve("blur",function(){return Pe(s),De(o._onBlur())})("click",function(){return Pe(s),De(o._onInputClick())})("change",function(l){return Pe(s),De(o._onInteractionEvent(l))}),A(),Ce(6,"div",7),O(7,"div",8),pD(),O(8,"svg",9),Ce(9,"path",10),A(),gD(),Ce(10,"div",11),A(),Ce(11,"div",12),A(),O(12,"label",13,2),Hc(14),A()()}if(r&2){let s=vl(2);Zo("mdc-form-field--align-end",o.labelPosition=="before"),ee(4),Zo("mdc-checkbox--selected",o.checked),fe("checked",o.checked)("indeterminate",o.indeterminate)("disabled",o.disabled)("id",o.inputId)("required",o.required)("tabIndex",o.disabled?-1:o.tabIndex),wa("aria-label",o.ariaLabel||null)("aria-labelledby",o.ariaLabelledby)("aria-describedby",o.ariaDescribedby)("aria-checked",o.indeterminate?"mixed":null)("name",o.name)("value",o.value),ee(7),fe("matRippleTrigger",s)("matRippleDisabled",o.disableRipple||o.disabled)("matRippleCentered",!0),ee(),fe("for",o.inputId)}},dependencies:[KC],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let n=e;return n})();var fW=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ui({type:e}),e.\u0275inj=zi({});let n=e;return n})(),JC=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ui({type:e}),e.\u0275inj=zi({imports:[Bm,oW,fW,Bm,fW]});let n=e;return n})();var bc=Object.create(null);bc.open="0";bc.close="1";bc.ping="2";bc.pong="3";bc.message="4";bc.upgrade="5";bc.noop="6";var ew=Object.create(null);Object.keys(bc).forEach(n=>{ew[bc[n]]=n});var tw={type:"error",data:"parser error"};var vW=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",wW=typeof ArrayBuffer=="function",yW=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,nw=({type:n,data:e},t,i)=>vW&&e instanceof Blob?t?i(e):gW(e,i):wW&&(e instanceof ArrayBuffer||yW(e))?t?i(e):gW(new Blob([e]),i):i(bc[n]+(e||"")),gW=(n,e)=>{let t=new FileReader;return t.onload=function(){let i=t.result.split(",")[1];e("b"+(i||""))},t.readAsDataURL(n)};function bW(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}var nM;function _W(n,e){if(vW&&n.data instanceof Blob)return n.data.arrayBuffer().then(bW).then(e);if(wW&&(n.data instanceof ArrayBuffer||yW(n.data)))return e(bW(n.data));nw(n,!1,t=>{nM||(nM=new TextEncoder),e(nM.encode(t))})}var xW="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",iw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<xW.length;n++)iw[xW.charCodeAt(n)]=n;var CW=n=>{let e=n.length*.75,t=n.length,i,r=0,o,s,a,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);let c=new ArrayBuffer(e),u=new Uint8Array(c);for(i=0;i<t;i+=4)o=iw[n.charCodeAt(i)],s=iw[n.charCodeAt(i+1)],a=iw[n.charCodeAt(i+2)],l=iw[n.charCodeAt(i+3)],u[r++]=o<<2|s>>4,u[r++]=(s&15)<<4|a>>2,u[r++]=(a&3)<<6|l&63;return c};var i_e=typeof ArrayBuffer=="function",rw=(n,e)=>{if(typeof n!="string")return{type:"message",data:kW(n,e)};let t=n.charAt(0);return t==="b"?{type:"message",data:r_e(n.substring(1),e)}:ew[t]?n.length>1?{type:ew[t],data:n.substring(1)}:{type:ew[t]}:tw},r_e=(n,e)=>{if(i_e){let t=CW(n);return kW(t,e)}else return{base64:!0,data:n}},kW=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}};var EW="",SW=(n,e)=>{let t=n.length,i=new Array(t),r=0;n.forEach((o,s)=>{nw(o,!1,a=>{i[s]=a,++r===t&&e(i.join(EW))})})},AW=(n,e)=>{let t=n.split(EW),i=[];for(let r=0;r<t.length;r++){let o=rw(t[r],e);if(i.push(o),o.type==="error")break}return i};function TW(){return new TransformStream({transform(n,e){_W(n,t=>{let i=t.length,r;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);let o=new DataView(r.buffer);o.setUint8(0,126),o.setUint16(1,i)}else{r=new Uint8Array(9);let o=new DataView(r.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(i))}n.data&&typeof n.data!="string"&&(r[0]|=128),e.enqueue(r),e.enqueue(t)})}})}var iM;function QC(n){return n.reduce((e,t)=>e+t.length,0)}function e5(n,e){if(n[0].length===e)return n.shift();let t=new Uint8Array(e),i=0;for(let r=0;r<e;r++)t[r]=n[0][i++],i===n[0].length&&(n.shift(),i=0);return n.length&&i<n[0].length&&(n[0]=n[0].slice(i)),t}function IW(n,e){iM||(iM=new TextDecoder);let t=[],i=0,r=-1,o=!1;return new TransformStream({transform(s,a){for(t.push(s);;){if(i===0){if(QC(t)<1)break;let l=e5(t,1);o=(l[0]&128)===128,r=l[0]&127,r<126?i=3:r===126?i=1:i=2}else if(i===1){if(QC(t)<2)break;let l=e5(t,2);r=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),i=3}else if(i===2){if(QC(t)<8)break;let l=e5(t,8),c=new DataView(l.buffer,l.byteOffset,l.length),u=c.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(tw);break}r=u*Math.pow(2,32)+c.getUint32(4),i=3}else{if(QC(t)<r)break;let l=e5(t,r);a.enqueue(rw(o?l:iM.decode(l),e)),i=0}if(r===0||r>n){a.enqueue(tw);break}}}})}var rM=4;function Ir(n){if(n)return o_e(n)}function o_e(n){for(var e in Ir.prototype)n[e]=Ir.prototype[e];return n}Ir.prototype.on=Ir.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};Ir.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};Ir.prototype.off=Ir.prototype.removeListener=Ir.prototype.removeAllListeners=Ir.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var i,r=0;r<t.length;r++)if(i=t[r],i===e||i.fn===e){t.splice(r,1);break}return t.length===0&&delete this._callbacks["$"+n],this};Ir.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(t){t=t.slice(0);for(var i=0,r=t.length;i<r;++i)t[i].apply(this,e)}return this};Ir.prototype.emitReserved=Ir.prototype.emit;Ir.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};Ir.prototype.hasListeners=function(n){return!!this.listeners(n).length};var gd=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),ta=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),MW="arraybuffer";function t5(n,...e){return e.reduce((t,i)=>(n.hasOwnProperty(i)&&(t[i]=n[i]),t),{})}var s_e=ta.setTimeout,a_e=ta.clearTimeout;function bd(n,e){e.useNativeTimers?(n.setTimeoutFn=s_e.bind(ta),n.clearTimeoutFn=a_e.bind(ta)):(n.setTimeoutFn=ta.setTimeout.bind(ta),n.clearTimeoutFn=ta.clearTimeout.bind(ta))}var l_e=1.33;function PW(n){return typeof n=="string"?c_e(n):Math.ceil((n.byteLength||n.size)*l_e)}function c_e(n){let e=0,t=0;for(let i=0,r=n.length;i<r;i++)e=n.charCodeAt(i),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(i++,t+=4);return t}function n5(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function DW(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function OW(n){let e={},t=n.split("&");for(let i=0,r=t.length;i<r;i++){let o=t[i].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}var i5=class extends Error{constructor(e,t,i){super(e),this.description=t,this.context=i,this.type="TransportError"}},vd=class extends Ir{constructor(e){super(),this.writable=!1,bd(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,i){return super.emitReserved("error",new i5(e,t,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=rw(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let t=DW(e);return t.length?"?"+t:""}};var ow=class extends vd{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||t()})),this.writable||(i++,this.once("drain",function(){--i||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let t=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};AW(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,SW(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=n5()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}};var RW=!1;try{RW=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var NW=RW;function u_e(){}var oM=class extends ow{constructor(e){if(super(e),typeof location<"u"){let t=location.protocol==="https:",i=location.port;i||(i=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}}doWrite(e,t){let i=this.request({method:"POST",data:e});i.on("success",t),i.on("error",(r,o)=>{this.onError("xhr post error",r,o)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,i)=>{this.onError("xhr poll error",t,i)}),this.pollXhr=e}},r5=(()=>{class n extends Ir{constructor(t,i,r){super(),this.createRequest=t,bd(this,r),this._opts=r,this._method=r.method||"GET",this._uri=i,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;let i=t5(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this._opts.xd;let r=this._xhr=this.createRequest(i);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var o;r.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=u_e,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){let t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",LW);else if(typeof addEventListener=="function"){let n="onpagehide"in ta?"pagehide":"unload";addEventListener(n,LW,!1)}}function LW(){for(let n in r5.requests)r5.requests.hasOwnProperty(n)&&r5.requests[n].abort()}var d_e=function(){let n=FW({xdomain:!1});return n&&n.responseType!==null}(),lf=class extends oM{constructor(e){super(e);let t=e&&e.forceBase64;this.supportsBinary=d_e&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new r5(FW,this.uri(),e)}};function FW(n){let e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||NW))return new XMLHttpRequest}catch{}if(!e)try{return new ta[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var BW=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",aM=class extends vd{get name(){return"websocket"}doOpen(){let e=this.uri(),t=this.opts.protocols,i=BW?{}:t5(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,i)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let i=e[t],r=t===e.length-1;nw(i,this.supportsBinary,o=>{try{this.doWrite(i,o)}catch{}r&&gd(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=n5()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}},sM=ta.WebSocket||ta.MozWebSocket,cf=class extends aM{createSocket(e,t,i){return BW?new sM(e,t,i):t?new sM(e,t):new sM(e)}doWrite(e,t){this.ws.send(t)}};var K0=class extends vd{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let t=IW(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(t).getReader(),r=TW();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();let o=()=>{i.read().then(({done:a,value:l})=>{a||(this.onPacket(l),o())}).catch(a=>{})};o();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let i=e[t],r=t===e.length-1;this._writer.write(i).then(()=>{r&&gd(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}};var lM={websocket:cf,webtransport:K0,polling:lf};var h_e=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,f_e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Z0(n){if(n.length>8e3)throw"URI too long";let e=n,t=n.indexOf("["),i=n.indexOf("]");t!=-1&&i!=-1&&(n=n.substring(0,t)+n.substring(t,i).replace(/:/g,";")+n.substring(i,n.length));let r=h_e.exec(n||""),o={},s=14;for(;s--;)o[f_e[s]]=r[s]||"";return t!=-1&&i!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=m_e(o,o.path),o.queryKey=p_e(o,o.query),o}function m_e(n,e){let t=/\/{2,9}/g,i=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function p_e(n,e){let t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,r,o){r&&(t[r]=o)}),t}var cM=typeof addEventListener=="function"&&typeof removeEventListener=="function",o5=[];cM&&addEventListener("offline",()=>{o5.forEach(n=>n())},!1);var s5=(()=>{class n extends Ir{constructor(t,i){if(super(),this.binaryType=MW,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(i=t,t=null),t){let r=Z0(t);i.hostname=r.host,i.secure=r.protocol==="https"||r.protocol==="wss",i.port=r.port,r.query&&(i.query=r.query)}else i.host&&(i.hostname=Z0(i.host).host);bd(this,i),this.secure=i.secure!=null?i.secure:typeof location<"u"&&location.protocol==="https:",i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=i.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},i.transports.forEach(r=>{let o=r.prototype.name;this.transports.push(o),this._transportsByName[o]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},i),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=OW(this.opts.query)),cM&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},o5.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){let i=Object.assign({},this.opts.query);i.EIO=rM,i.transport=t,this.id&&(i.sid=this.id);let r=Object.assign({},this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let t=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let i=this.createTransport(t);i.open(),this.setTransport(i)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",i=>this._onClose("transport close",i))}onOpen(){this.readyState="open",n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let i=new Error("server error");i.code=t.data,this._onError(i);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let r=0;r<this.writeBuffer.length;r++){let o=this.writeBuffer[r].data;if(o&&(i+=PW(o)),r>0&&i>this._maxPayload)return this.writeBuffer.slice(0,r);i+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,gd(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,i,r){return this._sendPacket("message",t,i,r),this}send(t,i,r){return this._sendPacket("message",t,i,r),this}_sendPacket(t,i,r,o){if(typeof i=="function"&&(o=i,i=void 0),typeof r=="function"&&(o=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;let s={type:t,data:i,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){let t=()=>{this._onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),t()},r=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,i){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),cM&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let r=o5.indexOf(this._offlineEventListener);r!==-1&&o5.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,i),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=rM,n})(),a5=class extends s5{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),i=!1;s5.priorWebsocketSuccess=!1;let r=()=>{i||(t.send([{type:"ping",data:"probe"}]),t.once("packet",d=>{if(!i)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;s5.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{let f=new Error("probe error");f.transport=t.name,this.emitReserved("upgradeError",f)}}))};function o(){i||(i=!0,u(),t.close(),t=null)}let s=d=>{let f=new Error("probe error: "+d);f.transport=t.name,o(),this.emitReserved("upgradeError",f)};function a(){s("transport closed")}function l(){s("socket closed")}function c(d){t&&d.name!==t.name&&o()}let u=()=>{t.removeListener("open",r),t.removeListener("error",s),t.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};t.once("open",r),t.once("error",s),t.once("close",a),this.once("close",l),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let t=[];for(let i=0;i<e.length;i++)~this.transports.indexOf(e[i])&&t.push(e[i]);return t}},Y0=class extends a5{constructor(e,t={}){let i=typeof e=="object"?e:t;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(r=>lM[r]).filter(r=>!!r)),super(e,i)}};var DXe=Y0.protocol;function VW(n,e="",t){let i=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),i=Z0(n)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";let o=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+o+":"+i.port+e,i.href=i.protocol+"://"+o+(t&&t.port===i.port?"":":"+i.port),i}var pM={};D$(pM,{Decoder:()=>fM,Encoder:()=>hM,PacketType:()=>Di,protocol:()=>WW});var b_e=typeof ArrayBuffer=="function",v_e=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,jW=Object.prototype.toString,w_e=typeof Blob=="function"||typeof Blob<"u"&&jW.call(Blob)==="[object BlobConstructor]",y_e=typeof File=="function"||typeof File<"u"&&jW.call(File)==="[object FileConstructor]";function aw(n){return b_e&&(n instanceof ArrayBuffer||v_e(n))||w_e&&n instanceof Blob||y_e&&n instanceof File}function sw(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,i=n.length;t<i;t++)if(sw(n[t]))return!0;return!1}if(aw(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return sw(n.toJSON(),!0);for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&sw(n[t]))return!0;return!1}function zW(n){let e=[],t=n.data,i=n;return i.data=uM(t,e),i.attachments=e.length,{packet:i,buffers:e}}function uM(n,e){if(!n)return n;if(aw(n)){let t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){let t=new Array(n.length);for(let i=0;i<n.length;i++)t[i]=uM(n[i],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){let t={};for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=uM(n[i],e));return t}return n}function UW(n,e){return n.data=dM(n.data,e),delete n.attachments,n}function dM(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=dM(n[t],e);else if(typeof n=="object")for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=dM(n[t],e));return n}var __e=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],WW=5,Di=function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n}(Di||{}),hM=class{constructor(e){this.replacer=e}encode(e){return(e.type===Di.EVENT||e.type===Di.ACK)&&sw(e)?this.encodeAsBinary({type:e.type===Di.EVENT?Di.BINARY_EVENT:Di.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===Di.BINARY_EVENT||e.type===Di.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){let t=zW(e),i=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(i),r}};function HW(n){return Object.prototype.toString.call(n)==="[object Object]"}var fM=class n extends Ir{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let i=t.type===Di.BINARY_EVENT;i||t.type===Di.BINARY_ACK?(t.type=i?Di.EVENT:Di.ACK,this.reconstructor=new mM(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(aw(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,i={type:Number(e.charAt(0))};if(Di[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===Di.BINARY_EVENT||i.type===Di.BINARY_ACK){let o=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let s=e.substring(o,t);if(s!=Number(s)||e.charAt(t)!=="-")throw new Error("Illegal attachments");i.attachments=Number(s)}if(e.charAt(t+1)==="/"){let o=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););i.nsp=e.substring(o,t)}else i.nsp="/";let r=e.charAt(t+1);if(r!==""&&Number(r)==r){let o=t+1;for(;++t;){let s=e.charAt(t);if(s==null||Number(s)!=s){--t;break}if(t===e.length)break}i.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){let o=this.tryParse(e.substr(t));if(n.isPayloadValid(i.type,o))i.data=o;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case Di.CONNECT:return HW(t);case Di.DISCONNECT:return t===void 0;case Di.CONNECT_ERROR:return typeof t=="string"||HW(t);case Di.EVENT:case Di.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&__e.indexOf(t[0])===-1);case Di.ACK:case Di.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},mM=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=UW(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function Za(n,e,t){return n.on(e,t),function(){n.off(e,t)}}var x_e=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),X0=class extends Ir{constructor(e,t,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[Za(e,"open",this.onopen.bind(this)),Za(e,"packet",this.onpacket.bind(this)),Za(e,"error",this.onerror.bind(this)),Za(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var i,r,o;if(x_e.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let s={type:Di.EVENT,data:t};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let u=this.ids++,d=t.pop();this._registerAckCallback(u,d),s.id=u}let a=(r=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||r===void 0?void 0:r.writable,l=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var i;let r=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(r===void 0){this.acks[e]=t;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},r),s=(...a)=>{this.io.clearTimeoutFn(o),t.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...t){return new Promise((i,r)=>{let o=(s,a)=>s?r(s):i(a);o.withError=!0,t.push(o),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());let i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...o)=>i!==this._queue[0]?void 0:(r!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(r)):(this._queue.shift(),t&&t(null,...o)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Di.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(i=>String(i.id)===e)){let i=this.acks[e];delete this.acks[e],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Di.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Di.EVENT:case Di.BINARY_EVENT:this.onevent(e);break;case Di.ACK:case Di.BINARY_ACK:this.onack(e);break;case Di.DISCONNECT:this.ondisconnect();break;case Di.CONNECT_ERROR:this.destroy();let i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){let t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let i of t)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,i=!1;return function(...r){i||(i=!0,t.packet({type:Di.ACK,id:e,data:r}))}}onack(e){let t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Di.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let i of t)i.apply(this,e.data)}}};function Vm(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}Vm.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=Math.floor(e*10)&1?n+t:n-t}return Math.min(n,this.max)|0};Vm.prototype.reset=function(){this.attempts=0};Vm.prototype.setMin=function(n){this.ms=n};Vm.prototype.setMax=function(n){this.max=n};Vm.prototype.setJitter=function(n){this.jitter=n};var J0=class extends Ir{constructor(e,t){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,bd(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((i=t.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Vm({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let r=t.parser||pM;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Y0(this.uri,this.opts);let t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;let r=Za(t,"open",function(){i.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=Za(t,"error",o);if(this._timeout!==!1){let a=this._timeout,l=this.setTimeoutFn(()=>{r(),o(new Error("timeout")),t.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(r),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(Za(e,"ping",this.onping.bind(this)),Za(e,"data",this.ondata.bind(this)),Za(e,"error",this.onerror.bind(this)),Za(e,"close",this.onclose.bind(this)),Za(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){gd(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new X0(this,e,t),this.nsps[e]=i),i}_destroy(e){let t=Object.keys(this.nsps);for(let i of t)if(this.nsps[i].active)return;this._close()}_packet(e){let t=this.encoder.encode(e);for(let i=0;i<t.length;i++)this.engine.write(t[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},t);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};var lw={};function cw(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};let t=VW(n,e.path||"/socket.io"),i=t.source,r=t.id,o=t.path,s=lw[r]&&o in lw[r].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s,l;return a?l=new J0(i,e):(lw[r]||(lw[r]=new J0(i,e)),l=lw[r]),t.query&&!e.query&&(e.query=t.queryKey),l.socket(t.path,e)}Object.assign(cw,{Manager:J0,Socket:X0,io:cw,connect:cw});var C_e=Gc.base_url2,k_e=Gc.socketToken,$W=(()=>{class n{socket;constructor(){this.socket=cw(C_e,{auth:{token:k_e}})}sendMessage(t){this.socket.emit("message",t)}onMessage(){return new _i(t=>{this.socket.on("message",i=>{t.next(i)})})}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var S_e=(n,e)=>({"fa-regular":n,"fa-solid":e}),A_e=n=>({"background-image":n}),T_e=n=>({oculto:n}),I_e=n=>({borderAzulG:n}),M_e=(n,e)=>({"fa-caret-down":n,"fa-caret-up":e}),P_e=n=>({none2:n});function D_e(n,e){if(n&1&&(O(0,"span",41),Ce(1,"i",42),U(2),A()),n&2){let t=Re();ee(2),Ub(" Finaliza en ",t.totalDays," Dias ",t.remHours,"h ",t.remMinutes,"m ",t.remSeconds,"s ")}}function O_e(n,e){n&1&&(O(0,"span",41),Ce(1,"i",42),U(2," Lote finalizado "),A())}function R_e(n,e){if(n&1){let t=Ut();qr(0),O(1,"img",43),ve("click",function(){let r=Pe(t).$implicit,o=Re();return o.imagen=r,De(o.intImg=r.id-1)}),A(),Gr()}if(n&2){let t=e.$implicit,i=Re();ee(),Ra("id","foto",t.id,""),In("src",t.link,Rr),fe("ngClass",ht(4,I_e,i.intImg+1==t.id))}}function N_e(n,e){if(n&1&&(O(0,"span",18),U(1),A()),n&2){let t=Re();ee(),Ai(" Fecha de cierre: ",t.evento.fecha_cierre," ",t.evento.hora_cierre," ")}}function L_e(n,e){if(n&1&&(O(0,"span",44),U(1),A()),n&2){let t=Re();fe("className",t.blink),ee(),Ai(" Oferta actual: ",t.precio_actual==null?"-":t.precio_actual," ",t.same?"(Usted)":""," ")}}function F_e(n,e){if(n&1&&(O(0,"span",44),U(1),A()),n&2){let t=Re();fe("className",t.blink),ee(),Ct(" Cantidad de ofertas: ",t.cantidad_ofertas==null?"-":t.cantidad_ofertas," ")}}function B_e(n,e){if(n&1&&(O(0,"span",44),U(1),A()),n&2){let t=Re();fe("className",t.blink),ee(),Ai(" Ganador actual: ",t.ganador==null?"-":t.ganador," ",t.same?"(Usted)":""," ")}}function V_e(n,e){if(n&1&&Ce(0,"embed",45),n&2){let t=Re();fe("src",t.pdf,gl)}}function j_e(n,e){if(n&1&&(O(0,"span",58),U(1),A()),n&2){let t=Re(2);ee(),Ai("Incremento minimo (INC): ",t.lote.moneda," ",t.lote.incremento,"")}}function z_e(n,e){if(n&1){let t=Ut();O(0,"div",59)(1,"button",60),ve("click",function(){Pe(t);let r=Re(2);return De(r.oferta=(r.oferta==null?r.precio_actual?+r.precio_actual:+r.lote.precio_base:+r.oferta)+ +r.lote.incremento)}),U(2,"X1 INC"),A(),O(3,"button",60),ve("click",function(){Pe(t);let r=Re(2);return De(r.oferta=(r.oferta==null?r.precio_actual?+r.precio_actual:+r.lote.precio_base:+r.oferta)+ +r.lote.incremento*2)}),U(4,"X2 INC"),A(),O(5,"button",60),ve("click",function(){Pe(t);let r=Re(2);return De(r.oferta=(r.oferta==null?r.precio_actual?+r.precio_actual:+r.lote.precio_base:+r.oferta)+ +r.lote.incremento*3)}),U(6,"X3 INC"),A(),O(7,"button",60),ve("click",function(){Pe(t);let r=Re(2);return De(r.oferta=(r.oferta==null?r.precio_actual?+r.precio_actual:+r.lote.precio_base:+r.oferta)+ +r.lote.incremento*10)}),U(8,"X10 INC"),A()()}}function U_e(n,e){n&1&&(O(0,"span",58),U(1,"*Si ingresa una nueva oferta esta sobreescribira su oferta actual"),A())}function H_e(n,e){if(n&1&&(O(0,"span",58),U(1),A()),n&2){let t=Re(3);ee(),Ai("Oferta automatica: ",t.lote.moneda," ",t.ofertaAutoExiste,"")}}function W_e(n,e){if(n&1){let t=Ut();O(0,"div",61)(1,"div",49)(2,"button",62),ve("click",function(){Pe(t);let r=Re(2);return r.programar=!r.programar,De(r.ofertaAuto=null)}),U(3,"Programar oferta automatica "),Ce(4,"i",63),A(),_t(5,H_e,2,2,"span",64),A(),O(6,"div",65)(7,"div",48)(8,"div",66)(9,"span",22),U(10," El sistema intentara generar una oferta por el precio actual mas un incremento minimo, siempre y cuando el precio actual del lote no sea mayor o igual al monto maximo configurado por Ud. "),A()(),O(11,"button",67),ve("click",function(){Pe(t);let r=Re(2);return De(r.eliminarOferta())}),Ce(12,"i",68),U(13,"Eliminar oferta programada"),A(),O(14,"div",51)(15,"span",52),U(16),A(),O(17,"input",69),Je("ngModelChange",function(r){Pe(t);let o=Re(2);return Qe(o.ofertaAuto,r)||(o.ofertaAuto=r),De(r)}),A(),O(18,"button",54),ve("click",function(){Pe(t);let r=Re(2);return De(r.programarOferta())}),U(19,"Programar"),A(),Ce(20,"span",55),A()(),O(21,"div",70)(22,"button",71),ve("click",function(){Pe(t);let r=Re(2);return De(r.ofertaAuto=(r.ofertaAuto==null?0:+r.ofertaAuto)+ +r.lote.incremento*10)}),U(23,"X10 INC"),A(),O(24,"button",71),ve("click",function(){Pe(t);let r=Re(2);return De(r.ofertaAuto=(r.ofertaAuto==null?0:+r.ofertaAuto)+ +r.lote.incremento*20)}),U(25,"X20 INC"),A(),O(26,"button",71),ve("click",function(){Pe(t);let r=Re(2);return De(r.ofertaAuto=(r.ofertaAuto==null?0:+r.ofertaAuto)+ +r.lote.incremento*30)}),U(27,"X30 INC"),A(),O(28,"button",71),ve("click",function(){Pe(t);let r=Re(2);return De(r.ofertaAuto=(r.ofertaAuto==null?0:+r.ofertaAuto)+ +r.lote.incremento*40)}),U(29,"X40 INC"),A(),O(30,"button",71),ve("click",function(){Pe(t);let r=Re(2);return De(r.ofertaAuto=(r.ofertaAuto==null?0:+r.ofertaAuto)+ +r.lote.incremento*50)}),U(31,"X50 INC"),A()()()()}if(n&2){let t=Re(2);ee(4),fe("ngClass",dn(5,M_e,!t.programar,t.programar)),ee(),fe("ngIf",t.ofertaAutoExiste!=null),ee(),fe("ngClass",ht(8,P_e,!t.programar)),ee(10),et(t.lote.moneda),ee(),Xe("ngModel",t.ofertaAuto)}}function $_e(n,e){if(n&1){let t=Ut();O(0,"div",46)(1,"div",47)(2,"div",48)(3,"div",49)(4,"label"),U(5,"Realizar oferta"),A(),_t(6,j_e,2,2,"span",50),A(),O(7,"div",51)(8,"span",52),U(9),A(),O(10,"input",53),Je("ngModelChange",function(r){Pe(t);let o=Re();return Qe(o.oferta,r)||(o.oferta=r),De(r)}),A(),O(11,"button",54),ve("click",function(){Pe(t);let r=Re();return De(r.ofertar())}),U(12,"Ofertar"),A(),Ce(13,"span",55),A()(),_t(14,z_e,9,0,"div",56)(15,U_e,2,0,"span",50),A(),_t(16,W_e,32,10,"div",57),A()}if(n&2){let t=Re();ee(6),fe("ngIf",t.flagModalidad),ee(3),et(t.lote.moneda),ee(),In("min",t.lote.precio_base),In("disabled",t.flagModalidad),Xe("ngModel",t.oferta),ee(4),fe("ngIf",t.flagModalidad),ee(),fe("ngIf",!t.flagModalidad),ee(),fe("ngIf",t.flagModalidad)}}var gM=(()=>{class n{api;sanitizer;socketIo;verImg=!1;messageEvent=new tn;lote=[];evento=[];imagenes=[];imagen={link:"",id:0};pdf=null;imgID=-1;dateFin=null;dateHoy=null;flagTimer=!1;flag2=!0;totalDays=0;remHours=0;remMinutes=0;remSeconds=0;oferta=null;ofertaAuto=null;ofertaAutoExiste=null;programar=!1;precio_actual=null;cantidad_ofertas=null;ganador=null;fav=!1;blink="datoLote";same=!1;tyc=!1;flagModalidad=this.evento.modalidad=="Subasta";panel=!1;intImg=0;tycFecha="";constructor(t,i,r){this.api=t,this.sanitizer=i,this.socketIo=r}transform(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)}handleMessage(t){this.verImg=t}cerrarModal(){this.blink="datoLote",this.same=!1,this.imagenes=[],this.imagen={link:"",id:0},this.pdf=null,this.flagTimer=!1,this.oferta=null,this.ofertaAuto=null,this.programar=!1,this.precio_actual=null,this.cantidad_ofertas=null,this.ganador=null,this.ofertaAutoExiste=null,this.fav=!1,this.flag2=!0,this.messageEvent.emit(!1)}cargarImagenes(t,i){this.api.setLastPage(window.location.href),this.flagModalidad=this.evento.modalidad=="Subasta",this.socketIo.onMessage().subscribe(o=>{for(let s=0;s<o.eventolotes.length;s++)this.lote.uuid==o.eventolotes[s].lote.uuid&&(this.cantidad_ofertas=o.nro,this.precio_actual=o.cantidad,this.ganador=o.user._id,this.flag2=!1,this.dateFin=new Date(Date.parse(o.eventolotes[s].lote.fecha_cierre+" "+o.eventolotes[s].lote.hora_cierre)),this.dateHoy=new Date,this.countDown(),this.blink="datoLote",this.same=this.ganador==this.api.getUserId(),setTimeout(()=>this.blink="datoLote blink",250))}),this.socketIo.sendMessage(this.evento.uuid);let r={token:localStorage.getItem("token"),tipo:1,pdf:this.evento.terminos_condiciones};this.api.getTC(r).subscribe({next:o=>{o.let.length!=0&&(this.tyc=!0,this.tycFecha=o.let[0].fecha)},error:o=>{jo.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}}),this.evento.estado==1&&(this.flagTimer=!0),this.imagenes=[];for(let o=1;o<t.length+1;o++)this.imagenes.push({link:"",id:o});this.pdf=null;for(let o=0;o<t.length;o++)this.api.cargarArchivo(t[o].img,"lotes").then(s=>{s!=!1&&(this.imagenes[t[o].orden-1]={link:s.url,id:t[o].orden},this.imagen=this.imagenes[0])});this.api.cargarArchivo(i,"pdfs").then(o=>{o!=!1&&(this.pdf=this.transform(o.url+"#toolbar=0")),this.dateFin=new Date(Date.parse(this.lote.fecha_cierre+" "+this.lote.hora_cierre)),this.dateHoy=new Date,this.countDown();let s={token:localStorage.getItem("token"),lote:this.lote.uuid,evento:this.evento.uuid,tipo:1};this.api.ofertaDatos(s).subscribe({next:a=>{this.precio_actual=a.precio,this.cantidad_ofertas=a.cantidad,this.ganador=a.ganador,this.same=this.ganador==this.api.getUserId()},error:a=>{}}),this.api.getOfertaAuto(s).subscribe({next:a=>{a.ok&&(this.ofertaAutoExiste=a.cantidad)},error:a=>{}}),this.api.getFavorito(s).subscribe({next:a=>{this.fav=a.favDB!=0},error:a=>{}})})}verImagen(t){this.verImg=!0,this.imgID=t-1}countDown(){let t=(this.dateHoy.getTime()-this.dateFin.getTime())*-1,i=Math.floor(t/1e3),r=Math.floor(i/60),o=Math.floor(r/60);this.totalDays=Math.floor(o/24),this.remSeconds=i%60,this.remMinutes=r%60,this.remHours=o%24,this.flag2&&this.timer()}timer(){this.remSeconds--,this.remSeconds<0&&(this.remMinutes--,this.remSeconds=60),this.remMinutes<0&&(this.remHours--,this.remMinutes=60),this.remHours<0&&(this.totalDays--,this.remHours=24),this.totalDays<0&&(this.flagTimer=!1),this.flagTimer&&setTimeout(()=>this.timer(),1e3)}ofertar(){this.oferta!=null&&this.oferta>=this.lote.precio_base&&(this.precio_actual==null||this.oferta>this.precio_actual||!this.flagModalidad)&&this.tyc&&((this.oferta-this.lote.precio_base)%this.lote.incremento==0||!this.flagModalidad)?jo.default.fire({title:"Esta por realizar una oferta",text:"Antes de ofertar asegure haber leido y aceptado los terminos y condiciones del lote",showCancelButton:!0,confirmButtonText:"Crear",confirmButtonColor:"#3083dc",cancelButtonText:"Cancelar"}).then(t=>{if(t.isConfirmed){let i={token:localStorage.getItem("token"),cantidad:this.oferta,lote:this.lote.uuid,evento:this.evento.uuid,tipo:1};this.api.ofertar(i).subscribe({next:r=>{r.ok&&jo.default.fire({title:"Oferta creada con exito",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),r.ok||jo.default.fire({title:r.msg?r.msg:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),this.oferta=null},error:r=>{jo.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}}):this.tyc?jo.default.fire({title:"Oferta invalida",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}):(jo.default.fire({title:"Acepte los Terminos y Condiciones del lote",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),this.panel=!0)}programarOferta(){this.flagModalidad&&(this.ofertaAuto!=null&&this.ofertaAuto>=this.lote.precio_base&&(this.precio_actual==null||this.ofertaAuto>this.precio_actual)&&this.tyc&&this.ofertaAuto%this.lote.incremento==0?jo.default.fire({title:"Esta por programar una oferta automatica",text:"Antes de programar una oferta automatica asegure haber leido y aceptado los terminos y condiciones del lote",showCancelButton:!0,confirmButtonText:"Crear",confirmButtonColor:"#3083dc",cancelButtonText:"Cancelar"}).then(t=>{if(t.isConfirmed){let i={token:localStorage.getItem("token"),cantidad:this.ofertaAuto,lote:this.lote.uuid,evento:this.evento.uuid,tipo:1};this.api.programarOferta(i).subscribe({next:r=>{r.ok&&(jo.default.fire({title:"Oferta automatica creada con exito",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),this.ofertaAuto=null,this.api.getOfertaAuto(i).subscribe({next:o=>{o.ok&&(this.ofertaAutoExiste=o.cantidad)},error:o=>{}})),r.ok||jo.default.fire({title:r.msg?r.msg:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})},error:r=>{jo.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}}):this.tyc?jo.default.fire({title:"Oferta invalida",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}):(jo.default.fire({title:"Acepte los Terminos y Condiciones del lote",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),this.panel=!0))}eliminarOferta(){jo.default.fire({title:"Oferta automatica",text:"\xBFDesea eliminar la oferta automatica de este lote?",showCancelButton:!0,confirmButtonText:"Eliminar",confirmButtonColor:"red",cancelButtonText:"Cancelar"}).then(t=>{if(t.isConfirmed){let i={token:localStorage.getItem("token"),lote:this.lote.uuid,evento:this.evento.uuid,tipo:1};this.api.eliminarOfertaAuto(i).subscribe({next:r=>{r.ok&&(jo.default.fire({title:"Oferta automatica eliminada con exito",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),this.ofertaAutoExiste=null),r.ok||jo.default.fire({title:r.msg?r.msg:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})},error:r=>{jo.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}})}setFavorito(){let t={token:localStorage.getItem("token"),lote:this.lote.uuid,evento:this.evento.uuid,tipo:1};this.api.setFavorito(t).subscribe({next:i=>{this.fav=!this.fav},error:i=>{}})}sigImg(t){this.intImg+t<0||this.intImg+t>=this.imagenes.length||(this.intImg=this.intImg+t,this.imagen=this.imagenes[this.intImg])}aceptarTC(){let t={token:localStorage.getItem("token"),tipo:1,pdf:this.evento.terminos_condiciones};this.api.aceptarTC(t).subscribe({next:i=>{},error:i=>{jo.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}static \u0275fac=function(i){return new(i||n)(ze(Un),ze(Oo),ze($W))};static \u0275cmp=Lt({type:n,selectors:[["app-lote"]],inputs:{lote:"lote",evento:"evento",tyc:"tyc"},outputs:{messageEvent:"messageEvent"},standalone:!0,features:[Ht],decls:66,vars:38,consts:[["id","myModal",1,"modal",2,"overflow","auto"],[1,"modal-content",2,"width","90%"],[2,"display","flex","justify-content","flex-end","font-size","x-large","margin-bottom","2%"],[1,"fa-star","icerrar",2,"margin-right","3rem",3,"click","ngClass"],[1,"fa-solid","fa-xmark","icerrar",3,"click"],[1,"border","rounded","glass","colorWhite",2,"margin-bottom","2%","padding","0.5rem"],["style","margin-right: 5%; width: 95%; display: flex; justify-content: flex-end;",4,"ngIf"],[2,"display","flex","margin-bottom","2%"],[1,"border","rounded",2,"text-align","center","width","60%","border-top-right-radius","0"],[2,"display","flex","justify-content","space-between"],[1,"fa-solid","fa-chevron-left","border","rounded","glassAzul","colorWhite",2,"cursor","pointer","height","30rem","display","flex","align-items","center","width","2%","justify-content","center","border-top-right-radius","0","border-bottom-right-radius","0",3,"click"],[1,"rounded",2,"width","100%","background-repeat","no-repeat","background-size","cover","max-width","100%","max-height","100%","height","30rem","background-position","center center","cursor","pointer",3,"click","ngStyle"],[1,"fa-solid","fa-chevron-right","border","rounded","glassAzul","colorWhite",2,"cursor","pointer","height","30rem","display","flex","align-items","center","width","2%","justify-content","center","border-top-left-radius","0","border-bottom-left-radius","0","border-top-right-radius","0","border-bottom-right-radius","0",3,"click"],[1,"border","rounded",2,"overflow-x","auto","overflow-y","hidden","white-space","nowrap","margin-top","1%","padding-top","1%","border-top-right-radius","0","border-top-left-radius","0"],[4,"ngFor","ngForOf"],[2,"width","40%"],[1,"border","rounded",2,"width","100%","border-top-left-radius","0","border-bottom-left-radius","0"],[1,"datoLote",2,"margin","1.5%","display","block","font-family","Avenir","padding","1%","padding-top","3%"],[1,"datoLote",2,"margin","1.5%","display","block","font-family","Avenir","border-top","1px solid rgb(255, 144, 0, 0.2)","padding","1%","padding-top","3%"],["class","datoLote","style","margin: 1.5%; display: block; font-family: Avenir; border-top: 1px solid rgb(255, 144, 0, 0.2); padding: 1%; padding-top: 3%;",4,"ngIf"],["style","margin: 1.5%; display: block; font-family: Avenir; border-top: 1px solid rgb(255, 144, 0, 0.2); padding: 1%; padding-top: 3%;",3,"className",4,"ngIf"],[1,"border","rounded","glass","colorWhite",2,"width","100%","margin-bottom","2%","margin-top","2%"],[1,"datoLote",2,"margin","1.5%","display","block","font-family","Avenir"],["hideToggle","",1,"border","rounded","glassAzul","colorWhite",3,"expanded"],[1,"glassAzul","colorWhite"],[1,"colorWhite","datoLote",2,"margin","1.5%","display","block","font-family","Avenir"],[2,"text-decoration","underline"],[1,"fa-solid","fa-landmark"],[1,"colorWhite","datoLote",2,"margin","1.5%","display","flex","font-family","Avenir","align-items","center"],[1,"fa-solid","fa-bars","textWhite",2,"margin-right","0.5rem","cursor","pointer"],[1,"textWhite",2,"cursor","pointer"],[1,"col-3",2,"display","flex","flex-direction","column"],["width","100%","height","600px","type","application/pdf",3,"src",4,"ngIf"],[3,"ngModelChange","click","ngModel","disabled"],[1,"colorWhite",2,"font-size","large"],[1,"colorWhite",2,"font-size","small"],["style","width: 100%; margin-bottom: 2%; margin-top: 2%; display: flex; align-items: center; flex-direction: row; justify-content: space-around; flex-wrap: wrap;",4,"ngIf"],[1,"border","rounded",2,"width","100%","margin-bottom","2%","margin-top","2%"],[2,"margin","1.5%","display","block","font-family","Avenir",3,"innerHTML"],[1,"border","rounded","glassAzul","colorWhite",2,"width","100%","margin-bottom","2%"],[3,"messageEvent","ngClass","imagenes","imagen","verImg"],[2,"margin-right","5%","width","95%","display","flex","justify-content","flex-end"],[1,"fa-solid","fa-calendar-days",2,"margin-right","1%"],["alt","",1,"rounded",2,"width","6rem","cursor","pointer","margin-left","1%","margin-right","1%",3,"click","ngClass","id","src"],[2,"margin","1.5%","display","block","font-family","Avenir","border-top","1px solid rgb(255, 144, 0, 0.2)","padding","1%","padding-top","3%",3,"className"],["width","100%","height","600px","type","application/pdf",3,"src"],[2,"width","100%","margin-bottom","2%","margin-top","2%","display","flex","align-items","center","flex-direction","row","justify-content","space-around","flex-wrap","wrap"],[1,"campoOferta"],[1,"col-3"],[2,"display","flex","justify-content","space-between","height","2rem"],["style","font-family: Avenir;","class","datoLote",4,"ngIf"],[2,"display","flex"],[1,"border","glass","colorWhite",2,"height","2.5rem","height","2.5rem","display","flex","align-items","center","padding-left","1%","padding-right","1%"],["type","number","placeholder","Oferta",1,"effect-1",2,"height","2.5rem","width","100%",3,"ngModelChange","min","ngModel","disabled"],[1,"border","boton","boton","paginacion","datoLote",2,"height","2.5rem","border-top-left-radius","0","border-bottom-left-radius","0",3,"click"],[1,"focus-border2"],["style","font-family: Avenir; display: flex; justify-content: flex-end; align-items: center;",4,"ngIf"],["class","campoOferta","style","display: flex; flex-direction: column;",4,"ngIf"],[1,"datoLote",2,"font-family","Avenir"],[2,"font-family","Avenir","display","flex","justify-content","flex-end","align-items","center"],[1,"border","boton","boton","paginacionof","datoLote",3,"click"],[1,"campoOferta",2,"display","flex","flex-direction","column"],[1,"border","boton","boton","paginacion","datoLote",2,"width","50%",3,"click"],[1,"fa-solid",3,"ngClass"],["class","datoLote","style","font-family: Avenir;",4,"ngIf"],[2,"transform","scale3d(1, 1, 1)","transform-origin","top","transition","all 0.3s ease-in",3,"ngClass"],[1,"border","rounded","glass","colorWhite",2,"margin-bottom","2%","margin-top","2%"],[1,"border","boton","boton","paginacion","bgred","datoLote",2,"width","100%",3,"click"],[1,"fa-solid","fa-trash-can",2,"margin-right","2%"],["type","number","min","0","placeholder","Oferta automatica",1,"effect-1",2,"height","2.5rem","width","100%",3,"ngModelChange","ngModel"],[2,"font-family","Avenir","display","flex","justify-content","flex-end","align-items","center","width","100%"],[1,"border","boton","boton","paginacion","datoLote",3,"click"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"div",1)(2,"div",2)(3,"i",3),ve("click",function(){return r.setFavorito()}),A(),O(4,"i",4),ve("click",function(){return r.cerrarModal()}),A()(),O(5,"div",5),_t(6,D_e,3,4,"span",6)(7,O_e,3,0,"span",6),A(),O(8,"div",7)(9,"div",8)(10,"div",9)(11,"i",10),ve("click",function(){return r.sigImg(-1)}),A(),O(12,"div",11),ve("click",function(){return r.verImagen(r.imagen.id)}),A(),O(13,"i",12),ve("click",function(){return r.sigImg(1)}),A()(),O(14,"div",13),_t(15,R_e,2,6,"ng-container",14),A()(),O(16,"div",15)(17,"div",16)(18,"span",17),U(19),A(),O(20,"span",18),U(21),A(),_t(22,N_e,2,2,"span",19),O(23,"span",18),U(24),A(),_t(25,L_e,2,3,"span",20)(26,F_e,2,2,"span",20)(27,B_e,2,3,"span",20),A(),O(28,"div",21)(29,"span",22),U(30),A()()()(),O(31,"mat-expansion-panel",23)(32,"mat-expansion-panel-header",24)(33,"mat-panel-title",24)(34,"span",25)(35,"label",26),U(36,"ATENCION"),A(),Ce(37,"br"),U(38," Ofertando en este lote se estan aceptando los "),Ce(39,"i",27),U(40," terminos y condiciones "),A(),O(41,"span",28),Ce(42,"i",29),O(43,"span",30),U(44,"Ver T&C"),A()()()(),O(45,"div",31),_t(46,V_e,1,1,"embed",32),O(47,"mat-checkbox",33),Je("ngModelChange",function(s){return Qe(r.tyc,s)||(r.tyc=s),s}),ve("click",function(){return r.panel=!1,r.aceptarTC()}),O(48,"span",34),U(49,"He leido y acepto los Terminos y condiciones del lote"),A()(),O(50,"span",35),U(51),A()()(),_t(52,$_e,17,8,"div",36),O(53,"label"),U(54,"Descripcion: "),A(),O(55,"div",37),Ce(56,"span",38),v2(57,"sanitizeHtml"),A(),O(58,"div",39)(59,"span",22)(60,"label",26),U(61,"Informacion adicional del lote: "),A(),Ce(62,"br")(63,"br"),U(64),A()()()(),O(65,"app-ver-imagen",40),ve("messageEvent",function(s){return r.handleMessage(s)}),A()),i&2&&(ee(3),fe("ngClass",dn(31,S_e,!r.fav,r.fav)),ee(3),fe("ngIf",r.flagTimer),ee(),fe("ngIf",!r.flagTimer),ee(5),fe("ngStyle",ht(34,A_e,"url("+r.imagen.link+")")),ee(3),fe("ngForOf",r.imagenes),ee(4),Ct(" Publicacion: ",r.evento.nombre," "),ee(2),Ct(" Lote: ",r.lote.titulo," "),ee(),fe("ngIf",r.evento.publicar_cierre),ee(2),QE(" ",r.lote.base_salida?"Precio base":"Monto arranque",": ",r.lote.moneda," ",r.lote.precio_base," "),ee(),fe("ngIf",r.evento.mostrar_precio),ee(),fe("ngIf",r.evento.mostrar_ofertas),ee(),fe("ngIf",r.evento.mostrar_ganadores),ee(3),Ct(" ",r.lote.informacion==""?"No hay informacion adicional":r.lote.informacion," "),ee(),fe("expanded",r.panel),ee(15),fe("ngIf",r.pdf!=null),ee(),Zo("mat-checkbox-disabled",r.tyc),Xe("ngModel",r.tyc),fe("disabled",r.tyc),ee(4),Ct("Terminos y condiciones aceptados el: ",r.tycFecha,""),ee(),fe("ngIf",r.lote.estado==1),ee(4),fe("innerHTML",r.lote.descripcion==""?"No hay informacion adicional":w2(57,29,r.lote.descripcion),o2),ee(8),Ct(" ",r.lote.aclaracion==""?"No hay informacion adicional":r.lote.aclaracion," "),ee(),fe("ngClass",ht(36,T_e,!r.verImg))("imagenes",r.imagenes)("imagen",r.imgID)("verImg",r.verImg))},dependencies:[sn,Zn,Ti,Rn,Bp,qc,Hn,mi,tc,oi,I1,ti,XC,Jv,ZC,YC,dC,JC,Qv],styles:[".celda[_ngcontent-%COMP%]{border-right:1px solid rgb(48,131,220,.2);border-color:#3083dc33!important;width:16%;padding:1%;font-family:Avenir}.celda[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:2%}.linea[_ngcontent-%COMP%]{transition:all .5s linear}.linea[_ngcontent-%COMP%]:hover{background-color:#ff900033}.load[_ngcontent-%COMP%]{display:flex;align-items:center;width:20%;justify-content:space-around}.paginacion[_ngcontent-%COMP%]{height:2rem;width:6rem;font-size:medium}@media (max-width: 650px){.paginacion[_ngcontent-%COMP%]{width:3.5rem}}.paginacionof[_ngcontent-%COMP%]{height:2rem;width:8rem;font-size:medium}@media (max-width: 650px){.paginacionof[_ngcontent-%COMP%]{width:3.5rem}}.ibtn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:2rem}.ibtn[_ngcontent-%COMP%]:hover{cursor:pointer}.tooltip[_ngcontent-%COMP%]{position:relative}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;padding:.25em .5em;color:#fff;text-align:center;white-space:nowrap;position:absolute;z-index:1;top:-60%;left:-30%;transition-property:visibility;transition-delay:0s;font-family:avenir}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;transition-delay:.3s}.modal[_ngcontent-%COMP%]{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:7% auto;margin-top:7rem;padding:1%;border:1px solid var(--amarello);width:80%}@media (max-width: 1000px){.modal-content[_ngcontent-%COMP%]{width:97.5%!important}}.campoOferta[_ngcontent-%COMP%]{width:30rem}@media (max-width: 530px){.campoOferta[_ngcontent-%COMP%]{width:100%}}@media (max-width: 600px){.datoLote[_ngcontent-%COMP%]{font-size:smaller}}.icerrar[_ngcontent-%COMP%]{color:var(--amarello)}.icerrar[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--blue)}.borderAbajo[_ngcontent-%COMP%]{border-bottom:1px solid rgb(48,131,220,.2)}.marginCerrar[_ngcontent-%COMP%]{margin-right:5rem}@media (max-width: 1000px){.marginCerrar[_ngcontent-%COMP%]{margin-right:2rem}}.h1btn[_ngcontent-%COMP%]:hover{color:var(--amarello);cursor:pointer}.h1btn2[_ngcontent-%COMP%]{color:var(--amarello);text-decoration:underline}.none2[_ngcontent-%COMP%]{transform:scale3d(1,0,1);visibility:hidden;opacity:0}.campoUser[_ngcontent-%COMP%]{display:flex}@media (max-width: 650px){.campoUser[_ngcontent-%COMP%]{flex-wrap:wrap}.campoUser[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important}}"]})}return n})();var q_e=n=>({oculto:n}),G_e=n=>({glassTrueAzul:n}),bM=n=>({glassAzul:n}),qW=n=>({color:n}),K_e=n=>({"background-color":n});function Z_e(n,e){n&1&&(O(0,"span"),U(1,"La publicacion aun no ha iniciado"),A())}function Y_e(n,e){n&1&&(O(0,"span"),U(1,"La publicacion ha terminado"),A())}function X_e(n,e){if(n&1&&Ce(0,"embed",19),n&2){let t=Re();fe("src",t.pdf,gl)}}function J_e(n,e){if(n&1&&(O(0,"span",29),Ce(1,"i",30),U(2),A()),n&2){let t=Re().index,i=Re();fe("ngClass",ht(6,bM,t%2))("ngStyle",ht(8,qW,t%2?"white":"black")),ee(2),Ub(" Finaliza en ",i.totalDays[t]," Dias ",i.remHours[t],"h ",i.remMinutes[t],"m ",i.remSeconds[t],"s ")}}function Q_e(n,e){if(n&1&&(O(0,"span",29),Ce(1,"i",30),U(2),A()),n&2){let t=Re(),i=t.$implicit,r=t.index;fe("ngClass",ht(3,bM,r%2))("ngStyle",ht(5,qW,r%2?"white":"black")),ee(2),Ct(" ",i.estado==1?"Esperando cierre":"Lote finalizado"," ")}}function exe(n,e){if(n&1&&(O(0,"div",31),Ce(1,"img",32),A()),n&2){let t=Re().index,i=Re();ee(),In("src",i.imagenes[t].link,Rr)}}function txe(n,e){if(n&1&&(O(0,"div",33),U(1),A()),n&2){let t=Re().$implicit;fe("ngClass",ht(3,bM,t.estadoV=="Visto"))("ngStyle",ht(5,K_e,t.estadoV=="Ofertado"?"greenyellow":"none")),ee(),et(t.estadoV)}}function nxe(n,e){n&1&&(O(0,"div",34),U(1,"No visto"),A())}function ixe(n,e){if(n&1){let t=Ut();O(0,"div",20),_t(1,J_e,3,10,"span",21)(2,Q_e,3,7,"span",21),O(3,"div",22),_t(4,exe,2,1,"div",23),O(5,"div",24),U(6),A(),_t(7,txe,2,7,"div",25)(8,nxe,2,0,"div",26),O(9,"div",27)(10,"button",28),ve("click",function(){let r=Pe(t).$implicit,o=Re();return De(o.verLote(r))}),U(11,"ver"),A()()()()}if(n&2){let t=e.$implicit,i=e.index,r=Re();ee(),fe("ngIf",r.flagTimer[i]),ee(),fe("ngIf",!r.flagTimer[i]),ee(),fe("ngClass",ht(7,G_e,i%2)),ee(),fe("ngIf",r.imagenes.length>i),ee(2),et(t.titulo),ee(),fe("ngIf",t.estadoV),ee(),fe("ngIf",!t.estadoV)}}var vM=(()=>{class n{ruta;router;api;api2;sanitizer;location;lotes=[];imagenes=[];error=0;evento=[];nlotes=0;loteModal=[];ver=!1;loteComp;dateFin=[];dateHoy=null;flagTimer=[];stringCierre=[];flag2=[];totalDays=[];remHours=[];remMinutes=[];remSeconds=[];pdf=null;tyc=!1;panel=!1;flagLink=!1;tycFecha="";constructor(t,i,r,o,s,a){this.ruta=t,this.router=i,this.api=r,this.api2=o,this.sanitizer=s,this.location=a}transform(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)}ngOnInit(){this.api2.setLastPage(window.location.href),this.dateHoy=new Date;let t={flag:!1,dato:this.ruta.snapshot.paramMap.get("id"),token:localStorage.getItem("token"),modalidad:"",estado:"",tipo:1},i=0;this.api.cargarEvento(t).subscribe({next:r=>{this.evento=r.evento[0],this.nlotes=this.evento.lotes.length,this.error=r.t;let o={token:localStorage.getItem("token"),tipo:1,pdf:this.evento.terminos_condiciones};this.api2.getTC(o).subscribe({next:s=>{s.let.length!=0&&(this.tyc=!0,this.tycFecha=s.let[0].fecha)},error:s=>{Q0.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}});for(let s=0;s<r.evento[0].lotes.length;s++){let a={uuid:r.evento[0].lotes[s].uuid_lote,token:localStorage.getItem("token"),tipo:1};this.api.cargarLote(a).subscribe({next:l=>{this.lotes[s]=l.lote[0];for(let c=0;c<this.evento.vistas.length;c++)this.evento.vistas[c].uuid_lote==this.lotes[s].uuid&&(this.lotes[s].estadoV="Visto");for(let c=0;c<this.evento.ofertas.length;c++)this.evento.ofertas[c].uuid_lote==this.lotes[s].uuid&&(this.lotes[s].estadoV="Ofertado");this.api2.cargarArchivo(l.lote[0].img[0].img,"lotes").then(c=>{c!=!1&&(this.imagenes[s]={link:c.url})}),i++,this.dateFin[s]=new Date(Date.parse(l.lote[0].fecha_cierre+" "+l.lote[0].hora_cierre)),this.flag2[s]=!0,this.stringCierre[s]="",this.lotes[s].estado==1&&(this.flagTimer[s]=!0),i==r.evento[0].lotes.length&&this.countDown(),this.ruta.snapshot.paramMap.get("id2")&&this.ruta.snapshot.paramMap.get("id2")==l.lote[0].uuid&&(this.flagLink=!0,this.verLote(l.lote[0]))},error:l=>{Q0.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}this.api2.cargarArchivo(this.evento.terminos_condiciones,"pdfs").then(s=>{s!=!1&&(this.pdf=this.transform(s.url+"#toolbar=0"))})},error:r=>{Q0.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}handleMessage(t){this.flagLink=!1,this.location.replaceState("evento/"+this.ruta.snapshot.paramMap.get("id")),this.loteModal=[],this.ver=t}verLote(t){if(!this.tyc&&!this.flagLink){Q0.default.fire({title:"Acepte los Terminos y Condiciones de la publicacion",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),this.panel=!0;return}this.location.replaceState("evento/"+this.ruta.snapshot.paramMap.get("id")+"/lote/"+t.uuid),this.ver=!0,this.loteModal=t,this.loteComp.cargarImagenes(this.loteModal.img,this.evento.terminos_condiciones);let i={uuid_evento:this.ruta.snapshot.paramMap.get("id"),uuid_lote:t.uuid,token:localStorage.getItem("token"),tipo:1};this.api2.setVista(i).subscribe({})}countDown(){let t=!1;for(let i=0;i<this.dateFin.length;i++){let r=(this.dateHoy.getTime()-this.dateFin[i].getTime())*-1,o=Math.floor(r/1e3),s=Math.floor(o/60),a=Math.floor(s/60);this.totalDays[i]=Math.floor(a/24),this.remSeconds[i]=o%60,this.remMinutes[i]=s%60,this.remHours[i]=a%24,this.flag2[i]&&(t=!0)}this.timer()}timer(){let t=!1;for(let i=0;i<this.dateFin.length;i++)this.remSeconds[i]--,this.remSeconds[i]<0&&(this.remMinutes[i]--,this.remSeconds[i]=60),this.remMinutes[i]<0&&(this.remHours[i]--,this.remMinutes[i]=60),this.remHours[i]<0&&(this.totalDays[i]--,this.remHours[i]=24),this.totalDays[i]<0&&(this.flagTimer[i]=!1),this.flagTimer[i]&&(t=!0);t&&setTimeout(()=>this.timer(),1e3)}aceptarTC(){let t={token:localStorage.getItem("token"),tipo:1,pdf:this.evento.terminos_condiciones};this.api2.aceptarTC(t).subscribe({next:i=>{},error:i=>{Q0.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}static \u0275fac=function(i){return new(i||n)(ze(As),ze(Ro),ze(Xi),ze(Un),ze(Oo),ze(fh))};static \u0275cmp=Lt({type:n,selectors:[["app-lotes"]],viewQuery:function(i,r){if(i&1&&sr(gM,5),i&2){let o;Gi(o=Ki())&&(r.loteComp=o.first)}},standalone:!0,features:[Ht],decls:32,vars:18,consts:[[1,"svh"],[1,"margin5","border","rounded",2,"width","100%","text-align","center"],[4,"ngIf"],[2,"display","flex","justify-content","space-between"],["hideToggle","",1,"border","rounded","glassAzul","colorWhite",2,"margin-top","1%","margin-bottom","1%",3,"expanded"],[1,"glassAzul","colorWhite"],[1,"colorWhite","datoLote",2,"margin","1.5%","display","block","font-family","Avenir"],[2,"text-decoration","underline","display","flex"],[1,"fa-solid","fa-landmark"],[1,"colorWhite","datoLote",2,"margin","1.5%","display","flex","font-family","Avenir","align-items","center"],[1,"fa-solid","fa-bars","textWhite",2,"margin-right","0.5rem","cursor","pointer"],[1,"textWhite",2,"cursor","pointer"],[1,"col-3",2,"display","flex","flex-direction","column"],["width","100%","height","600px","type","application/pdf",3,"src",4,"ngIf"],[3,"ngModelChange","click","ngModel","disabled"],[1,"colorWhite",2,"font-size","large"],[1,"colorWhite",2,"font-size","small"],["style","max-height: 100%; align-items: center; border-bottom: 1px solid rgb(48, 131, 220, 0.2); /*padding: 1%;*/",4,"ngFor","ngForOf"],[3,"messageEvent","ngClass","lote","evento","tyc"],["width","100%","height","600px","type","application/pdf",3,"src"],[2,"max-height","100%","align-items","center","border-bottom","1px solid rgb(48, 131, 220, 0.2)","/*padding","1%"],["class","glass","style","width: 100%; display: flex; justify-content: center;",3,"ngClass","ngStyle",4,"ngIf"],[2,"display","flex",3,"ngClass"],["class","celda","style","width: 6rem; min-height: 4rem; display: flex; align-items: center; justify-content: center;",4,"ngIf"],[1,"celda",2,"width","85%","min-height","4rem","display","flex","align-items","center"],["class","celda","style","width: 15%; min-height: 4rem; display: flex; align-items: center; justify-content: center;",3,"ngClass","ngStyle",4,"ngIf"],["class","celda","style","width: 15%; min-height: 4rem; display: flex; align-items: center; justify-content: center; background-color: yellow;",4,"ngIf"],[1,"celda",2,"width","20%","min-height","4rem","display","flex","align-items","center","border","none","justify-content","center"],[1,"border","rounded","boton","botones",3,"click"],[1,"glass",2,"width","100%","display","flex","justify-content","center",3,"ngClass","ngStyle"],[1,"fa-solid","fa-calendar-days",2,"margin-right","1%"],[1,"celda",2,"width","6rem","min-height","4rem","display","flex","align-items","center","justify-content","center"],["alt","",2,"width","100px","height","64px",3,"src"],[1,"celda",2,"width","15%","min-height","4rem","display","flex","align-items","center","justify-content","center",3,"ngClass","ngStyle"],[1,"celda",2,"width","15%","min-height","4rem","display","flex","align-items","center","justify-content","center","background-color","yellow"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"div",1),_t(2,Z_e,2,0,"span",2)(3,Y_e,2,0,"span",2),O(4,"div",3)(5,"span"),U(6),A(),O(7,"span"),U(8),A()(),O(9,"mat-expansion-panel",4)(10,"mat-expansion-panel-header",5)(11,"mat-panel-title",5)(12,"span",6)(13,"label",7),U(14,"ATENCION"),A(),Ce(15,"br"),U(16," Ofertando en estos lotes se estan aceptando los "),Ce(17,"i",8),U(18," terminos y condiciones "),A(),O(19,"span",9),Ce(20,"i",10),O(21,"span",11),U(22,"Ver T&C"),A()()()(),O(23,"div",12),_t(24,X_e,1,1,"embed",13),O(25,"mat-checkbox",14),Je("ngModelChange",function(s){return Qe(r.tyc,s)||(r.tyc=s),s}),ve("click",function(){return r.panel=!1,r.aceptarTC()}),O(26,"span",15),U(27,"He leido y acepto los Terminos y condiciones del lote"),A()(),O(28,"span",16),U(29),A()()(),_t(30,ixe,12,9,"div",17),A()(),O(31,"app-lote",18),ve("messageEvent",function(s){return r.handleMessage(s)}),A()),i&2&&(ee(2),fe("ngIf",r.error==4),ee(),fe("ngIf",r.error==5),ee(3),Ct("Publicacion: ",r.evento.nombre,""),ee(2),Ct("Lotes: ",r.nlotes,""),ee(),fe("expanded",r.panel),ee(15),fe("ngIf",r.pdf!=null),ee(),Zo("mat-checkbox-disabled",r.tyc),Xe("ngModel",r.tyc),fe("disabled",r.tyc),ee(4),Ct("Terminos y condiciones aceptados el: ",r.tycFecha,""),ee(),fe("ngForOf",r.lotes),ee(),fe("ngClass",ht(16,q_e,!r.ver))("lote",r.loteModal)("evento",r.evento)("tyc",r.tyc))},dependencies:[sn,Zn,Ti,Rn,Bp,ya,gM,XC,Jv,ZC,YC,JC,Qv,Hn,oi,ti],styles:[".celda[_ngcontent-%COMP%]{border-right:1px solid rgb(48,131,220,.2);border-color:#3083dc33!important;width:16%;padding:1%;font-family:Avenir}.celda[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:2%}.linea[_ngcontent-%COMP%]{transition:all .5s linear}.linea[_ngcontent-%COMP%]:hover{background-color:#ff900033}.load[_ngcontent-%COMP%]{display:flex;align-items:center;width:20%;justify-content:space-around}.paginacion[_ngcontent-%COMP%]{height:2rem;width:6rem;font-size:medium}@media (max-width: 650px){.paginacion[_ngcontent-%COMP%]{width:3.5rem}}.paginacionof[_ngcontent-%COMP%]{height:2rem;width:8rem;font-size:medium}@media (max-width: 650px){.paginacionof[_ngcontent-%COMP%]{width:3.5rem}}.ibtn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:2rem}.ibtn[_ngcontent-%COMP%]:hover{cursor:pointer}.tooltip[_ngcontent-%COMP%]{position:relative}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;padding:.25em .5em;color:#fff;text-align:center;white-space:nowrap;position:absolute;z-index:1;top:-60%;left:-30%;transition-property:visibility;transition-delay:0s;font-family:avenir}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;transition-delay:.3s}.modal[_ngcontent-%COMP%]{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:7% auto;margin-top:7rem;padding:1%;border:1px solid var(--amarello);width:80%}@media (max-width: 1000px){.modal-content[_ngcontent-%COMP%]{width:97.5%!important}}.campoOferta[_ngcontent-%COMP%]{width:30rem}@media (max-width: 530px){.campoOferta[_ngcontent-%COMP%]{width:100%}}@media (max-width: 600px){.datoLote[_ngcontent-%COMP%]{font-size:smaller}}.icerrar[_ngcontent-%COMP%]{color:var(--amarello)}.icerrar[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--blue)}.borderAbajo[_ngcontent-%COMP%]{border-bottom:1px solid rgb(48,131,220,.2)}.marginCerrar[_ngcontent-%COMP%]{margin-right:5rem}@media (max-width: 1000px){.marginCerrar[_ngcontent-%COMP%]{margin-right:2rem}}.h1btn[_ngcontent-%COMP%]:hover{color:var(--amarello);cursor:pointer}.h1btn2[_ngcontent-%COMP%]{color:var(--amarello);text-decoration:underline}.none2[_ngcontent-%COMP%]{transform:scale3d(1,0,1);visibility:hidden;opacity:0}.campoUser[_ngcontent-%COMP%]{display:flex}@media (max-width: 650px){.campoUser[_ngcontent-%COMP%]{flex-wrap:wrap}.campoUser[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important}}"]})}return n})();var l5=Qr(Eo());var Nl=n=>({changed:n});function rxe(n,e){if(n&1&&(qr(0),O(1,"option",51),U(2),A(),Gr()),n&2){let t=e.$implicit;ee(),In("value",t.name),ee(),et(t.name)}}function oxe(n,e){if(n&1&&(qr(0),O(1,"option",51),U(2),A(),Gr()),n&2){let t=e.index,i=Re();ee(),In("value",i.Paises[i.paisI].states[t]),ee(),et(i.Paises[i.paisI].states[t])}}function sxe(n,e){if(n&1){let t=Ut();O(0,"div",3)(1,"div",52)(2,"span",5),U(3,"Persona responsable:"),A(),O(4,"div",6)(5,"input",7),Je("ngModelChange",function(r){Pe(t);let o=Re();return Qe(o.datoCambioEMP.persona_responsable,r)||(o.datoCambioEMP.persona_responsable=r),De(r)}),A(),Ce(6,"span",8),A()(),O(7,"div",53)(8,"span",5),U(9,"Razon social:"),A(),O(10,"div",6)(11,"input",7),Je("ngModelChange",function(r){Pe(t);let o=Re();return Qe(o.datoCambioEMP.razon_social,r)||(o.datoCambioEMP.razon_social=r),De(r)}),A(),Ce(12,"span",8),A()()()}if(n&2){let t=Re();ee(5),fe("value",t.datoCambioEMP.persona_responsable),Xe("ngModel",t.datoCambioEMP.persona_responsable),fe("ngClass",ht(6,Nl,t.datoCambioEMP.persona_responsable!=t.datoCambioEMPCheck.persona_responsable)),ee(6),fe("value",t.datoCambioEMP.razon_social),Xe("ngModel",t.datoCambioEMP.razon_social),fe("ngClass",ht(8,Nl,t.datoCambioEMP.razon_social!=t.datoCambioEMPCheck.razon_social))}}var GW=(()=>{class n{api;api2;datoCambio={};datoCambioEMP={};datoCambioCheck={};datoCambioEMPCheck={};flagH=!1;Paises=wh;paisI=1;constructor(t,i){this.api=t,this.api2=i}ngOnInit(){let t={token:localStorage.getItem("token"),tipo:1};this.api.getDatos(t).subscribe({next:i=>{i.ok&&(this.datoCambio=JSON.parse(JSON.stringify(i.userDatos[0])),this.datoCambioCheck=JSON.parse(JSON.stringify(i.userDatos[0])),i.userDatos[0].dato_empresa&&(this.datoCambioEMP=JSON.parse(JSON.stringify(i.userDatos[0].dato_empresa)),this.datoCambioEMPCheck=JSON.parse(JSON.stringify(i.userDatos[0].dato_empresa))),this.getPais(!1))},error:i=>{}})}checkCambio(t){this.flagH=this.datoCambio[t].toString()!=this.datoCambioCheck[t].toString()}getPais(t){t&&(this.datoCambio.provincia="");for(let i=0;i<this.Paises.length;i++)this.Paises[i].name==this.datoCambio.pais&&(this.paisI=i)}actualizar(){let t;switch(this.datoCambio.tipo){case"emp":t={persona_responsable:this.datoCambioEMP.persona_responsable,cuil_cuit:this.datoCambio.cuil_cuit,telefono:this.datoCambio.telefono,actividad:this.datoCambio.actividad,razon_social:this.datoCambioEMP.razon_social,nombre:this.datoCambio.nombre,como_encontro:this.datoCambio.como_encontro,pais:this.datoCambio.pais,provincia:this.datoCambio.provincia,ciudad:this.datoCambio.ciudad,postal:this.datoCambio.postal,domicilio:this.datoCambio.domicilio};break;case"user":t={nombre:this.datoCambio.nombre,cuil_cuit:this.datoCambio.cuil_cuit,telefono:this.datoCambio.telefono,actividad:this.datoCambio.actividad,como_encontro:this.datoCambio.como_encontro,pais:this.datoCambio.pais,provincia:this.datoCambio.provincia,ciudad:this.datoCambio.ciudad,postal:this.datoCambio.postal,domicilio:this.datoCambio.domicilio};break}let i={token:localStorage.getItem("token"),campos:t,tipo:1,id:this.datoCambio._id};this.api2.actualizarUser(i).subscribe({next:r=>{r.ok&&l5.default.fire({title:"Informacion actualizada con exito",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"}),r.ok||l5.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})},error(r){l5.default.fire({title:"Ocurrio un error",confirmButtonText:"Aceptar",confirmButtonColor:"#3083dc"})}})}static \u0275fac=function(i){return new(i||n)(ze(Un),ze(Xi))};static \u0275cmp=Lt({type:n,selectors:[["app-mi-perfil"]],standalone:!0,features:[Ht],decls:151,vars:56,consts:[[1,"svh"],[1,"seccion",2,"width","100%","justify-content","center"],[1,"modal-content","rounded"],[1,"campoUser"],[1,"celda",2,"width","50%","display","flex","align-items","center","display","flex","align-items","center"],[2,"font-weight","bold","text-decoration","underline","width","35%"],[1,"col-3",2,"width","60%","margin-left","2%"],["type","text",1,"effect-1",2,"width","100%","height","2rem","background","#ececec",3,"ngModelChange","value","ngModel","ngClass"],[1,"focus-border"],[1,"celda",2,"width","50%","display","flex","align-items","center","border-right","none"],[1,"celda",2,"width","50%","display","flex","align-items","center"],[2,"font-weight","bold","text-decoration","underline","width","35%","margin-right","2%"],[1,"effect-1",2,"width","100%","height","2rem","background","#ececec",3,"ngModelChange","change","value","ngModel","ngClass"],[4,"ngFor","ngForOf"],[1,"effect-1",2,"width","100%","height","2rem","background","#ececec",3,"ngModelChange","value","ngModel","ngClass"],["value","ACTIVIDADES ADMINISTRATIVAS Y SERVICIOS DE APOYO"],["value","ADMINISTRACION PUBLICA, DEFENSA Y SEGURIDAD SOCIAL OBLIGATORIA"],["value","AGRICULTURA, GANADER\xCDA, CAZA, SILVICULTURA Y PESCA"],["value","COMERCIO AL POR MAYOR Y AL POR MENOR; REPARACI\xD3N DE VEH\xCDCULOS AUTOMOTORES Y MOTOCICLETAS"],["value","CONSTRUCCI\xD3N"],["value","ENSE\xD1ANZA"],["value","EXPLOTACI\xD3N DE MINAS Y CANTERAS"],["value","INDUSTRIA MANUFACTURERA"],["value","INFORMACI\xD3N Y COMUNICACIONES"],["value","INTERMEDIACI\xD3N FINANCIERA Y SERVICIOS DE SEGUROS"],["value","SALUD HUMANA Y SERVICIOS SOCIALES"],["value","SERVICIOS ART\xCDSTICOS, CULTURALES, DEPORTIVOS Y DE ESPARCIMIENTO"],["value","SERVICIOS DE ALOJAMIENTO Y SERVICIOS DE COMIDA"],["value","SERVICIOS DE ASOCIACIONES Y SERVICIOS PERSONALES"],["value","SERVICIOS DE HOGARES PRIVADOS QUE CONTRATAN SERVICIO DOMESTICO"],["value","SERVICIOS DE ORGANIZACIONES Y \xD3RGANOS EXTRATERRITORIALES"],["value","SERVICIOS DE TRANSPORTE Y ALMACENAMIENTO"],["value","SERVICIOS INMOBILIARIOS"],["value","SERVICIOS PROFESIONALES, CIENT\xCDFICOS Y T\xC9CNICOS"],["value","SUMINISTRO DE AGUA, CLOACAS, GESTI\xD3N DE RESIDUOS Y RECUPERACI\xD3N DE MATERIALES Y SANEAMIENTO P\xDABLICO"],["value","SUMINISTRO DE ELECTRICIDAD, GAS, VAPOR Y AIRE ACONDICIONADO"],["value","OTRA"],[1,"celda",2,"width","50%","display","flex","align-items","center","border-right","none","border-bottom","none"],[1,"celda","borderAbajo",2,"width","50%","display","flex","align-items","center","border-bottom","none"],["value","Google","selected",""],["value","Facebook"],["value","Twitter"],["value","Instagram"],["value","Publicidad"],["value","Diario"],["value","Conocido-Amigo"],["value","Otro"],[1,"celda","borderAbajo",2,"width","50%","display","flex","align-items","center","border-right","none","border-bottom","none"],["class","campoUser",4,"ngIf"],[1,"celda",2,"width","50%","display","flex","align-items","center","border-right","none","justify-content","flex-end"],[1,"boton","boton2","border","rounded","botones",3,"click"],["selected","",3,"value"],[1,"celda",2,"width","50%","display","flex","align-items","center","border-left","none","border-top","none"],[1,"celda",2,"width","50%","display","flex","align-items","center","border-right","none","border-top","none"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),U(6,"Nombre:"),A(),O(7,"div",6)(8,"input",7),Je("ngModelChange",function(s){return Qe(r.datoCambio.nombre,s)||(r.datoCambio.nombre=s),s}),A(),Ce(9,"span",8),A()(),O(10,"div",9)(11,"span",5),U(12,"CUIL/CUIT:"),A(),O(13,"div",6)(14,"input",7),Je("ngModelChange",function(s){return Qe(r.datoCambio.cuil_cuit,s)||(r.datoCambio.cuil_cuit=s),s}),A(),Ce(15,"span",8),A()()(),O(16,"div",3)(17,"div",10)(18,"span",11),U(19,"E-mail: "),A(),U(20),A(),O(21,"div",9)(22,"span",5),U(23,"Telefono:"),A(),O(24,"div",6)(25,"input",7),Je("ngModelChange",function(s){return Qe(r.datoCambio.telefono,s)||(r.datoCambio.telefono=s),s}),A(),Ce(26,"span",8),A()()(),O(27,"div",3)(28,"div",10)(29,"span",5),U(30,"Pais:"),A(),O(31,"div",6)(32,"select",12),Je("ngModelChange",function(s){return Qe(r.datoCambio.pais,s)||(r.datoCambio.pais=s),s}),ve("change",function(){return r.getPais(!0)}),_t(33,rxe,3,2,"ng-container",13),A(),Ce(34,"span",8),A()(),O(35,"div",9)(36,"span",5),U(37,"Provincia:"),A(),O(38,"div",6)(39,"select",14),Je("ngModelChange",function(s){return Qe(r.datoCambio.provincia,s)||(r.datoCambio.provincia=s),s}),_t(40,oxe,3,2,"ng-container",13),A(),Ce(41,"span",8),A()()(),O(42,"div",3)(43,"div",10)(44,"span",5),U(45,"Ciudad:"),A(),O(46,"div",6)(47,"input",7),Je("ngModelChange",function(s){return Qe(r.datoCambio.ciudad,s)||(r.datoCambio.ciudad=s),s}),A(),Ce(48,"span",8),A()(),O(49,"div",9)(50,"span",5),U(51,"Codigo Postal:"),A(),O(52,"div",6)(53,"input",7),Je("ngModelChange",function(s){return Qe(r.datoCambio.postal,s)||(r.datoCambio.postal=s),s}),A(),Ce(54,"span",8),A()()(),O(55,"div",3)(56,"div",10)(57,"span",5),U(58,"Domicilio:"),A(),O(59,"div",6)(60,"input",7),Je("ngModelChange",function(s){return Qe(r.datoCambio.domicilio,s)||(r.datoCambio.domicilio=s),s}),A(),Ce(61,"span",8),A()(),O(62,"div",9)(63,"span",5),U(64,"Actividad:"),A(),O(65,"div",6)(66,"select",14),Je("ngModelChange",function(s){return Qe(r.datoCambio.actividad,s)||(r.datoCambio.actividad=s),s}),O(67,"option",15),U(68,"ACTIVIDADES ADMINISTRATIVAS Y SERVICIOS DE APOYO"),A(),O(69,"option",16),U(70,"ADMINISTRACION PUBLICA, DEFENSA Y SEGURIDAD SOCIAL OBLIGATORIA"),A(),O(71,"option",17),U(72,"AGRICULTURA, GANADER\xCDA, CAZA, SILVICULTURA Y PESCA"),A(),O(73,"option",18),U(74,"COMERCIO AL POR MAYOR Y AL POR MENOR; REPARACI\xD3N DE VEH\xCDCULOS AUTOMOTORES Y MOTOCICLETAS"),A(),O(75,"option",19),U(76,"CONSTRUCCI\xD3N"),A(),O(77,"option",20),U(78,"ENSE\xD1ANZA"),A(),O(79,"option",21),U(80,"EXPLOTACI\xD3N DE MINAS Y CANTERAS"),A(),O(81,"option",22),U(82,"INDUSTRIA MANUFACTURERA"),A(),O(83,"option",23),U(84,"INFORMACI\xD3N Y COMUNICACIONES"),A(),O(85,"option",24),U(86,"INTERMEDIACI\xD3N FINANCIERA Y SERVICIOS DE SEGUROS"),A(),O(87,"option",25),U(88,"SALUD HUMANA Y SERVICIOS SOCIALES"),A(),O(89,"option",26),U(90,"SERVICIOS ART\xCDSTICOS, CULTURALES, DEPORTIVOS Y DE ESPARCIMIENTO"),A(),O(91,"option",27),U(92,"SERVICIOS DE ALOJAMIENTO Y SERVICIOS DE COMIDA"),A(),O(93,"option",28),U(94,"SERVICIOS DE ASOCIACIONES Y SERVICIOS PERSONALES"),A(),O(95,"option",29),U(96,"SERVICIOS DE HOGARES PRIVADOS QUE CONTRATAN SERVICIO DOMESTICO"),A(),O(97,"option",30),U(98,"SERVICIOS DE ORGANIZACIONES Y \xD3RGANOS EXTRATERRITORIALES"),A(),O(99,"option",31),U(100,"SERVICIOS DE TRANSPORTE Y ALMACENAMIENTO"),A(),O(101,"option",32),U(102,"SERVICIOS INMOBILIARIOS"),A(),O(103,"option",33),U(104,"SERVICIOS PROFESIONALES, CIENT\xCDFICOS Y T\xC9CNICOS"),A(),O(105,"option",34),U(106,"SUMINISTRO DE AGUA, CLOACAS, GESTI\xD3N DE RESIDUOS Y RECUPERACI\xD3N DE MATERIALES Y SANEAMIENTO P\xDABLICO"),A(),O(107,"option",35),U(108,"SUMINISTRO DE ELECTRICIDAD, GAS, VAPOR Y AIRE ACONDICIONADO"),A(),O(109,"option",36),U(110,"OTRA"),A()(),Ce(111,"span",8),A()()(),O(112,"div",3)(113,"div",10)(114,"span",11),U(115,"Validado: "),A(),U(116),A(),O(117,"div",37)(118,"span",11),U(119,"Habilitado: "),A(),U(120),A()(),O(121,"div",3)(122,"div",38)(123,"span",5),U(124,"Como encontro:"),A(),O(125,"div",6)(126,"select",14),Je("ngModelChange",function(s){return Qe(r.datoCambio.como_encontro,s)||(r.datoCambio.como_encontro=s),s}),O(127,"option",39),U(128,"Google"),A(),O(129,"option",40),U(130,"Facebook"),A(),O(131,"option",41),U(132,"Twitter"),A(),O(133,"option",42),U(134,"Instagram"),A(),O(135,"option",43),U(136,"Publicidad"),A(),O(137,"option",44),U(138,"Diario"),A(),O(139,"option",45),U(140,"Conocido/Amigo"),A(),O(141,"option",46),U(142,"Otro"),A()(),Ce(143,"span",8),A()(),Ce(144,"div",47),A(),_t(145,sxe,13,10,"div",48),O(146,"div",3),Ce(147,"div",9),O(148,"div",49)(149,"button",50),ve("click",function(){return r.actualizar()}),U(150,"Actualizar"),A()()()()()()),i&2&&(ee(8),fe("value",r.datoCambio.nombre),Xe("ngModel",r.datoCambio.nombre),fe("ngClass",ht(36,Nl,r.datoCambio.nombre!=r.datoCambioCheck.nombre)),ee(6),fe("value",r.datoCambio.cuil_cuit),Xe("ngModel",r.datoCambio.cuil_cuit),fe("ngClass",ht(38,Nl,r.datoCambio.cuil_cuit!=r.datoCambioCheck.cuil_cuit)),ee(6),Ct(" ",r.datoCambio.mail," "),ee(5),fe("value",r.datoCambio.telefono),Xe("ngModel",r.datoCambio.telefono),fe("ngClass",ht(40,Nl,r.datoCambio.telefono!=r.datoCambioCheck.telefono)),ee(7),fe("value",r.datoCambio.pais),Xe("ngModel",r.datoCambio.pais),fe("ngClass",ht(42,Nl,r.datoCambio.pais!=r.datoCambioCheck.pais)),ee(),fe("ngForOf",r.Paises),ee(6),fe("value",r.datoCambio.provincia),Xe("ngModel",r.datoCambio.provincia),fe("ngClass",ht(44,Nl,r.datoCambio.provincia!=r.datoCambioCheck.provincia)),ee(),fe("ngForOf",r.Paises[r.paisI].states),ee(7),fe("value",r.datoCambio.ciudad),Xe("ngModel",r.datoCambio.ciudad),fe("ngClass",ht(46,Nl,r.datoCambio.ciudad!=r.datoCambioCheck.ciudad)),ee(6),fe("value",r.datoCambio.postal),Xe("ngModel",r.datoCambio.postal),fe("ngClass",ht(48,Nl,r.datoCambio.postal!=r.datoCambioCheck.postal)),ee(7),fe("value",r.datoCambio.domicilio),Xe("ngModel",r.datoCambio.domicilio),fe("ngClass",ht(50,Nl,r.datoCambio.domicilio!=r.datoCambioCheck.domicilio)),ee(6),fe("value",r.datoCambio.actividad),Xe("ngModel",r.datoCambio.actividad),fe("ngClass",ht(52,Nl,r.datoCambio.actividad!=r.datoCambioCheck.actividad)),ee(50),Ct(" ",r.datoCambio.validado?"Validado":"Invalidado"," "),ee(4),Ct(" ",r.datoCambio.habilitado?"Habilitado":"Inhabilitado"," "),ee(6),fe("value",r.datoCambio.como_encontro),Xe("ngModel",r.datoCambio.como_encontro),fe("ngClass",ht(54,Nl,r.datoCambio.como_encontro!=r.datoCambioCheck.como_encontro)),ee(19),fe("ngIf",r.datoCambio.tipo=="emp"))},dependencies:[sn,Zn,Ti,Rn,Hn,Cr,kr,mi,ar,oi,ti],styles:[".celda[_ngcontent-%COMP%]{border-right:1px solid rgb(48,131,220,.2);border-color:#3083dc33!important;width:16%;padding:1%;font-family:Avenir}.celda[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:2%}.linea[_ngcontent-%COMP%]{transition:all .5s linear}.linea[_ngcontent-%COMP%]:hover{background-color:#ff900033}.load[_ngcontent-%COMP%]{display:flex;align-items:center;width:20%;justify-content:space-around}.paginacion[_ngcontent-%COMP%]{height:2rem;width:6rem;font-size:medium}@media (max-width: 650px){.paginacion[_ngcontent-%COMP%]{width:3.5rem}}.paginacionof[_ngcontent-%COMP%]{height:2rem;width:8rem;font-size:medium}@media (max-width: 650px){.paginacionof[_ngcontent-%COMP%]{width:3.5rem}}.ibtn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:2rem}.ibtn[_ngcontent-%COMP%]:hover{cursor:pointer}.tooltip[_ngcontent-%COMP%]{position:relative}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;padding:.25em .5em;color:#fff;text-align:center;white-space:nowrap;position:absolute;z-index:1;top:-60%;left:-30%;transition-property:visibility;transition-delay:0s;font-family:avenir}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;transition-delay:.3s}.modal[_ngcontent-%COMP%]{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:7% auto;margin-top:7rem;padding:1%;border:1px solid var(--amarello);width:80%}@media (max-width: 1000px){.modal-content[_ngcontent-%COMP%]{width:97.5%!important}}.campoOferta[_ngcontent-%COMP%]{width:30rem}@media (max-width: 530px){.campoOferta[_ngcontent-%COMP%]{width:100%}}@media (max-width: 600px){.datoLote[_ngcontent-%COMP%]{font-size:smaller}}.icerrar[_ngcontent-%COMP%]{color:var(--amarello)}.icerrar[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--blue)}.borderAbajo[_ngcontent-%COMP%]{border-bottom:1px solid rgb(48,131,220,.2)}.marginCerrar[_ngcontent-%COMP%]{margin-right:5rem}@media (max-width: 1000px){.marginCerrar[_ngcontent-%COMP%]{margin-right:2rem}}.h1btn[_ngcontent-%COMP%]:hover{color:var(--amarello);cursor:pointer}.h1btn2[_ngcontent-%COMP%]{color:var(--amarello);text-decoration:underline}.none2[_ngcontent-%COMP%]{transform:scale3d(1,0,1);visibility:hidden;opacity:0}.campoUser[_ngcontent-%COMP%]{display:flex}@media (max-width: 650px){.campoUser[_ngcontent-%COMP%]{flex-wrap:wrap}.campoUser[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important}}"]})}return n})();var eb=(()=>{class n{api;constructor(t){this.api=t}atras(){window.location.href=this.api.getLastPage()}static \u0275fac=function(i){return new(i||n)(ze(Un))};static \u0275cmp=Lt({type:n,selectors:[["app-atras"]],standalone:!0,features:[Ht],decls:2,vars:0,consts:[[1,"boton","border","rounded","botones",3,"click"]],template:function(i,r){i&1&&(O(0,"button",0),ve("click",function(){return r.atras()}),U(1,"Ir a Lotes"),A())},styles:[".celda[_ngcontent-%COMP%]{border-right:1px solid rgb(48,131,220,.2);border-color:#3083dc33!important;width:16%;padding:1%;font-family:Avenir}.celda[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:2%}.linea[_ngcontent-%COMP%]{transition:all .5s linear}.linea[_ngcontent-%COMP%]:hover{background-color:#ff900033}.load[_ngcontent-%COMP%]{display:flex;align-items:center;width:20%;justify-content:space-around}.paginacion[_ngcontent-%COMP%]{height:2rem;width:6rem;font-size:medium}@media (max-width: 650px){.paginacion[_ngcontent-%COMP%]{width:3.5rem}}.paginacionof[_ngcontent-%COMP%]{height:2rem;width:8rem;font-size:medium}@media (max-width: 650px){.paginacionof[_ngcontent-%COMP%]{width:3.5rem}}.ibtn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:2rem}.ibtn[_ngcontent-%COMP%]:hover{cursor:pointer}.tooltip[_ngcontent-%COMP%]{position:relative}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;padding:.25em .5em;color:#fff;text-align:center;white-space:nowrap;position:absolute;z-index:1;top:-60%;left:-30%;transition-property:visibility;transition-delay:0s;font-family:avenir}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;transition-delay:.3s}.modal[_ngcontent-%COMP%]{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:7% auto;margin-top:7rem;padding:1%;border:1px solid var(--amarello);width:80%}@media (max-width: 1000px){.modal-content[_ngcontent-%COMP%]{width:97.5%!important}}.campoOferta[_ngcontent-%COMP%]{width:30rem}@media (max-width: 530px){.campoOferta[_ngcontent-%COMP%]{width:100%}}@media (max-width: 600px){.datoLote[_ngcontent-%COMP%]{font-size:smaller}}.icerrar[_ngcontent-%COMP%]{color:var(--amarello)}.icerrar[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--blue)}.borderAbajo[_ngcontent-%COMP%]{border-bottom:1px solid rgb(48,131,220,.2)}.marginCerrar[_ngcontent-%COMP%]{margin-right:5rem}@media (max-width: 1000px){.marginCerrar[_ngcontent-%COMP%]{margin-right:2rem}}.h1btn[_ngcontent-%COMP%]:hover{color:var(--amarello);cursor:pointer}.h1btn2[_ngcontent-%COMP%]{color:var(--amarello);text-decoration:underline}.none2[_ngcontent-%COMP%]{transform:scale3d(1,0,1);visibility:hidden;opacity:0}.campoUser[_ngcontent-%COMP%]{display:flex}@media (max-width: 650px){.campoUser[_ngcontent-%COMP%]{flex-wrap:wrap}.campoUser[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important}}"]})}return n})();var axe=()=>[];function lxe(n,e){if(n&1&&(qr(0),O(1,"option",22),U(2),A(),Gr()),n&2){let t=e.$implicit;ee(),In("value",t._id),ee(),et(t.titulo)}}function cxe(n,e){if(n&1){let t=Ut();O(0,"div",25)(1,"div",26),U(2),A(),O(3,"div",27),U(4),A(),O(5,"div",26),U(6),A(),O(7,"div",28),U(8),A(),O(9,"div",28),U(10),A(),O(11,"div",27),U(12),A(),O(13,"div",27),U(14),A(),O(15,"div",28),U(16),A(),O(17,"div",29)(18,"button",30),ve("click",function(){Pe(t);let r=Re().index,o=Re();return De(o.verLote(o.Ofertas[r+o.index].uuid_evento,o.Ofertas[r+o.index].uuid_lote))}),U(19,"Ver"),A()()()}if(n&2){let t=Re().index,i=Re();ee(2),et(i.Ofertas[t+i.index].fecha),ee(2),et(i.Ofertas[t+i.index].evento.nombre),ee(2),et(i.Ofertas[t+i.index].lote.titulo),ee(2),et(i.Ofertas[t+i.index].tipo),ee(2),et(i.Ofertas[t+i.index].cantidad),ee(2),et(i.Ofertas[t+i.index].lote.oferta.cantidad===i.Ofertas[t+i.index].cantidad?i.Ofertas[t+i.index].lote.oferta.cantidad+" (Usted)":i.Ofertas[t+i.index].lote.oferta.cantidad),ee(2),et(i.Ofertas[t+i.index].lote.fecha_cierre+" "+i.Ofertas[t+i.index].lote.hora_cierre+" "+(i.Ofertas[t+i.index].lote.estado==2?"Cerrado":"Disponible")),ee(2),et(i.Ofertas[t+i.index].lote.puesto)}}function uxe(n,e){if(n&1&&(O(0,"div",23),_t(1,cxe,20,8,"div",24),A()),n&2){let t=e.index,i=Re();ee(),fe("ngIf",i.Ofertas[t+i.index])}}function dxe(n,e){n&1&&(O(0,"div",31)(1,"div",32),U(2,"No hay ofertas"),A()())}var KW=(()=>{class n{api;router;Ofertas=[];pagina=0;pagU=0;index=0;loteBuscar="";Lotes=[];constructor(t,i){this.api=t,this.router=i}ngOnInit(){let t={token:localStorage.getItem("token"),tipo:1,lote:""};this.api.getOfertas(t).subscribe({next:i=>{i.ok&&(this.Ofertas=i.ofertaDB,this.Lotes=i.lotesDB,this.pagU=Math.ceil(this.Ofertas.length/20))},error:i=>{}})}principio(){this.pagina=0,this.index=0}atras(){this.pagina>0&&(this.pagina--,this.index-=20)}siguiente(){this.pagina<this.pagU-1&&(this.pagina++,this.index+=20)}final(){this.pagina=this.pagU-1,this.index=(this.pagU-1)*20}verLote(t,i){this.router.navigate(["evento",t,"lote",i])}buscarDato(){let t={token:localStorage.getItem("token"),tipo:1,lote:this.loteBuscar};this.api.getOfertas(t).subscribe({next:i=>{i.ok&&(this.Ofertas=i.ofertaDB,this.Lotes=i.lotesDB,this.pagU=Math.ceil(this.Ofertas.length/20)),this.loteBuscar=""},error:i=>{}})}static \u0275fac=function(i){return new(i||n)(ze(Un),ze(Ro))};static \u0275cmp=Lt({type:n,selectors:[["app-ofertas"]],standalone:!0,features:[Ht],decls:46,vars:8,consts:[[1,"svh"],[1,"border","margin5","rounded","seccion",2,"width","100%"],[2,"display","flex","width","100%"],[1,"celda",2,"border-right","none","display","flex","width","100%"],[1,"col-3",2,"width","10rem"],[1,"effect-1",2,"width","100%","height","2rem",3,"ngModelChange","ngModel"],["value","","selected",""],[4,"ngFor","ngForOf"],[1,"focus-border2"],[1,"border","rounded","boton","boton2","paginacion",2,"border-top-left-radius","0","border-bottom-left-radius","0",3,"click"],[2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%","align-items","center"],[1,"celda","username","datoLote",2,"width","20%"],[1,"celda","username","datoLote",2,"width","15%"],[1,"celda","username","datoLote",2,"width","10%"],[1,"celda","username","datoLote",2,"border-right","none","width","7.5%"],["style","width: 100%;",4,"ngFor","ngForOf"],["class","linea","style","display: flex; border-bottom: 1px solid rgb(48, 131, 220, 0.2); width: 100%; text-align: center;",4,"ngIf"],[1,"datoLote",2,"font-family","Avenir","margin-top","2%","display","flex","justify-content","flex-end","width","100%","align-items","flex-end","height","100%"],[2,"margin-right","2%","margin-left","2%"],[1,"border","rounded","boton","boton2","paginacion","datoLote",2,"border-top-right-radius","0","border-bottom-right-radius","0",3,"click"],[1,"border","rounded","boton","boton2","paginacion","datoLote",2,"border-top-right-radius","0","border-bottom-right-radius","0","border-top-left-radius","0","border-bottom-left-radius","0",3,"click"],[1,"border","rounded","boton","boton2","paginacion","datoLote",2,"border-top-left-radius","0","border-bottom-left-radius","0",3,"click"],[3,"value"],[2,"width","100%"],["class","linea","style","display: flex; border-bottom: 1px solid rgb(48, 131, 220, 0.2);",4,"ngIf"],[1,"linea",2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)"],[1,"celda","datoLote",2,"width","20%"],[1,"celda","datoLote",2,"width","15%"],[1,"celda","datoLote",2,"width","10%"],[2,"width","10%","border-right","none"],[1,"boton","border","datoLote",2,"width","100%","height","100%",3,"click"],[1,"linea",2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%","text-align","center"],[1,"celda","username",2,"width","100%","border-right","none"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"div",1),Ce(2,"app-atras",2),O(3,"h1"),U(4,"Ofertas"),A(),O(5,"div",3)(6,"div",4)(7,"select",5),Je("ngModelChange",function(s){return Qe(r.loteBuscar,s)||(r.loteBuscar=s),s}),O(8,"option",6),U(9,"Todos"),A(),_t(10,lxe,3,2,"ng-container",7),A(),Ce(11,"span",8),A(),O(12,"button",9),ve("click",function(){return r.buscarDato()}),U(13,"Buscar lote"),A()(),O(14,"div",10)(15,"div",11),U(16,"Fecha"),A(),O(17,"div",12),U(18,"Publicacion"),A(),O(19,"div",11),U(20,"Lote"),A(),O(21,"div",13),U(22,"Metodo"),A(),O(23,"div",13),U(24,"Monto"),A(),O(25,"div",12),U(26,"Mayor Oferta"),A(),O(27,"div",12),U(28,"Cierre"),A(),O(29,"div",13),U(30,"Puesto"),A(),Ce(31,"div",14),A(),_t(32,uxe,2,1,"div",15)(33,dxe,3,0,"div",16),O(34,"div",17),U(35),O(36,"div",18)(37,"button",19),ve("click",function(){return r.principio()}),U(38,"Principio"),A(),O(39,"button",20),ve("click",function(){return r.atras()}),U(40,"Atras"),A(),O(41,"button",20),ve("click",function(){return r.siguiente()}),U(42,"Siguiente"),A(),O(43,"button",21),ve("click",function(){return r.final()}),U(44,"Final"),A()(),U(45),A()()()),i&2&&(ee(7),Xe("ngModel",r.loteBuscar),ee(3),fe("ngForOf",r.Lotes),ee(22),fe("ngForOf",J7(7,axe).constructor(20)),ee(),fe("ngIf",r.Ofertas.length==0),ee(2),Ai(" Pagina ",r.pagina+1," de ",r.pagU," "),ee(10),Ct(" Ofertas totales: ",r.Ofertas.length," "))},dependencies:[sn,Ti,Rn,Hn,Cr,kr,ar,oi,ti,eb],styles:[".celda[_ngcontent-%COMP%]{border-right:1px solid rgb(48,131,220,.2);border-color:#3083dc33!important;width:16%;padding:1%;font-family:Avenir}.celda[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:2%}.linea[_ngcontent-%COMP%]{transition:all .5s linear}.linea[_ngcontent-%COMP%]:hover{background-color:#ff900033}.load[_ngcontent-%COMP%]{display:flex;align-items:center;width:20%;justify-content:space-around}.paginacion[_ngcontent-%COMP%]{height:2rem;width:6rem;font-size:medium}@media (max-width: 650px){.paginacion[_ngcontent-%COMP%]{width:3.5rem}}.paginacionof[_ngcontent-%COMP%]{height:2rem;width:8rem;font-size:medium}@media (max-width: 650px){.paginacionof[_ngcontent-%COMP%]{width:3.5rem}}.ibtn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:2rem}.ibtn[_ngcontent-%COMP%]:hover{cursor:pointer}.tooltip[_ngcontent-%COMP%]{position:relative}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;padding:.25em .5em;color:#fff;text-align:center;white-space:nowrap;position:absolute;z-index:1;top:-60%;left:-30%;transition-property:visibility;transition-delay:0s;font-family:avenir}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;transition-delay:.3s}.modal[_ngcontent-%COMP%]{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:7% auto;margin-top:7rem;padding:1%;border:1px solid var(--amarello);width:80%}@media (max-width: 1000px){.modal-content[_ngcontent-%COMP%]{width:97.5%!important}}.campoOferta[_ngcontent-%COMP%]{width:30rem}@media (max-width: 530px){.campoOferta[_ngcontent-%COMP%]{width:100%}}@media (max-width: 600px){.datoLote[_ngcontent-%COMP%]{font-size:smaller}}.icerrar[_ngcontent-%COMP%]{color:var(--amarello)}.icerrar[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--blue)}.borderAbajo[_ngcontent-%COMP%]{border-bottom:1px solid rgb(48,131,220,.2)}.marginCerrar[_ngcontent-%COMP%]{margin-right:5rem}@media (max-width: 1000px){.marginCerrar[_ngcontent-%COMP%]{margin-right:2rem}}.h1btn[_ngcontent-%COMP%]:hover{color:var(--amarello);cursor:pointer}.h1btn2[_ngcontent-%COMP%]{color:var(--amarello);text-decoration:underline}.none2[_ngcontent-%COMP%]{transform:scale3d(1,0,1);visibility:hidden;opacity:0}.campoUser[_ngcontent-%COMP%]{display:flex}@media (max-width: 650px){.campoUser[_ngcontent-%COMP%]{flex-wrap:wrap}.campoUser[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important}}"]})}return n})();var hxe=(n,e)=>["/evento/",n,"lote",e];function fxe(n,e){if(n&1&&(O(0,"div",8)(1,"div",4),U(2),A(),O(3,"div",4),U(4),A(),O(5,"div",4),U(6),A(),O(7,"div",4),U(8),A(),O(9,"div",4),U(10),A(),O(11,"div",4),U(12),A(),O(13,"div",5)(14,"button",9),U(15,"Ver"),A()()()),n&2){let t=e.$implicit;ee(2),et(t.lote.titulo),ee(2),et(t.evento.nombre),ee(2),et(t.lote.mioferta?t.lote.mioferta.cantidad:"-"),ee(2),Ct(" ",t.lote.oferta&&t.lote.mioferta?t.lote.oferta.cantidad===t.lote.mioferta.cantidad?t.lote.oferta.cantidad+" (Usted)":t.lote.oferta?t.lote.oferta.cantidad:"":t.lote.oferta?t.lote.oferta.cantidad:"-"," "),ee(2),et(t.lote.fecha_cierre+" "+t.lote.hora_cierre+" "+(t.lote.estado==2?"Cerrado":"Disponible")),ee(2),et(t.lote.puesto),ee(2),fe("routerLink",dn(7,hxe,t.uuid_evento,t.uuid_lote))}}function mxe(n,e){n&1&&(O(0,"div",10)(1,"div",11),U(2,"No hay lotes en favoritos"),A()())}var ZW=(()=>{class n{api;Favoritos=[];constructor(t){this.api=t}ngOnInit(){let t={token:localStorage.getItem("token"),tipo:1};this.api.getFavoritos(t).subscribe({next:i=>{i.ok&&(this.Favoritos=i.favoritoDB)},error:i=>{}})}static \u0275fac=function(i){return new(i||n)(ze(Un))};static \u0275cmp=Lt({type:n,selectors:[["app-favoritos"]],standalone:!0,features:[Ht],decls:21,vars:2,consts:[[1,"svh"],[1,"border","margin5","rounded","seccion",2,"width","100%"],[2,"display","flex","width","100%"],[2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%","align-items","center"],[1,"celda","datoLote",2,"width","45%"],[2,"width","10%","border-right","none"],["class","linea","style","display: flex; border-bottom: 1px solid rgb(48, 131, 220, 0.2); width: 100%;",4,"ngFor","ngForOf"],["class","linea","style","display: flex; border-bottom: 1px solid rgb(48, 131, 220, 0.2); width: 100%; text-align: center;",4,"ngIf"],[1,"linea",2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%"],[1,"boton","border","datoLote",2,"width","100%","height","100%",3,"routerLink"],[1,"linea",2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%","text-align","center"],[1,"celda","username",2,"width","100%","border-right","none"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"div",1),Ce(2,"app-atras",2),O(3,"h1"),U(4,"Favoritos"),A(),O(5,"div",3)(6,"div",4),U(7,"Lote"),A(),O(8,"div",4),U(9,"Publicacion"),A(),O(10,"div",4),U(11,"Mi oferta"),A(),O(12,"div",4),U(13,"Mayor oferta"),A(),O(14,"div",4),U(15,"Cierre"),A(),O(16,"div",4),U(17,"Puesto"),A(),Ce(18,"div",5),A(),_t(19,fxe,16,10,"div",6)(20,mxe,3,0,"div",7),A()()),i&2&&(ee(19),fe("ngForOf",r.Favoritos),ee(),fe("ngIf",r.Favoritos.length==0))},dependencies:[sn,Ti,Rn,ya,_l,eb],styles:[".celda[_ngcontent-%COMP%]{border-right:1px solid rgb(48,131,220,.2);border-color:#3083dc33!important;width:16%;padding:1%;font-family:Avenir}.celda[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:2%}.linea[_ngcontent-%COMP%]{transition:all .5s linear}.linea[_ngcontent-%COMP%]:hover{background-color:#ff900033}.load[_ngcontent-%COMP%]{display:flex;align-items:center;width:20%;justify-content:space-around}.paginacion[_ngcontent-%COMP%]{height:2rem;width:6rem;font-size:medium}@media (max-width: 650px){.paginacion[_ngcontent-%COMP%]{width:3.5rem}}.paginacionof[_ngcontent-%COMP%]{height:2rem;width:8rem;font-size:medium}@media (max-width: 650px){.paginacionof[_ngcontent-%COMP%]{width:3.5rem}}.ibtn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:2rem}.ibtn[_ngcontent-%COMP%]:hover{cursor:pointer}.tooltip[_ngcontent-%COMP%]{position:relative}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;padding:.25em .5em;color:#fff;text-align:center;white-space:nowrap;position:absolute;z-index:1;top:-60%;left:-30%;transition-property:visibility;transition-delay:0s;font-family:avenir}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;transition-delay:.3s}.modal[_ngcontent-%COMP%]{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:7% auto;margin-top:7rem;padding:1%;border:1px solid var(--amarello);width:80%}@media (max-width: 1000px){.modal-content[_ngcontent-%COMP%]{width:97.5%!important}}.campoOferta[_ngcontent-%COMP%]{width:30rem}@media (max-width: 530px){.campoOferta[_ngcontent-%COMP%]{width:100%}}@media (max-width: 600px){.datoLote[_ngcontent-%COMP%]{font-size:smaller}}.icerrar[_ngcontent-%COMP%]{color:var(--amarello)}.icerrar[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--blue)}.borderAbajo[_ngcontent-%COMP%]{border-bottom:1px solid rgb(48,131,220,.2)}.marginCerrar[_ngcontent-%COMP%]{margin-right:5rem}@media (max-width: 1000px){.marginCerrar[_ngcontent-%COMP%]{margin-right:2rem}}.h1btn[_ngcontent-%COMP%]:hover{color:var(--amarello);cursor:pointer}.h1btn2[_ngcontent-%COMP%]{color:var(--amarello);text-decoration:underline}.none2[_ngcontent-%COMP%]{transform:scale3d(1,0,1);visibility:hidden;opacity:0}.campoUser[_ngcontent-%COMP%]{display:flex}@media (max-width: 650px){.campoUser[_ngcontent-%COMP%]{flex-wrap:wrap}.campoUser[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important}}"]})}return n})();var pxe=(n,e)=>["/evento/",n,"lote",e];function gxe(n,e){if(n&1&&(O(0,"div",9)(1,"div",4),U(2),A(),O(3,"div",4),U(4),A(),O(5,"div",5),U(6),A(),O(7,"div",5),U(8),A(),O(9,"div",6)(10,"button",10),U(11,"Ver"),A()()()),n&2){let t=e.$implicit;ee(2),et(t.evlot[0].evento.nombre),ee(2),et(t.titulo),ee(2),et(t.precio_ganador),ee(2),et(t.adjudicacion),ee(2),fe("routerLink",dn(5,pxe,t.evlot[0].uuid_evento,t.uuid))}}function bxe(n,e){n&1&&(O(0,"div",11)(1,"div",12),U(2,"No tiene ofertas en an\xE1lisis"),A()())}var YW=(()=>{class n{api;Adjudicados=[];constructor(t){this.api=t}ngOnInit(){let t={token:localStorage.getItem("token"),tipo:1};this.api.getAdjudicados(t).subscribe({next:i=>{i.ok&&(this.Adjudicados=i.adjudicadosDB)},error:i=>{}})}static \u0275fac=function(i){return new(i||n)(ze(Un))};static \u0275cmp=Lt({type:n,selectors:[["app-adjudicados"]],standalone:!0,features:[Ht],decls:17,vars:2,consts:[[1,"svh"],[1,"border","margin5","rounded","seccion",2,"width","100%"],[2,"display","flex","width","100%"],[2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%","align-items","center"],[1,"celda",2,"width","40%"],[1,"celda",2,"width","10%"],[2,"width","10%","border-right","none"],["class","linea","style","display: flex; border-bottom: 1px solid rgb(48, 131, 220, 0.2); width: 100%;",4,"ngFor","ngForOf"],["class","linea","style","display: flex; border-bottom: 1px solid rgb(48, 131, 220, 0.2); width: 100%; text-align: center;",4,"ngIf"],[1,"linea",2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%"],[1,"boton","border",2,"width","100%","height","100%",3,"routerLink"],[1,"linea",2,"display","flex","border-bottom","1px solid rgb(48, 131, 220, 0.2)","width","100%","text-align","center"],[1,"celda","username",2,"width","100%","border-right","none"]],template:function(i,r){i&1&&(O(0,"div",0)(1,"div",1),Ce(2,"app-atras",2),O(3,"h1"),U(4,"Ofertas en an\xE1lisis"),A(),O(5,"div",3)(6,"div",4),U(7,"Publicacion"),A(),O(8,"div",4),U(9,"Lote"),A(),O(10,"div",5),U(11,"Oferta"),A(),O(12,"div",5),U(13,"Estatus"),A(),Ce(14,"div",6),A(),_t(15,gxe,12,8,"div",7)(16,bxe,3,0,"div",8),A()()),i&2&&(ee(15),fe("ngForOf",r.Adjudicados),ee(),fe("ngIf",r.Adjudicados.length==0))},dependencies:[sn,Ti,Rn,ya,_l,eb],styles:[".celda[_ngcontent-%COMP%]{border-right:1px solid rgb(48,131,220,.2);border-color:#3083dc33!important;width:16%;padding:1%;font-family:Avenir}.celda[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:2%}.linea[_ngcontent-%COMP%]{transition:all .5s linear}.linea[_ngcontent-%COMP%]:hover{background-color:#ff900033}.load[_ngcontent-%COMP%]{display:flex;align-items:center;width:20%;justify-content:space-around}.paginacion[_ngcontent-%COMP%]{height:2rem;width:6rem;font-size:medium}@media (max-width: 650px){.paginacion[_ngcontent-%COMP%]{width:3.5rem}}.paginacionof[_ngcontent-%COMP%]{height:2rem;width:8rem;font-size:medium}@media (max-width: 650px){.paginacionof[_ngcontent-%COMP%]{width:3.5rem}}.ibtn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:2rem}.ibtn[_ngcontent-%COMP%]:hover{cursor:pointer}.tooltip[_ngcontent-%COMP%]{position:relative}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;padding:.25em .5em;color:#fff;text-align:center;white-space:nowrap;position:absolute;z-index:1;top:-60%;left:-30%;transition-property:visibility;transition-delay:0s;font-family:avenir}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;transition-delay:.3s}.modal[_ngcontent-%COMP%]{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:7% auto;margin-top:7rem;padding:1%;border:1px solid var(--amarello);width:80%}@media (max-width: 1000px){.modal-content[_ngcontent-%COMP%]{width:97.5%!important}}.campoOferta[_ngcontent-%COMP%]{width:30rem}@media (max-width: 530px){.campoOferta[_ngcontent-%COMP%]{width:100%}}@media (max-width: 600px){.datoLote[_ngcontent-%COMP%]{font-size:smaller}}.icerrar[_ngcontent-%COMP%]{color:var(--amarello)}.icerrar[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--blue)}.borderAbajo[_ngcontent-%COMP%]{border-bottom:1px solid rgb(48,131,220,.2)}.marginCerrar[_ngcontent-%COMP%]{margin-right:5rem}@media (max-width: 1000px){.marginCerrar[_ngcontent-%COMP%]{margin-right:2rem}}.h1btn[_ngcontent-%COMP%]:hover{color:var(--amarello);cursor:pointer}.h1btn2[_ngcontent-%COMP%]{color:var(--amarello);text-decoration:underline}.none2[_ngcontent-%COMP%]{transform:scale3d(1,0,1);visibility:hidden;opacity:0}.campoUser[_ngcontent-%COMP%]{display:flex}@media (max-width: 650px){.campoUser[_ngcontent-%COMP%]{flex-wrap:wrap}.campoUser[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important}}"]})}return n})();var XW=[{path:"",component:_N,children:[{path:"",component:BR},{path:"login",component:d_},{path:"registro",component:_S},{path:"nosotros",component:_S},{path:"contacto",component:FN},{path:"publicaciones",component:iH},{path:"verificar/:token",component:vN},{path:"cambio/:token",component:DN},{path:"evento/:id",component:vM,canActivate:[nc]},{path:"evento/:id/lote/:id2",component:vM,canActivate:[nc]},{path:"mi-perfil",component:GW,canActivate:[nc]},{path:"mis-ofertas",component:KW,canActivate:[nc]},{path:"mis-favoritos",component:ZW,canActivate:[nc]},{path:"mis-adjudicados",component:YW,canActivate:[nc]}]},{path:"panelAdmin",component:CN,children:[{path:"",component:kN},{path:"usuarios",component:MN,canActivate:[nc]},{path:"web",component:ON,canActivate:[nc]},{path:"lotes",component:YU,canActivate:[nc]},{path:"publicaciones",component:tH,canActivate:[nc]},{path:"**",redirectTo:"",pathMatch:"full"}]},{path:"**",redirectTo:"",pathMatch:"full"}];var JW={providers:[JH(),oO({eventCoalescing:!0}),DR(XW),OO(RO()),{provide:p_,useValue:Gc.recaptcha.siteKey}]};var QW=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Lt({type:n,selectors:[["app-root"]],standalone:!0,features:[Ht],decls:1,vars:0,consts:[[1,"bgA"]],template:function(i,r){i&1&&Ce(0,"router-outlet",0)},dependencies:[Zf]})}return n})();UO(QW,JW).catch(n=>console.error(n));
