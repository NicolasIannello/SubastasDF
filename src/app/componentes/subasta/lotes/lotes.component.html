<div class="svh" >
    <div class="margin5 border rounded" style="width: 100%; text-align: center;">
        <span *ngIf="error==4">La publicacion aun no ha iniciado</span>
        <span *ngIf="error==5">La publicacion ha terminado</span>
        <div style="display: flex; justify-content: space-between; border-bottom: 1px solid rgb(48, 131, 220, 0.2); padding: 1%;">
            <span>Publicacion: {{evento['nombre']}}</span>
            <span>Lotes: {{nlotes}}</span>
        </div>
        <div *ngFor="let lote of lotes; index as i" style="max-height: 100%; align-items: center; border-bottom: 1px solid rgb(48, 131, 220, 0.2); /*padding: 1%;*/">
            <span class="glass" [ngClass]="{'glassAzul' : i%2 }" [ngStyle]="{'color': i%2 ? 'white' : 'black' }" style="width: 100%; display: flex; justify-content: center;">
                <i class="fa-solid fa-calendar-days" style="margin-right: 1%;"></i> Finaliza el {{lote['fecha_cierre']+' a las '+lote['hora_cierre']+' horas'}}
            </span>
            <div style="display: flex;" [ngClass]="{'glassTrueAzul' : i%2}">
                <div *ngIf="imagenes.length>i" class="celda" style="width: 6rem; min-height: 4rem; display: flex; align-items: center; justify-content: center;">
                    <img src="{{imagenes[i].link}}" alt="" style="width: 100px; height: 64px;">
                </div>
                <div class="celda" style="width: 85%; min-height: 4rem; display: flex; align-items: center;">{{lote['titulo']}}</div>
                <div *ngIf="lote['estadoV']" class="celda" [ngClass]="{'glassAzul' : lote['estadoV']=='Visto'}" style="width: 15%; min-height: 4rem; display: flex; align-items: center; justify-content: center;" [ngStyle]="{'background-color': lote['estadoV']=='Ofertado' ? 'greenyellow' : 'none' }">{{lote['estadoV']}}</div>
                <div *ngIf="!lote['estadoV']" class="celda" style="width: 15%; min-height: 4rem; display: flex; align-items: center; justify-content: center; background-color: yellow;">No visto</div>
                <div class="celda" style="width: 20%; min-height: 4rem; display: flex; align-items: center; border: none; justify-content: center;">
                    <button class="border rounded boton botones" (click)="verLote(lote)">ver</button>
                </div>
            </div>
        </div>
    </div>
</div>

<app-lote [ngClass]="{ 'oculto':!ver }" (messageEvent)="handleMessage($event)" [lote]="loteModal" [evento]="evento"></app-lote>